"use strict";(self.webpackChunkgatsby_starter_blog=self.webpackChunkgatsby_starter_blog||[]).push([[751],{5192:function(e,t,o){o.r(t),o.d(t,{Head:function(){return m},default:function(){return u}});var n=o(6540),r=o(8693),l=o(2537),a=o(7528),s=o(4506),c=(o(6910),"toc-module--active--399c5");var i=e=>{let{tableOfContents:t}=e;const{0:o,1:r}=(0,n.useState)(""),{0:l,1:a}=(0,n.useState)([]),{0:i,1:d}=(0,n.useState)(!1),m=(0,n.useCallback)(e=>{if(!e)return[];const t=document.createElement("div");t.innerHTML=e;const o=t.querySelectorAll('a[href^="#"]');return Array.from(o).map(e=>{const t=e.getAttribute("href");if(!t)return null;const o=t.substring(1);try{return{encoded:o,decoded:decodeURIComponent(o)}}catch(n){return{encoded:o,decoded:o}}}).filter(Boolean)},[]);(0,n.useEffect)(()=>{if(!t)return;const e=setTimeout(()=>{const e=m(t),o=Array.from(document.querySelectorAll(".blog-post-content h1, .blog-post-content h2, .blog-post-content h3, .blog-post-content h4, .blog-post-content h5, .blog-post-content h6")).filter(e=>e.id),n=e.map(e=>{let{encoded:t,decoded:o}=e;const n=document.getElementById(t)||document.getElementById(o);return n&&n.matches("h1, h2, h3, h4, h5, h6")?n:null}).filter(Boolean),l=Array.from(new Set([].concat((0,s.A)(n),(0,s.A)(o)))).sort((e,t)=>e.offsetTop-t.offsetTop);a(l),l.length>0&&r(l[0].id)},250);return()=>clearTimeout(e)},[m,t]),(0,n.useEffect)(()=>{if(0===l.length)return;const e=()=>{var e;const t=window.pageYOffset;let o=l[0];for(let n=0;n<l.length;n+=1){const e=l[n];if(!(e.getBoundingClientRect().top+t<=t+140))break;o=e}null!==(e=o)&&void 0!==e&&e.id&&r(e=>o.id!==e?o.id:e)};let t=!1;const o=()=>{t||(t=!0,requestAnimationFrame(()=>{e(),t=!1}))};return window.addEventListener("scroll",o,{passive:!0}),window.addEventListener("resize",o,{passive:!0}),e(),()=>{window.removeEventListener("scroll",o),window.removeEventListener("resize",o)}},[l]);const u=(0,n.useCallback)(e=>{const t=e.target instanceof Element?e.target.closest("a"):null;if(!t)return;e.preventDefault();const o=t.getAttribute("href");if(!o||!o.startsWith("#"))return;const n=o.substring(1);let l=document.getElementById(n);if(!l)try{l=document.getElementById(decodeURIComponent(n))}catch(s){l=null}if(!l)return;const a=l.getBoundingClientRect().top+window.pageYOffset-96;window.scrollTo({top:a,behavior:"smooth"}),r(l.id),d(!1)},[]);(0,n.useEffect)(()=>{if(!i)return;const e=document.body.style.overflow;document.body.style.overflow="hidden";const t=e=>{"Escape"===e.key&&d(!1)};return document.addEventListener("keydown",t),()=>{document.body.style.overflow=e,document.removeEventListener("keydown",t)}},[i]),(0,n.useEffect)(()=>{const e=window.matchMedia("(max-width: 42rem)"),t=e=>{e.matches||d(!1)};return e.addEventListener?(e.addEventListener("change",t),()=>e.removeEventListener("change",t)):(e.addListener(t),()=>e.removeListener(t))},[]);const f=(0,n.useMemo)(()=>{if(!t)return t;let e=t;if(e=e.replace(/\s*class="[^"]*active[^"]*"/g,""),e=e.replace(/\s*class=""/g,""),!o)return e;try{const t=encodeURIComponent(o).replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=new RegExp('(<a[^>]*href="#'+t+'"[^>]*)(>)',"g");if(n.test(e))return e.replace(n,'$1 class="'+c+'"$2')}catch(l){}const n=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),r=new RegExp('(<a[^>]*href="#'+n+'"[^>]*)(>)',"g");return e.replace(r,'$1 class="'+c+'"$2')},[o,t]),g=(0,n.useMemo)(()=>{if(0===l.length)return 0;const e=l.findIndex(e=>e.id===o);return((e<0?0:e)+1)/l.length*100},[o,l]);return null!=t&&t.trim()?n.createElement(n.Fragment,null,n.createElement("button",{type:"button",className:"toc-module--mobileTocButton--56883",onClick:()=>d(!0),"aria-haspopup":"dialog","aria-expanded":i,"aria-controls":"mobile-toc-sheet"},"목차"),n.createElement("button",{type:"button",className:"toc-module--mobileTocBackdrop--a19ba "+(i?"toc-module--mobileVisible--a82c0":""),"aria-label":"목차 닫기",onClick:()=>d(!1)}),n.createElement("aside",{id:"mobile-toc-sheet",className:"toc-module--tocContainer--ffa0b "+(i?"toc-module--mobileOpen--ceec0":"")},n.createElement("div",{className:"toc-module--tocHeader--b1f84"},n.createElement("h3",{className:"toc-module--tocTitle--0befc"},"목차"),n.createElement("button",{type:"button",className:"toc-module--mobileCloseButton--e0810",onClick:()=>d(!1),"aria-label":"목차 닫기"},"닫기")),n.createElement("div",{className:"toc-module--tocProgress--b5e48","aria-hidden":"true"},n.createElement("span",{className:"toc-module--tocProgressFill--48e0b",style:{width:g+"%"}})),n.createElement("div",{className:"toc-module--tocContent--d6318",onClick:u,dangerouslySetInnerHTML:{__html:f}}))):null},d=o(9050);const m=e=>{let{data:{markdownRemark:t},location:o}=e;const r=(0,d.rb)(t.html);return n.createElement(a.A,{title:t.frontmatter.title,description:t.frontmatter.description||t.excerpt,pathname:o.pathname,image:r,article:!0,publishedTime:t.frontmatter.dateISO})};var u=e=>{var t;let{data:{previous:o,next:a,site:s,markdownRemark:c},location:d}=e;const m=(null===(t=s.siteMetadata)||void 0===t?void 0:t.title)||"Title",u=n.useMemo(()=>{return(e=c.html)?e.replace(/<a\s+([^>]*href=(?:"[^"]*"|'[^']*')[^>]*)>/gi,(e,t)=>{let o=t;return/\btarget\s*=/i.test(o)?o=o.replace(/\btarget\s*=\s*(['"])[^'"]*\1/i,'target="_blank"'):o+=' target="_blank"',/\brel\s*=/i.test(o)?o=o.replace(/\brel\s*=\s*(['"])([^'"]*)\1/i,(e,t,o)=>{const n=o.split(/\s+/).filter(Boolean);return n.includes("noopener")||n.push("noopener"),n.includes("noreferrer")||n.push("noreferrer"),"rel="+t+n.join(" ")+t}):o+=' rel="noopener noreferrer"',"<a "+o+">"}):e;var e},[c.html]),[f,g]=n.useState(0);return n.useEffect(()=>{const e=()=>{const e=window.pageYOffset,t=document.body.scrollHeight-window.innerHeight,o=t>0?e/t*100:0;g(Math.min(100,Math.max(0,o)))};return window.addEventListener("scroll",e,{passive:!0}),window.addEventListener("resize",e,{passive:!0}),e(),()=>{window.removeEventListener("scroll",e),window.removeEventListener("resize",e)}},[]),n.createElement(l.A,{location:d,title:m,variant:"post"},n.createElement("div",{className:"blog-post-module--scrollProgress--ba33a",style:{width:f+"%"},"aria-hidden":"true"}),n.createElement("div",{className:"blog-post-module--blogPostLayout--47121"},n.createElement("div",{className:"blog-post-module--blogPostContainer--50728"},n.createElement("article",{className:"blog-post-module--blogPost--72ffc",itemScope:!0,itemType:"http://schema.org/Article"},n.createElement("header",{className:"blog-post-module--blogPostHeader--0de78"},n.createElement("h1",{className:"blog-post-module--postTitle--2c12c"},c.frontmatter.title),n.createElement("time",{className:"blog-post-module--postDate--2d1aa"},c.frontmatter.date),c.frontmatter.tags&&c.frontmatter.tags.length>0&&n.createElement("div",{className:"blog-post-module--tagsContainer--c8b91"},c.frontmatter.tags.map(e=>n.createElement("span",{key:e,className:"blog-post-module--tag--a09fc"},"#",e)))),n.createElement("section",{className:"blog-post-module--blogPostContent--a2bdd blog-post-content",dangerouslySetInnerHTML:{__html:u},itemProp:"articleBody"}),n.createElement("hr",{className:"blog-post-module--postDivider--aa8ca"})),n.createElement("nav",{className:"blog-post-module--blogPostNav--d05de"},n.createElement("ul",null,n.createElement("li",null,o&&n.createElement(r.Link,{to:o.fields.slug,rel:"이전 글"},o.frontmatter.title)),n.createElement("li",null,a&&n.createElement(r.Link,{to:a.fields.slug,rel:"다음 글"},a.frontmatter.title))))),c.tableOfContents&&n.createElement(i,{tableOfContents:c.tableOfContents})))}}}]);
//# sourceMappingURL=component---src-templates-blog-post-js-55e7d239114ad2c38aa4.js.map