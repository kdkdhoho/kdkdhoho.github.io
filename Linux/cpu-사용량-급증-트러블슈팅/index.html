<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.14.5"/><meta name="description" content="CPU 사용량이 급격하게 증가하여 EC2 사용액이 추가로 부과된 문제를 해결한 과정을 기록했습니다." data-gatsby-head="true"/><meta property="og:title" content="[Ubuntu] CPU 사용량 급증 트러블슈팅" data-gatsby-head="true"/><meta property="og:description" content="CPU 사용량이 급격하게 증가하여 EC2 사용액이 추가로 부과된 문제를 해결한 과정을 기록했습니다." data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta name="twitter:card" content="summary" data-gatsby-head="true"/><meta name="twitter:creator" content="" data-gatsby-head="true"/><meta name="twitter:title" content="[Ubuntu] CPU 사용량 급증 트러블슈팅" data-gatsby-head="true"/><meta name="twitter:description" content="CPU 사용량이 급격하게 증가하여 EC2 사용액이 추가로 부과된 문제를 해결한 과정을 기록했습니다." data-gatsby-head="true"/><style data-href="/styles.ac3d6ce03f7f9d5bf909.css" data-identity="gatsby-global-css">@font-face{font-display:swap;font-family:Pretendard;font-style:normal;font-weight:400;src:url(/static/pretendard-latin-400-normal-38bed7de46e7b9049cedbede041d23ed.woff2) format("woff2"),url(/static/pretendard-latin-400-normal-303253288b0ba99db532e29a364b0c09.woff) format("woff")}
/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{-webkit-text-size-adjust:100%;line-height:1.15}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden]{display:none}:root{--maxWidth-none:"none";--maxWidth-xs:20rem;--maxWidth-sm:24rem;--maxWidth-md:28rem;--maxWidth-lg:32rem;--maxWidth-xl:36rem;--maxWidth-2xl:42rem;--maxWidth-3xl:48rem;--maxWidth-4xl:56rem;--maxWidth-full:"100%";--maxWidth-wrapper:var(--maxWidth-2xl);--maxWidth-wrapper-large:64rem;--spacing-px:"1px";--spacing-0:0;--spacing-1:0.25rem;--spacing-2:0.5rem;--spacing-3:0.75rem;--spacing-4:1rem;--spacing-5:1.25rem;--spacing-6:1.5rem;--spacing-8:2rem;--spacing-10:2.5rem;--spacing-12:3rem;--spacing-16:4rem;--spacing-20:5rem;--spacing-24:6rem;--spacing-32:8rem;--fontFamily-sans:"Pretendard",system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--fontFamily-serif:"Pretendard","Georgia",Cambria,"Times New Roman",Times,serif;--font-body:var(--fontFamily-serif);--font-heading:var(--fontFamily-sans);--fontWeight-normal:400;--fontWeight-bold:700;--fontWeight-black:900;--fontSize-root:16px;--lineHeight-none:1;--lineHeight-tight:1.1;--lineHeight-normal:1.5;--lineHeight-relaxed:1.625;--fontSize-0:0.833rem;--fontSize-1:1rem;--fontSize-2:1.2rem;--fontSize-3:1.44rem;--fontSize-4:1.728rem;--fontSize-5:2.074rem;--fontSize-6:2.488rem;--fontSize-7:2.986rem;--color-primary:#2563eb;--color-text:#2e353f;--color-text-light:#4f5969;--color-heading:#1a202c;--color-heading-black:#000;--color-accent:#d1dce5;--color-bg:#fff;--color-bg-body:#f7f8fa;--color-bg-secondary:#f1f5f9;--color-border:#e2e8f0;--color-card-bg:#fff;--color-sidebar-bg:#fff}*,:after,:before{box-sizing:border-box}html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:var(--fontSize-root);line-height:var(--lineHeight-normal)}body{background-color:var(--color-bg-body);color:var(--color-text);font-family:var(--font-body);font-size:var(--fontSize-1);transition:all .3s ease-in-out}@keyframes fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.global-wrapper{animation:fadeInUp .6s ease-out}hr{background:var(--color-accent);border:0;height:1px}h1,h2,h3,h4,h5,h6{font-family:var(--font-heading);letter-spacing:-.025em;line-height:var(--lineHeight-tight);margin-bottom:var(--spacing-6);margin-top:var(--spacing-12)}h2,h3,h4,h5,h6{color:var(--color-heading);font-weight:var(--fontWeight-bold)}h1{color:var(--color-heading-black);font-size:var(--fontSize-6);font-weight:var(--fontWeight-black)}h2{font-size:var(--fontSize-5)}h3{font-size:var(--fontSize-4)}h4{font-size:var(--fontSize-3)}h5{font-size:var(--fontSize-2)}h6{font-size:var(--fontSize-1)}p{--baseline-multiplier:0.179;--x-height-multiplier:0.35;line-height:var(--lineHeight-relaxed);margin:var(--spacing-0) var(--spacing-0) var(--spacing-8) var(--spacing-0)}ol,p,ul{padding:var(--spacing-0)}ol,ul{list-style-image:none;list-style-position:outside;margin-bottom:var(--spacing-8);margin-left:var(--spacing-0);margin-right:var(--spacing-0)}ol li,ul li{padding-left:var(--spacing-0)}li>p,ol li,ul li{margin-bottom:calc(var(--spacing-8)/2)}li :last-child{margin-bottom:var(--spacing-0)}li>ul{margin-left:var(--spacing-8);margin-top:calc(var(--spacing-8)/2)}blockquote{border-left:var(--spacing-1) solid var(--color-primary);color:var(--color-text-light);font-size:var(--fontSize-2);font-style:italic;margin-bottom:var(--spacing-8);margin-left:calc(var(--spacing-6)*-1);margin-right:var(--spacing-8);padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-6)}blockquote>:last-child{margin-bottom:var(--spacing-0)}blockquote>ol,blockquote>ul{list-style-position:inside}table{border-collapse:collapse;border-spacing:.25rem;margin-bottom:var(--spacing-8);width:100%}table thead tr th{border-bottom:1px solid var(--color-accent)}.global-wrapper{margin:var(--spacing-0) auto;max-width:var(--maxWidth-wrapper-large);padding:0 var(--spacing-5) var(--spacing-10) var(--spacing-5)}@media (min-width:1024px){.global-wrapper{padding:0 var(--spacing-8) var(--spacing-10) var(--spacing-8)}}@media (max-width:42rem){.global-wrapper{padding:var(--spacing-6) var(--spacing-4)}blockquote{margin-left:var(--spacing-0);padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-4)}ol,ul{list-style-position:inside}}@media (min-width:80rem){.global-wrapper{max-width:1400px}}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#000;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;text-shadow:0 1px #fff;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#b3d4fc;text-shadow:none}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{background:hsla(0,0%,100%,.5);color:#9a6e3a}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.search-module--searchContainer--8062c{--color-nav-blue:#2563eb;--color-nav-blue-soft:#dbeafe;--color-nav-border:#c7d8f5;max-width:22rem;position:relative;width:100%}.search-module--inlineSearchField--2c564{position:relative}.search-module--searchIcon--8a607{color:#4b5f7f;height:1rem;left:var(--spacing-3);pointer-events:none;position:absolute;top:50%;transform:translateY(-50%);width:1rem}.search-module--searchIcon--8a607 svg{fill:currentColor;height:100%;width:100%}.search-module--inlineSearchInput--04259,.search-module--searchInput--bccbf{background:#f8fbff;border:1px solid var(--color-nav-border);border-radius:999px;color:var(--color-heading);font-size:var(--fontSize-0);outline:none;transition:border-color .2s ease,box-shadow .2s ease,background-color .2s ease;width:100%}.search-module--inlineSearchInput--04259{height:2.25rem;padding:.45rem var(--spacing-4) .45rem calc(var(--spacing-4) + 1rem)}.search-module--searchInput--bccbf{background:#fff;border:0;border-bottom:1px solid var(--color-nav-border);border-radius:0;padding:var(--spacing-3) var(--spacing-4)}.search-module--inlineSearchInput--04259::placeholder,.search-module--searchInput--bccbf::placeholder{color:#6b7d98}.search-module--inlineSearchInput--04259:focus,.search-module--searchInput--bccbf:focus{background:#fff;border-color:var(--color-nav-blue);box-shadow:0 0 0 3px rgba(37,99,235,.15)}.search-module--searchDropdown--2b910{background:#fff;border:1px solid var(--color-nav-border);border-radius:12px;box-shadow:0 10px 26px rgba(21,64,126,.14);overflow:hidden;position:absolute;right:0;top:calc(100% + .5rem);width:min(22rem,calc(100vw - 2rem));z-index:40}.search-module--searchResults--5406e{max-height:22rem;overflow-y:auto}.search-module--searchResultsHeader--0602f{align-items:center;background:#f7faff;border-bottom:1px solid #e2ebfb;display:flex;font-size:.75rem;justify-content:space-between;padding:var(--spacing-3) var(--spacing-4)}.search-module--searchResultsHeader--0602f span{color:#274f97;font-weight:600}.search-module--searchResultsHeader--0602f small{color:#6b7d98}.search-module--searchResultItem--ea366{background:#fff;border:0;border-bottom:1px solid #ebf1fc;cursor:pointer;padding:var(--spacing-4);text-align:left;transition:background-color .18s ease;width:100%}.search-module--searchResultItem--ea366:focus-visible,.search-module--searchResultItem--ea366:hover{background:var(--color-nav-blue-soft)}.search-module--searchResultItem--ea366:last-child{border-bottom:0}.search-module--searchResultItem--ea366 h4{color:var(--color-heading);font-size:var(--fontSize-0);line-height:1.3;margin:0 0 var(--spacing-2)}.search-module--searchResultItem--ea366 p{color:var(--color-text-light);font-size:.75rem;line-height:1.4;margin:0 0 var(--spacing-1)}.search-module--searchResultItem--ea366 small{color:#6b7d98;font-size:.72rem}.search-module--searchNoResults--31679{padding:var(--spacing-6);text-align:center}.search-module--searchNoResults--31679 p{color:var(--color-heading);font-size:var(--fontSize-0);margin:0 0 var(--spacing-2)}.search-module--searchNoResults--31679 small{color:#6b7d98;font-size:.72rem}.search-module--searchToggle--76220{align-items:center;background:#f8fbff;border:1px solid var(--color-nav-border);border-radius:999px;color:#274f97;cursor:pointer;display:inline-flex;height:2.25rem;justify-content:center;width:2.25rem}.search-module--searchToggle--76220 svg{fill:currentColor;height:1rem;width:1rem}.search-module--searchToggle--76220:focus-visible,.search-module--searchToggle--76220:hover{background:var(--color-nav-blue-soft);border-color:var(--color-nav-blue)}@media (max-width:42rem){.search-module--searchContainer--8062c{max-width:8.25rem}.search-module--inlineSearchInput--04259{font-size:.74rem;height:2rem;min-width:8.25rem;padding:.38rem .65rem .38rem 1.75rem}.search-module--searchIcon--8a607{height:.9rem;left:.55rem;width:.9rem}.search-module--searchDropdown--2b910{right:0;width:min(20rem,calc(100vw - 1.5rem))}}.bio-module--bioCard--3293a{align-items:flex-start;background:#fff;border:1px solid #d6e3fa;border-radius:14px;box-shadow:0 10px 24px rgba(37,99,235,.06);display:flex;gap:var(--spacing-4);margin-bottom:var(--spacing-12);padding:var(--spacing-5)}.bio-module--avatar--e54eb{border:1px solid #d6e3fa;border-radius:999px;flex-shrink:0}.bio-module--content--6ef75{min-width:0}.bio-module--compactContent--73a50{align-items:flex-start;display:flex;flex-direction:column;gap:var(--spacing-2);justify-content:center;min-width:0;width:100%}.bio-module--compactText--c1ec9{min-width:0}.bio-module--name--b0be6{color:#1e3a8a;font-size:var(--fontSize-1);font-weight:700;margin:0 0 var(--spacing-1)}.bio-module--compactContent--73a50 .bio-module--name--b0be6{font-size:.9rem;margin:0}.bio-module--compactDescription--a8df7{color:#475569;font-size:.75rem;line-height:1.45;margin:0}.bio-module--summary--e6cb7{color:var(--color-text-light);font-size:.92rem;line-height:1.65;margin:0}.bio-module--tags--abab9{display:flex;flex-wrap:wrap;gap:var(--spacing-2);margin-top:var(--spacing-3)}.bio-module--tagLink--18022{align-items:center;background:#dbeafe;border:1px solid #bfdbfe;border-radius:999px;color:#1d4ed8;display:inline-flex;height:2.05rem;justify-content:center;text-decoration:none;transition:background-color .18s ease,border-color .18s ease,color .18s ease,box-shadow .18s ease;width:2.05rem}.bio-module--tagLink--18022:focus-visible,.bio-module--tagLink--18022:hover{background:#bfdbfe;border-color:#93c5fd;box-shadow:0 0 0 3px rgba(37,99,235,.16);color:#1e40af}.bio-module--tagIcon--f5e11{height:1rem;width:1rem}.bio-module--compactBio--f9b9a{box-shadow:0 6px 18px rgba(37,99,235,.07);margin-bottom:var(--spacing-4);padding:var(--spacing-3) var(--spacing-4)}.bio-module--compactBio--f9b9a .bio-module--tags--abab9{margin-top:0}.bio-module--compactBio--f9b9a .bio-module--tagLink--18022{height:1.9rem;width:1.9rem}@media (max-width:42rem){.bio-module--bioCard--3293a{margin-bottom:var(--spacing-4)}.bio-module--tags--abab9{justify-content:center}.bio-module--compactBio--f9b9a{align-items:center;gap:var(--spacing-3);margin-bottom:var(--spacing-2);padding:.65rem .85rem}.bio-module--compactContent--73a50{align-items:center;flex-direction:row;gap:var(--spacing-3);justify-content:space-between}.bio-module--compactText--c1ec9{flex:1 1;min-width:0;text-align:left}.bio-module--compactBio--f9b9a .bio-module--tags--abab9{flex-wrap:nowrap;gap:.35rem;justify-content:flex-end;margin-top:0}.bio-module--compactBio--f9b9a .bio-module--tagLink--18022{height:1.7rem;width:1.7rem}.bio-module--compactBio--f9b9a .bio-module--compactDescription--a8df7{font-size:.72rem;line-height:1.35;margin-top:.08rem}}.layout-module--globalHeader--d828d{--color-nav-blue:#2563eb;--color-nav-blue-soft:#dbeafe;--color-nav-border:#d1dff5;border-bottom:1px solid var(--color-nav-border);margin-bottom:var(--spacing-6);margin-top:var(--spacing-4)}.layout-module--headerContainer--c48da{align-items:center;display:grid;gap:var(--spacing-4);grid-template-columns:minmax(0,1fr) auto minmax(0,1fr);padding:0 0 var(--spacing-4)}.layout-module--headerSide--63b5d{align-items:center;display:flex;min-width:0}.layout-module--headerCenter--747d9{align-items:center;display:flex;justify-content:center}.layout-module--headerRight--d5448{align-items:center;display:flex;justify-content:flex-end;min-width:14rem}.layout-module--mainHeading--acad2{font-size:var(--fontSize-3);font-weight:800;line-height:1.2;margin:0}.layout-module--titleLink--a4c58{color:var(--color-heading);font-size:var(--fontSize-3);font-weight:800;letter-spacing:-.01em;text-decoration:none;transition:color .2s ease}.layout-module--titleLink--a4c58:focus-visible,.layout-module--titleLink--a4c58:hover{color:var(--color-nav-blue)}.layout-module--layoutContainer--2ee2a{display:flex;flex-direction:column;gap:var(--spacing-8)}.layout-module--postWrapper--01261{max-width:88rem}.layout-module--sidebar--65e08{position:sticky;top:1.75rem}.layout-module--sidebarSection--78de8{background:linear-gradient(180deg,#f8fbff,#fdfefe);border:1px solid #d6e3fa;border-radius:14px;box-shadow:0 10px 26px rgba(37,99,235,.08);padding:var(--spacing-5)}.layout-module--sidebarTitle--1b0b5{border-bottom:1px solid #d6e3fa;color:#1e3a8a;font-size:var(--fontSize-1);letter-spacing:.02em;margin:0 0 var(--spacing-4);padding-bottom:var(--spacing-2)}.layout-module--categoryScrollArea--495be{max-height:calc(100vh - 13rem);overflow-y:auto;overscroll-behavior:contain;padding-right:.25rem}.layout-module--sidebarCategoryList--f27f3{list-style:none;margin:0;padding:0}.layout-module--sidebarCategoryListItem--07ff4{margin:0}.layout-module--sidebarCategoryListItem--07ff4+.layout-module--sidebarCategoryListItem--07ff4{margin-top:var(--spacing-1)}.layout-module--sidebarCategoryItem--b3e02{--depth:0;align-items:center;border-radius:10px;color:#334155;display:flex;gap:var(--spacing-3);justify-content:space-between;padding:.5rem .625rem;padding-left:calc(.625rem + var(--depth)*.75rem);text-decoration:none;transition:background-color .18s ease,color .18s ease}.layout-module--sidebarCategoryItem--b3e02:focus-visible,.layout-module--sidebarCategoryItem--b3e02:hover{background:#eaf2ff;color:#1d4ed8}.layout-module--activeCategory--8af0e{background:#2563eb;color:#fff}.layout-module--activeCategory--8af0e .layout-module--categoryCount--f72a4{background:hsla(0,0%,100%,.2);color:#fff}.layout-module--categoryName--a37ca{font-size:.9rem;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.layout-module--categoryCount--f72a4{align-items:center;background:#dbeafe;border-radius:999px;color:#1d4ed8;display:inline-flex;flex-shrink:0;font-size:.72rem;font-weight:600;height:1.25rem;justify-content:center;min-width:1.75rem;padding:0 .4rem}.layout-module--mainContent--2f1b6{max-width:100%;min-width:0;overflow-x:hidden}.layout-module--siteFooter--80c5d{border-top:1px solid var(--color-border);color:var(--color-text-light);font-size:var(--fontSize-0);margin-top:var(--spacing-16);padding:var(--spacing-12) 0;text-align:center}.layout-module--siteFooterLink--72b70{color:#2563eb;font-weight:500;text-decoration:none}@media (min-width:768px){.layout-module--layoutContainer--2ee2a{align-items:start;display:grid;gap:var(--spacing-10);grid-template-columns:280px minmax(0,1fr)}.layout-module--postLayoutContainer--36d0e{gap:2.75rem;grid-template-columns:240px minmax(0,1fr)}}@media (min-width:1280px){.layout-module--postWrapper--01261{max-width:none;padding-left:1.25rem;padding-right:1.75rem;width:100%}.layout-module--postLayoutContainer--36d0e{margin-left:18.75rem}.layout-module--postGlobalHeader--933d9{border-bottom:0;position:relative}.layout-module--postGlobalHeader--933d9:after{background:var(--color-nav-border);bottom:0;content:"";height:1px;left:18.75rem;position:absolute;right:0}.layout-module--postHeaderContainer--cfcda{max-width:none}.layout-module--postLayoutContainer--36d0e{display:block}.layout-module--postSidebar--e569d{height:calc(100vh - 2.5rem);left:1.25rem;overflow-y:auto;padding-right:.25rem;position:fixed;top:1.25rem;width:17.5rem;z-index:20}.layout-module--postMainContent--3004a{max-width:min(96rem,calc(100vw - 21.25rem));width:100%}}@media (min-width:900px) and (max-width:1279px){.layout-module--postLayoutContainer--36d0e{gap:0;grid-template-columns:minmax(0,1fr)}.layout-module--postSidebar--e569d{display:none}.layout-module--postMainContent--3004a{max-width:100%;overflow:visible;width:100%}}@media (max-width:42rem){.layout-module--layoutContainer--2ee2a{gap:var(--spacing-4)}.layout-module--globalHeader--d828d{margin-bottom:var(--spacing-4);margin-top:var(--spacing-3)}.layout-module--headerContainer--c48da{gap:var(--spacing-2);grid-template-columns:minmax(0,1fr) auto;padding-bottom:var(--spacing-3)}.layout-module--headerSide--63b5d{display:none}.layout-module--headerCenter--747d9{justify-content:flex-start;min-width:0;padding-left:.25rem}.layout-module--headerRight--d5448{min-width:7rem}.layout-module--mainHeading--acad2,.layout-module--titleLink--a4c58{font-size:var(--fontSize-2)}.layout-module--sidebar--65e08{position:static}.layout-module--sidebarSection--78de8{display:none}.layout-module--categoryScrollArea--495be{max-height:none;overflow:visible;overscroll-behavior:auto;padding-right:0}}._404-module--notFoundPage--973d2{display:grid;min-height:60vh;place-items:center}._404-module--heroCard--2c155{background:linear-gradient(180deg,#f8fbff,#fff);border:1px solid #dbe7fb;border-radius:20px;box-shadow:0 14px 36px rgba(37,99,235,.1);padding:clamp(1.5rem,4vw,2.5rem);text-align:center;width:min(100%,44rem)}._404-module--errorCode--27f6e{align-items:center;background:#dbeafe;border:1px solid #bfdbfe;border-radius:999px;color:#1d4ed8;display:inline-flex;font-size:var(--fontSize-1);font-weight:800;justify-content:center;letter-spacing:.08em;margin-bottom:var(--spacing-4);padding:.35rem .8rem}._404-module--title--65a8e{color:var(--color-heading-black);font-size:clamp(1.5rem,4vw,2.1rem);line-height:1.25;margin:0 0 var(--spacing-3)}._404-module--description--7019f{color:var(--color-text-light);line-height:1.65;margin:0 auto;max-width:36rem}._404-module--actions--cff5b{align-items:center;display:inline-flex;flex-wrap:wrap;gap:var(--spacing-3);justify-content:center;margin-top:var(--spacing-6)}._404-module--primaryButton--bb5a9,._404-module--secondaryButton--b3086{align-items:center;border-radius:999px;display:inline-flex;font-size:.86rem;font-weight:700;justify-content:center;min-width:8rem;padding:.62rem 1rem;text-decoration:none;transition:transform .16s ease,box-shadow .16s ease,background-color .16s ease,border-color .16s ease,color .16s ease}._404-module--primaryButton--bb5a9{background:#2563eb;border:1px solid #2563eb;box-shadow:0 8px 18px rgba(37,99,235,.24);color:#fff}._404-module--primaryButton--bb5a9:focus-visible,._404-module--primaryButton--bb5a9:hover{background:#1d4ed8;border-color:#1d4ed8;transform:translateY(-1px)}._404-module--secondaryButton--b3086{background:#eff6ff;border:1px solid #bfdbfe;color:#1d4ed8}._404-module--secondaryButton--b3086:focus-visible,._404-module--secondaryButton--b3086:hover{background:#dbeafe;border-color:#93c5fd;transform:translateY(-1px)}.index-module--postsGrid--a20bc{display:grid;gap:var(--spacing-8);grid-template-columns:1fr;list-style:none;margin:0;padding:0}.index-module--postListItem--882a1{--card-blue:#2563eb;--card-blue-soft:#dbeafe;--card-border:#dbe7fb;background:var(--color-card-bg);border:1px solid var(--card-border);border-radius:10px;display:flex;flex-direction:column;height:100%;overflow:hidden;position:relative;transition:transform .18s ease,box-shadow .18s ease,border-color .18s ease}.index-module--postListItem--882a1:hover{border-color:#c8d9fb;box-shadow:0 10px 20px rgba(37,99,235,.08);transform:translateY(-2px)}.index-module--postListItem--882a1:before{background:var(--card-blue);bottom:0;content:"";left:0;position:absolute;top:0;width:3px}.index-module--postLink--fe43b{color:inherit;display:block;height:100%;padding:var(--spacing-5) var(--spacing-5) var(--spacing-5) calc(var(--spacing-5) + 4px);text-decoration:none}.index-module--postCardBody--40dc9{align-items:flex-start;display:flex;gap:var(--spacing-4)}.index-module--postThumbnailWrapper--d34a6{aspect-ratio:4/3;background:#edf3ff;border:1px solid #d6e3fa;border-radius:8px;min-width:12rem;overflow:hidden;width:12rem}.index-module--postThumbnailImage--488fd{display:block;height:100%;object-fit:cover;width:100%}.index-module--postCardContent--2b185{display:flex;flex:1 1;flex-direction:column;min-width:0}.index-module--postCardHeader--73db4{margin-bottom:var(--spacing-3)}.index-module--postMeta--53065{align-items:center;display:inline-flex;gap:.35rem}.index-module--readingTimeText--25c45{align-items:center;color:#1d4ed8;display:inline-flex;font-size:.76rem;font-weight:600;line-height:1}.index-module--readingTimeText--25c45:before{color:#94a3b8;content:"•";margin-right:.35rem}.index-module--postDate--22344{color:var(--color-text-light);display:inline-block;font-size:.78rem;margin-bottom:0}.index-module--postTitle--5f6ce{color:var(--color-heading-black);font-size:var(--fontSize-2);font-weight:700;letter-spacing:-.01em;line-height:1.35;margin:0}.index-module--postCardExcerpt--fc40a p{-webkit-line-clamp:2;-webkit-box-orient:vertical;color:var(--color-text-light);display:-webkit-box;font-size:.9rem;line-height:1.45;margin:0;overflow:hidden}.index-module--postListItem--882a1:hover .index-module--postTitle--5f6ce{color:var(--card-blue)}@media (max-width:42rem){.index-module--postsGrid--a20bc{gap:var(--spacing-6)}.index-module--postLink--fe43b{padding:var(--spacing-4) var(--spacing-4) var(--spacing-4) calc(var(--spacing-4) + 4px)}.index-module--postCardBody--40dc9{flex-direction:column;gap:var(--spacing-3)}.index-module--postCardHeader--73db4{margin-bottom:var(--spacing-2)}.index-module--postThumbnailWrapper--d34a6{aspect-ratio:21/9;min-width:0;width:100%}}@media (min-width:768px){.index-module--postsGrid--a20bc{gap:var(--spacing-8);grid-template-columns:1fr}}@media (min-width:1400px){.index-module--postsGrid--a20bc{gap:var(--spacing-12);grid-template-columns:1fr}}.search-page-module--searchPage--b5a14{width:100%}.search-page-module--searchHeader--2b955{margin-bottom:var(--spacing-8)}.search-page-module--searchTitle--5e402{color:var(--color-heading-black);font-size:var(--fontSize-5);margin:0 0 var(--spacing-4);text-align:center;width:100%}.search-page-module--searchForm--65ecc{align-items:center;display:flex;gap:var(--spacing-3)}.search-page-module--searchInput--c6d92{background:#f8fbff;border:1px solid #bfd3f4;border-radius:999px;color:var(--color-heading);flex:1 1;font-size:1rem;min-width:0;outline:none;padding:.74rem 1.05rem;transition:border-color .2s ease,box-shadow .2s ease}.search-page-module--searchInput--c6d92:focus{border-color:#2563eb;box-shadow:0 0 0 3px rgba(37,99,235,.15)}.search-page-module--searchButton--21bcd{background:#2563eb;border:1px solid #2563eb;border-radius:999px;color:#fff;cursor:pointer;font-size:.92rem;font-weight:700;padding:.74rem 1.05rem}.search-page-module--searchButton--21bcd:hover{background:#1d4ed8;border-color:#1d4ed8}.search-page-module--resultsHeader--a1410{align-items:center;display:flex;flex-wrap:wrap;gap:var(--spacing-3);justify-content:space-between;margin-bottom:var(--spacing-4)}.search-page-module--resultsTitle--7fb23{color:var(--color-heading);font-size:var(--fontSize-2);margin:0}.search-page-module--resultsTitle--7fb23 span{color:var(--color-text-light);font-weight:500}.search-page-module--sortWrap--bfb72{align-items:center;display:inline-flex;gap:.4rem}.search-page-module--sortWrap--bfb72 label{color:var(--color-text-light);font-size:.78rem}.search-page-module--sortSelect--c4f11{background:#fff;border:1px solid #bfd3f4;border-radius:8px;color:var(--color-heading);font-size:.78rem;padding:.35rem .5rem}.search-page-module--resultsList--68d78{display:grid;gap:var(--spacing-6);grid-template-columns:1fr}.search-page-module--resultCard--3e5b1{--card-blue:#2563eb;--card-border:#dbe7fb;background:var(--color-card-bg);border:1px solid var(--card-border);border-radius:10px;overflow:hidden;position:relative;transition:transform .18s ease,box-shadow .18s ease,border-color .18s ease}.search-page-module--resultCard--3e5b1:before{background:var(--card-blue);bottom:0;content:"";left:0;position:absolute;top:0;width:3px}.search-page-module--resultCard--3e5b1:hover{border-color:#c8d9fb;box-shadow:0 10px 20px rgba(37,99,235,.08);transform:translateY(-2px)}.search-page-module--resultLink--26e35{color:inherit;display:block;padding:var(--spacing-5) var(--spacing-5) var(--spacing-5) calc(var(--spacing-5) + 4px);text-decoration:none}.search-page-module--cardBody--7455f{align-items:flex-start;display:flex;gap:var(--spacing-4)}.search-page-module--thumbnailWrap--809a7{aspect-ratio:4/3;background:#edf3ff;border:1px solid #d6e3fa;border-radius:8px;min-width:12rem;overflow:hidden;width:12rem}.search-page-module--thumbnailImage--eb467{display:block;height:100%;object-fit:cover;width:100%}.search-page-module--cardContent--25e7a{flex:1 1;min-width:0}.search-page-module--cardTitle--bed52{color:var(--color-heading-black);font-size:var(--fontSize-2);font-weight:700;letter-spacing:-.01em;line-height:1.35;margin:0}.search-page-module--cardMeta--21132{align-items:center;display:inline-flex;gap:.35rem;margin-top:.25rem}.search-page-module--cardDate--1c374{color:var(--color-text-light);font-size:.78rem}.search-page-module--readingTime--47b82{align-items:center;color:#1d4ed8;display:inline-flex;font-size:.76rem;font-weight:600}.search-page-module--readingTime--47b82:before{color:#94a3b8;content:"•";margin-right:.35rem}.search-page-module--cardDescription--f2906{-webkit-line-clamp:2;-webkit-box-orient:vertical;color:var(--color-text-light);display:-webkit-box;font-size:.9rem;line-height:1.45;margin:var(--spacing-2) 0 0;overflow:hidden}.search-page-module--cardDescription--f2906 mark,.search-page-module--cardTitle--bed52 mark{background:#dbeafe;border-radius:4px;color:#1e3a8a;padding:0 .1em}.search-page-module--resultCard--3e5b1:hover .search-page-module--cardTitle--bed52{color:#2563eb}.search-page-module--emptyState--37d88,.search-page-module--placeholderState--68e8a{background:#f8fbff;border:1px solid #dbe7fb;border-radius:12px;padding:var(--spacing-6)}.search-page-module--emptyState--37d88 h3,.search-page-module--placeholderState--68e8a h3{font-size:var(--fontSize-3);margin:0 0 var(--spacing-2)}.search-page-module--emptyState--37d88 p,.search-page-module--placeholderState--68e8a p{color:var(--color-text-light);margin:0}.search-page-module--emptyState--37d88 ul{color:var(--color-text-light);margin:var(--spacing-3) 0 0;padding-left:1.1rem}.search-page-module--emptyState--37d88 li+li{margin-top:.2rem}@media (max-width:42rem){.search-page-module--searchForm--65ecc{align-items:stretch;flex-direction:column}.search-page-module--searchButton--21bcd{width:100%}.search-page-module--resultLink--26e35{padding:var(--spacing-4) var(--spacing-4) var(--spacing-4) calc(var(--spacing-4) + 4px)}.search-page-module--cardBody--7455f{flex-direction:column;gap:var(--spacing-3)}.search-page-module--thumbnailWrap--809a7{aspect-ratio:21/9;min-width:0;width:100%}}.toc-module--tocContainer--ffa0b{background:#fff;border:1px solid #dbe7fb;border-radius:16px;box-shadow:0 10px 28px rgba(37,99,235,.08);height:fit-content;margin:var(--spacing-6) 0;max-height:none;max-width:none;overflow-y:visible;padding:.95rem .9rem 1rem;position:static;width:100%;z-index:100}.toc-module--mobileCloseButton--e0810,.toc-module--mobileTocBackdrop--a19ba,.toc-module--mobileTocButton--56883{display:none}@media (min-width:1280px){.toc-module--tocContainer--ffa0b{margin:0;max-height:min(78vh,48rem);overflow-y:auto;overscroll-behavior:contain;position:fixed;right:1.5rem;top:50%;transform:translateY(-50%);width:17.5rem}}@media (min-width:900px) and (max-width:1279px){.toc-module--tocContainer--ffa0b{align-self:start;margin:0;max-height:calc(100vh - 2rem);overflow-y:auto;overscroll-behavior:contain;position:sticky;top:1rem}}@media (min-width:1600px){.toc-module--tocContainer--ffa0b{right:2rem;width:19rem}}@media (max-width:768px){.toc-module--tocContainer--ffa0b{margin:var(--spacing-4) 0;padding:.9rem .8rem .85rem}}@media (max-width:42rem){.toc-module--mobileTocButton--56883{align-items:center;background:#2563eb;border:1px solid #2563eb;border-radius:999px;bottom:1.25rem;box-shadow:0 10px 24px rgba(37,99,235,.28);color:#fff;display:inline-flex;font-size:.78rem;font-weight:700;height:2.5rem;justify-content:center;min-width:3.25rem;padding:0 .85rem;position:fixed;right:1rem;z-index:130}.toc-module--mobileTocBackdrop--a19ba{background:rgba(15,23,42,.46);border:0;display:block;inset:0;opacity:0;pointer-events:none;position:fixed;transition:opacity .2s ease;z-index:120}.toc-module--mobileVisible--a82c0{opacity:1;pointer-events:auto}.toc-module--tocContainer--ffa0b{border-radius:16px;bottom:.75rem;box-shadow:0 20px 42px rgba(15,23,42,.24);left:.75rem;margin:0;max-height:min(70vh,32rem);opacity:0;overflow-y:auto;padding:1rem .85rem .95rem;pointer-events:none;position:fixed;right:.75rem;top:auto;transform:translateY(112%);transition:transform .24s ease,opacity .24s ease;width:auto;z-index:125}.toc-module--mobileOpen--ceec0{opacity:1;pointer-events:auto;transform:translateY(0)}.toc-module--mobileCloseButton--e0810{align-items:center;background:#eff6ff;border:1px solid #bfdbfe;border-radius:999px;color:#1d4ed8;cursor:pointer;display:inline-flex;font-size:.72rem;font-weight:700;justify-content:center;line-height:1;padding:.32rem .58rem}}.toc-module--tocHeader--b1f84{align-items:center;display:flex;gap:.5rem;justify-content:space-between}.toc-module--tocTitle--0befc{color:#1e3a8a;font-size:1.05rem;font-weight:700;letter-spacing:.01em;margin:0}.toc-module--tocProgress--b5e48{background:#dbeafe;border-radius:999px;height:3px;margin-top:.65rem;overflow:hidden;position:relative}.toc-module--tocProgressFill--48e0b{background:linear-gradient(90deg,#2563eb,#3b82f6);border-radius:inherit;display:block;height:100%;transition:width .2s ease-out;width:0}.toc-module--tocContent--d6318{font-size:.85rem;line-height:1.45;margin-top:.6rem}.toc-module--tocContent--d6318 ul{list-style:none;margin:0;padding-left:0}.toc-module--tocContent--d6318>ul{margin:0}.toc-module--tocContent--d6318 li{margin:.14rem 0}.toc-module--tocContent--d6318>ul>li{margin:.16rem 0}.toc-module--tocContent--d6318 li a{border:1px solid transparent;border-radius:9px;color:#475569;display:block;font-size:.845rem;line-height:1.28;padding:.3rem .48rem;text-decoration:none;transition:background-color .18s ease,color .18s ease,border-color .18s ease}.toc-module--tocContent--d6318 li>a{margin-bottom:.02rem}.toc-module--tocContent--d6318 li a:hover{background:#eff6ff;border-color:#bfdbfe;color:#1d4ed8}.toc-module--active--399c5{background:#dbeafe!important;border-color:#93c5fd!important;box-shadow:inset 2px 0 0 #2563eb;color:#1e40af!important;font-weight:700}.toc-module--tocContent--d6318 ul ul{border-left:1px solid #dbeafe;margin-left:.45rem;margin-top:.02rem;padding-left:.55rem}.toc-module--tocContent--d6318 li>a+ul{margin-top:0}.toc-module--tocContent--d6318 ul ul li{margin:.08rem 0}.toc-module--tocContent--d6318 ul ul li a{color:#64748b;font-size:.8rem}.toc-module--tocContainer--ffa0b::-webkit-scrollbar{width:6px}.toc-module--tocContainer--ffa0b::-webkit-scrollbar-thumb{background:#bfdbfe;border-radius:999px}.toc-module--tocContainer--ffa0b::-webkit-scrollbar-track{background:transparent}.blog-post-module--scrollProgress--ba33a{background:linear-gradient(90deg,#2563eb,#3b82f6);height:3px;left:0;position:fixed;top:0;transition:width .25s ease-out;width:0;z-index:1000}.blog-post-module--blogPostLayout--47121{margin:0 auto;max-width:100%;position:relative;width:100%}.blog-post-module--blogPostContainer--50728{margin:0 auto;max-width:1100px;width:100%}.blog-post-module--blogPost--72ffc{background:var(--color-card-bg);border:1px solid var(--color-border);border-radius:20px;box-shadow:0 10px 30px rgba(15,23,42,.05);padding:clamp(1.25rem,3vw,2.5rem);width:100%}.blog-post-module--blogPostHeader--0de78{align-items:center;border-bottom:1px solid var(--color-border);display:flex;flex-direction:column;margin-bottom:var(--spacing-10);padding-bottom:var(--spacing-6);text-align:center}.blog-post-module--postTitle--2c12c{color:var(--color-heading-black);font-size:clamp(1.9rem,4vw,2.6rem);letter-spacing:-.03em;line-height:1.2;margin:0 0 .8rem}.blog-post-module--postDate--2d1aa{align-items:center;background:var(--color-bg-secondary);border:1px solid var(--color-border);border-radius:999px;color:var(--color-text-light);display:inline-flex;font-size:.84rem;font-weight:600;line-height:1;margin:0 0 .65rem;padding:.4rem .75rem}.blog-post-module--tagsContainer--c8b91{display:flex;flex-wrap:wrap;gap:.45rem;justify-content:center;margin:0}.blog-post-module--tag--a09fc{align-items:center;background:#eff6ff;border:1px solid #bfdbfe;border-radius:999px;color:#1d4ed8;display:inline-flex;font-size:.78rem;font-weight:600;line-height:1;margin:0;padding:.38rem .72rem;transition:border-color .2s ease,background-color .2s ease,color .2s ease}.blog-post-module--tag--a09fc:hover{background:#dbeafe;border-color:#93c5fd;color:#1d4ed8;cursor:default}.blog-post-module--blogPostContent--a2bdd{color:var(--color-text);font-size:1.06rem;line-height:1.85}.blog-post-module--blogPostContent--a2bdd>*{margin-bottom:1.4rem}.blog-post-module--blogPostContent--a2bdd>:last-child{margin-bottom:0}.blog-post-module--blogPostContent--a2bdd p{margin-bottom:1.35rem}.blog-post-module--blogPostContent--a2bdd h2,.blog-post-module--blogPostContent--a2bdd h3,.blog-post-module--blogPostContent--a2bdd h4{margin-bottom:.95rem;margin-top:2.4rem;scroll-margin-top:5rem}.blog-post-module--blogPostContent--a2bdd h2{border-bottom:1px solid var(--color-border);font-size:clamp(1.45rem,3vw,1.9rem);padding-bottom:.35rem}.blog-post-module--blogPostContent--a2bdd h3{font-size:clamp(1.2rem,2.2vw,1.45rem)}.blog-post-module--blogPostContent--a2bdd h4{font-size:1.1rem}.blog-post-module--blogPostContent--a2bdd ol,.blog-post-module--blogPostContent--a2bdd ul{margin:0 0 1.4rem;padding-left:1.35rem}.blog-post-module--blogPostContent--a2bdd li{margin-bottom:.5rem}.blog-post-module--blogPostContent--a2bdd li:last-child{margin-bottom:0}.blog-post-module--blogPostContent--a2bdd blockquote{background:#eff6ff;border-left:4px solid #2563eb;border-radius:0 12px 12px 0;color:var(--color-text-light);font-size:1rem;font-style:normal;margin:1.9rem 0;padding:.95rem 1.1rem}.blog-post-module--blogPostContent--a2bdd blockquote p:last-child{margin-bottom:0}.blog-post-module--blogPostContent--a2bdd strong{background:linear-gradient(0deg,#fff176 40%,transparent 0);padding:0 2px}.blog-post-module--blogPostContent--a2bdd code{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:.9em}.blog-post-module--blogPostContent--a2bdd :not(pre)>code{background:var(--color-bg-secondary);border-radius:.42rem;color:#be185d;padding:.12rem .4rem}.blog-post-module--blogPostContent--a2bdd .gatsby-highlight,.blog-post-module--blogPostContent--a2bdd pre{border-radius:14px;margin:1.7rem 0}.blog-post-module--blogPostContent--a2bdd pre{border:1px solid var(--color-border)}.blog-post-module--blogPostContent--a2bdd table{border:1px solid var(--color-border);border-radius:10px;margin:1.7rem 0;overflow:hidden}.blog-post-module--blogPostContent--a2bdd td,.blog-post-module--blogPostContent--a2bdd th{border-bottom:1px solid var(--color-border);padding:.7rem .8rem;text-align:left}.blog-post-module--blogPostContent--a2bdd tr:last-child td{border-bottom:0}.blog-post-module--blogPostContent--a2bdd img{border:1px solid var(--color-border);border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,.05);display:block;height:auto;margin:1.7rem auto;max-width:100%}.blog-post-module--postDivider--aa8ca{margin:2.2rem 0 1.4rem}.blog-post-module--blogPostNav--d05de{background:var(--color-card-bg);border:1px solid var(--color-border);border-radius:16px;margin-top:var(--spacing-16);padding:var(--spacing-8)}.blog-post-module--blogPostNav--d05de ul{display:flex;flex-wrap:wrap;gap:var(--spacing-6);justify-content:space-between;list-style:none;margin:0;padding:0}.blog-post-module--blogPostNav--d05de li{flex:1 1;min-width:0}.blog-post-module--blogPostNav--d05de a{background:var(--color-bg);border:2px solid var(--color-border);border-radius:12px;color:var(--color-text);display:block;font-size:.84rem;line-height:1.35;overflow:hidden;padding:var(--spacing-4) var(--spacing-6);position:relative;text-decoration:none;transition:all .3s ease}.blog-post-module--blogPostNav--d05de a:hover{border-color:#2563eb;box-shadow:0 6px 20px rgba(37,99,235,.15);transform:translateY(-2px)}.blog-post-module--blogPostNav--d05de a:before{color:var(--color-text-light);content:attr(rel);display:block;font-size:var(--fontSize-0);letter-spacing:.5px;margin-bottom:var(--spacing-1);text-transform:uppercase}@media (min-width:1280px){.blog-post-module--blogPostLayout--47121{align-items:flex-start;column-gap:var(--spacing-8);display:grid;grid-template-columns:minmax(0,1fr) 280px;max-width:100%}.blog-post-module--blogPostContainer--50728{margin:0;width:100%}}@media (min-width:900px) and (max-width:1279px){.blog-post-module--blogPostLayout--47121{align-items:start;column-gap:var(--spacing-6);display:grid;grid-template-columns:minmax(0,1fr) 16rem}.blog-post-module--blogPostContainer--50728{margin:0;max-width:none}}@media (min-width:1600px){.blog-post-module--blogPostLayout--47121{grid-template-columns:minmax(0,1fr) 320px}}@media (max-width:42rem){.blog-post-module--blogPostNav--d05de{padding:var(--spacing-6)}.blog-post-module--blogPostNav--d05de ul{flex-direction:column;gap:var(--spacing-4)}.blog-post-module--blogPostNav--d05de a{padding:var(--spacing-4);text-align:center}}@media (max-width:768px){.blog-post-module--blogPost--72ffc{border-radius:14px;padding:1rem}.blog-post-module--blogPostHeader--0de78{margin-bottom:var(--spacing-8)}.blog-post-module--blogPostContent--a2bdd{font-size:1rem;line-height:1.78}.blog-post-module--blogPostContent--a2bdd h2,.blog-post-module--blogPostContent--a2bdd h3,.blog-post-module--blogPostContent--a2bdd h4{margin-top:2rem}}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><style type="text/css">
    .anchor-header.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor-header.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor-header svg,
    h2 .anchor-header svg,
    h3 .anchor-header svg,
    h4 .anchor-header svg,
    h5 .anchor-header svg,
    h6 .anchor-header svg {
      visibility: hidden;
    }
    h1:hover .anchor-header svg,
    h2:hover .anchor-header svg,
    h3:hover .anchor-header svg,
    h4:hover .anchor-header svg,
    h5:hover .anchor-header svg,
    h6:hover .anchor-header svg,
    h1 .anchor-header:focus svg,
    h2 .anchor-header:focus svg,
    h3 .anchor-header:focus svg,
    h4 .anchor-header:focus svg,
    h5 .anchor-header:focus svg,
    h6 .anchor-header:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 100)
          }), 0)
        }
      }
    })
  </script><link rel="alternate" type="application/rss+xml" title="Gatsby Starter Blog RSS Feed" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=8023343bd3d2fc1124b2397f8fb68057" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=8023343bd3d2fc1124b2397f8fb68057"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=8023343bd3d2fc1124b2397f8fb68057"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=8023343bd3d2fc1124b2397f8fb68057"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=8023343bd3d2fc1124b2397f8fb68057"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=8023343bd3d2fc1124b2397f8fb68057"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=8023343bd3d2fc1124b2397f8fb68057"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=8023343bd3d2fc1124b2397f8fb68057"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=8023343bd3d2fc1124b2397f8fb68057"/><title data-gatsby-head="true">[Ubuntu] CPU 사용량 급증 트러블슈팅 | 김동호 블로그</title></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="global-wrapper layout-module--postWrapper--01261" data-is-root-path="false"><header class="layout-module--globalHeader--d828d layout-module--postGlobalHeader--933d9"><div class="layout-module--headerContainer--c48da layout-module--postHeaderContainer--cfcda"><div class="layout-module--headerSide--63b5d" aria-hidden="true"></div><div class="layout-module--headerCenter--747d9"><a class="layout-module--titleLink--a4c58" href="/">김동호 블로그</a></div><div class="layout-module--headerRight--d5448"><div class="search-module--searchContainer--8062c"><div class="search-module--inlineSearchField--2c564"><span class="search-module--searchIcon--8a607" aria-hidden="true"><svg viewBox="0 0 24 24" focusable="false"><path d="M11 4a7 7 0 1 1 0 14 7 7 0 0 1 0-14zm0 2a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm6.7 11.3 3 3-1.4 1.4-3-3 1.4-1.4z"></path></svg></span><input type="text" placeholder="검색 (2글자 이상)" class="search-module--inlineSearchInput--04259" aria-label="포스트 검색" value=""/></div></div></div></div></header><div class="layout-module--layoutContainer--2ee2a layout-module--postLayoutContainer--36d0e"><aside class="layout-module--sidebar--65e08 layout-module--postSidebar--e569d"><section class="bio-module--bioCard--3293a bio-module--compactBio--f9b9a"><div data-gatsby-image-wrapper="" style="width:40px;height:40px" class="gatsby-image-wrapper bio-module--avatar--e54eb"><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#989898;width:40px;height:40px;position:relative"></div><picture><source type="image/avif" data-srcset="/static/8023343bd3d2fc1124b2397f8fb68057/0c7f7/profile_img.avif 40w,/static/8023343bd3d2fc1124b2397f8fb68057/457e4/profile_img.avif 80w" sizes="40px"/><source type="image/webp" data-srcset="/static/8023343bd3d2fc1124b2397f8fb68057/3a6ff/profile_img.webp 40w,/static/8023343bd3d2fc1124b2397f8fb68057/1deab/profile_img.webp 80w" sizes="40px"/><img data-gatsby-image-ssr="" layout="fixed" data-main-image="" style="opacity:0" sizes="40px" decoding="async" loading="lazy" data-src="/static/8023343bd3d2fc1124b2397f8fb68057/996dd/profile_img.png" data-srcset="/static/8023343bd3d2fc1124b2397f8fb68057/996dd/profile_img.png 40w,/static/8023343bd3d2fc1124b2397f8fb68057/4ed6d/profile_img.png 80w" alt="김동호 프로필 이미지"/></picture><noscript><picture><source type="image/avif" srcSet="/static/8023343bd3d2fc1124b2397f8fb68057/0c7f7/profile_img.avif 40w,/static/8023343bd3d2fc1124b2397f8fb68057/457e4/profile_img.avif 80w" sizes="40px"/><source type="image/webp" srcSet="/static/8023343bd3d2fc1124b2397f8fb68057/3a6ff/profile_img.webp 40w,/static/8023343bd3d2fc1124b2397f8fb68057/1deab/profile_img.webp 80w" sizes="40px"/><img data-gatsby-image-ssr="" layout="fixed" data-main-image="" style="opacity:0" sizes="40px" decoding="async" loading="lazy" src="/static/8023343bd3d2fc1124b2397f8fb68057/996dd/profile_img.png" srcSet="/static/8023343bd3d2fc1124b2397f8fb68057/996dd/profile_img.png 40w,/static/8023343bd3d2fc1124b2397f8fb68057/4ed6d/profile_img.png 80w" alt="김동호 프로필 이미지"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><div class="bio-module--compactContent--73a50"><div class="bio-module--compactText--c1ec9"><p class="bio-module--name--b0be6">김동호</p><p class="bio-module--compactDescription--a8df7">유기견 문제를 해결하고 싶은   개발자</p></div><div class="bio-module--tags--abab9"><a href="https://github.com/kdkdhoho" target="_blank" rel="noopener noreferrer" class="bio-module--tagLink--18022" aria-label="GitHub 프로필 바로가기"><svg class="bio-module--tagIcon--f5e11" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M12 2C6.48 2 2 6.58 2 12.23c0 4.51 2.87 8.34 6.84 9.69.5.09.68-.22.68-.49 0-.24-.01-.88-.01-1.72-2.78.62-3.37-1.37-3.37-1.37-.45-1.18-1.1-1.5-1.1-1.5-.9-.63.07-.61.07-.61 1 .08 1.52 1.05 1.52 1.05.88 1.55 2.3 1.1 2.87.84.09-.66.35-1.1.63-1.36-2.22-.26-4.56-1.14-4.56-5.05 0-1.12.39-2.04 1.03-2.76-.1-.26-.45-1.31.1-2.73 0 0 .84-.28 2.75 1.05A9.33 9.33 0 0 1 12 6.9c.85 0 1.7.12 2.5.35 1.9-1.33 2.74-1.05 2.74-1.05.56 1.42.21 2.47.11 2.73.64.72 1.02 1.64 1.02 2.76 0 3.92-2.34 4.79-4.58 5.04.36.32.68.95.68 1.92 0 1.39-.01 2.5-.01 2.84 0 .27.18.59.69.49A10.24 10.24 0 0 0 22 12.23C22 6.58 17.52 2 12 2z"></path></svg></a><a href="mailto:hkim4410@gmail.com" class="bio-module--tagLink--18022" aria-label="Email 보내기"><svg class="bio-module--tagIcon--f5e11" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M20 6H4c-1.1 0-2 .9-2 2v8.5A2.5 2.5 0 0 0 4.5 19h15a2.5 2.5 0 0 0 2.5-2.5V8c0-1.1-.9-2-2-2zm0 2-8 5-8-5h16zm-.5 9h-15a.5.5 0 0 1-.5-.5V9.3l7.47 4.66a1 1 0 0 0 1.06 0L20 9.3v7.2a.5.5 0 0 1-.5.5z"></path></svg></a><a href="https://www.instagram.com/kdkdhoho/" target="_blank" rel="noopener noreferrer" class="bio-module--tagLink--18022" aria-label="Instagram 프로필 바로가기"><svg class="bio-module--tagIcon--f5e11" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M7.75 2h8.5A5.75 5.75 0 0 1 22 7.75v8.5A5.75 5.75 0 0 1 16.25 22h-8.5A5.75 5.75 0 0 1 2 16.25v-8.5A5.75 5.75 0 0 1 7.75 2zm0 2A3.75 3.75 0 0 0 4 7.75v8.5A3.75 3.75 0 0 0 7.75 20h8.5A3.75 3.75 0 0 0 20 16.25v-8.5A3.75 3.75 0 0 0 16.25 4h-8.5zM12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm0 2a3 3 0 1 0 0 6 3 3 0 0 0 0-6zm5.25-3a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5z"></path></svg></a></div></div></section><div class="layout-module--sidebarSection--78de8"><h3 class="layout-module--sidebarTitle--1b0b5">Categories</h3><div class="layout-module--categoryScrollArea--495be"><ul class="layout-module--sidebarCategoryList--f27f3"><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 layout-module--activeCategory--8af0e" style="--depth:0" href="/"><span class="layout-module--categoryName--a37ca">All</span><span class="layout-module--categoryCount--f72a4">132</span></a></li></ul><ul class="layout-module--sidebarCategoryList--f27f3"><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=%EA%B0%9C%EB%B0%9C-%EB%8F%84%EA%B5%AC"><span class="layout-module--categoryName--a37ca">개발 도구</span><span class="layout-module--categoryCount--f72a4">1</span></a></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC"><span class="layout-module--categoryName--a37ca">네트워크</span><span class="layout-module--categoryCount--f72a4">12</span></a><ul class="layout-module--sidebarCategoryList--f27f3"><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:1" href="/?category=%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC%2F%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-%EC%B1%85-%EC%8A%A4%ED%84%B0%EB%94%94"><span class="layout-module--categoryName--a37ca">네트워크 책 스터디</span><span class="layout-module--categoryCount--f72a4">10</span></a></li></ul></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4"><span class="layout-module--categoryName--a37ca">데이터베이스</span><span class="layout-module--categoryCount--f72a4">16</span></a><ul class="layout-module--sidebarCategoryList--f27f3"><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:1" href="/?category=%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4%2Finterview-study"><span class="layout-module--categoryName--a37ca">interview study</span><span class="layout-module--categoryCount--f72a4">2</span></a></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:1" href="/?category=%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4%2Freal-mysql-book-study"><span class="layout-module--categoryName--a37ca">real mysql book study</span><span class="layout-module--categoryCount--f72a4">9</span></a></li></ul></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=%EB%8F%85%EC%84%9C%EA%B8%B0%EB%A1%9D"><span class="layout-module--categoryName--a37ca">독서기록</span><span class="layout-module--categoryCount--f72a4">3</span></a></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=%EC%83%9D%EA%B0%81%EA%B8%B0%EB%A1%9D"><span class="layout-module--categoryName--a37ca">생각기록</span><span class="layout-module--categoryCount--f72a4">3</span></a></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4-%ED%85%8C%EC%8A%A4%ED%8A%B8"><span class="layout-module--categoryName--a37ca">소프트웨어 테스트</span><span class="layout-module--categoryCount--f72a4">5</span></a></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=%EC%98%81%EC%96%B4"><span class="layout-module--categoryName--a37ca">영어</span><span class="layout-module--categoryCount--f72a4">5</span></a></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C"><span class="layout-module--categoryName--a37ca">운영체제</span><span class="layout-module--categoryCount--f72a4">5</span></a><ul class="layout-module--sidebarCategoryList--f27f3"><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:1" href="/?category=%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C%2F%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C-%EC%9D%B8%ED%84%B0%EB%B7%B0-%EC%8A%A4%ED%84%B0%EB%94%94"><span class="layout-module--categoryName--a37ca">운영체제 인터뷰 스터디</span><span class="layout-module--categoryCount--f72a4">5</span></a></li></ul></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=%EC%9D%B4%EB%A0%A5%EC%84%9C-%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4-%EC%9E%91%EC%84%B1"><span class="layout-module--categoryName--a37ca">이력서 포트폴리오 작성</span><span class="layout-module--categoryCount--f72a4">1</span></a></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=%EC%9D%B8%ED%94%84%EB%9D%BC"><span class="layout-module--categoryName--a37ca">인프라</span><span class="layout-module--categoryCount--f72a4">9</span></a></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98"><span class="layout-module--categoryName--a37ca">자료구조 알고리즘</span><span class="layout-module--categoryCount--f72a4">13</span></a><ul class="layout-module--sidebarCategoryList--f27f3"><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:1" href="/?category=%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%2FLeetCode"><span class="layout-module--categoryName--a37ca">LeetCode</span><span class="layout-module--categoryCount--f72a4">1</span></a></li></ul></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=%EC%B0%BD%EA%B5%AC-AI-%EC%8A%A4%ED%84%B0%EB%94%94-%EC%9E%BC"><span class="layout-module--categoryName--a37ca">창구 AI 스터디 잼</span><span class="layout-module--categoryCount--f72a4">2</span></a></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=%ED%9A%8C%EA%B3%A0"><span class="layout-module--categoryName--a37ca">회고</span><span class="layout-module--categoryCount--f72a4">12</span></a><ul class="layout-module--sidebarCategoryList--f27f3"><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:1" href="/?category=%ED%9A%8C%EA%B3%A0%2F%EB%A6%AC%EC%8A%A4%ED%8B%B0%EC%9B%A8%EC%9D%B4%EB%B8%8C-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%ED%9A%8C%EA%B3%A0%EB%A1%9D"><span class="layout-module--categoryName--a37ca">리스티웨이브 프로젝트 회고록</span><span class="layout-module--categoryCount--f72a4">2</span></a></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:1" href="/?category=%ED%9A%8C%EA%B3%A0%2F%ED%9A%8C%EA%B3%A0%EB%A1%9D"><span class="layout-module--categoryName--a37ca">회고록</span><span class="layout-module--categoryCount--f72a4">7</span></a></li></ul></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=celuveat"><span class="layout-module--categoryName--a37ca">celuveat</span><span class="layout-module--categoryCount--f72a4">4</span></a></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=clean-code"><span class="layout-module--categoryName--a37ca">clean code</span><span class="layout-module--categoryCount--f72a4">1</span></a></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=Dart-Flutter"><span class="layout-module--categoryName--a37ca">Dart Flutter</span><span class="layout-module--categoryCount--f72a4">2</span></a></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=Docker"><span class="layout-module--categoryName--a37ca">Docker</span><span class="layout-module--categoryCount--f72a4">1</span></a></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=Gemini"><span class="layout-module--categoryName--a37ca">Gemini</span><span class="layout-module--categoryCount--f72a4">1</span></a></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=git-github"><span class="layout-module--categoryName--a37ca">git github</span><span class="layout-module--categoryCount--f72a4">3</span></a></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=JAVA"><span class="layout-module--categoryName--a37ca">JAVA</span><span class="layout-module--categoryCount--f72a4">14</span></a><ul class="layout-module--sidebarCategoryList--f27f3"><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:1" href="/?category=JAVA%2Fgarbage-collection"><span class="layout-module--categoryName--a37ca">garbage collection</span><span class="layout-module--categoryCount--f72a4">3</span></a></li></ul></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=JPA"><span class="layout-module--categoryName--a37ca">JPA</span><span class="layout-module--categoryCount--f72a4">2</span></a></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=kotlin"><span class="layout-module--categoryName--a37ca">kotlin</span><span class="layout-module--categoryCount--f72a4">2</span></a></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=Linux"><span class="layout-module--categoryName--a37ca">Linux</span><span class="layout-module--categoryCount--f72a4">1</span></a></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=listywave"><span class="layout-module--categoryName--a37ca">listywave</span><span class="layout-module--categoryCount--f72a4">2</span></a></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=OOP"><span class="layout-module--categoryName--a37ca">OOP</span><span class="layout-module--categoryCount--f72a4">1</span></a></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=Python"><span class="layout-module--categoryName--a37ca">Python</span><span class="layout-module--categoryCount--f72a4">1</span></a></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=React"><span class="layout-module--categoryName--a37ca">React</span><span class="layout-module--categoryCount--f72a4">1</span></a></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=Spring-Boot"><span class="layout-module--categoryName--a37ca">Spring Boot</span><span class="layout-module--categoryCount--f72a4">5</span></a><ul class="layout-module--sidebarCategoryList--f27f3"><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:1" href="/?category=Spring-Boot%2Fspring-core"><span class="layout-module--categoryName--a37ca">spring core</span><span class="layout-module--categoryCount--f72a4">2</span></a></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:1" href="/?category=Spring-Boot%2Fspring-mvc"><span class="layout-module--categoryName--a37ca">spring mvc</span><span class="layout-module--categoryCount--f72a4">1</span></a></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:1" href="/?category=Spring-Boot%2Ftest"><span class="layout-module--categoryName--a37ca">test</span><span class="layout-module--categoryCount--f72a4">1</span></a></li></ul></li><li class="layout-module--sidebarCategoryListItem--07ff4"><a class="layout-module--sidebarCategoryItem--b3e02 " style="--depth:0" href="/?category=why-series"><span class="layout-module--categoryName--a37ca">why series</span><span class="layout-module--categoryCount--f72a4">4</span></a></li></ul></div></div></aside><main class="layout-module--mainContent--2f1b6 layout-module--postMainContent--3004a"><div class="blog-post-module--scrollProgress--ba33a" style="width:0%" aria-hidden="true"></div><div class="blog-post-module--blogPostLayout--47121"><div class="blog-post-module--blogPostContainer--50728"><article class="blog-post-module--blogPost--72ffc" itemscope="" itemType="http://schema.org/Article"><header class="blog-post-module--blogPostHeader--0de78"><h1 class="blog-post-module--postTitle--2c12c">[Ubuntu] CPU 사용량 급증 트러블슈팅</h1><time class="blog-post-module--postDate--2d1aa">2026년 2월 14일</time><div class="blog-post-module--tagsContainer--c8b91"><span class="blog-post-module--tag--a09fc">#<!-- -->Ubuntu</span><span class="blog-post-module--tag--a09fc">#<!-- -->트러블슈팅</span></div></header><section class="blog-post-module--blogPostContent--a2bdd blog-post-content" itemProp="articleBody"><p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a class="gatsby-resp-image-link"
    href="/static/d4075dbee6771d82bc07c559269b97b4/2bef9/thumbnail.png"
    style="display: block"
    target="_blank"
    rel="noopener noreferrer"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAADCElEQVR42i3T3U+aBxTH8QdNtTop1Newujnd1GqrQJEXkfpSQYRW3rSAAooK0gEFjBRRQecszq62JdW6jGUxa7Iu7W2TLb3Y7pctWbZ/ZpffPct2cS7PJ+ecX47QPpSgcTiNwvqQwa9+pfD6Z968/YnPyt/SNDiP8IGL6o/cSDpnudDpoabLQ1WHE6HFiix4gurr35CP7SHVJejQ3EPoGI+isi8x6YlgDmYpnr7k8LSCyhLhujlJOF3irPKSQumEzM4xt4M7YpOfK5kfaF75nlZNmsvKJO+NZqlXrSGoNQ76DNPo7UGumb2s5kuEI2n6p6IYZvNs7ByRyD3i/vZTMttHeOMH1M2d0CaW1PAAmS6FdCCOdChGT5cbQWfy0We0o7EF0ZmcbIVT5EdtKB1JnJF9Huw9YT5ewj6/SWH/S3K7x0i1GRqUCRo0Ka5cC9HUv0Z9TwBVrxeha8RPv8GKZjpAyB3iC38A26SbfnOUudgBkdQuqa1j9h9XSOYfcfj4lKvmNDJ1EpkINmvjyHpXkY6t06CNIqh0bnp105gcIRaXV6hsZ8S7ZRmYimHyFkT0c5Y2yiQKZ4x7t/g0/4wBew6Zdh2FMc2CfwmjcY76iXX61IsIk5oZuvRWDFY/9sAqrnAUTzCA3hFHZbsvopsYfUVGFvYYDRTRuTZEKEWjOKFxrshfr47I3Z2nRh3D0u1C+HjYS6/WzI0pHxO+OOMzC4zdsoohxegb1NLT0cLlhlpamy7RJK9DLpezefqGs3d/UnrxisO9A0LhIu9bsyh0ETGUGw4+0U0xJCZ80xXBcGcR/aiFCYuHqyolLR8qqK6tQVJVhSAI1F68xP53P/L731D55Q+c2efYnr3j5uwu4+12BJu4cqfWIoJ3MblWGJ5ZRj3hRHcnIk6upU1RT93Fai5IJEhEUN7YjD1SplR+zdE3b3ny4pzz8jGl4iHz18VHMKlv06Of+h9c/g+d9GBwrtM+nqN1JEnrrU3axPr3dt0jCdSmArbuJRL6RQIPz1mL71D23iOk9PEPjNyrwAOc4RcAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="썸네일"
        title=""
        src="/static/d4075dbee6771d82bc07c559269b97b4/f058b/thumbnail.png"
        srcset="/static/d4075dbee6771d82bc07c559269b97b4/c26ae/thumbnail.png 158w,
/static/d4075dbee6771d82bc07c559269b97b4/6bdcf/thumbnail.png 315w,
/static/d4075dbee6771d82bc07c559269b97b4/f058b/thumbnail.png 630w,
/static/d4075dbee6771d82bc07c559269b97b4/40601/thumbnail.png 945w,
/static/d4075dbee6771d82bc07c559269b97b4/2bef9/thumbnail.png 1024w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h1 id="1-들어가며" style="position:relative;"><a href="#1-%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0" aria-label="1 들어가며 permalink" class="anchor-header before" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. 들어가며</h1>
<p>ListyWave 프로젝트를 진행하는 도중이었습니다. 평소 인프라 비용이 약 25$가 부과되고 있었는데요. 갑자기 33$가 부과된 적이 있습니다.</p>
<p>비용 청구서를 자세히 살펴보니 "Amazon Elastic Compute Cloud T4GCPUCredits" 라는 항목으로 금액이 추가된 것이었는데요. 이 항목은 EC2의 성능 버스트 가능 인스턴스의 추가 버스트 CPU 사용량에 대해 부과된 것이었습니다. <sup id="fnref-1"><a href="#fn-1" class="footnote-ref" target="_blank" rel="noopener noreferrer">1</a></sup></p>
<blockquote>
<p>버스트 CPU (Burst CPU)란?<sup id="fnref-2"><a href="#fn-2" class="footnote-ref" target="_blank" rel="noopener noreferrer">2</a></sup><br>
대부분의 인스턴스 자원의 CPU 사용량은 평균적으로 낮습니다. 하루 중에 일부 시간대만 잠깐 CPU 사용량이 급격히 치솟는 패턴을 보이죠. 따라서 높은 효율의 CPU 자원을 유지하는 것은 비효율적일겁니다.<br>
이에따라 AWS는 EC2 인스턴스의 T 시리즈를 제공하는데요. T 시리즈는 기준 성능(baseline)과 CPU 크레딧을 기반으로 동작하며, 필요 시 일시적으로 기준 성능을 초과해 버스트할 수 있습니다.</p>
<p>그런데 이 T 시리즈는 <em>Burstable Instance Types</em> 라고도 부를 수 있는데요. Burstable, 그러니까 버스트 가능하다는 뜻은, 위에서 말한 고정된 CPU 성능 이상의 CPU 성능을 내도록 한다는 뜻입니다.<br>
이를 <strong>버스트 CPU</strong> 라고 부르는데, 버스트 CPU는 추가 과금이 발생할 수 있습니다.<br>
다만 추가 과금은 모든 버스트 사용에 즉시 붙는 것이 아니라, Unlimited 모드에서 누적 사용량이 기준선을 지속적으로 초과할 때 여분 크레딧 형태로 발생합니다.</p>
</blockquote>
<p>즉, 기본 CPU 사용량을 넘어선 버스트 CPU가 사용됐다는 의미로 해석됩니다.</p>
<p>이에 다양한 지표로 원인을 분석해보니 <strong>디스크 용량 부족과 동시에 CPU 사용률이 90% 이상 유지되는 이상 현상을 포착</strong>했습니다.</p>
<p>이번 글에서는 해당 문제를 파악하기까지의 과정과 이를 해결하는 과정에 대해 기록하려고 합니다.</p>
<hr>
<h1 id="2-원인-분석" style="position:relative;"><a href="#2-%EC%9B%90%EC%9D%B8-%EB%B6%84%EC%84%9D" aria-label="2 원인 분석 permalink" class="anchor-header before" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. 원인 분석</h1>
<h2 id="21-aws-모니터링-지표-파악" style="position:relative;"><a href="#21-aws-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81-%EC%A7%80%ED%91%9C-%ED%8C%8C%EC%95%85" aria-label="21 aws 모니터링 지표 파악 permalink" class="anchor-header before" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2.1. AWS 모니터링 지표 파악</h2>
<p>가장 먼저 AWS에서 제공하는 모니터링 대시보드로 CPU 사용량을 파악해봤습니다.<br>
아래 사진은 당시 대시보드입니다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a class="gatsby-resp-image-link"
    href="/static/164406e6de8b763712e6a50e97b22b09/64289/aws-monitoring-datshboard.png"
    style="display: block"
    target="_blank"
    rel="noopener noreferrer"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 39.87341772151899%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABRklEQVR42m1Ri27DIBDL/3/jpmlbq0UtCYRXeCRxfdeuUqdFugAGfLYZTj8XvL1/4PPrG6fzGbO1+Psdx6H1CgJrKcg5o7WOUipCiBjsEjG5SHB/XvolkFrXVS+llJA597nChhWLjyyPZfHwIcCYCTEmDJ6guRr03pWgtfY4YBBiROVaCKd5xjiOSlJqQ2SDmdjlcuVoqbCwecEgCkIq4gA7CXPteqm2/mIzsEnh3rbv6PuBnaNgtW06x+P+IMyjmWHdQkWZuVSknGBmB0c7MWUlF5WOZxybJWLiSCKQyOSMp93eN1oWe5NR+dvWNWDJRdZSGjgtumXBldFY65Ss1qqR+MAMJUvvNYZBOq8iW16tbmpHVKfS1cbGtezLuUoFh2JA5+9OGJ4l66HqI3BDXy2qmsLus/N3nFXaHXM+kDipEonmP8IboOtspX8DRsQAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="AWS 모니터링 대시보드"
        title=""
        src="/static/164406e6de8b763712e6a50e97b22b09/f058b/aws-monitoring-datshboard.png"
        srcset="/static/164406e6de8b763712e6a50e97b22b09/c26ae/aws-monitoring-datshboard.png 158w,
/static/164406e6de8b763712e6a50e97b22b09/6bdcf/aws-monitoring-datshboard.png 315w,
/static/164406e6de8b763712e6a50e97b22b09/f058b/aws-monitoring-datshboard.png 630w,
/static/164406e6de8b763712e6a50e97b22b09/40601/aws-monitoring-datshboard.png 945w,
/static/164406e6de8b763712e6a50e97b22b09/78612/aws-monitoring-datshboard.png 1260w,
/static/164406e6de8b763712e6a50e97b22b09/64289/aws-monitoring-datshboard.png 2838w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>네트워크 입력이 7/8 쯤 한번 피크를 찍는 순간이 있습니다. 그래도 절대값으로 보면 8.08M 밖에 되지 않습니다.</p>
<p>이제 CPU 사용률을 봤을 때 7/8 쯤 92%를 찍는 순간이 존재합니다. 그리고 <strong>7/27 이후로 92%가 유지</strong>되는 것을 확인할 수 있습니다.</p>
<p>이렇게 봤을 때 과도한 트래픽으로 인한 버스트 CPU는 아닌 것으로 파악할 수 있습니다.</p>
<blockquote>
<p>CPU 사용률 그래프와 CPU 크레딧 사용량 그래프가 100% 일치하는 것도 재밌는 지표입니다.</p>
</blockquote>
<h2 id="22-그라파나-모니터링-지표-파악" style="position:relative;"><a href="#22-%EA%B7%B8%EB%9D%BC%ED%8C%8C%EB%82%98-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81-%EC%A7%80%ED%91%9C-%ED%8C%8C%EC%95%85" aria-label="22 그라파나 모니터링 지표 파악 permalink" class="anchor-header before" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2.2. 그라파나 모니터링 지표 파악</h2>
<p>다음으로는 그라파나로 구축한 모니터링 대시보드를 확인해봤습니다.<br>
아래 사진은 당시의 CPU 사용량에 대한 지표입니다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a class="gatsby-resp-image-link"
    href="/static/b4e4ac71cfcd8a4970fbded64c9f1b52/5fc9a/grafana-monotoring-dashboard.png"
    style="display: block"
    target="_blank"
    rel="noopener noreferrer"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 31.0126582278481%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABLklEQVR42kVQ107DQBD0XyS24369+c5OUUBCAYQAIfH/fzOsncLDanfHvp2SDVxD24iqHbAta+S75lHbol4rLxsUC1ZesU1e374RRlWULbaEdYNCtvx0fdA+qqw7cGshnIX0Fio4dEJABCKfHfRE+Ghg9g7+FKCTg917qGiRVc2irMFmYbwrKCq4KeH94wef3794fftCnM44X15gjg7TZYY9eMhkEJ4TVLLQdDw8RWS7qkfPOBgXaNpu7UxwhKjoyAwfI/VpnV30MKMjMlIZDO3USan2NJNKaclySQdNOEGZgJpyZMIQgVrngSvsyP7iomcSJcXBuFmzkmam7Cf03NHbRHtCx8hyzxmm/Rl+PGBMx/+wb/ZzCvw+L/lu8orIGGyY0fYSUo9UgUjZuv8B0/WtOdlsPDAAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="그라파나 모니터링 대시보드"
        title=""
        src="/static/b4e4ac71cfcd8a4970fbded64c9f1b52/f058b/grafana-monotoring-dashboard.png"
        srcset="/static/b4e4ac71cfcd8a4970fbded64c9f1b52/c26ae/grafana-monotoring-dashboard.png 158w,
/static/b4e4ac71cfcd8a4970fbded64c9f1b52/6bdcf/grafana-monotoring-dashboard.png 315w,
/static/b4e4ac71cfcd8a4970fbded64c9f1b52/f058b/grafana-monotoring-dashboard.png 630w,
/static/b4e4ac71cfcd8a4970fbded64c9f1b52/40601/grafana-monotoring-dashboard.png 945w,
/static/b4e4ac71cfcd8a4970fbded64c9f1b52/78612/grafana-monotoring-dashboard.png 1260w,
/static/b4e4ac71cfcd8a4970fbded64c9f1b52/5fc9a/grafana-monotoring-dashboard.png 1648w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>주목할 부분은 Process CPU Usage 최대 0.00717, <strong>System CPU Usage 최대 0.974</strong>로 시스템 영역 부하가 훨씬 크다는 점입니다.</p>
<p>이를 통해 애플리케이션 프로세스의 원인일 가능성은 낮고, 커널, 로깅 데몬, 기타 시스템 영역의 부하를 의심해볼 수 있습니다.</p>
<h2 id="23-syslog-확인" style="position:relative;"><a href="#23-syslog-%ED%99%95%EC%9D%B8" aria-label="23 syslog 확인 permalink" class="anchor-header before" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2.3. syslog 확인</h2>
<p>다음으로는 <em>syslog</em> 를 확인해봤습니다.</p>
<blockquote>
<p><em>syslog</em> 란?  <sup id="fnref-3"><a href="#fn-3" class="footnote-ref" target="_blank" rel="noopener noreferrer">3</a></sup><br>
Linux, macOS 등 유닉스 계열 시스템과 네트워크 장비에서 발생하는 다양한 경우의 로그 메시지를 표준화된 방법으로 생성, 전달, 수집하기 위한 프로토콜입니다.<br>
시스템에서 발생하는 다양한 로그를 기록해주는 기능이라고 생각하시면 됩니다.</p>
</blockquote>
<p>아래는 당시에 버스트 CPU가 발생했던 기간의 로그 일부입니다. 너무 길어서 일부는 자르고 핵심적인 로그만 남겨두었습니다.<br>
핵심만 말씀드리면 <strong>rsyslogd/journald의 "No space left on device" 오류와 dockerd의 동일 오류가 매우 짧은 간격으로 반복</strong>됐다는 점입니다.</p>
<blockquote>
<p>journald는 systemd의 로그 수집/저장 컴포넌트이고, rsyslogd는 전통 syslog 생태계의 로깅 데몬입니다.</p>
</blockquote>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">2024-07-31T00:07:08.262339+00:00 ip-172-31-38-137 rsyslogd[165030]: rsyslogd: file '/var/log/syslog'[8] write error - see https://www.rsyslog.com/solving-rsyslog-write-errors/ for help OS error: No space left on device [v8.2312.0 try https://www.rsyslog.com/e/2027 ]
2024-07-31T00:07:08.262418+00:00 ip-172-31-38-137 rsyslogd[165030]: rsyslogd: action 'action-3-builtin:omfile' (module 'builtin:omfile') message lost, could not be processed. Check for additional error messages before this one. [v8.2312.0 try https://www.rsyslog.com/e/2027 ]
2024-07-31T00:07:08.262512+00:00 ip-172-31-38-137 rsyslogd[165030]: rsyslogd: file '/var/log/syslog'[8] write error - see https://www.rsyslog.com/solving-rsyslog-write-errors/ for help OS error: No space left on device [v8.2312.0 try https://www.rsyslog.com/e/2027 ]
2024-07-31T00:07:08.262581+00:00 ip-172-31-38-137 rsyslogd[165030]: rsyslogd: action 'action-3-builtin:omfile' (module 'builtin:omfile') message lost, could not be processed. Check for additional error messages before this one. [v8.2312.0 try https://www.rsyslog.com/e/2027 ]
2024-07-31T00:07:08.262689+00:00 ip-172-31-38-137 rsyslogd[165030]: rsyslogd: file '/var/log/syslog'[8] write error - see https://www.rsyslog.com/solving-rsyslog-write-errors/ for help OS error: No space left on device [v8.2312.0 try https://www.rsyslog.com/e/2027 ]
2024-07-31T00:07:08.262758+00:00 ip-172-31-38-137 rsyslogd[165030]: rsyslogd: action 'action-3-builtin:omfile' (module 'builtin:omfile') message lost, could not be processed. Check for additional error messages before this one. [v8.2312.0 try https://www.rsyslog.com/e/2027 ]
2024-07-31T00:07:08.268322+00:00 ip-172-31-38-137 systemd[1]: sysstat-summary.service: Deactivated successfully.
2024-07-31T00:07:08.275229+00:00 ip-172-31-38-137 systemd[1]: Finished sysstat-summary.service - Generate a daily summary of process accounting.
2024-07-31T00:07:03.053696+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device
2024-07-31T00:10:08.240256+00:00 ip-172-31-38-137 systemd[1]: Starting sysstat-collect.service - system activity accounting tool...
2024-07-31T00:10:08.245703+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device (Dropped 20546 similar message(s))
2024-07-31T00:10:08.249710+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device
2024-07-31T00:10:08.260427+00:00 ip-172-31-38-137 systemd[1]: sysstat-collect.service: Deactivated successfully.
2024-07-31T00:10:08.271450+00:00 ip-172-31-38-137 systemd[1]: Finished sysstat-collect.service - system activity accounting tool.
2024-07-31T00:10:08.263698+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device
2024-07-31T00:15:01.933716+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device (Dropped 3 similar message(s))
2024-07-31T00:15:01.936707+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device
2024-07-31T00:15:01.949349+00:00 ip-172-31-38-137 CRON[415611]: (root) CMD (command -v debian-sa1 > /dev/null &amp;&amp; debian-sa1 1 1)
2024-07-31T00:15:01.952692+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device
2024-07-31T00:17:01.939703+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device (Dropped 3 similar message(s))
2024-07-31T00:17:01.943731+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device
2024-07-31T00:17:01.957020+00:00 ip-172-31-38-137 CRON[415616]: (root) CMD (cd / &amp;&amp; run-parts --report /etc/cron.hourly)
2024-07-31T00:17:01.960755+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device
2024-07-31T00:20:08.239392+00:00 ip-172-31-38-137 systemd[1]: Starting sysstat-collect.service - system activity accounting tool...
2024-07-31T00:20:08.242699+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device (Dropped 3 similar message(s))
2024-07-31T00:20:08.247700+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device
2024-07-31T00:20:08.260189+00:00 ip-172-31-38-137 systemd[1]: sysstat-collect.service: Deactivated successfully.
2024-07-31T00:20:08.271838+00:00 ip-172-31-38-137 systemd[1]: Finished sysstat-collect.service - system activity accounting tool.
2024-07-31T00:20:08.263697+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device
2024-07-31T01:24:12.302176+00:00 ip-172-31-38-137 rsyslogd[165030]: rsyslogd: file '/var/log/syslog'[8] write error - see https://www.rsyslog.com/solving-rsyslog-write-errors/ for help OS error: No space left on device [v8.2312.0 try https://www.rsyslog.com/e/2027 ]
2024-07-31T01:24:12.302207+00:00 ip-172-31-38-137 rsyslogd[165030]: rsyslogd: action 'action-3-builtin:omfile' (module 'builtin:omfile') message lost, could not be processed. Check for additional error messages before this one. [v8.2312.0 try https://www.rsyslog.com/e/2027 ]
2024-07-31T00:25:01.949718+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device (Dropped 3 similar message(s))
2024-07-31T00:25:01.953694+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device
2024-07-31T00:25:01.966387+00:00 ip-172-31-38-137 CRON[415631]: (root) CMD (command -v debian-sa1 > /dev/null &amp;&amp; debian-sa1 1 1)
2024-07-31T00:29:12.947214+00:00 ip-172-31-38-137 dockerd[72833]: time="2024-07-31T00:29:12.946688543Z" level=error msg="Error writing log message" driver=json-file error="error writing log entry: write /var/lib/docker/containers/2dfe8bd85c1922553dbcc6ab2e11ccc79a1c457eef02f1b93f790e1ff0045057/2dfe8bd85c1922553dbcc6ab2e11ccc79a1c457eef02f1b93f790e1ff0045057-json.log: no space left on device" message=
2024-07-31T00:25:01.969689+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device
2024-07-31T00:29:12.947685+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device (Dropped 3 similar message(s))
2024-07-31T00:29:12.947692+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device
2024-07-31T00:29:17.942629+00:00 ip-172-31-38-137 dockerd[72833]: time="2024-07-31T00:29:17.941983283Z" level=error msg="Error writing log message" driver=json-file error="error writing log entry: write /var/lib/docker/containers/2dfe8bd85c1922553dbcc6ab2e11ccc79a1c457eef02f1b93f790e1ff0045057/2dfe8bd85c1922553dbcc6ab2e11ccc79a1c457eef02f1b93f790e1ff0045057-json.log: no space left on device" message=
2024-07-31T00:29:17.942934+00:00 ip-172-31-38-137 dockerd[72833]: time="2024-07-31T00:29:17.942062224Z" level=error msg="Error writin2024-07-31T01:24:12.302137+00:00 ip-172-31-38-137 rsyslogd[165030]: rsyslogd: action 'action-3-builtin:omfile' (module 'builtin:omfile') message lost, could not be processed. Check for additional error messages before this one. [v8.2312.0 try https://www.rsyslog.com/e/2027 ]</code></pre></div>
<p>그리고 <code class="language-text">df -h</code> 명령어로 디스크 공간을 확인해보니 다음과 같았습니다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a class="gatsby-resp-image-link"
    href="/static/7075f0ddf1b20ad5e5147acd7a55fd29/6d2da/result-of-df-h.png"
    style="display: block"
    target="_blank"
    rel="noopener noreferrer"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 36.708860759493675%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABXUlEQVR42mVR2XKCQBDkWxLvGxSRS0QBURDwxkRNrEr+/xM6M5NKHpKHrqmd3enp7lUMc47ZPIFu+FCHU+jjGcYTH92+RWdX+vXmCLXG8BfVuia13tLR+APFtEMhHBFRb2DLMFch1FwMdQ/aaCo9XqDR0iGdB6qDVsf4T2gR4fF8R769gMmfKn1ZkBUl/EWKeL3DPNxgudridv9EEOVYBBmcaYx2byIkzfZYIIRBmOF6+0ClpomVSk2F5yd4pd6AFPL97nAV4iQ9CpbxlmKZ47mq0sxPDN9V8fw1ypcHXC8mW5ZsYWWn8g2sPlwW2B9viOKCsEWyOSLNT1gle3izNSldwnYiTGcryVvhxoEGGOXlgTQ7ieXz5V2GmKCgOFakkO0Wuwuy/IyJFUimfdVGu2ui0zOpGlAMcyH58AU/YJusNIgyUW05IWw3EgL+fVYSkWp2xm/4Mzkq/kzO8AsZ1/B6beJNpgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="실제 디스크 용량"
        title=""
        src="/static/7075f0ddf1b20ad5e5147acd7a55fd29/f058b/result-of-df-h.png"
        srcset="/static/7075f0ddf1b20ad5e5147acd7a55fd29/c26ae/result-of-df-h.png 158w,
/static/7075f0ddf1b20ad5e5147acd7a55fd29/6bdcf/result-of-df-h.png 315w,
/static/7075f0ddf1b20ad5e5147acd7a55fd29/f058b/result-of-df-h.png 630w,
/static/7075f0ddf1b20ad5e5147acd7a55fd29/6d2da/result-of-df-h.png 936w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>결국 <strong>디스크 용량이 부족해 로그를 기록하지 못해서 생긴 문제</strong>로 좁혀집니다.</p>
<h1 id="3-디스크-용량-부족과-cpu-사용률의-상관관계" style="position:relative;"><a href="#3-%EB%94%94%EC%8A%A4%ED%81%AC-%EC%9A%A9%EB%9F%89-%EB%B6%80%EC%A1%B1%EA%B3%BC-cpu-%EC%82%AC%EC%9A%A9%EB%A5%A0%EC%9D%98-%EC%83%81%EA%B4%80%EA%B4%80%EA%B3%84" aria-label="3 디스크 용량 부족과 cpu 사용률의 상관관계 permalink" class="anchor-header before" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. 디스크 용량 부족과 CPU 사용률의 상관관계</h1>
<p>그런데 여기서 한 가지 의문이 들었습니다.<br>
디스크 용량이 부족해서 로그를 쓰지 못하는 것과 CPU 사용량은 무슨 상관이 있을까요?</p>
<p>이를 이해하려면 먼저 <em>systemd-journal</em> 과 <em>rsyslog</em> 의 관계를 이해해야 합니다.</p>
<h2 id="31-systemd-journal과-rsyslog" style="position:relative;"><a href="#31-systemd-journal%EA%B3%BC-rsyslog" aria-label="31 systemd journal과 rsyslog permalink" class="anchor-header before" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3.1. systemd-journal과 rsyslog</h2>
<ul>
<li><a href="https://ubuntu.com/server/docs/reference/glossary/#term-journald" target="_blank" rel="noopener noreferrer">systemd-journal</a>
<ul>
<li>systemd 서비스, 커널 메시지, 시스템 로그, 애플리케이션 로그 같이 다양한 종류의 로그 메시지를 바이너리 형태로 수집하고 저장하는 서비스입니다.</li>
</ul>
</li>
<li><a href="https://www.rsyslog.com/doc/" target="_blank" rel="noopener noreferrer">rsyslog</a>
<ul>
<li>기존 syslog에서 발전된 로깅 프레임워크입니다.</li>
<li>Linux 시스템에서 로깅 데몬으로 널리 사용되고 있습니다.</li>
</ul>
</li>
</ul>
<h2 id="32-두-시스템의-상호-관계" style="position:relative;"><a href="#32-%EB%91%90-%EC%8B%9C%EC%8A%A4%ED%85%9C%EC%9D%98-%EC%83%81%ED%98%B8-%EA%B4%80%EA%B3%84" aria-label="32 두 시스템의 상호 관계 permalink" class="anchor-header before" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3.2. 두 시스템의 상호 관계</h2>
<p>systemd-journal 공식 문서<sup id="fnref-4"><a href="#fn-4" class="footnote-ref" target="_blank" rel="noopener noreferrer">4</a></sup> 중에는 다음과 같은 설명이 있습니다.</p>
<p>"<em>journal 데몬이 수신한 로그 메시지를 syslog 데몬, 커널 로그 버퍼, 시스템 콘솔, 로그인한 모든 사용자에게 wall 메시지로 전송하거나 소켓을 통해 전송할지 여부를 제어할 수 있습니다.</em>"</p>
<p>그리고 Ask Ubuntu에 'Relationship of rsyslog and journald on Ubuntu 16.04' 라는 제목의 글<sup id="fnref-5"><a href="#fn-5" class="footnote-ref" target="_blank" rel="noopener noreferrer">5</a></sup>에서 좀 더 명확한 힌트를 얻을 수 있었는데요.</p>
<p>"_Ubuntu 16.04의 기본 설정에서 journald는 로그를 수집하는 역할을 하며, rsyslog는 기존의 텍스트 기반의 로그 관리 체계를 유지하고 복잡한 로그 처리를 지원하기 위해 공존하는데요. 로그가 두 곳 모두에 남는 이유는 rsyslog가 imuxsock 모듈을 사용하여 로컬 소켓을 통해 journald의 로그 메시지를 직접 수신하기 때문입니다. 즉, journald와 rsyslog가 동일한 로그 소스를 각자의 방식으로 동시에 수집하고 있기 때문에 데이터가 중복되어 기록되는 현상이 발생한다. _"</p>
<p>정리를 해보자면, "<strong>journald는 로그 수집 시스템이고 rsyslog는 로그 파일을 관리할 수 있도록 하는 시스템이며, Ubuntu 시스템에서 두 시스템이 함께 사용된다. 이때 journald가 다양한 형태의 로그를 수집하고, rsyslog는 journald가 전달한 로그 메시지를 소켓으로 받아 텍스트 로그 파일로 기록한다.</strong>" 가 되겠네요.</p>
<h2 id="33-cpu-사용률과의-상관관계에-대해" style="position:relative;"><a href="#33-cpu-%EC%82%AC%EC%9A%A9%EB%A5%A0%EA%B3%BC%EC%9D%98-%EC%83%81%EA%B4%80%EA%B4%80%EA%B3%84%EC%97%90-%EB%8C%80%ED%95%B4" aria-label="33 cpu 사용률과의 상관관계에 대해 permalink" class="anchor-header before" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3.3. CPU 사용률과의 상관관계에 대해</h2>
<p>자, 그럼 다시 돌아와서 CPU 사용률과의 상관관계는 어떻게 될까요?</p>
<p>위에서 로그가 기록되는 과정을 천천히 살펴보면 다음과 같습니다.</p>
<ol>
<li>journald에서 로그를 수집하고, 이를 기록한다.</li>
<li>rsyslog는 journald에서 수집된 로그를 수신하여 텍스트 파일로 저장한다.</li>
<li>이때 디스크 부족으로 쓰기 실패 오류가 발생한다.</li>
<li>이렇게 발생한 에러를 journald가 다시 수집한다.</li>
<li>위 과정이 무한 루프에 빠진다..!</li>
</ol>
<p>이제야 감이 오는 것 같습니다.<br>
<strong>디스크 부족으로 로그 쓰기가 반복 실패했고, 이 실패 로그가 다시 수집·기록되면서 로깅 경로에 부하가 누적돼 CPU 사용률이 92%까지 상승했던 것</strong>입니다.</p>
<hr>
<h1 id="4-해결" style="position:relative;"><a href="#4-%ED%95%B4%EA%B2%B0" aria-label="4 해결 permalink" class="anchor-header before" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. 해결</h1>
<p>그러면 이 문제를 어떻게 해결할 수 있을까요?</p>
<h2 id="41-표면적인-방법" style="position:relative;"><a href="#41-%ED%91%9C%EB%A9%B4%EC%A0%81%EC%9D%B8-%EB%B0%A9%EB%B2%95" aria-label="41 표면적인 방법 permalink" class="anchor-header before" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4.1. 표면적인 방법</h2>
<p>일단 당장 추가 과금이 발생하지 않도록 가장 직관적인 방법을 사용했는데요.</p>
<h3 id="411-디스크에-여유-공간-확보하기" style="position:relative;"><a href="#411-%EB%94%94%EC%8A%A4%ED%81%AC%EC%97%90-%EC%97%AC%EC%9C%A0-%EA%B3%B5%EA%B0%84-%ED%99%95%EB%B3%B4%ED%95%98%EA%B8%B0" aria-label="411 디스크에 여유 공간 확보하기 permalink" class="anchor-header before" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4.1.1. 디스크에 여유 공간 확보하기</h3>
<p>가장 먼저 불필요한 파일, 특히 로그 파일을 대거 삭제하여 디스크에 여유 공간을 확보했습니다.</p>
<p>하지만 이는 시간이 지남에 따라 재발할 것입니다. 좀 더 근원적인 해결 방안이 필요합니다.</p>
<h3 id="412-ec2-인스턴스의-크레딧-사양-변경" style="position:relative;"><a href="#412-ec2-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4%EC%9D%98-%ED%81%AC%EB%A0%88%EB%94%A7-%EC%82%AC%EC%96%91-%EB%B3%80%EA%B2%BD" aria-label="412 ec2 인스턴스의 크레딧 사양 변경 permalink" class="anchor-header before" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4.1.2. EC2 인스턴스의 크레딧 사양 변경</h3>
<p>T4g 기준으로 크레딧 사양의 기본값은 unlimited 입니다. 이는 잉여 크레딧을 소비하여 기준치 이상으로 버스트할 수 있는 설정입니다.<br>
해당 설정을 꺼주었습니다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a class="gatsby-resp-image-link"
    href="/static/f3a339bfbff71c9db516024bc30a1eeb/84f4d/modify-credit-mode.png"
    style="display: block"
    target="_blank"
    rel="noopener noreferrer"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 56.9620253164557%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABuklEQVR42o2SaW7bMBCFdctep1fpQXqCAq3T1nYTy4ntaLNWSlxFUX4dkk77K0AIfHgzI4p8QzIZBobNwwO2uz2+/9ggPT7DOYdlWd7Fubv+yx2U0uj6HokxBhPn4FxACAEpJQTlUoqAEJyQ4VuA5k3TRPN5UF/jHsqV1kh8kKZHvJzOOKQpsrxAeo4cTgWOpMPQo+06dF3Upmlwvdao6wY9uWraFi1hzIxEk0M/kTEWdvNFZVfIeQ2qiY8Oay0Sv4h3lhdlbJdyRSqpVaUkRtrIH4f/5pWNI0Zq1eNbnSYej4xiby5hXCGrWipoTHImzF1ncEXIiDb+Ahy5WALOrVjoMuziQt3ns3fYjhKv1RU9OSm7EVU/omhZUE89TKgZuSGHt3XG6kzAx7f1TWPdGLoUa+nm2CPqcodruUeVb9FUf9DWT8gvP0NeZr9RU60s9sQOZb5DdvkVtMi2OL1swLoDZjPSs9EjrM7oh0fw8QIt84jK6RxfQ6xIDeX/KUL9LVaqomOooWktcjjDWUWPVBMqYu+8F99zO4sIO0M3TzBiQOLWjz+Lt3G7RZ24hBYM7OtnPH/5hDn/hr+evEshBqlmIQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Credit 사양 변경"
        title=""
        src="/static/f3a339bfbff71c9db516024bc30a1eeb/f058b/modify-credit-mode.png"
        srcset="/static/f3a339bfbff71c9db516024bc30a1eeb/c26ae/modify-credit-mode.png 158w,
/static/f3a339bfbff71c9db516024bc30a1eeb/6bdcf/modify-credit-mode.png 315w,
/static/f3a339bfbff71c9db516024bc30a1eeb/f058b/modify-credit-mode.png 630w,
/static/f3a339bfbff71c9db516024bc30a1eeb/40601/modify-credit-mode.png 945w,
/static/f3a339bfbff71c9db516024bc30a1eeb/84f4d/modify-credit-mode.png 1208w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h2 id="42-근본적인-방법" style="position:relative;"><a href="#42-%EA%B7%BC%EB%B3%B8%EC%A0%81%EC%9D%B8-%EB%B0%A9%EB%B2%95" aria-label="42 근본적인 방법 permalink" class="anchor-header before" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4.2. 근본적인 방법</h2>
<p>이제 로그가 과도하게 쌓이지 않도록 설정하여 재발하지 않도록 설정해야 합니다.</p>
<h3 id="421-시스템-로그-정책-강화" style="position:relative;"><a href="#421-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EB%A1%9C%EA%B7%B8-%EC%A0%95%EC%B1%85-%EA%B0%95%ED%99%94" aria-label="421 시스템 로그 정책 강화 permalink" class="anchor-header before" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4.2.1. 시스템 로그 정책 강화</h3>
<p>첫 번째로 <a href="https://github.com/logrotate/logrotate" target="_blank" rel="noopener noreferrer">logrotate</a> 유틸리티를 사용하여 시스템 로그가 과도하게 쌓이지 않도록 정책을 설정했습니다.</p>
<blockquote>
<p>logrotate란?<br>
logrotate는 시스템의 로그 파일을 간단하게 관리할 수 있도록 도와주는 툴입니다.<br>
사용자가 정한 주기(시간, 일, 주, 월) 마다 쌓인 로그를 아카이브하고, 아카이브된 파일의 갯수가 사용자가 정한 최대 갯수보다 많아지면, 가장 오래된 순서로 아카이브된 로그 파일을 삭제해주는 기능을 제공합니다.</p>
</blockquote>
<p>오픈 인프라 엔지니어 그룹의 'logrotate를 활용하여 로그 관리하기' 라는 제목의 글<sup id="fnref-6"><a href="#fn-6" class="footnote-ref" target="_blank" rel="noopener noreferrer">6</a></sup>을 통해 구체적인 사용법을 확인할 수 있었고, AI의 도움을 받아 아래와 같이 설정했습니다.</p>
<div class="gatsby-highlight" data-language="conf"><pre class="language-conf"><code class="language-conf">/var/log/syslog
/var/log/auth.log
{
    daily
    rotate 14
    compress
    delaycompress
    missingok
    notifempty
    create 0640 syslog adm
    postrotate
      systemctl kill -s HUP rsyslog.service &gt;/dev/null 2&gt;&amp;1 || true
    endscript
}</code></pre></div>
<ul>
<li>파일 경로: <code class="language-text">/etc/logrotate.d/rsyslog</code></li>
<li><code class="language-text">daily</code>: 매일 로그 회전</li>
<li><code class="language-text">rotate 14</code>: 최대 14개의 아카이브 유지(약 2주)</li>
<li><code class="language-text">compress</code>: 회전된 로그 압축</li>
<li><code class="language-text">delaycompress</code>: 직전 회전본은 다음 회전 때 압축</li>
<li><code class="language-text">missingok</code>: 대상 로그가 없어도 오류 없이 진행</li>
<li><code class="language-text">notifempty</code>: 빈 로그 파일은 회전하지 않음</li>
<li><code class="language-text">create 0640 syslog adm</code>: 새 로그 파일 권한/소유자 지정</li>
<li><code class="language-text">postrotate ... HUP rsyslog</code>: 회전 후 rsyslog가 새 파일을 다시 열도록 신호 전송</li>
</ul>
<div class="gatsby-highlight" data-language="conf"><pre class="language-conf"><code class="language-conf">[Journal]
SystemMaxUse=500M
SystemKeepFree=1G
RuntimeMaxUse=200M
MaxRetentionSec=14day</code></pre></div>
<ul>
<li>파일 경로: <code class="language-text">/etc/systemd/journald.conf</code></li>
<li><code class="language-text">SystemMaxUse=500M</code>: <code class="language-text">/var/log/journal</code> 총 사용량 상한</li>
<li><code class="language-text">SystemKeepFree=1G</code>: 디스크 여유 공간 최소 1GB 확보</li>
<li><code class="language-text">RuntimeMaxUse=200M</code>: <code class="language-text">/run/log/journal</code> 사용량 상한</li>
<li><code class="language-text">MaxRetentionSec=14day</code>: 로그 보관 기간 상한</li>
</ul>
<h3 id="422-docker-컨테이너-로그-제한-설정" style="position:relative;"><a href="#422-docker-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88-%EB%A1%9C%EA%B7%B8-%EC%A0%9C%ED%95%9C-%EC%84%A4%EC%A0%95" aria-label="422 docker 컨테이너 로그 제한 설정 permalink" class="anchor-header before" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4.2.2. Docker 컨테이너 로그 제한 설정</h3>
<p>다음으로는 Docker 컨테이너 로그는 <em>json-file</em> 에 용량과 개수 상한을 부여했습니다. <sup id="fnref-7"><a href="#fn-7" class="footnote-ref" target="_blank" rel="noopener noreferrer">7</a></sup><br>
각 로그 파일의 크기 상한은 10MB, 개수는 5개로 설정했습니다.</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
    <span class="token property">"log-driver"</span><span class="token operator">:</span> <span class="token string">"json-file"</span><span class="token punctuation">,</span>
    <span class="token property">"log-opts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"max-size"</span><span class="token operator">:</span> <span class="token string">"10m"</span><span class="token punctuation">,</span>
        <span class="token property">"max-file"</span><span class="token operator">:</span> <span class="token string">"5"</span><span class="token punctuation">,</span>
        <span class="token property">"compress"</span><span class="token operator">:</span> <span class="token string">"true"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<ul>
<li>파일 경로: <code class="language-text">/etc/docker/daemon.json</code></li>
<li><code class="language-text">max-size=10m</code>: 로그 파일 1개 최대 10MB</li>
<li><code class="language-text">max-file=5</code>: 최대 5개 파일 보관</li>
<li><code class="language-text">compress=true</code>: 회전 로그 압축</li>
<li>총 보관 상한(압축 전 기준): 컨테이너당 약 50MB</li>
</ul>
<hr>
<h1 id="5-결과" style="position:relative;"><a href="#5-%EA%B2%B0%EA%B3%BC" aria-label="5 결과 permalink" class="anchor-header before" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5. 결과</h1>
<p>그 결과 아래 사진에서 볼 수 있듯이 CPU 사용률은 다시 정상화가 되었습니다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a class="gatsby-resp-image-link"
    href="/static/32ba366033bfffde3c5fd2502c082830/37f8f/stable-cpu-usage.png"
    style="display: block"
    target="_blank"
    rel="noopener noreferrer"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 41.77215189873418%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAzklEQVR42q1SyxLCIAzk//+s9ubosV/go1KBFgKspNKWWnU8mJkdNjvJ8ghCSom2vYGIPmIYBqi7gunTqntobWZ0SVdKJ65hTA8RQsA/Q1hrYZ0H+QgKGX6Bn7Vl4xi3RjGLwns/FoxARsRGcxRmI8v8xWxl+EuEfNKQGtmc87eG/Ial8C3YiK/OlfwcU9/6hGmKU8JruUHJY+KO0luTH3M2DrmPtedNIwSPvap2aJoGPKDpq3BByZ1zy1dK3DrC/nBEXde4XFuczhfITuEBSe12zAjUKAIAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="정상화된 CPU 사용률"
        title=""
        src="/static/32ba366033bfffde3c5fd2502c082830/f058b/stable-cpu-usage.png"
        srcset="/static/32ba366033bfffde3c5fd2502c082830/c26ae/stable-cpu-usage.png 158w,
/static/32ba366033bfffde3c5fd2502c082830/6bdcf/stable-cpu-usage.png 315w,
/static/32ba366033bfffde3c5fd2502c082830/f058b/stable-cpu-usage.png 630w,
/static/32ba366033bfffde3c5fd2502c082830/40601/stable-cpu-usage.png 945w,
/static/32ba366033bfffde3c5fd2502c082830/78612/stable-cpu-usage.png 1260w,
/static/32ba366033bfffde3c5fd2502c082830/37f8f/stable-cpu-usage.png 3056w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>그리고 디스크 용량이 가득차는 문제가 다시는 발생하지 않았습니다.</p>
<hr>
<h1 id="6-마치며" style="position:relative;"><a href="#6-%EB%A7%88%EC%B9%98%EB%A9%B0" aria-label="6 마치며 permalink" class="anchor-header before" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6. 마치며</h1>
<p>지금까지 Ubuntu 시스템에서 디스크 용량이 부족하여 CPU 사용량이 급격히 치솟았던 문제를 분석하고 이를 해결하는 과정에 대해 기록해봤습니다.</p>
<p>Ubuntu의 Logging과 관련된 공식 문서를 찾기 어려웠지만, 이 문제를 해결하면서 Ubuntu 시스템의 기본 로깅 설정과 관련된 툴에 대해 이해할 수 있었던 시간이었습니다.</p>
<p>모니터링 대시보드를 구축했지만 임계치를 설정하고 알람 설정을 했으면 더 적은 비용을 치뤘을텐데 하는 아쉬움이 있습니다.</p>
<div class="footnotes">
<hr>
<ol>
<li id="fn-1"><a href="https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/burstable-credits-baseline-concepts.html#key-concepts" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/burstable-credits-baseline-concepts.html#key-concepts</a><a href="#fnref-1" class="footnote-backref" target="_blank" rel="noopener noreferrer">↩</a></li>
<li id="fn-2"><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/burstable-performance-instances.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/burstable-performance-instances.html</a><a href="#fnref-2" class="footnote-backref" target="_blank" rel="noopener noreferrer">↩</a></li>
<li id="fn-3"><a href="https://askubuntu.com/questions/234038/what-is-syslog-and-how-can-i-tackle-problems-by-using-it?st_source=ai_mode" target="_blank" rel="noopener noreferrer">https://askubuntu.com/questions/234038/what-is-syslog-and-how-can-i-tackle-problems-by-using-it?st_source=ai_mode</a><a href="#fnref-3" class="footnote-backref" target="_blank" rel="noopener noreferrer">↩</a></li>
<li id="fn-4"><a href="https://www.freedesktop.org/software/systemd/man/latest/journald.conf.html#ForwardToSyslog=" target="_blank" rel="noopener noreferrer">https://www.freedesktop.org/software/systemd/man/latest/journald.conf.html#ForwardToSyslog=</a><a href="#fnref-4" class="footnote-backref" target="_blank" rel="noopener noreferrer">↩</a></li>
<li id="fn-5"><a href="https://askubuntu.com/questions/925440/relationship-of-rsyslog-and-journald-on-ubuntu-16-04" target="_blank" rel="noopener noreferrer">https://askubuntu.com/questions/925440/relationship-of-rsyslog-and-journald-on-ubuntu-16-04</a><a href="#fnref-5" class="footnote-backref" target="_blank" rel="noopener noreferrer">↩</a></li>
<li id="fn-6"><a href="https://blog.o3g.org/server/logrotate%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%98%EC%97%AC-%EB%A1%9C%EA%B7%B8-%EA%B4%80%EB%A6%AC%ED%95%98%EA%B8%B0/" target="_blank" rel="noopener noreferrer">https://blog.o3g.org/server/logrotate%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%98%EC%97%AC-%EB%A1%9C%EA%B7%B8-%EA%B4%80%EB%A6%AC%ED%95%98%EA%B8%B0/</a><a href="#fnref-6" class="footnote-backref" target="_blank" rel="noopener noreferrer">↩</a></li>
<li id="fn-7"><a href="https://docs.docker.com/engine/logging/configure/" target="_blank" rel="noopener noreferrer">https://docs.docker.com/engine/logging/configure/</a><a href="#fnref-7" class="footnote-backref" target="_blank" rel="noopener noreferrer">↩</a></li>
</ol>
</div></section><hr class="blog-post-module--postDivider--aa8ca"/></article><nav class="blog-post-module--blogPostNav--d05de"><ul><li><a rel="이전 글" href="/인프라/React-앱-배포-방식을-EC2에서-S3와-CloudFront로-변경한-이유/">React 배포 방식을 EC2에서 S3와 CloudFront로 변경한 이유</a></li><li></li></ul></nav></div><button type="button" class="toc-module--mobileTocButton--56883" aria-haspopup="dialog" aria-expanded="false" aria-controls="mobile-toc-sheet">목차</button><button type="button" class="toc-module--mobileTocBackdrop--a19ba " aria-label="목차 닫기"></button><aside id="mobile-toc-sheet" class="toc-module--tocContainer--ffa0b "><div class="toc-module--tocHeader--b1f84"><h3 class="toc-module--tocTitle--0befc">목차</h3><button type="button" class="toc-module--mobileCloseButton--e0810" aria-label="목차 닫기">닫기</button></div><div class="toc-module--tocProgress--b5e48" aria-hidden="true"><span class="toc-module--tocProgressFill--48e0b" style="width:0%"></span></div><div class="toc-module--tocContent--d6318"><ul>
<li>
<p><a href="#1-%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0">1. 들어가며</a></p>
</li>
<li>
<p><a href="#2-%EC%9B%90%EC%9D%B8-%EB%B6%84%EC%84%9D">2. 원인 분석</a></p>
<ul>
<li><a href="#21-aws-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81-%EC%A7%80%ED%91%9C-%ED%8C%8C%EC%95%85">2.1. AWS 모니터링 지표 파악</a></li>
<li><a href="#22-%EA%B7%B8%EB%9D%BC%ED%8C%8C%EB%82%98-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81-%EC%A7%80%ED%91%9C-%ED%8C%8C%EC%95%85">2.2. 그라파나 모니터링 지표 파악</a></li>
<li><a href="#23-syslog-%ED%99%95%EC%9D%B8">2.3. syslog 확인</a></li>
</ul>
</li>
<li>
<p><a href="#3-%EB%94%94%EC%8A%A4%ED%81%AC-%EC%9A%A9%EB%9F%89-%EB%B6%80%EC%A1%B1%EA%B3%BC-cpu-%EC%82%AC%EC%9A%A9%EB%A5%A0%EC%9D%98-%EC%83%81%EA%B4%80%EA%B4%80%EA%B3%84">3. 디스크 용량 부족과 CPU 사용률의 상관관계</a></p>
<ul>
<li><a href="#31-systemd-journal%EA%B3%BC-rsyslog">3.1. systemd-journal과 rsyslog</a></li>
<li><a href="#32-%EB%91%90-%EC%8B%9C%EC%8A%A4%ED%85%9C%EC%9D%98-%EC%83%81%ED%98%B8-%EA%B4%80%EA%B3%84">3.2. 두 시스템의 상호 관계</a></li>
<li><a href="#33-cpu-%EC%82%AC%EC%9A%A9%EB%A5%A0%EA%B3%BC%EC%9D%98-%EC%83%81%EA%B4%80%EA%B4%80%EA%B3%84%EC%97%90-%EB%8C%80%ED%95%B4">3.3. CPU 사용률과의 상관관계에 대해</a></li>
</ul>
</li>
<li>
<p><a href="#4-%ED%95%B4%EA%B2%B0">4. 해결</a></p>
<ul>
<li>
<p><a href="#41-%ED%91%9C%EB%A9%B4%EC%A0%81%EC%9D%B8-%EB%B0%A9%EB%B2%95">4.1. 표면적인 방법</a></p>
<ul>
<li><a href="#411-%EB%94%94%EC%8A%A4%ED%81%AC%EC%97%90-%EC%97%AC%EC%9C%A0-%EA%B3%B5%EA%B0%84-%ED%99%95%EB%B3%B4%ED%95%98%EA%B8%B0">4.1.1. 디스크에 여유 공간 확보하기</a></li>
<li><a href="#412-ec2-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4%EC%9D%98-%ED%81%AC%EB%A0%88%EB%94%A7-%EC%82%AC%EC%96%91-%EB%B3%80%EA%B2%BD">4.1.2. EC2 인스턴스의 크레딧 사양 변경</a></li>
</ul>
</li>
<li>
<p><a href="#42-%EA%B7%BC%EB%B3%B8%EC%A0%81%EC%9D%B8-%EB%B0%A9%EB%B2%95">4.2. 근본적인 방법</a></p>
<ul>
<li><a href="#421-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EB%A1%9C%EA%B7%B8-%EC%A0%95%EC%B1%85-%EA%B0%95%ED%99%94">4.2.1. 시스템 로그 정책 강화</a></li>
<li><a href="#422-docker-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88-%EB%A1%9C%EA%B7%B8-%EC%A0%9C%ED%95%9C-%EC%84%A4%EC%A0%95">4.2.2. Docker 컨테이너 로그 제한 설정</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#5-%EA%B2%B0%EA%B3%BC">5. 결과</a></p>
</li>
<li>
<p><a href="#6-%EB%A7%88%EC%B9%98%EB%A9%B0">6. 마치며</a></p>
</li>
</ul></div></aside></div></main></div><footer class="layout-module--siteFooter--80c5d">© <!-- -->2026<!-- --> kdkdhoho. Built with<!-- --> <a href="https://www.gatsbyjs.com" class="layout-module--siteFooterLink--72b70">Gatsby</a></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/Linux/cpu-사용량-급증-트러블슈팅/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-ef5240fc2250332ba7f6.js\"],\"component---src-pages-404-js\":[\"/component---src-pages-404-js-a1ef27b8352d226711c9.js\"],\"component---src-pages-index-js\":[\"/component---src-pages-index-js-f907cfedb12ffdd0451c.js\"],\"component---src-pages-search-js\":[\"/component---src-pages-search-js-e7b3e2bf72b1d88e468f.js\"],\"component---src-templates-blog-post-js\":[\"/component---src-templates-blog-post-js-bd2a4e098b68a5d0b451.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="dc99361e8edd7dd74a1f";</script><script src="/webpack-runtime-a5b5a0ec15bf483cc4a1.js" async></script><script src="/framework-647153102893cffe9a5c.js" async></script><script src="/app-ef5240fc2250332ba7f6.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>