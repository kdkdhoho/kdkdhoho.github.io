(self.webpackChunkgatsby_starter_blog=self.webpackChunkgatsby_starter_blog||[]).push([[55],{1351:function(e,t,a){"use strict";a.r(t),a.d(t,{Head:function(){return m}});var n=a(4506),r=a(6540),l=a(4794),s=a(6462),o=a(9967),c=a(7528),i=a(1396);const m=e=>{let{location:t}=e;const a=new URLSearchParams(t.search).get("q")||"";return r.createElement(c.A,{title:a?`'${a}' 검색 결과`:"포스트 검색",description:a?`'${a}'에 대한 검색 결과`:"블로그 포스트를 검색하세요"})};t.default=e=>{let{data:t}=e;const a=(0,s.useLocation)(),[c,m]=r.useState(""),[u,d]=r.useState([]),[h,p]=r.useState("date"),g=t.allMarkdownRemark.nodes,v=i.siteMetadata.title||"Title";r.useEffect(()=>{const e=new URLSearchParams(a.search).get("q")||"";if(m(e),e.length>=2){const t=g.filter(t=>{var a,n,r,l;const s=(null===(a=t.frontmatter.title)||void 0===a?void 0:a.toLowerCase())||"",o=(null===(n=t.frontmatter.description)||void 0===n?void 0:n.toLowerCase())||"",c=(null===(r=t.excerpt)||void 0===r?void 0:r.toLowerCase())||"",i=(null===(l=t.frontmatter.tags)||void 0===l?void 0:l.join(" ").toLowerCase())||"",m=e.toLowerCase();return s.includes(m)||o.includes(m)||c.includes(m)||i.includes(m)});d(t)}else d([])},[a.search,g]);const E=()=>{c.trim().length>=2?(0,l.navigate)(`/search?q=${encodeURIComponent(c.trim())}`,{replace:!0}):(0,l.navigate)("/search",{replace:!0})},f=(e,t)=>{if(!t||!e)return e;const a=new RegExp(`(${t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return e.replace(a,"<mark>$1</mark>")};return r.createElement(o.A,{location:a,title:v},r.createElement("div",{className:"search-page"},r.createElement("div",{className:"search-page-header"},r.createElement("h1",null,"검색 결과"),r.createElement("div",{className:"search-page-input-container"},r.createElement("input",{type:"text",placeholder:"검색어를 입력하세요...",value:c,onChange:e=>{m(e.target.value)},onKeyPress:e=>{"Enter"===e.key&&E()},className:"search-page-input",autoFocus:!0}),r.createElement("button",{onClick:E,className:"search-page-button"},"검색"))),r.createElement("div",{className:"search-page-results"},c.length>=2?r.createElement(r.Fragment,null,r.createElement("div",{className:"search-results-header-section"},r.createElement("h2",{className:"search-results-title"},"'",c,"' 검색 결과 (",u.length,"개)"),u.length>0&&r.createElement("div",{className:"search-sort-container"},r.createElement("label",{htmlFor:"sort-select"},"정렬:"),r.createElement("select",{id:"sort-select",value:h,onChange:e=>p(e.target.value),className:"search-sort-select"},r.createElement("option",{value:"date"},"최신순"),r.createElement("option",{value:"title"},"제목순"),r.createElement("option",{value:"relevance"},"관련도순")))),u.length>0?r.createElement("div",{className:"posts-grid"},((e,t)=>{switch(t){case"title":return(0,n.A)(e).sort((e,t)=>e.frontmatter.title.localeCompare(t.frontmatter.title));case"date":return(0,n.A)(e).sort((e,t)=>new Date(t.frontmatter.date)-new Date(e.frontmatter.date));case"relevance":return(0,n.A)(e).sort((e,t)=>{var a,n;const r=(null===(a=e.frontmatter.title)||void 0===a?void 0:a.toLowerCase())||"",l=(null===(n=t.frontmatter.title)||void 0===n?void 0:n.toLowerCase())||"",s=c.toLowerCase(),o=r.includes(s)?1:0;return(l.includes(s)?1:0)-o});default:return e}})(u,h).map(e=>{const t=e.frontmatter.title||e.fields.slug;return r.createElement("article",{key:e.fields.slug,className:"post-list-item",itemScope:!0,itemType:"http://schema.org/Article"},r.createElement("header",null,r.createElement("h2",null,r.createElement(l.Link,{to:e.fields.slug,itemProp:"url"},r.createElement("span",{itemProp:"headline",dangerouslySetInnerHTML:{__html:f(t,c)}}))),r.createElement("small",null,e.frontmatter.date)),r.createElement("section",null,e.frontmatter.description&&r.createElement("p",{dangerouslySetInnerHTML:{__html:f(e.frontmatter.description,c)},itemProp:"description"}),e.frontmatter.tags&&r.createElement("div",{className:"post-tags"},e.frontmatter.tags.map(e=>r.createElement("span",{key:e,className:"post-tag"},"#",e)))))})):r.createElement("div",{className:"search-no-results-page"},r.createElement("span",null,"😔"),r.createElement("h3",null,"검색 결과가 없습니다"),r.createElement("p",null,"'",c,"'에 대한 검색 결과를 찾을 수 없습니다."),r.createElement("ul",null,r.createElement("li",null,"검색어의 철자가 정확한지 확인해보세요"),r.createElement("li",null,"다른 키워드로 검색해보세요"),r.createElement("li",null,"더 일반적인 검색어를 사용해보세요")))):r.createElement("div",{className:"search-page-placeholder"},r.createElement("span",null,"🔍"),r.createElement("h3",null,"검색어를 입력해주세요"),r.createElement("p",null,"제목, 설명, 내용, 태그에서 검색합니다."),r.createElement("p",null,"최소 2글자 이상 입력해주세요.")))))}},1396:function(e){e.exports={pathPrefix:"/",siteMetadata:{title:"내가 재밌는 일을 하자 !",author:{name:"Kim DongHo"},description:"내가 좋아하고 재밌는 일을 기록하자"},plugins:["gatsby-plugin-image",{resolve:"gatsby-source-filesystem",options:{path:"//content/blog",name:"blog"}},{resolve:"gatsby-source-filesystem",options:{name:"images",path:"//src/images"}},{resolve:"gatsby-transformer-remark",options:{tableOfContents:{heading:null,maxDepth:4},plugins:[{resolve:"gatsby-remark-images",options:{maxWidth:630}},{resolve:"gatsby-remark-responsive-iframe",options:{wrapperStyle:"margin-bottom: 1.0725rem"}},{resolve:"gatsby-remark-autolink-headers",options:{offsetY:"100",icon:'<svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>',className:"anchor-header",maintainCase:!1,removeAccents:!0,isIconAfterHeader:!1,elements:["h1","h2","h3","h4","h5","h6"]}},"gatsby-remark-prismjs"]}},"gatsby-transformer-sharp","gatsby-plugin-sharp",{resolve:"gatsby-plugin-feed",options:{query:"\n          {\n            site {\n              siteMetadata {\n                title\n                description\n                siteUrl\n                site_url: siteUrl\n              }\n            }\n          }\n        ",feeds:[{serialize:e=>{let{query:{site:t,allMarkdownRemark:a}}=e;return a.nodes.map(e=>Object.assign({},e.frontmatter,{description:e.excerpt,date:e.frontmatter.date,url:t.siteMetadata.siteUrl+e.fields.slug,guid:t.siteMetadata.siteUrl+e.fields.slug,custom_elements:[{"content:encoded":e.html}]}))},query:'{\n              allMarkdownRemark(sort: {frontmatter: {date: DESC}}) {\n                nodes {\n                  excerpt\n                  html\n                  fields {\n                    slug\n                  }\n                  frontmatter {\n                    title\n                    date(formatString: "YYYY년 M월 D일")\n                  }\n                }\n              }\n            }',output:"/rss.xml",title:"Gatsby Starter Blog RSS Feed"}]}},{resolve:"gatsby-plugin-manifest",options:{name:"Gatsby Starter Blog",short_name:"Gatsby",start_url:"/",background_color:"#ffffff",display:"minimal-ui",icon:"src/images/profile_img.jpeg"}}]}},7528:function(e,t,a){"use strict";var n=a(6540),r=a(4794);t.A=e=>{var t,a,l;let{description:s,title:o,children:c}=e;const{site:i}=(0,r.useStaticQuery)("2841359383"),m=s||i.siteMetadata.description,u=null===(t=i.siteMetadata)||void 0===t?void 0:t.title;return n.createElement(n.Fragment,null,n.createElement("title",null,u?`${o} | ${u}`:o),n.createElement("meta",{name:"description",content:m}),n.createElement("meta",{property:"og:title",content:o}),n.createElement("meta",{property:"og:description",content:m}),n.createElement("meta",{property:"og:type",content:"website"}),n.createElement("meta",{name:"twitter:card",content:"summary"}),n.createElement("meta",{name:"twitter:creator",content:(null===(a=i.siteMetadata)||void 0===a||null===(l=a.social)||void 0===l?void 0:l.twitter)||""}),n.createElement("meta",{name:"twitter:title",content:o}),n.createElement("meta",{name:"twitter:description",content:m}),c)}},9967:function(e,t,a){"use strict";a.d(t,{A:function(){return o}});var n=a(6540),r=a(4794);var l=()=>{const{0:e,1:t}=(0,n.useState)("light");(0,n.useEffect)(()=>{const e=localStorage.getItem("theme"),a=window.matchMedia("(prefers-color-scheme: dark)").matches,n=e||(a?"dark":"light");t(n),document.documentElement.setAttribute("data-theme",n)},[]);return n.createElement("button",{onClick:()=>{const a="light"===e?"dark":"light";t(a),document.documentElement.setAttribute("data-theme",a),localStorage.setItem("theme",a)},className:"theme-toggle","aria-label":("light"===e?"다크":"라이트")+" 모드로 전환",title:("light"===e?"다크":"라이트")+" 모드로 전환"},n.createElement("span",{className:"theme-toggle-icon"},"light"===e?"🌙":"☀️"))};var s=()=>{const{0:e,1:t}=(0,n.useState)(!1),{0:a,1:l}=(0,n.useState)(""),{0:s,1:o}=(0,n.useState)([]),c=(0,n.useRef)(null),i=(0,n.useRef)(null),m=(0,r.useStaticQuery)("1475414628").allMarkdownRemark.nodes;(0,n.useEffect)(()=>{const a=e=>{c.current&&!c.current.contains(e.target)&&t(!1)},n=e=>{"Escape"===e.key&&(t(!1),l(""))};var r;e&&(document.addEventListener("mousedown",a),document.addEventListener("keydown",n),null===(r=i.current)||void 0===r||r.focus());return()=>{document.removeEventListener("mousedown",a),document.removeEventListener("keydown",n)}},[e]);const u=e=>{(0,r.navigate)(e),t(!1),l("")};return n.createElement("div",{className:"search-container",ref:c},n.createElement("button",{onClick:()=>{t(!e),e?(l(""),o([])):(o(m.slice(0,5)),setTimeout(()=>{var e;return null===(e=i.current)||void 0===e?void 0:e.focus()},100))},className:"search-toggle","aria-label":"검색",title:"검색"},"🔍"),e&&n.createElement("div",{className:"search-dropdown"},n.createElement("input",{ref:i,type:"text",placeholder:"포스트 검색... (엔터로 전체 검색)",value:a,onChange:e=>(e=>{if(l(e),e.length<2)return void o([]);const t=m.filter(t=>{var a,n,r,l;const s=(null===(a=t.frontmatter.title)||void 0===a?void 0:a.toLowerCase())||"",o=(null===(n=t.frontmatter.description)||void 0===n?void 0:n.toLowerCase())||"",c=(null===(r=t.excerpt)||void 0===r?void 0:r.toLowerCase())||"",i=(null===(l=t.frontmatter.tags)||void 0===l?void 0:l.join(" ").toLowerCase())||"",m=e.toLowerCase();return s.includes(m)||o.includes(m)||c.includes(m)||i.includes(m)});o(t.slice(0,5))})(e.target.value),onKeyPress:e=>{"Enter"===e.key&&a.trim().length>=2&&((0,r.navigate)(`/search?q=${encodeURIComponent(a.trim())}`),t(!1),l(""))},className:"search-input"}),0===a.length&&s.length>0&&n.createElement("div",{className:"search-results"},n.createElement("div",{className:"search-results-header"},n.createElement("span",null,"최근 포스트"),n.createElement("small",null,"최대 5개")),s.map(e=>n.createElement("div",{key:e.fields.slug,className:"search-result-item",onClick:()=>u(e.fields.slug)},n.createElement("h4",null,e.frontmatter.title),n.createElement("p",null,e.frontmatter.description||e.excerpt),n.createElement("small",null,e.frontmatter.date)))),a.length>=2&&s.length>0&&n.createElement("div",{className:"search-results"},n.createElement("div",{className:"search-results-header"},n.createElement("span",null,"검색 결과"),n.createElement("small",null,s.length,"개 / 최대 5개")),s.map(e=>n.createElement("div",{key:e.fields.slug,className:"search-result-item",onClick:()=>u(e.fields.slug)},n.createElement("h4",null,e.frontmatter.title),n.createElement("p",null,e.frontmatter.description||e.excerpt),n.createElement("small",null,e.frontmatter.date)))),a.length>=2&&0===s.length&&n.createElement("div",{className:"search-no-results"},n.createElement("span",null,"😔"),n.createElement("p",null,"검색 결과가 없습니다."),n.createElement("small",null,"다른 키워드로 검색해보세요."))))};var o=e=>{let{location:t,title:a,children:o}=e;const c="/"===t.pathname;let i;return i=c?n.createElement("h1",{className:"main-heading"},n.createElement(r.Link,{to:"/"},a)):n.createElement(r.Link,{className:"header-link-home",to:"/"},a),n.createElement("div",{className:"global-wrapper","data-is-root-path":c},n.createElement("div",{className:"top-buttons"},n.createElement(s,null),n.createElement(l,null)),n.createElement("header",{className:"global-header"},i),n.createElement("main",null,o),n.createElement("footer",{style:{textAlign:"center",padding:"var(--spacing-12) 0",marginTop:"var(--spacing-16)",borderTop:"1px solid var(--color-border)",color:"var(--color-text-light)",fontSize:"var(--fontSize-0)"}},"© ",(new Date).getFullYear()," kdkdhoho. Built with"," ",n.createElement("a",{href:"https://www.gatsbyjs.com",style:{color:"var(--color-primary)",textDecoration:"none",fontWeight:"500"}},"Gatsby")))}}}]);
//# sourceMappingURL=component---src-pages-search-js-c4751f05f6f25b584bbc.js.map