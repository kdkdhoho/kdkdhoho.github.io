{"componentChunkName":"component---src-templates-post-jsx","path":"/understanding-transaction-and-concurrency-problem/","result":{"data":{"site":{"siteMetadata":{"title":"log4dh"}},"markdownRemark":{"id":"81b7fb10-f532-5f48-a797-379c3bb99bee","excerpt":"ë“¤ì–´ê°€ë©° ì´ë²ˆ ê¸€ì—ì„œëŠ” DB ë ˆë²¨ì—ì„œ ë°œìƒí•˜ëŠ” ë™ì‹œì„± ë¬¸ì œë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ ë¨¼ì € íŠ¸ëœì­ì…˜ê³¼ íŠ¸ëœì­ì…˜ ê²©ë¦¬ìˆ˜ì¤€ì— ëŒ€í•´ì„œ ë³µìŠµ ê²¸ ì½”ë“œë¡œ ì‹¤ìŠµí•˜ëŠ” ì‹œê°„ì„ ê°€ì ¸ë³´ê² ìŠµë‹ˆë‹¤. DBMSëŠ” MySQL 8.0ì´ë©° InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ê¸°ì¤€ìœ¼ë¡œ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤. 1. ë™ì‹œì„± ë¬¸ì œ? 2ê°œ ì´ìƒì˜ ì‘ì—…ì´ ê³µìœ  ìì›ì— ì ‘ê·¼í•´ ê°’ì„ ë³€ê²½í•  ë•Œ ìƒê¸¸ ìˆ˜ ìˆëŠ” ë¬¸ì œì…ë‹ˆë‹¤. ì•„â€¦","html":"<h2>ë“¤ì–´ê°€ë©°</h2>\n<p>ì´ë²ˆ ê¸€ì—ì„œëŠ” DB ë ˆë²¨ì—ì„œ ë°œìƒí•˜ëŠ” ë™ì‹œì„± ë¬¸ì œë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ ë¨¼ì € íŠ¸ëœì­ì…˜ê³¼ íŠ¸ëœì­ì…˜ ê²©ë¦¬ìˆ˜ì¤€ì— ëŒ€í•´ì„œ ë³µìŠµ ê²¸ ì½”ë“œë¡œ ì‹¤ìŠµí•˜ëŠ” ì‹œê°„ì„ ê°€ì ¸ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<p>DBMSëŠ” MySQL 8.0ì´ë©° InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ê¸°ì¤€ìœ¼ë¡œ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.</p>\n<h2>1. ë™ì‹œì„± ë¬¸ì œ?</h2>\n<p>2ê°œ ì´ìƒì˜ ì‘ì—…ì´ <strong>ê³µìœ  ìì›</strong>ì— ì ‘ê·¼í•´ <strong>ê°’ì„ ë³€ê²½</strong>í•  ë•Œ ìƒê¸¸ ìˆ˜ ìˆëŠ” ë¬¸ì œì…ë‹ˆë‹¤.</p>\n<p>ì•„ë˜ëŠ” ë™ì‹œì„± ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆëŠ” ìƒí™© ì¤‘ í•œ ê°€ì§€ë¥¼ ê·¸ë ¤ë³¸ ê·¸ë¦¼ì…ë‹ˆë‹¤.\n<figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/8894371657c29b7d13bff3ed6af11160/00e88/concurrency-example.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 71.76470588235294%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABc0lEQVR42qWTPUsDQRCGx/vI3nkXY/wkeiZRU6hgdVVsrk1nJYJoo2AhWFpZXGFhQCwCNlZia2PnT7C28P+s7+Rm8XLERM3Ay8HOzrO7884RDcZUQb+JKtSAmtA6TRgetALVoTWoXdwwBy1LkjfZY4A+FEod33Q1n7RzsEi+FVl3fwByTkEBNA0tFJMMmIeWBF4VWHkEtOjBQBhYVU6zZJ1vUfoLqL8QZT3xBODngN4Y4EjXTLGfO9nccNg4zYopi2aBN6ongG6JNhh0gqdfY7Yu4OALNh5lLeCCTTnQkTqbOm+KDt59Ov4IDJB7FSaUONvtmwYlvWgXgDOcugczTqF6BqyIOeYVQd+onlZ0pwNKdWiAVq5X1Gp1lBTQkCf/K9xJga65/iUKu9lQBzKXzgPawf1M0Pxn9LabPf27h6l2RB5kmZ+bZeMP97bi8xodvjapFvPkKx6lfcB2AOY87JyRoYe7sUv32qf0s0RXukyP2v0CYcAp8fQHhCEAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='ë™ì‹œì„± ë¬¸ì œ ì˜ˆì‹œ' title='' src='/static/8894371657c29b7d13bff3ed6af11160/ca1dc/concurrency-example.png' srcset='/static/8894371657c29b7d13bff3ed6af11160/e7570/concurrency-example.png 170w,\n/static/8894371657c29b7d13bff3ed6af11160/f46e7/concurrency-example.png 340w,\n/static/8894371657c29b7d13bff3ed6af11160/ca1dc/concurrency-example.png 680w,\n/static/8894371657c29b7d13bff3ed6af11160/02d09/concurrency-example.png 1020w,\n/static/8894371657c29b7d13bff3ed6af11160/9d567/concurrency-example.png 1360w,\n/static/8894371657c29b7d13bff3ed6af11160/00e88/concurrency-example.png 1399w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>ë™ì‹œì„± ë¬¸ì œ ì˜ˆì‹œ</figcaption>\n  </figure>\níŠ¸ëœì­ì…˜ A (TxA) ì˜ ê²½ìš° ìˆ˜ì •ì˜ ê²°ê³¼ê°€ <code class=\"language-text\">(1, 'poo')</code> ê°€ ë‚˜ì˜¤ê¸¸ ê¸°ëŒ€í–ˆê² ì§€ë§Œ, ë™ì‹œì— ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ê³¼ ë™ì‹œì— ì²˜ë¦¬ë˜ë‹¤ë³´ë‹ˆ ê¸°ëŒ€í–ˆë˜ ê²°ê³¼ì™€ ë‹¤ë¥¸ ê²°ê³¼ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</p>\n<p>ê¼­ ìœ„ì˜ ìƒí™©ì´ ì•„ë‹Œ ê°ê° íŠ¸ëœì­ì…˜ì˜ ì¡°íšŒ, ê°±ì‹ , ê·¸ë¦¬ê³  commit í˜¹ì€ rollback ì²˜ë¦¬ ìˆœì„œì— ë”°ë¼ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë™ì‹œì„± ë¬¸ì œëŠ” ìƒí™©ë§ˆë‹¤ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>íŠ¸ëœì­ì…˜ì˜ ìˆœì„œë¥¼ ë³´ì¥í•˜ê±°ë‚˜ LOCKê³¼ ê°™ì€ ê·œì¹™ì„ ì •í•´ë†“ì§€ ì•Šì€ ì´ìƒ, ê° íŠ¸ëœì­ì…˜ì˜ ì²˜ë¦¬ ìˆœì„œëŠ” ê°œë°œìê°€ ì œì–´í•  ìˆ˜ ì—†ëŠ” ì˜ì—­ì— ì†í•©ë‹ˆë‹¤.<br>\në”°ë¼ì„œ ì¤‘ìš”í•œ ê²ƒì€ <strong>ë™ì‹œì„± ë¬¸ì œê°€ ë°œìƒí•œ ìƒí™©ì„ íŒŒì•…</strong>í•˜ê³  ì´ë¥¼ í•´ê²°í•˜ëŠ” ê²ƒì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤.<br></p>\n<p>DB ë ˆë²¨ì—ì„œ ë°œìƒí•˜ëŠ” ë™ì‹œì„± ë¬¸ì œë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ì„œëŠ” <em>íŠ¸ëœì­ì…˜</em> ê³¼ <em>íŠ¸ëœì­ì…˜ ê²©ë¦¬ìˆ˜ì¤€</em> ì„ ì´í•´í•´ì•¼ í•©ë‹ˆë‹¤.</p>\n<h2>2. Transaction</h2>\n<p>íŠ¸ëœì­ì…˜ì€ ì‘ì—…ì˜ ë…¼ë¦¬ì ì¸ ìµœì†Œ ë‹¨ìœ„ì…ë‹ˆë‹¤.<br>\nInnoDBì—ì„œ ì‚¬ìš©ìì— ì˜í•´ ì¼ì–´ë‚˜ëŠ” ëª¨ë“  í™œë™ì€ <strong>íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤</strong>.<br>\nì¿¼ë¦¬ê°€ 1ê°œë“  2ê°œ ì´ìƒì´ë“  ìƒê´€ì—†ì´ MySQL ì„œë²„ë¡œ ìš”ì²­í•˜ëŠ” SQL ë¬¸ì€ ëª¨ë‘ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë¬¶ì—¬ ì²˜ë¦¬ë©ë‹ˆë‹¤.</p>\n<p>íŠ¸ëœì­ì…˜ì€ <strong>ë°ì´í„° ì •í•©ì„±</strong>ì„ ìœ„í•œ ê¸°ìˆ ì…ë‹ˆë‹¤.<br>\nì‚¬ìš©ìì˜ ìš”ì²­ì´ ì²˜ë¦¬ë˜ëŠ” ì¤‘ê°„ì— ë¬¸ì œê°€ ë°œìƒí–ˆì„ ë•Œ, ì¼ë¶€ë§Œ ë°˜ì˜ë˜ëŠ” ë¬¸ì œë¥¼ ë°ì´í„°ë² ì´ìŠ¤ê°€ íŠ¸ëœì­ì…˜ì´ë¼ëŠ” ê¸°ëŠ¥ì„ í†µí•´ ê°„í¸í•˜ê²Œ í•´ê²°í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</p>\n<p>ì´ íŠ¸ëœì­ì…˜ì—ëŠ” 4ê°€ì§€ ì›ì¹™ì´ ìˆìŠµë‹ˆë‹¤.<br>\níŠ¸ëœì­ì…˜ì— ëŒ€í•´ í•œë²ˆì´ë¼ë„ ê³µë¶€ë¥¼ í•´ë³¸ ì‚¬ëŒì€ ê¼­ ë“¤ì–´ë´¤ì„ë§Œí•œ ACID ì…ë‹ˆë‹¤.</p>\n<h3>2-1. Atomic, ì›ìì„±</h3>\n<p>All or Nothing.<br>\níŠ¸ëœì­ì…˜ìœ¼ë¡œ ë¬¶ì¸ ì¿¼ë¦¬ë“¤ ì¤‘ í•˜ë‚˜ë¼ë„ ì²˜ë¦¬ì— ì‹¤íŒ¨í•˜ë©´, ì „ì²´ ì‘ì—…ì´ ì‹¤íŒ¨í•©ë‹ˆë‹¤.<br>\níŠ¸ëœì­ì…˜ ê¸°ìˆ ì˜ ê·¼ë³¸ì ì¸ ëª©ì ì…ë‹ˆë‹¤.</p>\n<h3>2-2. Consistency, ì¼ê´€ì„±</h3>\n<p>ê¸°ë³¸ í‚¤, ì™¸ë˜ í‚¤ ì œì•½ê³¼ ê°™ì€ <strong>ëª…ì‹œì ì¸ ë¬´ê²°ì„± ì œì•½ ì¡°ê±´</strong>ë“¤ë¿ë§Œ ì•„ë‹ˆë¼<br>\nìê¸ˆ ì´ì²´ ì˜ˆì—ì„œ ë‘ ê³„ì¢Œ ì”ê³ ì˜ í•©ì€ ì´ì²´ ì „í›„ê°€ ê°™ì•„ì•¼ í•œë‹¤ëŠ” ì‚¬í•­ê³¼ ê°™ì€ <strong>ë¹„ëª…ì‹œì ì¸ ì¼ê´€ì„± ì¡°ê±´</strong>ë“¤ì„ ë§Œì¡±í•©ë‹ˆë‹¤.</p>\n<p>íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹, ë¡¤ë°± í˜¹ì€ ì§„í–‰ ì¤‘ì¼ ë•Œ í•­ìƒ ì¼ê´€ëœ ìƒíƒœë¥¼ ìœ ì§€í•©ë‹ˆë‹¤.<br>\nì—¬ëŸ¬ í…Œì´ë¸”ì—ì„œ ê´€ë ¨ ë°ì´í„°ê°€ ì—…ë°ì´íŠ¸ ë˜ëŠ” ê²½ìš° ì¿¼ë¦¬ì—ëŠ” ì´ì „ ê°’ê³¼ ìƒˆ ê°’ì´ í˜¼í•©ëœ ê²ƒì´ ì•„ë‹Œ, ì´ì „ ê°’ í˜¹ì€ ìƒˆ ê°’ë§Œ í‘œì‹œë©ë‹ˆë‹¤.</p>\n<h3>2-3. Isolation, ê²©ë¦¬ì„±</h3>\n<p>ê°ê°ì˜ íŠ¸ëœì­ì…˜ì€ ì§„í–‰ë˜ëŠ” ë™ì•ˆ ì„œë¡œ ê²©ë¦¬ë©ë‹ˆë‹¤.<br>\níŠ¹ì • íŠ¸ëœì­ì…˜ì´ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì˜ ì‘ì—…ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë˜í•œ ì•„ì§ ì»¤ë°‹ë˜ì§€ ì•Šì€ ë³€ê²½ì‚¬í•­ë„ ë³¼ ìˆ˜ ì—†ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>\nì´ëŠ” <em>íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€</em> ì— ë”°ë¼ ê²°ê³¼ê°€ ë‹¬ë¼ì§‘ë‹ˆë‹¤.</p>\n<h3>2-4. Durability, ì§€ì†ì„±</h3>\n<p>íŠ¸ëœì­ì…˜ ì‘ì—…ì´ ëª¨ë‘ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆë‹¤ë©´ ì‘ì—… ê²°ê³¼ëŠ” ì˜êµ¬ì ìœ¼ë¡œ ë””ìŠ¤í¬ì— ë°˜ì˜ë©ë‹ˆë‹¤.<br>\nì´ ì›ì¹™ì€ ì‹œìŠ¤í…œì— ì´ìƒì´ ìƒê²¼ì„ ë•Œì—ë„ ë°˜ë“œì‹œ ì§€ì¼œì ¸ì•¼ í•©ë‹ˆë‹¤.<br>\nInnoDBëŠ” ë¦¬ë‘ ë¡œê·¸ì™€ double write bufferë¥¼ ì´ìš©í•´ ì§€ì†ì„±ì„ ì§€í‚µë‹ˆë‹¤.</p>\n<h2>3. Transaction Isolation Level</h2>\n<p>ê·¸ëŸ¼ ì´ì œ Transactionì˜ ê²©ë¦¬ ìˆ˜ì¤€ ì •ë„ë¥¼ ì¡°ì ˆí•˜ëŠ” <em>íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€</em> ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<p>íŠ¸ëœì­ì…˜ ê²©ë¦¬ìˆ˜ì¤€ì€, <em>ì—¬ëŸ¬ íŠ¸ëœì­ì…˜ì´ ë™ì‹œì— ì²˜ë¦¬ë  ë•Œ íŠ¹ì • íŠ¸ëœì­ì…˜ì´ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ ë³€ê²½í•˜ê±°ë‚˜ ì¡°íšŒí•˜ëŠ” ë°ì´í„°ë¥¼ ë³¼ ìˆ˜ ìˆê²Œ í—ˆìš©í• ì§€ ë§ì§€ë¥¼ ê²°ì •í•˜ëŠ” ê²ƒ</em> ì…ë‹ˆë‹¤.<br></p>\n<p>ê²©ë¦¬ ìˆ˜ì¤€ì—ëŠ” ì´ 4ê°€ì§€ì˜ ì„ íƒì§€ê°€ ìˆìŠµë‹ˆë‹¤.<br>\nê° ì„ íƒì§€ì— ë”°ë¼ ë°œìƒí•˜ëŠ” í˜„ìƒì„ ì§ì ‘ ì‹¤í—˜ì„ í•´ë³´ë©° ì´í•´í•´ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<h3>3-1. Read Uncommitted</h3>\n<p>ìš°ì„  <code class=\"language-text\">mysql> SET GLOBAL transaction_isolation = 'READ-UNCOMMITTED';</code> ëª…ë ¹ì–´ë¡œ ê²©ë¦¬ ìˆ˜ì¤€ì„ ë³€ê²½í•´ì¤ë‹ˆë‹¤.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/a2faa433b6aaa6f0ff126f67c8879f40/06fa9/img.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 11.176470588235293%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAfUlEQVR42i3OWw6CMBCFYTajghBELb1Sisg97n87v7XxYTLn4cuZyUy34MOBUCOu3zBuSbl59tRNR14qzkVLWRuknhjGD37YsX4jxNxGK+SL28NT1ZZM2zmCAxeBNBPazai4i0pxygWXq/wX2nTI+pUu7Mm1+p0euIuQzG++/PlCbPXFSD4AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img' title='' src='/static/a2faa433b6aaa6f0ff126f67c8879f40/ca1dc/img.png' srcset='/static/a2faa433b6aaa6f0ff126f67c8879f40/e7570/img.png 170w,\n/static/a2faa433b6aaa6f0ff126f67c8879f40/f46e7/img.png 340w,\n/static/a2faa433b6aaa6f0ff126f67c8879f40/ca1dc/img.png 680w,\n/static/a2faa433b6aaa6f0ff126f67c8879f40/06fa9/img.png 1017w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/af804b7c6fe4b6c653702119fb5829ec/e4da8/img_1.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 14.705882352941178%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAmElEQVR42n3OwQ6CMAADUD5GIaDRqNtwgHPMsQgMRM04qP//G3V4Vg9Ne3ppwLgGzw0IKzHtLZU+JaKEfc08oVB5C9c8MHYvOPtEr+8wuUUjBwQ7D0llUYga8XKPWUQQxuwnGHrQiB71ocelchiMw5EYZGuFYqMRkFQhzfQHnHqx4h6kfx9WokMrBrTl1YMjrLpBpWcPnvAGLNVkQOEIIW8AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 1' title='' src='/static/af804b7c6fe4b6c653702119fb5829ec/ca1dc/img_1.png' srcset='/static/af804b7c6fe4b6c653702119fb5829ec/e7570/img_1.png 170w,\n/static/af804b7c6fe4b6c653702119fb5829ec/f46e7/img_1.png 340w,\n/static/af804b7c6fe4b6c653702119fb5829ec/ca1dc/img_1.png 680w,\n/static/af804b7c6fe4b6c653702119fb5829ec/e4da8/img_1.png 766w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/d231154bc490a6af4c9cdaaa359c936d/249e2/img_2.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 45.294117647058826%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB3klEQVR42l1Sa4+TQBSdpl3dxLhqE1e/mPhqebblNQwwMDBAoe/N2hj//y85XlA36oeTCzOXc885F3Zz8xx/YzZ7htvbF1gYIQxHwLDjJywtDneT4838HRhjmEwmmFL9ML/Hxo7gWOFwzvA/ptMZvhDhggi/EtFiIBtJOUw3AXdDhNYavuFCOSt8FymuUqPdxGBvX97h/u7VP3j/eg7XDOARgU+Tg2E6PRu/yS/FFj+6Ey5Vj4f6gHNzxIPeIfVSsEa2qOoTsqwF5xUCggwkhB0gIyjbR2V7I/FAZpLqNFLI1B5h0uAzORmi8OjetiKwLC6RlQfk+gjHk/i4DOEYwfjxJ1s8YbBuDraJsIgKaBIihQb3JdQqQm2u4ZILdkwr7PIGR7XFmSz0qcY2LhA5HML0UVoeElK6ouY/WbZC4aQ6bKm3y2ps6X0XybGHfVMNTkWLM+FR97g2e1zbA+owQ0GZ5BuB2A7HHE172LIkZRSLPiEh26ZXwKfhyv2VM3skgnN/Qa8o4KFWOxz0Hk3RIeYluJdBOBGpDMeMfK5RiRI1LaalXk3VX6fYmCFca7Cc12S5HaUfyw5tUqHixaisp98isXzKT4xYWjGCiNTJDnW1R5rU0FQlLXQYvvZz/ARN5xt1TMLJuAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 2' title='' src='/static/d231154bc490a6af4c9cdaaa359c936d/ca1dc/img_2.png' srcset='/static/d231154bc490a6af4c9cdaaa359c936d/e7570/img_2.png 170w,\n/static/d231154bc490a6af4c9cdaaa359c936d/f46e7/img_2.png 340w,\n/static/d231154bc490a6af4c9cdaaa359c936d/ca1dc/img_2.png 680w,\n/static/d231154bc490a6af4c9cdaaa359c936d/249e2/img_2.png 810w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>ë³´ì‹œë©´ TxAê°€ íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•˜ê³  ê°’ì„ ë³€ê²½í–ˆì§€ë§Œ ì•„ì§ ì»¤ë°‹ì´ë‚˜ ë¡¤ë°± í•˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ<br>\nTxBê°€ ì¡°íšŒí•˜ë©´ ë°”ë€ ìƒíƒœì˜ ê°’ì´ ê²°ê³¼ë¡œ ë°˜í™˜ë©ë‹ˆë‹¤.</p>\n<p>ì´ëŸ¬í•œ ë¬¸ì œë¥¼ <em>ë”í‹° ë¦¬ë“œ (Dirty Read)</em> ë¼ê³  í•©ë‹ˆë‹¤.<br>\në”í‹° ë¦¬ë“œ ë¬¸ì œëŠ” ì•„ì§ ê°’ì˜ ë³€ê²½ì´ í™•ì‹¤í•˜ê²Œ ë°˜ì˜ë˜ì§€ ì•Šì•˜ìŒì—ë„, ì¡°íšŒê°€ ëœë‹¤ëŠ” ì  ë•Œë¬¸ì— ì •í•©ì„±ì— í° ë¬¸ì œë¥¼ ì´ˆë˜í•  ìˆ˜ ìˆë‹¤.<br></p>\n<h3>3-2. Read Committed</h3>\n<p>ë”í‹° ë¦¬ë“œ ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ” ê²©ë¦¬ ìˆ˜ì¤€ì…ë‹ˆë‹¤.<br>\nì´ë¦„ ê·¸ëŒ€ë¡œ ì»¤ë°‹ëœ ê²°ê³¼ë§Œ ì¡°íšŒí•©ë‹ˆë‹¤.<br>\në§ˆì°¬ê°€ì§€ë¡œ <code class=\"language-text\">mysql> SET GLOBAL transaction_isolation = 'READ-COMMITTED';</code> ëª…ë ¹ì–´ë¡œ ê²©ë¦¬ ìˆ˜ì¤€ì„ ë³€ê²½í•´ì¤ë‹ˆë‹¤.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/83e1142a6d95bbec0ecf4d86da78280e/c19a6/img_3.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 10.588235294117647%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAe0lEQVR42i2NSRKCMBQFOYyKAwqVipFMBDHggPe/TpukXPzqt+jqX9nhxXBf0XYhbz9+uOmIkCOt8DStZXe4cu4s2j0J07fQ+LxXlH4g1UQnhuQ4Ku2WEvEhhcychJgY2Z96NrWkPiq2KShkoLjhjUvX/93M5mKKmx//AC1nQtFkTAz/AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 3' title='' src='/static/83e1142a6d95bbec0ecf4d86da78280e/ca1dc/img_3.png' srcset='/static/83e1142a6d95bbec0ecf4d86da78280e/e7570/img_3.png 170w,\n/static/83e1142a6d95bbec0ecf4d86da78280e/f46e7/img_3.png 340w,\n/static/83e1142a6d95bbec0ecf4d86da78280e/ca1dc/img_3.png 680w,\n/static/83e1142a6d95bbec0ecf4d86da78280e/c19a6/img_3.png 959w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/cd7187d70c654d9ec289819cc88501a3/dd6e8/img_4.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 51.17647058823529%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB90lEQVR42lVSWXKbQBTUTZLyIgRIIBhg2IZ1ECBki4od3/8mnR6sVCUfXWyPnl7eblYafbugSDskQkGEJfIgR2wLxI5AShydGC5ROeH27l4N+Jzeseplw1s7YR0WdEmFXSVrFM0Vijj6OZ72Ao4VwibBkyPxTLw6CQ6EQwg3wpgozPWILm2g8xZ1XKFPaySnBLu17DAVHW6VxnszYub9ICtEbozUDiEJz4k2Uovw3QRFpBCXE7JmgX0u8eMQ48VO4NkRdl/diIW2b2WPj/6KX/3M64xeFJAnicKXm80TFe+NShJqKpw4v1CAgeJs4UkEnNl9NQOu5iOVfeorbiS/c0gzipqDg8i3HM9UaRQmroCOFXp1gaJllbaQQYmC+Z/pave71lg2whZrc8Gb6hm6RhukkD7Bk32e7DwUvrop0qiCLEfU+g43UPhpRXixBHxjWZcaNQtJ2XIYKnjMJDFEhzNsDuztb6L9oxiT4RAVmLIaMwsxjlo6aRhNYBRmbKi5rMiricGz1cP3ithGDZ+tRxnWg1DQes/SGq5ang+bkICWY1F9W+5NVuUFdd4jo5XjUW5tHR8W/yU0ao3FlC1ntKzHFY6X45mWLf7jO6ZlZnjn6pj1+agHXESGOixgn7L/yP4ShnGDSjYoywFKjUiSFh731wgwhH8AusVKhOB8iUIAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 4' title='' src='/static/cd7187d70c654d9ec289819cc88501a3/ca1dc/img_4.png' srcset='/static/cd7187d70c654d9ec289819cc88501a3/e7570/img_4.png 170w,\n/static/cd7187d70c654d9ec289819cc88501a3/f46e7/img_4.png 340w,\n/static/cd7187d70c654d9ec289819cc88501a3/ca1dc/img_4.png 680w,\n/static/cd7187d70c654d9ec289819cc88501a3/dd6e8/img_4.png 799w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>í™•ì‹¤íˆ ë³€ê²½ ì‚¬í•­ì´ Commit ë˜ì–´ì•¼ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ë„ ì¡°íšŒ ê²°ê³¼ì— í¬í•¨ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ê·¸ëŸ°ë° í•œ ê°€ì§€ ë¬¸ì œê°€ ë  ìˆ˜ ìˆëŠ” ì ì´ ìˆìŠµë‹ˆë‹¤.<br>\nTransaction B ê´€ì ì—ì„œ ë´¤ì„ ë•Œ í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ ì•ˆì—ì„œ ì¡°íšŒê°€ ì´ 3ë²ˆ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.<br>\ní•˜ì§€ë§Œ, ì„¸ ë²ˆì§¸ì™€ ë‹¤ì„¯ ë²ˆì§¸ ì¡°íšŒ ê²°ê³¼ì™€ ì—¬ëŸ ë²ˆì§¸ ì¡°íšŒ ê²°ê³¼ê°€ ë‹¬ë¼ì§‘ë‹ˆë‹¤.</p>\n<p>ì´ëŠ” íŠ¸ëœì­ì…˜ì˜ ë‘ ë²ˆì§¸ ì›ì¹™ì¸ Consistency, ì¦‰ ì¼ê´€ì„±ì„ í•´ì¹˜ê²Œ ë©ë‹ˆë‹¤.</p>\n<p>ê·¸ëŸ°ë° MySQLì€ ì–´ë–»ê²Œ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ ê°’ì„ ë³€ê²½í•˜ë”ë¼ë„ commit ë˜ê¸° ì „ì´ë¼ë©´, ë³€ê²½í•˜ê¸° ì „ì˜ ë°ì´í„°ë¥¼ ì½ì–´ì˜¬ ìˆ˜ ìˆì„ê¹Œìš”?<br>\në°”ë¡œ InnoDBê°€ ì§€ì›í•˜ëŠ” MVCC ë•ë¶„ì…ë‹ˆë‹¤.<br>\nInnoDBì—ëŠ” <em>InnoDB ë²„í¼ í’€</em> ê³¼ <em>ì–¸ë‘ ë¡œê·¸</em> ë¥¼ í†µí•´ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ”ë°ìš”.</p>\n<p>ë””ìŠ¤í¬ì—ì„œ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ë©´ InnoDB ë²„í¼ í’€ì— í•´ë‹¹ ê²°ê³¼ë¥¼ ëª¨ë‘ ì €ì¥í•©ë‹ˆë‹¤.<br>\nê·¸ë¦¬ê³  ë°ì´í„° ìˆ˜ì • ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´, í˜„ì¬ ë²„ì „ì„ ì–¸ë‘ ë¡œê·¸ë¡œ ë³µì‚¬í•˜ê³  InnoDB ë²„í¼ í’€ì— ì¡´ì¬í•˜ëŠ” ë°ì´í„°ë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤.<br>\nì´ëŸ° ìƒí™©ì—ì„œ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì´ ë™ì¼ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ë©´ <strong>ì–¸ë‘ ë¡œê·¸ì— ìˆëŠ” ë°ì´í„°</strong>ë¥¼ ë°˜í™˜í•¨ìœ¼ë¡œì¨ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ê²ƒì´ì£ .<br>\nì‚¬ì‹¤ ì´ëŸ¬í•œ ë™ì‘ ë°©ì‹ì€ <em>Read Committed</em> ì´ìƒì˜ ê²©ë¦¬ ìˆ˜ì¤€ì´ë©´ ëª¨ë‘ ì´ì™€ ê°™ì´ ìˆ˜í–‰ë©ë‹ˆë‹¤. </p>\n<blockquote>\n<p>ì°¸ê³ ë¡œ ë°ì´í„° ìˆ˜ì • ìš”ì²­ íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ë˜ë©´ ë‹¹ì‹œ ìƒíƒœë¥¼ ì˜êµ¬ì ìœ¼ë¡œ ì €ì¥í•˜ê³ <br>\në¡¤ë°±ë˜ë©´ ì–¸ë‘ ë¡œê·¸ì— ì €ì¥í•œ ê°’ë“¤ì„ ê·¸ëŒ€ë¡œ InnoDB ë²„í¼ í’€ë¡œ ë³µêµ¬í•˜ê³  ì–¸ë‘ ë¡œê·¸ì— ìˆëŠ” ë°ì´í„°ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤.<br>\nì–¸ë‘ ë¡œê·¸ì˜ ë°ì´í„°ëŠ” ë”ì´ìƒ í•´ë‹¹ ë°ì´í„°ë¥¼ í•„ìš”ë¡œ í•˜ëŠ” íŠ¸ëœì­ì…˜ì´ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ì‚­ì œë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p>\n</blockquote>\n<h3>3-3. Repeatable Read</h3>\n<p>MySQLì´ ì±„íƒí•˜ëŠ” Default ì„¤ì •ê°’ì…ë‹ˆë‹¤.<br>\n<code class=\"language-text\">mysql> SET GLOBAL transaction_isolation = 'REPEATABLE-READ';</code> ë¡œ ì„¤ì •í•˜ê³  í…ŒìŠ¤íŠ¸ë¥¼ í•´ë´…ì‹œë‹¤.</p>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/264a6ca9315c5bb2a28c347c3a8c061c/cc5fa/img_5.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 8.823529411764705%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAb0lEQVR42l2OWwqDQBAEvUyeYBKN+9BVx6wIK3r/61Qy+xFIPoam6aKYYpAVHxamuOc0LlI9hfIROF4Mp6v9nvZ7PRKGhCjfLchrI4wJ62fqRih6SbjPYHzEtjO3qudwbn5E/0LlVaJifSDLzJSZN7U6Qae/3o7bAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img_5.png' title='' src='/static/264a6ca9315c5bb2a28c347c3a8c061c/ca1dc/img_5.png' srcset='/static/264a6ca9315c5bb2a28c347c3a8c061c/e7570/img_5.png 170w,\n/static/264a6ca9315c5bb2a28c347c3a8c061c/f46e7/img_5.png 340w,\n/static/264a6ca9315c5bb2a28c347c3a8c061c/ca1dc/img_5.png 680w,\n/static/264a6ca9315c5bb2a28c347c3a8c061c/02d09/img_5.png 1020w,\n/static/264a6ca9315c5bb2a28c347c3a8c061c/cc5fa/img_5.png 1188w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>img_5.png</figcaption>\n  </figure></p>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/9c4f465c8d299618bb4092f25db9bc2e/1e0c2/img_6.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 70%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACXUlEQVR42p1T2W7TUBR0mrQqFIlCukjQCtE13uJ6d7xvcdY6Yfn/XxnGbhKRwgs8jG6s+MydOTMWjo7e4OCgh2738A90Ol28PXmPR9HGo+RgQJiSCUexsAwy1FGJVVrhZznncw5ZtCB0e4cQBOEv6LTn8fEJHjaEDy2pDUVxMXJSRMkMhhVDUj08yS/v/DOhTEJddeGaEbJsDounyP+HVNc4EHq9I1oTiM6GZIuDDeG7HWGDe0JUPBReijIoUPo5UieGq/JC8T8UqpIFg5YdWo7HKwzNBHeSC1V+2bFwff0VV5+/4PLiE/r9S/Q/XqD/4RznxOnpGc4urnbqtsEoVBjbMYpwjMTL4GgjGLyo3eE0maAqa/hOBtuM4WkeTC7YVex2cEDsE9pQqTAlUZFOEfJs9mlxr00bhCatMFtAHvq4fTAhD0xacHCzsfg72c4yh5swomwJzYhwRyJlG8rCz1BxuTN2quKCA82FPjBgiyYkqnlNercLJdmEUuxCaS2v4hLzeIw6m2JdzLBMKox0H4E+gi1be6RbhabiwLMTJHSmGzGVuRgylNbyt3yKRT7Dcz7HJBq3an3epnOPDdnjK4WNrWaHgZMgJ6Hn5dA0n8kzLBZceA4LLKICz1S5ziaY0IpHZQ5DkTk4kPdDabqmqqPWchWWyNjH0AzgGwEcI4Swnq5QT9f4vviBelLz9wpZVCF0mfqTD3tTia315nv1zRAuWxGxHbIe4WZg41Z02r4KNUOZ80NfUmnlRChNHyPJgEaCZlgVrT3r9xwyWK/YTZEEJeuWwBh6fM9uZ34BXSeoD0hiHGoAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img_6.png' title='' src='/static/9c4f465c8d299618bb4092f25db9bc2e/ca1dc/img_6.png' srcset='/static/9c4f465c8d299618bb4092f25db9bc2e/e7570/img_6.png 170w,\n/static/9c4f465c8d299618bb4092f25db9bc2e/f46e7/img_6.png 340w,\n/static/9c4f465c8d299618bb4092f25db9bc2e/ca1dc/img_6.png 680w,\n/static/9c4f465c8d299618bb4092f25db9bc2e/02d09/img_6.png 1020w,\n/static/9c4f465c8d299618bb4092f25db9bc2e/1e0c2/img_6.png 1076w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>img_6.png</figcaption>\n  </figure></p>\n<p>Transaction B ì…ì¥ì—ì„œ ë´¤ì„ ë•Œ í™•ì‹¤íˆ íŠ¸ëœì­ì…˜ ì•ˆì˜ ëª¨ë“  SELECT ë¬¸ì€, Transaction Aê°€ ê°’ì„ ìˆ˜ì •í•´ì„œ ì»¤ë°‹ì„ í•´ë„ ë§¤ë²ˆ ë™ì¼í•˜ê²Œ ë‚˜ì˜¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ì–¼í•ë³´ë©´ Read Committedì™€ ë™ì¼í•˜ë‹¤ê³  ìƒê°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>\ní•˜ì§€ë§Œ <strong>í˜„ì¬ ì¡´ì¬í•˜ëŠ” íŠ¸ëœì­ì…˜ ì¤‘, ê°€ì¥ ë‚®ì€ ë²ˆí˜¸ì˜ (ì˜¤ë˜ëœ) íŠ¸ëœì­ì…˜ë³´ë‹¤ ì´ì „ì— ê°±ì‹ ëœ ì–¸ë‘ ë¡œê·¸ì— ìˆëŠ” ë°ì´í„°ëŠ” ì‚­ì œí•˜ì§€ ì•ŠëŠ”ë‹¤</strong>ëŠ” íŠ¹ì§• ë•ë¶„ì— í•­ìƒ ë™ì¼í•œ ê²°ê³¼ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆê²Œ ë˜ëŠ” ê²ƒì…ë‹ˆë‹¤.<br>\nê·¸ëŸ¼ ë°˜ëŒ€ë¡œ Read CommittedëŠ” ìœ„ ê·œì¹™ì„ ì§€í‚¤ì§€ ì•ŠëŠ” ê²ƒì¸ì§€? í˜¹ì€ ë¬´ì‹œí•˜ëŠ” ê²ƒì¸ì§€ëŠ” ë” ê³µë¶€ë¥¼ í•´ë´ì•¼ê² ìŠµë‹ˆë‹¤ ã…ã…..</p>\n<p>Repeatable Readë„ ë°œìƒí•˜ëŠ” ë¬¸ì œê°€ í•œ ê°€ì§€ ìˆìŠµë‹ˆë‹¤.<br>\nìœ„ ì‚¬ì§„ì—ì„œ 10ë²ˆ ì¡°íšŒê¹Œì§€ëŠ” TxAê°€ ê°’ì„ ìˆ˜ì • ë° ì‚½ì… í›„ ì»¤ë°‹ì„ í•´ë„ í•­ìƒ ë™ì¼í•œ ê²°ê³¼ê°€ ì¡°íšŒë˜ê³  ìˆìŠµë‹ˆë‹¤.<br>\ní•˜ì§€ë§Œ 11ë²ˆ ì¡°íšŒë¥¼ ë³´ì‹œë©´ TxAê°€ ì‚½ì…í•œ ë°ì´í„°ê°€ í¬í•¨ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>\nì´ëŸ¬í•œ ë¬¸ì œë¥¼ <em>Phantom Read</em> ë¼ê³  í•©ë‹ˆë‹¤. </p>\n<p>ì´ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” ì›ì¸ì€ ë°”ë¡œ <strong>ì–¸ë‘ ë¡œê·¸ì—ëŠ” ë½ì„ ê±¸ì§€ ëª»í•œë‹¤</strong>ëŠ” ì¡°ê±´ ë–„ë¬¸ì…ë‹ˆë‹¤.<br>\nì˜ ë³´ì‹œë©´ 10ë²ˆ ì¡°íšŒëŠ” ì ê¸ˆ ì—†ëŠ” ë‹¨ìˆœ ì¡°íšŒì…ë‹ˆë‹¤. (<code class=\"language-text\">SELECT FOR</code>)<br>\ní•˜ì§€ë§Œ 11ë²ˆ ì¡°íšŒëŠ” ì“°ê¸° ì ê¸ˆì„ ê±°ëŠ” <code class=\"language-text\">SELECT FOR UPDATE</code> ë¬¸ ì…ë‹ˆë‹¤.<br>\nìœ„ì—ì„œ ì–¸ê¸‰í–ˆë“¯ì´ ì–¸ë‘ ë¡œê·¸ì—ëŠ” ì ê¸ˆì„ ê±¸ì§€ ëª»í•˜ê¸°ì— ì ê¸ˆì„ ê±°ëŠ” ì½ê¸°ì˜ ê²½ìš° InnoDB ë²„í¼ í’€ì— ì €ì¥ëœ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ê²Œ ë©ë‹ˆë‹¤.</p>\n<h3>3-4. Serializable</h3>\n<p>ê°€ì¥ ë‹¨ìˆœí•˜ë©´ì„œ ì—„ê²©í•˜ê²Œ ê´€ë¦¬í•©ë‹ˆë‹¤.<br>\nì ê¸ˆì„ ê±°ëŠ” <code class=\"language-text\">SELECT FOR UPDATE</code> ë¿ë§Œ ì•„ë‹ˆë¼ ìˆœìˆ˜ ì¡°íšŒì¸ <code class=\"language-text\">SELECT</code> ë¬¸ì—ì„œë„ í•´ë‹¹ ë ˆì½”ë“œì— ì ê¸ˆì„ ê±¸ê²Œ ë©ë‹ˆë‹¤.<br>\nê²°êµ­ ê° ë ˆì½”ë“œì—ëŠ” í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ë§Œì´ ì½ê³  ì“¸ ìˆ˜ ìˆëŠ” ê²ƒì…ë‹ˆë‹¤.</p>\n<p>ë¡œì»¬ì—ì„œ CLIë¡œ Serializableì„ í…ŒìŠ¤íŠ¸í•˜ê¸°ëŠ” ì–´ë ¤ì›€ì´ ìˆì–´ ì§ì ‘ í…ŒìŠ¤íŠ¸ëŠ” íŒ¨ìŠ¤í•˜ê² ìŠµë‹ˆë‹¤ ğŸ˜‰</p>\n<h2>ë§ˆì¹˜ë©°</h2>\n<p>ì§€ê¸ˆê¹Œì§€ íŠ¸ëœì­ì…˜ê³¼ íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€ì— ëŒ€í•´ ì´í•´í•´ë´¤ìŠµë‹ˆë‹¤.<br>\në‹¤ìŒì—” LOCKì— ëŒ€í•´ ì´í•´í•´ë³´ëŠ” ì‹œê°„ì„ ê°€ì§€ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>\n<p>ê°ì‚¬í•©ë‹ˆë‹¤.</p>\n<h3>References</h3>\n<blockquote>\n<ul>\n<li>Real MySQL 8.0</li>\n<li><a href=\"https://dev.mysql.com/doc/\">https://dev.mysql.com/doc/</a></li>\n<li>ë°ì´í„°ë² ì´ìŠ¤ ì²«ê±¸ìŒ</li>\n</ul>\n</blockquote>","frontmatter":{"title":"[MySQL] íŠ¸ëœì­ì…˜ê³¼ íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€","date":"March 13, 2024","update":null,"tags":["mysql","transaction","isolation-level"],"series":null},"fields":{"slug":"/understanding-transaction-and-concurrency-problem/","readingTime":{"minutes":13.355}}},"seriesList":{"edges":[{"node":{"id":"a30ff988-ea74-5562-b241-90fbff73a3da","fields":{"slug":"/kissoft-retrospection/"},"frontmatter":{"title":"í‚¤ìŠ¤ì†Œí”„íŠ¸ í˜„ì¥ì‹¤ìŠµ íšŒê³ "}}},{"node":{"id":"aedd8f5b-dd45-5a14-9b57-3a48cdc0b641","fields":{"slug":"/what-is-varargs/"},"frontmatter":{"title":"[Java] VarargsëŠ” ì–´ë–»ê²Œ ì‚¬ìš©í•˜ê³ , ì‚¬ìš©í–ˆì„ ë•Œ ì¥ì ì´ ë¬´ì—‡ì¼ê¹Œ?"}}},{"node":{"id":"d41198ca-d162-523b-84f8-128b247a19b4","fields":{"slug":"/apply-https/"},"frontmatter":{"title":"[ì…€ëŸ½ì‡] HTTPS ì ìš©ê¸°"}}},{"node":{"id":"3b94cbd6-f64a-5d82-96a2-0761602c250b","fields":{"slug":"/dbcp/"},"frontmatter":{"title":"DBCPì™€ HikariCP ì´í•´í•˜ê¸°"}}},{"node":{"id":"c418073e-50be-5fe1-807d-478c9c47f640","fields":{"slug":"/zero-downtime-deployment/"},"frontmatter":{"title":"ë¬´ì¤‘ë‹¨ ë°°í¬ ì´í•´í•˜ê¸°"}}},{"node":{"id":"c5760ea9-e137-5edf-8244-3a93e25b067b","fields":{"slug":"/unit-test/"},"frontmatter":{"title":"ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì´í•´í•˜ê¸°"}}},{"node":{"id":"8ae82b3f-5b72-555c-89fe-9939dcf8377c","fields":{"slug":"/using-junit-and-assertJ/"},"frontmatter":{"title":"JUnitê³¼ AssertJ í™œìš©ë²•"}}},{"node":{"id":"91a7a622-00f8-5cca-b6c1-e4f7db7ee31e","fields":{"slug":"/about-tdd/"},"frontmatter":{"title":"TDD ì´í•´í•˜ê¸°"}}},{"node":{"id":"10e0dab4-d2e7-52df-8daa-31bfef1b08b6","fields":{"slug":"/static-with-memory-structure/"},"frontmatter":{"title":"staticì„ ë” ì˜ ì‚¬ìš©í•˜ê¸°"}}},{"node":{"id":"c773b0a0-9610-5605-bdb9-9089df57f52b","fields":{"slug":"/about-garbage-collection/"},"frontmatter":{"title":"JVMì˜ Garbage Collectionê³¼ ë™ì‘ ì›ë¦¬"}}},{"node":{"id":"0bf99b61-98a4-5c40-b8ce-05a918d212f7","fields":{"slug":"/garbage-collection-tuning/"},"frontmatter":{"title":"Garbage Collection íŠœë‹ì— ëŒ€í•´"}}},{"node":{"id":"61bd95c2-424a-54c8-96d9-bec4c8a4f58c","fields":{"slug":"/garbage-collection-algorithms/"},"frontmatter":{"title":"Garbage Collection ì•Œê³ ë¦¬ì¦˜"}}},{"node":{"id":"c87443bb-4e35-55e7-94d5-a5cb70d2dbc8","fields":{"slug":"/cautions-for-using-collections-in-Java/"},"frontmatter":{"title":"Javaì—ì„œ ì»¬ë ‰ì…˜ì„ ì‚¬ìš©í•  ë•Œ ì£¼ì˜í•  ì "}}},{"node":{"id":"c2d7615d-6232-5fce-8794-f4c790106bb5","fields":{"slug":"/2023-retrospection/"},"frontmatter":{"title":"2023ë…„ íšŒê³ ë¡"}}},{"node":{"id":"def28d41-907f-5432-8060-ed5429114882","fields":{"slug":"/compare-of-datetime-and-timestamp/"},"frontmatter":{"title":"[MySQL] DATETIME vs TIMESTAMP"}}},{"node":{"id":"9bf8ca89-e021-526b-a7b5-2cce0b1e366f","fields":{"slug":"/add-feat-and-issue-number-automatically/"},"frontmatter":{"title":"[git&github] IntelliJì—ì„œ ì»¤ë°‹ ë©”ì‹œì§€ ì‘ì„± ì‹œ, ìë™ìœ¼ë¡œ ì»¤ë°‹ íƒ€ì…ê³¼ ì´ìŠˆ ë²ˆí˜¸ ì¶”ê°€í•˜ê¸°"}}},{"node":{"id":"01318426-7520-5a57-92ff-c917e1483247","fields":{"slug":"/difference-of-controller-and-restcontroller/"},"frontmatter":{"title":"[Spring] @Controllerì™€ @RestController ë¹„êµí•˜ê¸°"}}},{"node":{"id":"bc68fa05-ec4a-5e12-a9b8-4e58769887df","fields":{"slug":"/deploy-spring-boot-in-aws-ec2-manually/"},"frontmatter":{"title":"[Infra] AWS EC2ì— Spring Boot ìˆ˜ì‘ì—…ìœ¼ë¡œ ë°°í¬í•˜ê¸°"}}},{"node":{"id":"122a1e9c-6fe5-5e7f-b797-a31f54d086b0","fields":{"slug":"/what-is-ami-architecture-of-ec2/"},"frontmatter":{"title":"CPU ì•„í‚¤í…ì²˜ë€?"}}},{"node":{"id":"c23a12ff-7b48-57ef-91ed-81f5386d680a","fields":{"slug":"/apply-issue-and-pr-template/"},"frontmatter":{"title":"[github] Github Repositoryì— Issue, PR Template ì ìš©í•˜ê¸°"}}},{"node":{"id":"b1dc584d-3c69-5ae8-82a8-09b015fa3d02","fields":{"slug":"/oauth-test/"},"frontmatter":{"title":"Spring Bootì—ì„œ Rest Assuredë¡œ ì¸ìˆ˜ í…ŒìŠ¤íŠ¸í•  ë•Œ OAuth ë¡œê·¸ì¸ ì²˜ë¦¬í•˜ê¸°"}}},{"node":{"id":"9f43b8a7-b5ce-5766-b984-3ed0775d698f","fields":{"slug":"/ioc-container-and-di/"},"frontmatter":{"title":"[Spring] ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ, ê·¸ë¦¬ê³  IoC/DI"}}},{"node":{"id":"e1b2a9fb-d6e3-5f65-9f50-d3a30c2518d1","fields":{"slug":"/what-is-jdbc/"},"frontmatter":{"title":"[Java] JDBC íŒŒí—¤ì³ë³´ê¸°"}}},{"node":{"id":"81b7fb10-f532-5f48-a797-379c3bb99bee","fields":{"slug":"/understanding-transaction-and-concurrency-problem/"},"frontmatter":{"title":"[MySQL] íŠ¸ëœì­ì…˜ê³¼ íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€"}}},{"node":{"id":"adfb7cc4-25f1-5b31-8060-e40d763b0afe","fields":{"slug":"/sovle-concurrency-problem/"},"frontmatter":{"title":"[ListyWave] ë¦¬ìŠ¤íŠ¸ ìˆ˜ì • ì‹œ, ë™ì‹œì„± ì´ìŠˆ ë°œìƒ í™•ì¸ ë° í•´ê²°ê¸°"}}},{"node":{"id":"5ecb4a12-dc98-589f-94e0-695fb2d84fab","fields":{"slug":"/restore-using-binarylog/"},"frontmatter":{"title":"[MySQL] ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¡œ ë°ì´í„° ë³µêµ¬í•˜ê¸°"}}},{"node":{"id":"c375e6a2-7e6c-5607-a579-04d3ab5f3188","fields":{"slug":"/understanding-generic/"},"frontmatter":{"title":"[Java] ì œë„¤ë¦­ ì´í•´í•˜ê¸°"}}},{"node":{"id":"83ad74c1-0d46-5f86-92fc-998642e4367d","fields":{"slug":"/covariant-invariant-and-pecs/"},"frontmatter":{"title":"[Java] ë°°ì—´ì˜ ê³µë³€, ì œë„¤ë¦­ì˜ ë¶ˆê³µë³€. ê·¸ë¦¬ê³  PECS"}}},{"node":{"id":"7b9b6854-62e7-5f25-afbf-d5459fa5d021","fields":{"slug":"/commands-of-docker/"},"frontmatter":{"title":"[Docker] ë„ì»¤ì˜ ê¸°ë³¸ì ì¸ ëª…ë ¹ì–´ë“¤"}}},{"node":{"id":"d77e8b24-f01d-5673-8c55-d93e2d110c4f","fields":{"slug":"/enhance-speed-ci-workflow/"},"frontmatter":{"title":"[Infra] Github Actionsë¥¼ ì´ìš©í•œ CI ì‘ì—… ì†ë„ë¥¼ ìºì‹±ìœ¼ë¡œ ê°œì„ í•˜ê¸°"}}},{"node":{"id":"b4550a40-b215-5e9a-a6a7-8c27bfb63e25","fields":{"slug":"/continuous-deploy-using-github-actions-and-docker/"},"frontmatter":{"title":"[Infra] Github Actionsì™€ Dockerë¥¼ ì´ìš©í•´ ë°°í¬ ìë™í™” êµ¬ì¶•í•˜ê¸°"}}},{"node":{"id":"e38bb1ed-1a51-5947-a1d2-52aaae42ac97","fields":{"slug":"/build-monitoring-system/"},"frontmatter":{"title":"[Infra] Prometheusì™€ Grafana, ê·¸ë¦¬ê³  Dockerë¥¼ ì´ìš©í•´ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ êµ¬ì¶•í•˜ê¸°"}}},{"node":{"id":"961e4fc3-1d57-55a3-99fd-9e1233cef1dd","fields":{"slug":"/june-3rd/"},"frontmatter":{"title":"[íšŒê³ ] 06.10 ~ 06.16"}}},{"node":{"id":"fcade266-d38c-5c36-a3b7-87d56d9be862","fields":{"slug":"/june-4th-and-5th/"},"frontmatter":{"title":"[íšŒê³ ] 06.17 ~ 06.30"}}},{"node":{"id":"7b64a367-9192-557d-b45d-0e3bc68d44d3","fields":{"slug":"/thread-in-jvm/"},"frontmatter":{"title":"Java Thread 1 - Javaì˜ Threadì— ëŒ€í•´ ì•Œì•„ë³´ì"}}},{"node":{"id":"9e5a98c2-ba89-5b36-8e72-0028211a2c5b","fields":{"slug":"/status-and-control-thread-in-java/"},"frontmatter":{"title":"Java Thread 2 - Java Threadì˜ ìƒíƒœì™€ í–‰ë™ì„ ì œì–´í•˜ëŠ” ë°©ë²•"}}},{"node":{"id":"45a781cf-0e04-559c-a853-d1609dab1bd4","fields":{"slug":"/synchronize-threads/"},"frontmatter":{"title":"Java Thread 3 - Thread ë™ê¸°í™”í•˜ê¸°"}}},{"node":{"id":"236f7305-5647-51fe-800e-61577d25cd0c","fields":{"slug":"/july-1st/"},"frontmatter":{"title":"[íšŒê³ ] 07.01 ~ 07.07"}}},{"node":{"id":"abad5436-5cba-50a3-8fda-72440c646a78","fields":{"slug":"/solid/"},"frontmatter":{"title":"ê°ì²´ì§€í–¥ ì„¤ê³„ ì›ì¹™: SOLID"}}},{"node":{"id":"f113bb3f-df7e-589a-b3c1-378c812ac8da","fields":{"slug":"/insert-dummy-data-to-db/"},"frontmatter":{"title":"[Spring] ìŠ¤í”„ë§ ì• í”Œë¦¬ì¼€ì´ì…˜ ë™ì‘ê³¼ ë™ì‹œì— DBì— ë”ë¯¸ ë°ì´í„° ì‚½ì…í•˜ê¸°"}}},{"node":{"id":"7890e82c-9f9c-52ed-9724-2efc1ddf8aef","fields":{"slug":"/procedure-function-package/"},"frontmatter":{"title":"[DB] í”„ë¡œì‹œì €, í•¨ìˆ˜, íŒ¨í‚¤ì§€ì— ëŒ€í•´"}}},{"node":{"id":"ac276a35-d955-59ae-9f71-28ad65030c42","fields":{"slug":"/july-2nd-3rd-4th/"},"frontmatter":{"title":"[íšŒê³ ] 07.08 ~ 07.23"}}},{"node":{"id":"4a801b76-317f-5129-a330-84fc989993c8","fields":{"slug":"/inner-class/"},"frontmatter":{"title":"[Java] inner í´ë˜ìŠ¤ì™€ ì¢…ë¥˜ì— ëŒ€í•´"}}},{"node":{"id":"549069af-32e1-578d-a8c0-7524f6305a7d","fields":{"slug":"/execute-and-executeUpdate-of-jdbc/"},"frontmatter":{"title":"[JDBC] execute(String)ê³¼ execute(). executeUpdate(String)ì™€ executeUpdate()ì˜ ì°¨ì´"}}},{"node":{"id":"e0484580-3f9a-597b-bdb4-386532933e65","fields":{"slug":"/log-and-disk/"},"frontmatter":{"title":"EC2 CPU ì‚¬ìš©ëŸ‰ì´ ê¸‰ê²©íˆ ëŠ˜ì–´ë‚œ ë¬¸ì œ í•´ê²°"}}},{"node":{"id":"3b97179a-f8a3-521b-a603-cfa1453ea898","fields":{"slug":"/august-1st/"},"frontmatter":{"title":"[íšŒê³ ] 07.29 ~ 08.04"}}},{"node":{"id":"5e74fe27-5b86-593d-bade-e5c49c12e0fc","fields":{"slug":"/august-2st/"},"frontmatter":{"title":"[íšŒê³ ] 08.05 ~ 08.11"}}},{"node":{"id":"82a59d7d-5e43-514c-90b4-af486ef16006","fields":{"slug":"/difference-sqrtN-and-logN/"},"frontmatter":{"title":"O(sqrt(N))ê³¼ O(log2(N))ì˜ ì°¨ì´"}}},{"node":{"id":"e3cbab1b-4b2b-5107-8b23-51731a167d08","fields":{"slug":"/counting_the_number_of_values_lower_or_equal_to_constantly_increasing_sequence/"},"frontmatter":{"title":"ì¼ì •í•˜ê²Œ ì¦ê°€í•˜ëŠ” ìˆ˜ì—´ì—ì„œ íŠ¹ì • ê°’ë³´ë‹¤ ê°™ê±°ë‚˜ ì‘ì€ ê°’ì˜ ê°œìˆ˜ë¥¼ ì„¸ëŠ” ë²•"}}},{"node":{"id":"4a31fa04-183a-59a7-95bf-2136289c3d78","fields":{"slug":"/transactional-event-listener-test-trouble-shooting/"},"frontmatter":{"title":"@TransactionalEventListener ë©”ì„œë“œë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•œ ë°©ë²•"}}},{"node":{"id":"f8d4a11d-bb7c-54ba-b752-6f9b50909eb0","fields":{"slug":"/dijkstra/"},"frontmatter":{"title":"ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜"}}}]},"previous":{"fields":{"slug":"/what-is-jdbc/"},"frontmatter":{"title":"[Java] JDBC íŒŒí—¤ì³ë³´ê¸°"}},"next":{"fields":{"slug":"/sovle-concurrency-problem/"},"frontmatter":{"title":"[ListyWave] ë¦¬ìŠ¤íŠ¸ ìˆ˜ì • ì‹œ, ë™ì‹œì„± ì´ìŠˆ ë°œìƒ í™•ì¸ ë° í•´ê²°ê¸°"}}},"pageContext":{"id":"81b7fb10-f532-5f48-a797-379c3bb99bee","series":null,"previousPostId":"e1b2a9fb-d6e3-5f65-9f50-d3a30c2518d1","nextPostId":"adfb7cc4-25f1-5b31-8060-e40d763b0afe"}},"staticQueryHashes":[],"slicesMap":{}}