{"componentChunkName":"component---src-templates-blog-post-js","path":"/git-github/macOS와-Linux의-File-System-대소문자-구분으로-인해-발생한-문제-해결/","result":{"data":{"site":{"siteMetadata":{"title":"내가 재밌는 일을 하자 !"}},"markdownRemark":{"id":"99e39e8c-16b1-58aa-b6cb-65df92ff1584","excerpt":"발생한 문제 React 프로젝트 배포 자동화를 위해 GitHub Actions를 이용하고 있었다. 그런데 이상하게 계속 빌드 단계()에서 실패했다. 에러 메시지는 \"Module not found: Error: Can't resolve '../pages/market…","html":"<h1>발생한 문제</h1>\n<p>React 프로젝트 배포 자동화를 위해 GitHub Actions를 이용하고 있었다.<br>\n그런데 이상하게 계속 빌드 단계(<code class=\"language-text\">CI=false npm run build</code>)에서 실패했다.<br>\n에러 메시지는 \"<em>Module not found: Error: Can't resolve '../pages/market/ProductDetail' in '/home/runner/work/pharmpick-market-react/pharmpick-market-react/src/router'</em>\" 였다.<br>\n라우터 관련 코드에서 <code class=\"language-text\">import</code>를 할 때 파일을 못 불러오는 문제였다.</p>\n<p>상대 경로에서 절대 경로로도 수정해보고, package-lock.json도 삭제하고 다시 <code class=\"language-text\">npm install</code>도 해보고, <code class=\"language-text\">craco.config.js</code> 파일도 수정해보고 다 해봤다.<br>\n그럼에도 다 실패했다.<br>\n심지어 로컬에서는 항상 잘 되었다.</p>\n<h1>문제 해결</h1>\n<p>Claude Code는 신이다.<br>\n갑자기 <code class=\"language-text\">git ls-files</code> 명령어로 Git에서 실제로 커밋된 파일명을 확인하더니 문제를 발견했다고 한다.</p>\n<p>로컬 파일 시스템에서는 패키지 명이 <code class=\"language-text\">market</code>인데, Git에 저장된 파일명은 <code class=\"language-text\">Market</code>이라고 한다.<br>\n그래서 일단 Git에 저장된 파일명을 <code class=\"language-text\">git mv</code> 명령어를 이용해서 수정하니까 빌드가 성공한다.</p>\n<h1>분석</h1>\n<h2>1. macOS와 Linux의 파일 시스템 인식 차이</h2>\n<p>macOS는 <strong>Case-Insensitive File System</strong>이다.<br>\n그래서 로컬에서 디렉터리 이름이 <code class=\"language-text\">Market</code>에서 <code class=\"language-text\">market</code>으로 변경되었음에도 충분히 인식할 수 있어서 Git에 저장된 파일 이름이 <code class=\"language-text\">Market</code>으로 저장되어 있어도 문제가 없던 것이었다.<br>\n참고: <a href=\"https://discussions.apple.com/thread/251191099?sortBy=rank\">Apple Community - File system case sensitivity?</a></p>\n<p>하지만 배포 자동화를 위해 GitHub Actions VM에서 <em>Ubuntu</em> 운영 체제를 사용했는데, Ubuntu는 <strong>Case Sensitive File System</strong> 이다.\n참고: [Stack overflow - Are file names in Ubuntu case sensitive?](<a href=\"https://discussions.apple.com/thread/251191099?sortBy=rank\">Apple Community - File system case sensitivity?</a>)</p>\n<h2>2. <code class=\"language-text\">git ls-files</code></h2>\n<p><code class=\"language-text\">git ls-files</code> 명령어는 <strong>Git 저장소에서 추적 중인 파일들의 실제 경로</strong>를 보여주는 명령어다.<br>\n즉, Git에 실제로 기록된 파일들을 볼 수 있다. 인덱스에 저장된 파일이라고도 한다.<br>\n그런데 실제로 다음과 같이 출력이 되었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">src/pages/Market/MarketMain.jsx\nsrc/pages/Market/ProductDetail.jsx\nsrc/pages/Market/ProductInfoNotice.jsx</code></pre></div>\n<h2>3. 그렇다면 GitHub Actions에는 대체 왜 영향을 끼쳤을까?</h2>\n<p>GitHub Actions 빌드 과정은 다음과 같다.</p>\n<ol>\n<li><code class=\"language-text\">runs-on</code>을 ubuntu-latest에서 실행 -> Case Sensitive</li>\n<li>git checkout → Git 저장소의 실제 파일명으로 파일들을 복원 -> 이때 src/pages/Market/MarketMain.jsx 이라고 저장되어 있음.</li>\n<li>Webpack이 ../pages/market/ProductDetail을 찾으려 함</li>\n<li>하지만 실제로는 ../pages/market/ProductDetail만 존재</li>\n<li>파일을 찾을 수 없어서 빌드 실패</li>\n</ol>\n<p>좀 더 자세히 보면, <code class=\"language-text\">git checkout</code> 명령어는 작업 트리에 있는 파일들을 인덱스나 특정 트리와 일치시키는 작업을 수행한다.<br>\n그런데 현재 인덱스 자체에 <em>Market</em> 이라고 되어 있으니 불일치가 발생한 것이었다.</p>\n<h1>결론</h1>\n<ol>\n<li>macOS는 Case-Insensitive, Linux(Ubuntu)는 Case-Sensitive 하다.</li>\n<li>프로젝트의 폴더명은 \"market\"인데, Git에 저장된 Working Tree Index는 \"Market\"이다.</li>\n<li>macOS(로컬)에서는 되는데, GitHub Actions(Ubuntu)에서는 안되는 이유가 Git Working Tree Index에 저장된 파일명 대소문자 차이에 있었다.</li>\n</ol>","frontmatter":{"title":"macOS와 Linux의 File System 대소문자 구분으로 인해 발생한 문제 해결","date":"August 18, 2025","description":"GitHub Actions에 배포할 때 import가 자꾸 실패하는 경우 Git Working Tree Index를 확인해보세요"}},"previous":{"fields":{"slug":"/창구-AI-스터디-잼/1-Google-Cloud-Computing-Foundations-Cloud-Computing-Fundamentals/"},"frontmatter":{"title":"Google Cloud Computing Foundations: 클라우드 컴퓨팅 기초"}},"next":null},"pageContext":{"id":"99e39e8c-16b1-58aa-b6cb-65df92ff1584","previousPostId":"4d9bc55d-f083-5324-baad-a7c2a4cc76bd","nextPostId":null}},"staticQueryHashes":["2841359383"],"slicesMap":{}}