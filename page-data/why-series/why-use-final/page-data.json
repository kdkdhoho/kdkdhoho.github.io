{"componentChunkName":"component---src-templates-blog-post-js","path":"/why-series/why-use-final/","result":{"data":{"site":{"siteMetadata":{"title":"김동호의 기록"}},"markdownRemark":{"id":"cf43ca73-a5df-5bf0-9e70-34b270308495","excerpt":"왜 값의 변경을 막아야 할까?  자동차 경주 피드백 중 하나이다. 왜 이런 피드백이 있는지 알아보자 final 키워드를 붙이면 좋은 점…","html":"<h2 id=\"왜-값의-변경을-막아야-할까\" style=\"position:relative;\"><a href=\"#%EC%99%9C-%EA%B0%92%EC%9D%98-%EB%B3%80%EA%B2%BD%EC%9D%84-%EB%A7%89%EC%95%84%EC%95%BC-%ED%95%A0%EA%B9%8C\" aria-label=\"왜 값의 변경을 막아야 할까 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>왜 값의 변경을 막아야 할까?</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 620px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/49858e991f61c277dbd5636c889d2db8/2a195/why-use-final.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.06329113924051%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABPUlEQVR42q1RXW+DMAzk//++SpXaJwgfI4EECARCyG52SqVpD1UrDekUG58v5zhrmgZCCNxuN+R5juv1muKiKHC5XHC/31FVFWKMeOfLtNZo2xZKKXA8DAP6vk+xpnM8c4a1NtWNMSjLMuXM414pJcZxfAhK+mEGA01E7z25+UY4DhwnnjG7jPERe7+nPNXDA9yXBSpss4NfPbZlxeIC/M4iLBqxE5Hzv9hD/BXzGah3RcYitpawosYkGuiyoxF6dL3BV6sw2QWbD1i3/SUcGWJu5smFI4e2kVg7DSsVclGhqhsizIn8juCTl7FlR8oLiU3GYewtFj3Qe44JqqNl0IXvCDKS4DLT29GIQ60gihoduc2LkjY60bImepvtE8GAmRocL8efhXNEHuGJjwTZwScuXgq6dUsb+g8xFvwBkhxTJCQ3BBQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"피드백 사진\"\n        title=\"\"\n        src=\"/static/49858e991f61c277dbd5636c889d2db8/2a195/why-use-final.png\"\n        srcset=\"/static/49858e991f61c277dbd5636c889d2db8/c26ae/why-use-final.png 158w,\n/static/49858e991f61c277dbd5636c889d2db8/6bdcf/why-use-final.png 315w,\n/static/49858e991f61c277dbd5636c889d2db8/2a195/why-use-final.png 620w\"\n        sizes=\"(max-width: 620px) 100vw, 620px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>자동차 경주 피드백 중 하나이다.</p>\n<p>왜 이런 피드백이 있는지 알아보자</p>\n<h2 id=\"final-키워드를-붙이면-좋은-점\" style=\"position:relative;\"><a href=\"#final-%ED%82%A4%EC%9B%8C%EB%93%9C%EB%A5%BC-%EB%B6%99%EC%9D%B4%EB%A9%B4-%EC%A2%8B%EC%9D%80-%EC%A0%90\" aria-label=\"final 키워드를 붙이면 좋은 점 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>final 키워드를 붙이면 좋은 점</h2>\n<h3 id=\"1-변경-가능성을-최소화한다\" style=\"position:relative;\"><a href=\"#1-%EB%B3%80%EA%B2%BD-%EA%B0%80%EB%8A%A5%EC%84%B1%EC%9D%84-%EC%B5%9C%EC%86%8C%ED%99%94%ED%95%9C%EB%8B%A4\" aria-label=\"1 변경 가능성을 최소화한다 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 변경 가능성을 최소화한다.</h3>\n<p>즉, 코드의 <strong>예측이 쉬워진다</strong>.</p>\n<p>사실 알잘딱깔센으로 객체나 값의 변경은 정말 필요한 곳에서 필요한 만큼 수행해야 한다.</p>\n<p>하지만 final 키워드를 붙이지 않으면 분명한 것은 변경 가능성이 존재하는 것이고, 모종의 이유로 사이드 이펙트 발생으로 버그를 낳을 수 있다.</p>\n<p>그럼 퇴근이 늦어질 것이다.</p>\n<h3 id=\"2-thread-safe한-값이-된다\" style=\"position:relative;\"><a href=\"#2-thread-safe%ED%95%9C-%EA%B0%92%EC%9D%B4-%EB%90%9C%EB%8B%A4\" aria-label=\"2 thread safe한 값이 된다 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Thread-Safe한 값이 된다.</h3>\n<p>동시성 이슈이 발생하는 과정에는 반드시 값이 <strong>변경</strong>하는 과정이 존재한다.</p>\n<p>그런데 애초에 값을 변경하지 못하게 한다면 동시성 이슈는 일어날 일이 없다.</p>\n<p>그럼 퇴근이 빨라질 것이다.</p>\n<blockquote>\n<p><strong>유의해야 할 점</strong> ❗️ <br>\n<code class=\"language-text\">StringBuilder</code>나 <code class=\"language-text\">List</code>, <code class=\"language-text\">Map</code>, <code class=\"language-text\">Set</code> 과 같은 컬렉션들은 값이 <strong>변경</strong>한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token operator\">></span><span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token keyword\">final</span> <span class=\"token class-name\">StringBuilder</span> sb <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">StringBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   \n   sb<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   sb<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"b\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   \n   <span class=\"token keyword\">return</span> sb<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위 객체들은 내부적으로 쓰기 작업을 모두 허용한다.<br>\n<strong>final 키워드는 사실 메모리 Level에서 값의 재할당을 불가능하게 막아줄 뿐이다.</strong></p>\n</blockquote>\n<h3 id=\"3-성능의-사소한-이점\" style=\"position:relative;\"><a href=\"#3-%EC%84%B1%EB%8A%A5%EC%9D%98-%EC%82%AC%EC%86%8C%ED%95%9C-%EC%9D%B4%EC%A0%90\" aria-label=\"3 성능의 사소한 이점 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 성능의 사소한 이점</h3>\n<p>이건 우테코에서 배운건데 신기해서 공유한다.</p>\n<p>아래 두 코드는 바이트 코드 레벨에서 차이가 존재한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">example1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">String</span> a <span class=\"token operator\">=</span> <span class=\"token string\">\"a\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">String</span> b <span class=\"token operator\">=</span> <span class=\"token string\">\"b\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">example2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> a <span class=\"token operator\">=</span> <span class=\"token string\">\"a\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> b <span class=\"token operator\">=</span> <span class=\"token string\">\"b\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/68aa26a2ec9b1f1aa78cea7b3c1f24c4/70d4c/result_of_bytecode.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.30379746835443%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABrUlEQVR42n2RW2vUQBiG83u98hesF70VaaEKioiCFNdeiiheCOKF4GGhqFtpt5g9ZnOeZGZy2E3yOJOWuoIaeHjeLxneCTOOEAI/CJFK0XUd/3uU1nhrH5FlNE3z1zWOLVyuVr8X7JbavENVVUznC6q6/uemjsglXhhTm8LWvGg7S3fl3e6OoihM4ax30zaGltZgc9u1l4Xxh7fMXwwpvn5EG6rxF4pvn/q5Hn+mPT+h+TGC2RmxyhlNz/gZebjRmkUaMDdMY5tDAi1wkqeHTAY3mB8MmB3cwt0f4D+6TfBkn+jobk/w+A7V+5fIsmYdp4RpRmBJhLG4zr755ojnDzjdu8nkcI9weB//6B6RcXT8kOzVM9SbY/TrIc3oHaqsWAWROaLEOL7K8TXrKMHJpxf456cUoUcjBdssYZunbERMFflsjdG5QZqzK1ksPVLzR9pkrYveyjiXqp+dVGTMliuklCiDdVWWdG37x03bWWrFxcwlEgnCbGCRpWZjL4WOxuBkyynL7yfohUtpsvXGX9CZQyf2L7FZRCQqY+xOmCc+Xhb3+DIlrRVio3t+AVClon7Bb1ZCAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"바이트 코드단의 결과\"\n        title=\"\"\n        src=\"/static/68aa26a2ec9b1f1aa78cea7b3c1f24c4/f058b/result_of_bytecode.png\"\n        srcset=\"/static/68aa26a2ec9b1f1aa78cea7b3c1f24c4/c26ae/result_of_bytecode.png 158w,\n/static/68aa26a2ec9b1f1aa78cea7b3c1f24c4/6bdcf/result_of_bytecode.png 315w,\n/static/68aa26a2ec9b1f1aa78cea7b3c1f24c4/f058b/result_of_bytecode.png 630w,\n/static/68aa26a2ec9b1f1aa78cea7b3c1f24c4/40601/result_of_bytecode.png 945w,\n/static/68aa26a2ec9b1f1aa78cea7b3c1f24c4/78612/result_of_bytecode.png 1260w,\n/static/68aa26a2ec9b1f1aa78cea7b3c1f24c4/70d4c/result_of_bytecode.png 2548w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>왼쪽 빨간 영역은 <code class=\"language-text\">example1()</code>의 결과, 오른쪽은 <code class=\"language-text\">example2()</code>의 결과이다.</p>\n<p>프로그래밍 언어 관점에서는 아무 것도 아닌 것처럼 보이지만, 컴퓨터 관점에서 실행하는 코드의 양은 꽤 차이가 난다.</p>\n<h3 id=\"4-gc-성능을-높일-수-있다\" style=\"position:relative;\"><a href=\"#4-gc-%EC%84%B1%EB%8A%A5%EC%9D%84-%EB%86%92%EC%9D%BC-%EC%88%98-%EC%9E%88%EB%8B%A4\" aria-label=\"4 gc 성능을 높일 수 있다 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. GC 성능을 높일 수 있다.</h3>\n<p>GC 성능을 높일 수 있다고 하는데, 이는 GC에 대해 알아보고 작성하자.</p>\n<h2 id=\"final-키워드를-붙이면-안좋은-점\" style=\"position:relative;\"><a href=\"#final-%ED%82%A4%EC%9B%8C%EB%93%9C%EB%A5%BC-%EB%B6%99%EC%9D%B4%EB%A9%B4-%EC%95%88%EC%A2%8B%EC%9D%80-%EC%A0%90\" aria-label=\"final 키워드를 붙이면 안좋은 점 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>final 키워드를 붙이면 안좋은 점</h2>\n<h3 id=\"1-값을-변경하려면-새로운-객체를-생성해야-한다\" style=\"position:relative;\"><a href=\"#1-%EA%B0%92%EC%9D%84-%EB%B3%80%EA%B2%BD%ED%95%98%EB%A0%A4%EB%A9%B4-%EC%83%88%EB%A1%9C%EC%9A%B4-%EA%B0%9D%EC%B2%B4%EB%A5%BC-%EC%83%9D%EC%84%B1%ED%95%B4%EC%95%BC-%ED%95%9C%EB%8B%A4\" aria-label=\"1 값을 변경하려면 새로운 객체를 생성해야 한다 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 값을 변경하려면 새로운 객체를 생성해야 한다.</h3>\n<p>이는 메모리를 추가적으로 사용하게 된다.</p>\n<p>근데 사실 GC가 있으니 크게 문제되어 보이지 않는다.</p>\n<p>GC를 믿어보자.</p>\n<h3 id=\"2-코드가-다소-지저분해진다\" style=\"position:relative;\"><a href=\"#2-%EC%BD%94%EB%93%9C%EA%B0%80-%EB%8B%A4%EC%86%8C-%EC%A7%80%EC%A0%80%EB%B6%84%ED%95%B4%EC%A7%84%EB%8B%A4\" aria-label=\"2 코드가 다소 지저분해진다 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 코드가 다소 지저분해진다.</h3>\n<p>final 키워드를 통해 불변을 지키려면 가급적 불변을 지켜야하는 곳에는 모두 붙여줘야 할 것이다.</p>\n<p>어디는 해주고 어디는 안해주면 그게 더 혼란스러울테니까.</p>\n<p>그러면 인스턴스 변수 뿐만 아니라, 메서드 파라미터나 메서드 내의 지역변수에도 붙여줘야 할 것이다.</p>\n<p>하지만 이는 코드를 작성하는 과정에서도 그렇고 읽는 데에도 은근 거슬린다.</p>\n<p>아래는 진행했던 프로젝트의 메서드 중 하나이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/21af4b93d96197fb3b49309dc14d5406/1fbe8/before_final.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 32.911392405063296%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABGUlEQVR42n2QaW7EIAyFc4/OTBayEEhICAECs1a9/5leTVRVajudH58sy/bzszMlJaScIOcNSmnMeoU2DsZuGCmXYsIyU649BjGDlS2qqkXT9qhbvtN2YqduOLJ4ueP2+ECIV2zxArN4XN0d0V7hdUCYItwccLHU59/3OA8r1KihhgVCKHAxoqfYcYlMDuSOWG2A8xHLYuHdGYt28P4M6wImZeBMxGZp4eTgaJGWBpxJFDnD27HA4YusqVvoxe1iG7kM5xvM6sH7AcM471srRmfWiQ4la8CaDnlZ43AqcMqrH2SCC3JjIKQi2+MeE0ko5ekvx1P5h99C34I1bUsnp+E+ie3/GMnhSA3s5fBTwbxg/xZT7VX9meAnWd7O+Q7+5WoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"final 키워드 붙이기 전\"\n        title=\"\"\n        src=\"/static/21af4b93d96197fb3b49309dc14d5406/f058b/before_final.png\"\n        srcset=\"/static/21af4b93d96197fb3b49309dc14d5406/c26ae/before_final.png 158w,\n/static/21af4b93d96197fb3b49309dc14d5406/6bdcf/before_final.png 315w,\n/static/21af4b93d96197fb3b49309dc14d5406/f058b/before_final.png 630w,\n/static/21af4b93d96197fb3b49309dc14d5406/1fbe8/before_final.png 757w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7b374269752e3976f7fce5f1d590bbf7/5a6dd/after_final.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 30.37974683544304%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA90lEQVR42pWQSXLDIBBFdRFLaBaTBGIQsq2q5P6H+mlw4myTxSsK6Hr9uysxzThWBedPHOeFFA64kBDjHdfjEzHc4dSOZA6c8cKVPuC2iHmREGoDFxpCrlDaYOEKVd102JWAc4GET3gSOR/hbcLpnwgmFewWkNyjEOlPcwNFTKMA6wa03VioGOsxDBN1WuHDSSTsLmKzHnrbIamz3iwkpVHSQFKdVhZ9N2MgGBtwq9tCDlfVJOQLJfQHjA0ky6cH569Rplmg/i4usA63JtO+ye8NeV7CpofgEsbsZSeyQKlWi2Hk78K/UuW5c8qm/d0Dy9D9P6If4RfUgLEuR/RIQwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"final 키워드 붙인 후\"\n        title=\"\"\n        src=\"/static/7b374269752e3976f7fce5f1d590bbf7/f058b/after_final.png\"\n        srcset=\"/static/7b374269752e3976f7fce5f1d590bbf7/c26ae/after_final.png 158w,\n/static/7b374269752e3976f7fce5f1d590bbf7/6bdcf/after_final.png 315w,\n/static/7b374269752e3976f7fce5f1d590bbf7/f058b/after_final.png 630w,\n/static/7b374269752e3976f7fce5f1d590bbf7/5a6dd/after_final.png 802w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>은근 차이가 있어보인다.</p>\n<blockquote>\n<p>사실 셀럽잇 프로젝트할 때 이거 때문에 안붙였는데 불변을 지키지 않아 생기는 문제는 없었다. 😶</p>\n</blockquote>\n<h2 id=\"결론\" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EB%A1%A0\" aria-label=\"결론 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>결론</h2>\n<p>프로그래밍에서 불변을 진리처럼 여기는 것 같다.</p>\n<p>하지만 늘 그랫듯 개발에는 <strong>정답</strong>은 없다.</p>\n<p>final 키워드를 통한 불변식을 지키는 것도 마찬가지이다.</p>\n<p>조금 더 넓은 범위에서 이해해보면, 사실 프로그래밍 언어가 제공하는 기능을 통해 프로그램의 안정성을 도모하는 것이다.</p>\n<p>프로그램이 안정적이면 개발자는 조금 더 퇴근을 빨리하거나 꿀잠을 잘 수 있다.</p>\n<p>하지만 개발하는 과정에서 final 키워드로 인해 눈이 조금이라도 피곤하고 머리가 아프다면 붙이지 않는 것이다.</p>\n<p>근데 나라면 더 빠른 퇴근과 편안한 잠을 위해 final 키워드를 붙이는 데에 손을 들고 싶다.</p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EC%99%9C-%EA%B0%92%EC%9D%98-%EB%B3%80%EA%B2%BD%EC%9D%84-%EB%A7%89%EC%95%84%EC%95%BC-%ED%95%A0%EA%B9%8C\">왜 값의 변경을 막아야 할까?</a></p>\n</li>\n<li>\n<p><a href=\"#final-%ED%82%A4%EC%9B%8C%EB%93%9C%EB%A5%BC-%EB%B6%99%EC%9D%B4%EB%A9%B4-%EC%A2%8B%EC%9D%80-%EC%A0%90\">final 키워드를 붙이면 좋은 점</a></p>\n<ul>\n<li><a href=\"#1-%EB%B3%80%EA%B2%BD-%EA%B0%80%EB%8A%A5%EC%84%B1%EC%9D%84-%EC%B5%9C%EC%86%8C%ED%99%94%ED%95%9C%EB%8B%A4\">1. 변경 가능성을 최소화한다.</a></li>\n<li><a href=\"#2-thread-safe%ED%95%9C-%EA%B0%92%EC%9D%B4-%EB%90%9C%EB%8B%A4\">2. Thread-Safe한 값이 된다.</a></li>\n<li><a href=\"#3-%EC%84%B1%EB%8A%A5%EC%9D%98-%EC%82%AC%EC%86%8C%ED%95%9C-%EC%9D%B4%EC%A0%90\">3. 성능의 사소한 이점</a></li>\n<li><a href=\"#4-gc-%EC%84%B1%EB%8A%A5%EC%9D%84-%EB%86%92%EC%9D%BC-%EC%88%98-%EC%9E%88%EB%8B%A4\">4. GC 성능을 높일 수 있다.</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#final-%ED%82%A4%EC%9B%8C%EB%93%9C%EB%A5%BC-%EB%B6%99%EC%9D%B4%EB%A9%B4-%EC%95%88%EC%A2%8B%EC%9D%80-%EC%A0%90\">final 키워드를 붙이면 안좋은 점</a></p>\n<ul>\n<li><a href=\"#1-%EA%B0%92%EC%9D%84-%EB%B3%80%EA%B2%BD%ED%95%98%EB%A0%A4%EB%A9%B4-%EC%83%88%EB%A1%9C%EC%9A%B4-%EA%B0%9D%EC%B2%B4%EB%A5%BC-%EC%83%9D%EC%84%B1%ED%95%B4%EC%95%BC-%ED%95%9C%EB%8B%A4\">1. 값을 변경하려면 새로운 객체를 생성해야 한다.</a></li>\n<li><a href=\"#2-%EC%BD%94%EB%93%9C%EA%B0%80-%EB%8B%A4%EC%86%8C-%EC%A7%80%EC%A0%80%EB%B6%84%ED%95%B4%EC%A7%84%EB%8B%A4\">2. 코드가 다소 지저분해진다.</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EA%B2%B0%EB%A1%A0\">결론</a></p>\n</li>\n</ul>","frontmatter":{"title":"final 키워드를 사용해 값의 변경을 막아라. 왜?","date":"2023년 12월 5일","description":"final 키워드의 장단점","tags":["java","clean-code"],"series":"Why? 시리즈"}},"previous":{"fields":{"slug":"/데이터베이스/real-mysql-book-study/03-user-identification/"},"frontmatter":{"title":"MySQL에서의 사용자 식별에 대해"}},"next":{"fields":{"slug":"/java/static-with-memory-structure/"},"frontmatter":{"title":"static을 더 잘 사용하기"}}},"pageContext":{"id":"cf43ca73-a5df-5bf0-9e70-34b270308495","previousPostId":"d6b1f585-00f8-584a-aa31-744b23561fd0","nextPostId":"bec0354f-6297-5e2c-9c28-101883fe8840"}},"staticQueryHashes":["1475414628","2841359383"],"slicesMap":{}}