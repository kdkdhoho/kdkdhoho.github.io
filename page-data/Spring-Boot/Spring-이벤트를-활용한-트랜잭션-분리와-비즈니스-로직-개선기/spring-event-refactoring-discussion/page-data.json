{"componentChunkName":"component---src-templates-blog-post-js","path":"/Spring-Boot/Spring-ì´ë²¤íŠ¸ë¥¼-í™œìš©í•œ-íŠ¸ëœì­ì…˜-ë¶„ë¦¬ì™€-ë¹„ì¦ˆë‹ˆìŠ¤-ë¡œì§-ê°œì„ ê¸°/spring-event-refactoring-discussion/","result":{"data":{"site":{"siteMetadata":{"title":"ë‚´ê°€ ì¬ë°ŒëŠ” ì¼ì„ í•˜ì !"}},"markdownRemark":{"id":"bdba0568-226e-57ca-bed2-2664cdbb566d","excerpt":"Spring Eventë¥¼ í™œìš©í•œ ì¼€ì–´ë§ í¬ì¸íŠ¸ ì‹œìŠ¤í…œ ë¦¬íŒ©í† ë§ ëŒ€í™” ê¸°ë¡ ê°œìš” ë‚ ì§œ: 2025-08-28 ì£¼ì œ: ì¼€ì–´ë§ í¬ì¸íŠ¸ ì²´í¬ ë° ì§€ê¸‰ ë¶€ë¶„ì„ SpringApplicationEventë¡œ ë¶„ë¦¬ ëª©í‘œ: íŠ¸ëœì­ì…˜ ë¶„ë¦¬, ëŠìŠ¨í•œ ê²°í•©, í¬ì¸íŠ¸ ì§€ê¸‰ ê²°ê³¼ í´ë¼ì´ì–¸íŠ¸ ì•Œë¦¼â€¦","html":"<h1 id=\"spring-eventë¥¼-í™œìš©í•œ-ì¼€ì–´ë§-í¬ì¸íŠ¸-ì‹œìŠ¤í…œ-ë¦¬íŒ©í† ë§-ëŒ€í™”-ê¸°ë¡\" style=\"position:relative;\"><a href=\"#spring-event%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%EC%BC%80%EC%96%B4%EB%A7%81-%ED%8F%AC%EC%9D%B8%ED%8A%B8-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EB%A6%AC%ED%8C%A9%ED%86%A0%EB%A7%81-%EB%8C%80%ED%99%94-%EA%B8%B0%EB%A1%9D\" aria-label=\"spring eventë¥¼ í™œìš©í•œ ì¼€ì–´ë§ í¬ì¸íŠ¸ ì‹œìŠ¤í…œ ë¦¬íŒ©í† ë§ ëŒ€í™” ê¸°ë¡ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Spring Eventë¥¼ í™œìš©í•œ ì¼€ì–´ë§ í¬ì¸íŠ¸ ì‹œìŠ¤í…œ ë¦¬íŒ©í† ë§ ëŒ€í™” ê¸°ë¡</h1>\n<h2 id=\"ê°œìš”\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EC%9A%94\" aria-label=\"ê°œìš” permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê°œìš”</h2>\n<ul>\n<li><strong>ë‚ ì§œ</strong>: 2025-08-28</li>\n<li><strong>ì£¼ì œ</strong>: ì¼€ì–´ë§ í¬ì¸íŠ¸ ì²´í¬ ë° ì§€ê¸‰ ë¶€ë¶„ì„ SpringApplicationEventë¡œ ë¶„ë¦¬</li>\n<li><strong>ëª©í‘œ</strong>: íŠ¸ëœì­ì…˜ ë¶„ë¦¬, ëŠìŠ¨í•œ ê²°í•©, í¬ì¸íŠ¸ ì§€ê¸‰ ê²°ê³¼ í´ë¼ì´ì–¸íŠ¸ ì•Œë¦¼</li>\n</ul>\n<h2 id=\"1-ì‹œì‘ì ê³¼-ë¬¸ì œ-ì¸ì‹\" style=\"position:relative;\"><a href=\"#1-%EC%8B%9C%EC%9E%91%EC%A0%90%EA%B3%BC-%EB%AC%B8%EC%A0%9C-%EC%9D%B8%EC%8B%9D\" aria-label=\"1 ì‹œì‘ì ê³¼ ë¬¸ì œ ì¸ì‹ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. ì‹œì‘ì ê³¼ ë¬¸ì œ ì¸ì‹</h2>\n<h3 id=\"ì‚¬ìš©ì-ì§ˆë¬¸\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%A7%88%EB%AC%B8\" aria-label=\"ì‚¬ìš©ì ì§ˆë¬¸ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì‚¬ìš©ì ì§ˆë¬¸</h3>\n<blockquote>\n<p>ì¼€ì–´ë§ í¬ì¸íŠ¸ ì²´í¬ ë° ì§€ê¸‰ ë¶€ë¶„ë„ SpringApplicationEventë¡œ ë¶„ë¦¬í• ê¹Œ?</p>\n</blockquote>\n<h3 id=\"í˜„ì¬-ìƒí™©-ë¶„ì„\" style=\"position:relative;\"><a href=\"#%ED%98%84%EC%9E%AC-%EC%83%81%ED%99%A9-%EB%B6%84%EC%84%9D\" aria-label=\"í˜„ì¬ ìƒí™© ë¶„ì„ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í˜„ì¬ ìƒí™© ë¶„ì„</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// IntakeRecordService.java - 43ë²ˆì§¸ ì¤„</span>\ncaringService<span class=\"token punctuation\">.</span><span class=\"token function\">recordIntake</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">,</span> myProduct<span class=\"token punctuation\">,</span> intakeDateTime<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>ë¬¸ì œì ë“¤:</strong></p>\n<ul>\n<li><code class=\"language-text\">IntakeRecordService</code>ê°€ <code class=\"language-text\">CaringService</code>ì— ì§ì ‘ ì˜ì¡´</li>\n<li>ë™ì¼í•œ íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ì‹¤í–‰ë˜ì–´ ì¥ì•  ì‹œ ì „ì²´ ë¡¤ë°±</li>\n<li>ê°•í•œ ê²°í•©ìœ¼ë¡œ ì¸í•œ í™•ì¥ì„± ë¶€ì¡±</li>\n</ul>\n<h2 id=\"2-ì²«-ë²ˆì§¸-ë¦¬íŒ©í† ë§-ì‹œë„\" style=\"position:relative;\"><a href=\"#2-%EC%B2%AB-%EB%B2%88%EC%A7%B8-%EB%A6%AC%ED%8C%A9%ED%86%A0%EB%A7%81-%EC%8B%9C%EB%8F%84\" aria-label=\"2 ì²« ë²ˆì§¸ ë¦¬íŒ©í† ë§ ì‹œë„ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. ì²« ë²ˆì§¸ ë¦¬íŒ©í† ë§ ì‹œë„</h2>\n<h3 id=\"ê¸°ë³¸-ì´ë²¤íŠ¸-êµ¬ì¡°-êµ¬í˜„\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EB%B3%B8-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EA%B5%AC%EC%A1%B0-%EA%B5%AC%ED%98%84\" aria-label=\"ê¸°ë³¸ ì´ë²¤íŠ¸ êµ¬ì¡° êµ¬í˜„ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê¸°ë³¸ ì´ë²¤íŠ¸ êµ¬ì¡° êµ¬í˜„</h3>\n<ol>\n<li><strong>ì´ë²¤íŠ¸ í´ë˜ìŠ¤ ìƒì„±</strong></li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// IntakeRecordSavedEvent.java</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">IntakeRecordSavedEvent</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">ApplicationEvent</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">Long</span> userId<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">Long</span> myProductId<span class=\"token punctuation\">;</span> \n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">LocalDateTime</span> intakeDateTime<span class=\"token punctuation\">;</span>\n    \n    <span class=\"token comment\">// constructor, getters...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ol start=\"2\">\n<li><strong>IntakeRecordService ìˆ˜ì •</strong></li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// CaringService ì˜ì¡´ì„± ì œê±°</span>\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">ApplicationEventPublisher</span> applicationEventPublisher<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token class-name\">Long</span> <span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> userId<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Long</span> myProductId<span class=\"token punctuation\">,</span> <span class=\"token class-name\">LocalDateTime</span> intakeDateTime<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ë³µìš© ê¸°ë¡ ì €ì¥</span>\n    <span class=\"token class-name\">IntakeRecord</span> intakeRecord <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IntakeRecord</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">,</span> myProduct<span class=\"token punctuation\">,</span> intakeDateTime<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    intakeRecordRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>intakeRecord<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// ë³µìš© ê¸°ë¡ ì €ì¥ ì´ë²¤íŠ¸ ë°œí–‰</span>\n    <span class=\"token class-name\">IntakeRecordSavedEvent</span> event <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IntakeRecordSavedEvent</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> userId<span class=\"token punctuation\">,</span> myProductId<span class=\"token punctuation\">,</span> intakeDateTime<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    applicationEventPublisher<span class=\"token punctuation\">.</span><span class=\"token function\">publishEvent</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> intakeRecord<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ol start=\"3\">\n<li><strong>CaringIntakeEventListener ìƒì„± (ì´ˆê¸° ë²„ì „)</strong></li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CaringIntakeEventListener</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">CaringService</span> caringService<span class=\"token punctuation\">;</span>\n    \n    <span class=\"token annotation punctuation\">@EventListener</span>\n    <span class=\"token annotation punctuation\">@Transactional</span>  \n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">handleIntakeRecordSaved</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">IntakeRecordSavedEvent</span> event<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">User</span> user <span class=\"token operator\">=</span> userRepository<span class=\"token punctuation\">.</span><span class=\"token function\">getById</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span><span class=\"token function\">getUserId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">MyProduct</span> myProduct <span class=\"token operator\">=</span> myProductRepository<span class=\"token punctuation\">.</span><span class=\"token function\">getById</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span><span class=\"token function\">getMyProductId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        \n        caringService<span class=\"token punctuation\">.</span><span class=\"token function\">recordIntake</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">,</span> myProduct<span class=\"token punctuation\">,</span> event<span class=\"token punctuation\">.</span><span class=\"token function\">getIntakeDateTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"3-êµ¬ì¡°-ê°œì„ ---ë¶ˆí•„ìš”í•œ-ë˜í¼-í´ë˜ìŠ¤-ì œê±°\" style=\"position:relative;\"><a href=\"#3-%EA%B5%AC%EC%A1%B0-%EA%B0%9C%EC%84%A0---%EB%B6%88%ED%95%84%EC%9A%94%ED%95%9C-%EB%9E%98%ED%8D%BC-%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%A0%9C%EA%B1%B0\" aria-label=\"3 êµ¬ì¡° ê°œì„    ë¶ˆí•„ìš”í•œ ë˜í¼ í´ë˜ìŠ¤ ì œê±° permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. êµ¬ì¡° ê°œì„  - ë¶ˆí•„ìš”í•œ ë˜í¼ í´ë˜ìŠ¤ ì œê±°</h2>\n<h3 id=\"ì‚¬ìš©ì-ì§€ì \" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%A7%80%EC%A0%81\" aria-label=\"ì‚¬ìš©ì ì§€ì  permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì‚¬ìš©ì ì§€ì </h3>\n<blockquote>\n<p>ë”°ë¡œ CaringIntakeEventListener ë¡œ ëº€ ì´ìœ ê°€ ìˆì„ê¹Œ? CaringService ì˜ <code class=\"language-text\">recordIntake</code>ë¥¼ ë¦¬ìŠ¤ë„ˆë¡œ í•´ë„ ë˜ì§€ ì•Šì„ê¹Œ?</p>\n</blockquote>\n<h3 id=\"ê°œì„ -ë°©í–¥\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EC%84%A0-%EB%B0%A9%ED%96%A5\" aria-label=\"ê°œì„  ë°©í–¥ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê°œì„  ë°©í–¥</h3>\n<ul>\n<li>ë¶ˆí•„ìš”í•œ ë˜í¼ í´ë˜ìŠ¤ <code class=\"language-text\">CaringIntakeEventListener</code> ì œê±°</li>\n<li><code class=\"language-text\">CaringService.recordIntake()</code> ë©”ì„œë“œë¥¼ ì§ì ‘ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¡œ ë³€ê²½</li>\n</ul>\n<h3 id=\"êµ¬í˜„\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%ED%98%84\" aria-label=\"êµ¬í˜„ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>êµ¬í˜„</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// CaringService.java</span>\n<span class=\"token annotation punctuation\">@EventListener</span>\n<span class=\"token annotation punctuation\">@Transactional</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">recordIntake</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">IntakeRecordSavedEvent</span> event<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">User</span> user <span class=\"token operator\">=</span> userRepository<span class=\"token punctuation\">.</span><span class=\"token function\">getById</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span><span class=\"token function\">getUserId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">MyProduct</span> intakedMyProduct <span class=\"token operator\">=</span> myProductRepository<span class=\"token punctuation\">.</span><span class=\"token function\">getById</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span><span class=\"token function\">getMyProductId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token comment\">// ì¼€ì–´ë§ ì²˜ë¦¬ ë¡œì§...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>ì¥ì :</strong></p>\n<ul>\n<li>ì½”ë“œ ê°„ì†Œí™” (í´ë˜ìŠ¤ 1ê°œ, ì˜ì¡´ì„± ì£¼ì… 3ê°œ ì œê±°)</li>\n<li>ì§ê´€ì ì¸ êµ¬ì¡°</li>\n<li>ì¤‘ë³µ ì—”í‹°í‹° ì¡°íšŒ ì œê±°</li>\n</ul>\n<h2 id=\"4-íŠ¸ëœì­ì…˜-ë¶„ë¦¬-ê³ ë¯¼\" style=\"position:relative;\"><a href=\"#4-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98-%EB%B6%84%EB%A6%AC-%EA%B3%A0%EB%AF%BC\" aria-label=\"4 íŠ¸ëœì­ì…˜ ë¶„ë¦¬ ê³ ë¯¼ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. íŠ¸ëœì­ì…˜ ë¶„ë¦¬ ê³ ë¯¼</h2>\n<h3 id=\"ì‚¬ìš©ì-ì§ˆë¬¸-1\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%A7%88%EB%AC%B8-1\" aria-label=\"ì‚¬ìš©ì ì§ˆë¬¸ 1 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì‚¬ìš©ì ì§ˆë¬¸</h3>\n<blockquote>\n<p><code class=\"language-text\">recordIntake</code> ë©”ì„œë“œë¥¼ IntakeRecordServiceì˜ <code class=\"language-text\">save(Long, Long, LocalDateTime)</code> ë©”ì„œë“œì™€ ë³„ë„ì˜ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë¶„ë¦¬í•˜ê³  ì‹¶ì–´.</p>\n</blockquote>\n<h3 id=\"íŠ¸ëœì­ì…˜-ë¶„ë¦¬-ë°©ë²•-ë…¼ì˜\" style=\"position:relative;\"><a href=\"#%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98-%EB%B6%84%EB%A6%AC-%EB%B0%A9%EB%B2%95-%EB%85%BC%EC%9D%98\" aria-label=\"íŠ¸ëœì­ì…˜ ë¶„ë¦¬ ë°©ë²• ë…¼ì˜ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>íŠ¸ëœì­ì…˜ ë¶„ë¦¬ ë°©ë²• ë…¼ì˜</h3>\n<p><strong>ì˜µì…˜ 1: @TransactionalEventListener ì‚¬ìš© (ê¶Œì¥)</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@TransactionalEventListener</span><span class=\"token punctuation\">(</span>phase <span class=\"token operator\">=</span> <span class=\"token class-name\">TransactionPhase</span><span class=\"token punctuation\">.</span><span class=\"token constant\">AFTER_COMMIT</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@Transactional</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">recordIntake</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">IntakeRecordSavedEvent</span> event<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ë³µìš© ê¸°ë¡ ì €ì¥ íŠ¸ëœì­ì…˜ ì»¤ë°‹ í›„ ì‹¤í–‰</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>ì˜µì…˜ 2: @Async + @EventListener</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Async</span>\n<span class=\"token annotation punctuation\">@EventListener</span> \n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">recordIntake</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">IntakeRecordSavedEvent</span> event<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ë¹„ë™ê¸° ì²˜ë¦¬</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"íŠ¸ëœì­ì…˜-ì‹¤í–‰-ìˆœì„œ-í™•ì¸\" style=\"position:relative;\"><a href=\"#%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98-%EC%8B%A4%ED%96%89-%EC%88%9C%EC%84%9C-%ED%99%95%EC%9D%B8\" aria-label=\"íŠ¸ëœì­ì…˜ ì‹¤í–‰ ìˆœì„œ í™•ì¸ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>íŠ¸ëœì­ì…˜ ì‹¤í–‰ ìˆœì„œ í™•ì¸</h3>\n<ol>\n<li><code class=\"language-text\">IntakeRecordService.save()</code> íŠ¸ëœì­ì…˜ ì‹œì‘</li>\n<li>ë³µìš© ê¸°ë¡ ì €ì¥ + ì´ë²¤íŠ¸ ë°œí–‰</li>\n<li><strong>íŠ¸ëœì­ì…˜ ì»¤ë°‹ ì™„ë£Œ</strong> âœ…</li>\n<li><code class=\"language-text\">CaringService.recordIntake()</code> ì‹¤í–‰ (ë³„ë„ íŠ¸ëœì­ì…˜)</li>\n<li>ì¼€ì–´ë§ ì‹¤íŒ¨í•´ë„ ë³µìš© ê¸°ë¡ì€ ì•ˆì „ âœ…</li>\n</ol>\n<h2 id=\"5-ë™ê¸°ë¹„ë™ê¸°-ì²˜ë¦¬-ë”œë ˆë§ˆ\" style=\"position:relative;\"><a href=\"#5-%EB%8F%99%EA%B8%B0%EB%B9%84%EB%8F%99%EA%B8%B0-%EC%B2%98%EB%A6%AC-%EB%94%9C%EB%A0%88%EB%A7%88\" aria-label=\"5 ë™ê¸°ë¹„ë™ê¸° ì²˜ë¦¬ ë”œë ˆë§ˆ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. ë™ê¸°/ë¹„ë™ê¸° ì²˜ë¦¬ ë”œë ˆë§ˆ</h2>\n<h3 id=\"ì‚¬ìš©ì-ìš”êµ¬ì‚¬í•­-ì¶”ê°€\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%9A%94%EA%B5%AC%EC%82%AC%ED%95%AD-%EC%B6%94%EA%B0%80\" aria-label=\"ì‚¬ìš©ì ìš”êµ¬ì‚¬í•­ ì¶”ê°€ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì‚¬ìš©ì ìš”êµ¬ì‚¬í•­ ì¶”ê°€</h3>\n<blockquote>\n<p>ë§Œì•½ <code class=\"language-text\">CaringService.recordIntake()</code>ì´ ì‹¤í–‰ë˜ê³  <code class=\"language-text\">CaringPointService.judgeAndIssuePoint(User)</code> ë©”ì„œë“œì˜ ì‹¤í–‰ ê²°ê³¼ë¡œ Userì—ê²Œ Pointê°€ ì§€ê¸‰ë˜ì—ˆë‹¤ê³  ê°€ì •í–ˆì„ ë•Œ, ì´ ë°œê¸‰ ì‚¬ì‹¤ì„ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì•Œë ¤ì•¼ í•˜ê±°ë“ .</p>\n</blockquote>\n<h3 id=\"í•´ê²°-ë°©ì•ˆ-ê²€í† \" style=\"position:relative;\"><a href=\"#%ED%95%B4%EA%B2%B0-%EB%B0%A9%EC%95%88-%EA%B2%80%ED%86%A0\" aria-label=\"í•´ê²° ë°©ì•ˆ ê²€í†  permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í•´ê²° ë°©ì•ˆ ê²€í† </h3>\n<p><strong>ë¬¸ì œì :</strong></p>\n<ul>\n<li>íŠ¸ëœì­ì…˜ ë¶„ë¦¬ í•„ìš”</li>\n<li>í¬ì¸íŠ¸ ì§€ê¸‰ ê²°ê³¼ë¥¼ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì•Œë¦¼ í•„ìš”</li>\n<li>ì„±ëŠ¥ê³¼ ì‚¬ìš©ì ê²½í—˜ ê³ ë ¤</li>\n</ul>\n<p><strong>í•´ê²° ë°©ì•ˆ 3ê°€ì§€:</strong></p>\n<ol>\n<li><strong>ë™ê¸° ì²˜ë¦¬ + ì‘ë‹µ DTO í™•ì¥</strong> (ì„ íƒë¨)</li>\n<li><strong>ë¹„ë™ê¸° + WebSocket/SSE ì•Œë¦¼</strong></li>\n<li><strong>ë¹„ë™ê¸° + í´ë§ API</strong></li>\n</ol>\n<h2 id=\"6-ìµœì¢…-êµ¬í˜„---í•˜ì´ë¸Œë¦¬ë“œ-ì ‘ê·¼ë²•\" style=\"position:relative;\"><a href=\"#6-%EC%B5%9C%EC%A2%85-%EA%B5%AC%ED%98%84---%ED%95%98%EC%9D%B4%EB%B8%8C%EB%A6%AC%EB%93%9C-%EC%A0%91%EA%B7%BC%EB%B2%95\" aria-label=\"6 ìµœì¢… êµ¬í˜„   í•˜ì´ë¸Œë¦¬ë“œ ì ‘ê·¼ë²• permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. ìµœì¢… êµ¬í˜„ - í•˜ì´ë¸Œë¦¬ë“œ ì ‘ê·¼ë²•</h2>\n<h3 id=\"í¬ì¸íŠ¸-ì§€ê¸‰-ì´ë²¤íŠ¸-ì„¤ê³„\" style=\"position:relative;\"><a href=\"#%ED%8F%AC%EC%9D%B8%ED%8A%B8-%EC%A7%80%EA%B8%89-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%84%A4%EA%B3%84\" aria-label=\"í¬ì¸íŠ¸ ì§€ê¸‰ ì´ë²¤íŠ¸ ì„¤ê³„ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í¬ì¸íŠ¸ ì§€ê¸‰ ì´ë²¤íŠ¸ ì„¤ê³„</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CaringPointIssuedEvent</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">ApplicationEvent</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">Long</span> userId<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">Integer</span> issuedPoints<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">Integer</span> maxConsecutiveCaringDays<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">Integer</span> nextBigPointDay<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">Integer</span> nextBigPointValue<span class=\"token punctuation\">;</span>\n    \n    <span class=\"token comment\">// constructor, getters...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"ì´ë²¤íŠ¸-ë°œí–‰-ìœ„ì¹˜-ìµœì í™”\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%B0%9C%ED%96%89-%EC%9C%84%EC%B9%98-%EC%B5%9C%EC%A0%81%ED%99%94\" aria-label=\"ì´ë²¤íŠ¸ ë°œí–‰ ìœ„ì¹˜ ìµœì í™” permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì´ë²¤íŠ¸ ë°œí–‰ ìœ„ì¹˜ ìµœì í™”</h3>\n<p><strong>ì‚¬ìš©ì ì œì•ˆ:</strong></p>\n<blockquote>\n<p><code class=\"language-text\">CaringService.recordIntake()</code>ì—ì„œ í¬ì¸íŠ¸ ì§€ê¸‰ ì—¬ë¶€ë¥¼ íŒë‹¨í•´ì„œ ê²°ê³¼ë¥¼ ì´ë²¤íŠ¸ë¡œ ë°œí–‰í•˜ëŠ” ê²ƒë³´ë‹¤, <code class=\"language-text\">CaringPointService.issuePoint()</code>ì—ì„œ <code class=\"language-text\">user.issueCaringPoint()</code>ì˜ ê²°ê³¼ê°€ ì¡´ì¬í•˜ë©´ ë°”ë¡œ ë°œí–‰í•˜ëŠ” ê²Œ ë¡œì§ íë¦„ì„ ë”°ë¼ê°€ëŠ” ê²Œ ìˆ˜ì›”í•  ê²ƒ ê°™ì•„.</p>\n</blockquote>\n<h3 id=\"ìµœì í™”ëœ-êµ¬ì¡°\" style=\"position:relative;\"><a href=\"#%EC%B5%9C%EC%A0%81%ED%99%94%EB%90%9C-%EA%B5%AC%EC%A1%B0\" aria-label=\"ìµœì í™”ëœ êµ¬ì¡° permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ìµœì í™”ëœ êµ¬ì¡°</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// CaringPointService.java</span>\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">void</span> <span class=\"token function\">issuePoint</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">User</span> user<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Optional</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">BigDecimal</span><span class=\"token punctuation\">></span></span> issuedPoint <span class=\"token operator\">=</span> user<span class=\"token punctuation\">.</span><span class=\"token function\">issueCaringPoint</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>issuedPoint<span class=\"token punctuation\">.</span><span class=\"token function\">isPresent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// í¬ì¸íŠ¸ íˆìŠ¤í† ë¦¬ ì €ì¥</span>\n        <span class=\"token class-name\">PointHistory</span> pointHistory <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PointHistory</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ì¼€ì–´ë§\"</span><span class=\"token punctuation\">,</span> issuedPoint<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        pointHistoryRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>pointHistory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        \n        <span class=\"token comment\">// ì‹¤ì œ ì§€ê¸‰ ì‹œì ì—ì„œ ì¦‰ì‹œ ì´ë²¤íŠ¸ ë°œí–‰ ğŸ¯</span>\n        <span class=\"token class-name\">CaringPointIssuedEvent</span> event <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CaringPointIssuedEvent</span><span class=\"token punctuation\">(</span><span class=\"token comment\">/*...*/</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        applicationEventPublisher<span class=\"token punctuation\">.</span><span class=\"token function\">publishEvent</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"completablefutureë¥¼-í™œìš©í•œ-ë™ê¸°-ê²°ê³¼-ìˆ˜ì‹ \" style=\"position:relative;\"><a href=\"#completablefuture%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%EB%8F%99%EA%B8%B0-%EA%B2%B0%EA%B3%BC-%EC%88%98%EC%8B%A0\" aria-label=\"completablefutureë¥¼ í™œìš©í•œ ë™ê¸° ê²°ê³¼ ìˆ˜ì‹  permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CompletableFutureë¥¼ í™œìš©í•œ ë™ê¸° ê²°ê³¼ ìˆ˜ì‹ </h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// IntakeRecordService.java</span>\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">ConcurrentHashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">CompletableFuture</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CaringPointIssuedEvent</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> pendingPointEvents <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ConcurrentHashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token class-name\">IntakeRecordSaveResponse</span> <span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> userId<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Long</span> myProductId<span class=\"token punctuation\">,</span> <span class=\"token class-name\">LocalDateTime</span> intakeDateTime<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ë³µìš© ê¸°ë¡ ì €ì¥</span>\n    <span class=\"token class-name\">IntakeRecord</span> record <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IntakeRecord</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">,</span> myProduct<span class=\"token punctuation\">,</span> intakeDateTime<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    intakeRecordRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>record<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token comment\">// í¬ì¸íŠ¸ ê²°ê³¼ ëŒ€ê¸°ë¥¼ ìœ„í•œ Future ì¤€ë¹„</span>\n    <span class=\"token class-name\">CompletableFuture</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CaringPointIssuedEvent</span><span class=\"token punctuation\">></span></span> pointEventFuture <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CompletableFuture</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    pendingPointEvents<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span>userId<span class=\"token punctuation\">,</span> pointEventFuture<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token comment\">// ì´ë²¤íŠ¸ ë°œí–‰</span>\n    <span class=\"token class-name\">IntakeRecordSavedEvent</span> event <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IntakeRecordSavedEvent</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> userId<span class=\"token punctuation\">,</span> myProductId<span class=\"token punctuation\">,</span> intakeDateTime<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    applicationEventPublisher<span class=\"token punctuation\">.</span><span class=\"token function\">publishEvent</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// ìµœëŒ€ 5ì´ˆ ëŒ€ê¸° (í¬ì¸íŠ¸ ì§€ê¸‰ ì‹œ ì¦‰ì‹œ ì™„ë£Œ)</span>\n        <span class=\"token class-name\">CaringPointIssuedEvent</span> pointEvent <span class=\"token operator\">=</span> pointEventFuture<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">TimeUnit</span><span class=\"token punctuation\">.</span><span class=\"token constant\">SECONDS</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">IntakeRecordSaveResponse</span><span class=\"token punctuation\">.</span><span class=\"token function\">withPoint</span><span class=\"token punctuation\">(</span><span class=\"token comment\">/*...*/</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">IntakeRecordSaveResponse</span><span class=\"token punctuation\">.</span><span class=\"token function\">withoutPoint</span><span class=\"token punctuation\">(</span>record<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">finally</span> <span class=\"token punctuation\">{</span>\n        pendingPointEvents<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span>userId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token annotation punctuation\">@EventListener</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">handleCaringPointIssued</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">CaringPointIssuedEvent</span> event<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">CompletableFuture</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CaringPointIssuedEvent</span><span class=\"token punctuation\">></span></span> future <span class=\"token operator\">=</span> pendingPointEvents<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span><span class=\"token function\">getUserId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>future <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        future<span class=\"token punctuation\">.</span><span class=\"token function\">complete</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ì¦‰ì‹œ ì™„ë£Œ!</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"ë™ê¸°-ì²˜ë¦¬-í™•ì¸\" style=\"position:relative;\"><a href=\"#%EB%8F%99%EA%B8%B0-%EC%B2%98%EB%A6%AC-%ED%99%95%EC%9D%B8\" aria-label=\"ë™ê¸° ì²˜ë¦¬ í™•ì¸ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë™ê¸° ì²˜ë¦¬ í™•ì¸</h3>\n<p><strong>ì‚¬ìš©ì ì§ˆë¬¸:</strong></p>\n<blockquote>\n<p>ê·¸ëŸ¼ ìµœëŒ€ 5ì´ˆ ëŒ€ê¸°í•˜ë‹¤ê°€ ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì‹ í•˜ë©´ ê³§ë°”ë¡œ ê²°ê³¼ë¥¼ return í•˜ëŠ”ê±°ì•¼?</p>\n</blockquote>\n<p><strong>ë‹µë³€:</strong>\në„¤, <code class=\"language-text\">CompletableFuture.get(5, TimeUnit.SECONDS)</code>ëŠ” ìµœëŒ€ 5ì´ˆ ëŒ€ê¸°í•˜ì§€ë§Œ, ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì‹ í•˜ëŠ” ì¦‰ì‹œ <code class=\"language-text\">future.complete(event)</code>ê°€ í˜¸ì¶œë˜ì–´ ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.</p>\n<h2 id=\"7-ìµœì¢…-ê²°ê³¼ë¬¼\" style=\"position:relative;\"><a href=\"#7-%EC%B5%9C%EC%A2%85-%EA%B2%B0%EA%B3%BC%EB%AC%BC\" aria-label=\"7 ìµœì¢… ê²°ê³¼ë¬¼ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7. ìµœì¢… ê²°ê³¼ë¬¼</h2>\n<h3 id=\"ì‘ë‹µ-dto\" style=\"position:relative;\"><a href=\"#%EC%9D%91%EB%8B%B5-dto\" aria-label=\"ì‘ë‹µ dto permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì‘ë‹µ DTO</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Builder</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">record</span> <span class=\"token class-name\">IntakeRecordSaveResponse</span><span class=\"token punctuation\">(</span>\n    <span class=\"token class-name\">Long</span> intakeRecordId<span class=\"token punctuation\">,</span>                    <span class=\"token comment\">// ë³µìš© ê¸°ë¡ ID</span>\n    <span class=\"token keyword\">boolean</span> didIssued<span class=\"token punctuation\">,</span>                      <span class=\"token comment\">// í¬ì¸íŠ¸ ë°œê¸‰ ì—¬ë¶€  </span>\n    <span class=\"token keyword\">int</span> issuedPoint<span class=\"token punctuation\">,</span>                        <span class=\"token comment\">// í¬ì¸íŠ¸ ì§€ê¸‰ì•¡</span>\n    <span class=\"token keyword\">int</span> maxConsecutiveCaringDays<span class=\"token punctuation\">,</span>           <span class=\"token comment\">// ì—°ì† ë‹¬ì„± ì¼ìˆ˜</span>\n    <span class=\"token keyword\">int</span> nextBigPointDay<span class=\"token punctuation\">,</span>                    <span class=\"token comment\">// ë‹¤ìŒ í° í¬ì¸íŠ¸ ë°›ì„ ì¼ìˆ˜</span>\n    <span class=\"token keyword\">int</span> nextBigPointValue                   <span class=\"token comment\">// ë‹¤ìŒ í° í¬ì¸íŠ¸ ê°’</span>\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ì •ì  íŒ©í† ë¦¬ ë©”ì„œë“œë“¤...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"ì‹¤í–‰-íë¦„\" style=\"position:relative;\"><a href=\"#%EC%8B%A4%ED%96%89-%ED%9D%90%EB%A6%84\" aria-label=\"ì‹¤í–‰ íë¦„ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì‹¤í–‰ íë¦„</h3>\n<ol>\n<li><code class=\"language-text\">IntakeRecordService.save()</code> í˜¸ì¶œ</li>\n<li>ë³µìš© ê¸°ë¡ ì €ì¥ + ì´ë²¤íŠ¸ ë°œí–‰ + CompletableFuture ëŒ€ê¸° ì‹œì‘</li>\n<li>íŠ¸ëœì­ì…˜ A ì»¤ë°‹</li>\n<li><code class=\"language-text\">CaringService.recordIntake()</code> ì‹¤í–‰ (íŠ¸ëœì­ì…˜ B)</li>\n<li><code class=\"language-text\">CaringPointService.judgeAndIssuePoint()</code> í˜¸ì¶œ</li>\n<li>í¬ì¸íŠ¸ ì§€ê¸‰ ì‹œ <code class=\"language-text\">CaringPointIssuedEvent</code> ë°œí–‰</li>\n<li><code class=\"language-text\">IntakeRecordService</code>ì—ì„œ ì´ë²¤íŠ¸ ìˆ˜ì‹  â†’ CompletableFuture ì™„ë£Œ</li>\n<li>í¬ì¸íŠ¸ ì •ë³´ í¬í•¨í•œ ì‘ë‹µ ë°˜í™˜</li>\n</ol>\n<h2 id=\"8-ê°œì„ -ê²°ê³¼\" style=\"position:relative;\"><a href=\"#8-%EA%B0%9C%EC%84%A0-%EA%B2%B0%EA%B3%BC\" aria-label=\"8 ê°œì„  ê²°ê³¼ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>8. ê°œì„  ê²°ê³¼</h2>\n<h3 id=\"ë‹¬ì„±í•œ-ëª©í‘œë“¤\" style=\"position:relative;\"><a href=\"#%EB%8B%AC%EC%84%B1%ED%95%9C-%EB%AA%A9%ED%91%9C%EB%93%A4\" aria-label=\"ë‹¬ì„±í•œ ëª©í‘œë“¤ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë‹¬ì„±í•œ ëª©í‘œë“¤</h3>\n<ul>\n<li>âœ… <strong>íŠ¸ëœì­ì…˜ ë…ë¦½ì„± ë³´ì¥</strong>: ì¼€ì–´ë§ ì‹¤íŒ¨ê°€ ë³µìš© ê¸°ë¡ì— ì˜í–¥ ì—†ìŒ</li>\n<li>âœ… <strong>ëŠìŠ¨í•œ ê²°í•©</strong>: ì´ë²¤íŠ¸ ê¸°ë°˜ìœ¼ë¡œ ì„œë¹„ìŠ¤ ê°„ ì˜ì¡´ì„± ì œê±°</li>\n<li>âœ… <strong>í¬ì¸íŠ¸ ì§€ê¸‰ ê²°ê³¼ ì•Œë¦¼</strong>: í´ë¼ì´ì–¸íŠ¸ê°€ ì¦‰ì‹œ ê²°ê³¼ í™•ì¸ ê°€ëŠ¥</li>\n<li>âœ… <strong>ì„±ëŠ¥ ìµœì í™”</strong>: í¬ì¸íŠ¸ ì§€ê¸‰ ì‹œ ì¦‰ì‹œ ì‘ë‹µ, íƒ€ì„ì•„ì›ƒ ì²˜ë¦¬</li>\n</ul>\n<h3 id=\"í•µì‹¬-ë°°ìš´-ì ë“¤\" style=\"position:relative;\"><a href=\"#%ED%95%B5%EC%8B%AC-%EB%B0%B0%EC%9A%B4-%EC%A0%90%EB%93%A4\" aria-label=\"í•µì‹¬ ë°°ìš´ ì ë“¤ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í•µì‹¬ ë°°ìš´ ì ë“¤</h3>\n<ol>\n<li><strong>ì´ë²¤íŠ¸ ë°œí–‰ ìœ„ì¹˜ì˜ ì¤‘ìš”ì„±</strong>: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì˜ ìì—°ìŠ¤ëŸ¬ìš´ íë¦„ì„ ë”°ë¼ì•¼ í•¨</li>\n<li><strong>íŠ¸ëœì­ì…˜ ê²½ê³„ ì„¤ê³„</strong>: <code class=\"language-text\">@TransactionalEventListener</code> í™œìš©ì˜ ê°•ë ¥í•¨</li>\n<li><strong>ë™ê¸°-ë¹„ë™ê¸° í•˜ì´ë¸Œë¦¬ë“œ</strong>: <code class=\"language-text\">CompletableFuture</code>ë¡œ ë‘ ìš”êµ¬ì‚¬í•­ì„ ëª¨ë‘ ë§Œì¡±</li>\n<li><strong>í™•ì¥ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜</strong>: ì´ë²¤íŠ¸ ê¸°ë°˜ìœ¼ë¡œ ìƒˆë¡œìš´ ìš”êµ¬ì‚¬í•­ ëŒ€ì‘ ìš©ì´</li>\n</ol>\n<h2 id=\"9-í–¥í›„-í™•ì¥-ê°€ëŠ¥ì„±\" style=\"position:relative;\"><a href=\"#9-%ED%96%A5%ED%9B%84-%ED%99%95%EC%9E%A5-%EA%B0%80%EB%8A%A5%EC%84%B1\" aria-label=\"9 í–¥í›„ í™•ì¥ ê°€ëŠ¥ì„± permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>9. í–¥í›„ í™•ì¥ ê°€ëŠ¥ì„±</h2>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • ì—†ì´ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë§Œ ì¶”ê°€</span>\n<span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">NotificationService</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@EventListener</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">sendPointNotification</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">CaringPointIssuedEvent</span> event<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// í¬ì¸íŠ¸ ì§€ê¸‰ ì•Œë¦¼ ì „ì†¡</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token annotation punctuation\">@Component</span>  \n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AnalyticsService</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@EventListener</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">trackIntakeRecord</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">IntakeRecordSavedEvent</span> event<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// ë³µìš© ê¸°ë¡ ë¶„ì„ ë°ì´í„° ìˆ˜ì§‘</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<hr>\n<p>ì´ ëŒ€í™”ë¥¼ í†µí•´ ë‹¨ìˆœí•œ ì„œë¹„ìŠ¤ ë¶„ë¦¬ë¥¼ ë„˜ì–´ì„œ í™•ì¥ ê°€ëŠ¥í•˜ê³  ê²¬ê³ í•œ ì´ë²¤íŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜ë¥¼ êµ¬ì¶•í•˜ëŠ” ì „ ê³¼ì •ì„ ë‹¤ë¤˜ìŠµë‹ˆë‹¤. Springì˜ ì´ë²¤íŠ¸ ë©”ì»¤ë‹ˆì¦˜ì„ ì ê·¹ í™œìš©í•˜ì—¬ ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­ê³¼ ê¸°ìˆ ì  ìš”êµ¬ì‚¬í•­ì„ ëª¨ë‘ ë§Œì¡±í•˜ëŠ” ì†”ë£¨ì…˜ì„ ë§Œë“¤ì–´ëƒˆìŠµë‹ˆë‹¤.</p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#spring-event%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%EC%BC%80%EC%96%B4%EB%A7%81-%ED%8F%AC%EC%9D%B8%ED%8A%B8-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EB%A6%AC%ED%8C%A9%ED%86%A0%EB%A7%81-%EB%8C%80%ED%99%94-%EA%B8%B0%EB%A1%9D\">Spring Eventë¥¼ í™œìš©í•œ ì¼€ì–´ë§ í¬ì¸íŠ¸ ì‹œìŠ¤í…œ ë¦¬íŒ©í† ë§ ëŒ€í™” ê¸°ë¡</a></p>\n<ul>\n<li>\n<p><a href=\"#%EA%B0%9C%EC%9A%94\">ê°œìš”</a></p>\n</li>\n<li>\n<p><a href=\"#1-%EC%8B%9C%EC%9E%91%EC%A0%90%EA%B3%BC-%EB%AC%B8%EC%A0%9C-%EC%9D%B8%EC%8B%9D\">1. ì‹œì‘ì ê³¼ ë¬¸ì œ ì¸ì‹</a></p>\n<ul>\n<li><a href=\"#%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%A7%88%EB%AC%B8\">ì‚¬ìš©ì ì§ˆë¬¸</a></li>\n<li><a href=\"#%ED%98%84%EC%9E%AC-%EC%83%81%ED%99%A9-%EB%B6%84%EC%84%9D\">í˜„ì¬ ìƒí™© ë¶„ì„</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#2-%EC%B2%AB-%EB%B2%88%EC%A7%B8-%EB%A6%AC%ED%8C%A9%ED%86%A0%EB%A7%81-%EC%8B%9C%EB%8F%84\">2. ì²« ë²ˆì§¸ ë¦¬íŒ©í† ë§ ì‹œë„</a></p>\n<ul>\n<li><a href=\"#%EA%B8%B0%EB%B3%B8-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EA%B5%AC%EC%A1%B0-%EA%B5%AC%ED%98%84\">ê¸°ë³¸ ì´ë²¤íŠ¸ êµ¬ì¡° êµ¬í˜„</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#3-%EA%B5%AC%EC%A1%B0-%EA%B0%9C%EC%84%A0---%EB%B6%88%ED%95%84%EC%9A%94%ED%95%9C-%EB%9E%98%ED%8D%BC-%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%A0%9C%EA%B1%B0\">3. êµ¬ì¡° ê°œì„  - ë¶ˆí•„ìš”í•œ ë˜í¼ í´ë˜ìŠ¤ ì œê±°</a></p>\n<ul>\n<li><a href=\"#%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%A7%80%EC%A0%81\">ì‚¬ìš©ì ì§€ì </a></li>\n<li><a href=\"#%EA%B0%9C%EC%84%A0-%EB%B0%A9%ED%96%A5\">ê°œì„  ë°©í–¥</a></li>\n<li><a href=\"#%EA%B5%AC%ED%98%84\">êµ¬í˜„</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#4-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98-%EB%B6%84%EB%A6%AC-%EA%B3%A0%EB%AF%BC\">4. íŠ¸ëœì­ì…˜ ë¶„ë¦¬ ê³ ë¯¼</a></p>\n<ul>\n<li><a href=\"#%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%A7%88%EB%AC%B8-1\">ì‚¬ìš©ì ì§ˆë¬¸</a></li>\n<li><a href=\"#%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98-%EB%B6%84%EB%A6%AC-%EB%B0%A9%EB%B2%95-%EB%85%BC%EC%9D%98\">íŠ¸ëœì­ì…˜ ë¶„ë¦¬ ë°©ë²• ë…¼ì˜</a></li>\n<li><a href=\"#%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98-%EC%8B%A4%ED%96%89-%EC%88%9C%EC%84%9C-%ED%99%95%EC%9D%B8\">íŠ¸ëœì­ì…˜ ì‹¤í–‰ ìˆœì„œ í™•ì¸</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#5-%EB%8F%99%EA%B8%B0%EB%B9%84%EB%8F%99%EA%B8%B0-%EC%B2%98%EB%A6%AC-%EB%94%9C%EB%A0%88%EB%A7%88\">5. ë™ê¸°/ë¹„ë™ê¸° ì²˜ë¦¬ ë”œë ˆë§ˆ</a></p>\n<ul>\n<li><a href=\"#%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%9A%94%EA%B5%AC%EC%82%AC%ED%95%AD-%EC%B6%94%EA%B0%80\">ì‚¬ìš©ì ìš”êµ¬ì‚¬í•­ ì¶”ê°€</a></li>\n<li><a href=\"#%ED%95%B4%EA%B2%B0-%EB%B0%A9%EC%95%88-%EA%B2%80%ED%86%A0\">í•´ê²° ë°©ì•ˆ ê²€í† </a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#6-%EC%B5%9C%EC%A2%85-%EA%B5%AC%ED%98%84---%ED%95%98%EC%9D%B4%EB%B8%8C%EB%A6%AC%EB%93%9C-%EC%A0%91%EA%B7%BC%EB%B2%95\">6. ìµœì¢… êµ¬í˜„ - í•˜ì´ë¸Œë¦¬ë“œ ì ‘ê·¼ë²•</a></p>\n<ul>\n<li><a href=\"#%ED%8F%AC%EC%9D%B8%ED%8A%B8-%EC%A7%80%EA%B8%89-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%84%A4%EA%B3%84\">í¬ì¸íŠ¸ ì§€ê¸‰ ì´ë²¤íŠ¸ ì„¤ê³„</a></li>\n<li><a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%B0%9C%ED%96%89-%EC%9C%84%EC%B9%98-%EC%B5%9C%EC%A0%81%ED%99%94\">ì´ë²¤íŠ¸ ë°œí–‰ ìœ„ì¹˜ ìµœì í™”</a></li>\n<li><a href=\"#%EC%B5%9C%EC%A0%81%ED%99%94%EB%90%9C-%EA%B5%AC%EC%A1%B0\">ìµœì í™”ëœ êµ¬ì¡°</a></li>\n<li><a href=\"#completablefuture%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%EB%8F%99%EA%B8%B0-%EA%B2%B0%EA%B3%BC-%EC%88%98%EC%8B%A0\">CompletableFutureë¥¼ í™œìš©í•œ ë™ê¸° ê²°ê³¼ ìˆ˜ì‹ </a></li>\n<li><a href=\"#%EB%8F%99%EA%B8%B0-%EC%B2%98%EB%A6%AC-%ED%99%95%EC%9D%B8\">ë™ê¸° ì²˜ë¦¬ í™•ì¸</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#7-%EC%B5%9C%EC%A2%85-%EA%B2%B0%EA%B3%BC%EB%AC%BC\">7. ìµœì¢… ê²°ê³¼ë¬¼</a></p>\n<ul>\n<li><a href=\"#%EC%9D%91%EB%8B%B5-dto\">ì‘ë‹µ DTO</a></li>\n<li><a href=\"#%EC%8B%A4%ED%96%89-%ED%9D%90%EB%A6%84\">ì‹¤í–‰ íë¦„</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#8-%EA%B0%9C%EC%84%A0-%EA%B2%B0%EA%B3%BC\">8. ê°œì„  ê²°ê³¼</a></p>\n<ul>\n<li><a href=\"#%EB%8B%AC%EC%84%B1%ED%95%9C-%EB%AA%A9%ED%91%9C%EB%93%A4\">ë‹¬ì„±í•œ ëª©í‘œë“¤</a></li>\n<li><a href=\"#%ED%95%B5%EC%8B%AC-%EB%B0%B0%EC%9A%B4-%EC%A0%90%EB%93%A4\">í•µì‹¬ ë°°ìš´ ì ë“¤</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#9-%ED%96%A5%ED%9B%84-%ED%99%95%EC%9E%A5-%EA%B0%80%EB%8A%A5%EC%84%B1\">9. í–¥í›„ í™•ì¥ ê°€ëŠ¥ì„±</a></p>\n</li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"","date":null,"description":null,"tags":null,"series":null}},"previous":{"fields":{"slug":"/êµì–‘/ì–´ëŠ-ë‚ -ê³ ë¯¼-ë§ì€-ì£¼ë‹ˆì–´-ê°œë°œìê°€-ì°¾ì•„ì™”ë‹¤/"},"frontmatter":{"title":"ì–´ëŠ ë‚  ê³ ë¯¼ ë§ì€ ì£¼ë‹ˆì–´ ê°œë°œìê°€ ì°¾ì•„ì™”ë‹¤ 1, 2íƒ„ì„ ë³´ê³  ëŠë‚€ ì "}},"next":null},"pageContext":{"id":"bdba0568-226e-57ca-bed2-2664cdbb566d","previousPostId":"9788742d-12ff-57f7-9dc6-8d4b43cf8956","nextPostId":null}},"staticQueryHashes":["1475414628","2841359383"],"slicesMap":{}}