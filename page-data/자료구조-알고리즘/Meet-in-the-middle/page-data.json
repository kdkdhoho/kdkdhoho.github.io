{"componentChunkName":"component---src-templates-blog-post-js","path":"/자료구조-알고리즘/Meet-in-the-middle/","result":{"data":{"site":{"siteMetadata":{"title":"김동호 블로그"}},"markdownRemark":{"id":"dbeb4ed7-6a5f-520c-bc0e-fbbd0c83ca4e","excerpt":"Meet in the middle이란? Meet in the middle 은 전체 탐색 공간이 너무 커서 완전 탐색 방식으로는 해결이 불가능할 때, 탐색 범위를 두 부분으로 나누어 각각 해결한 뒤 그 결과를 조합해서 전체 해를 찾는 알고리즘 기법이다. 이 방식은 분할 정복(Divide…","html":"<h1 id=\"meet-in-the-middle이란\" style=\"position:relative;\"><a href=\"#meet-in-the-middle%EC%9D%B4%EB%9E%80\" aria-label=\"meet in the middle이란 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Meet in the middle이란?</h1>\n<p><em>Meet in the middle</em> 은 전체 탐색 공간이 너무 커서 완전 탐색 방식으로는 해결이 불가능할 때, <strong>탐색 범위를 두 부분으로 나누어 각각 해결한 뒤 그 결과를 조합해서 전체 해를 찾는 알고리즘 기법</strong>이다.</p>\n<p>이 방식은 분할 정복(Divide and Conquer)과 유사해보이지만, <strong>부분 문제들이 서로 독립적이지 않고 결과값을 서로 대조해야 한다는 점에서 차이</strong>가 있다.</p>\n<h1 id=\"사용-목적\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9-%EB%AA%A9%EC%A0%81\" aria-label=\"사용 목적 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>사용 목적</h1>\n<p>이 알고리즘 기법의 주된 목적은 <strong>지수 시간 복잡도를 가지는 문제의 연산 횟수를 획기적으로 줄이는 것</strong>이다.</p>\n<p>예를 들어, 크기가 n인 데이터에 대해 모든 경우의 수를 조사해야 하는 문제의 시간 복잡도가 O(2^n) 이라고 가정한다면, n=40일 때 연산 횟수는 약 1조를 넘어간다.</p>\n<p>이때 Meet in the middle 기법을 적용하여, 문제를 n/2 크기의 두 부분으로 나누면 각각 2^20, 즉 1,048,576번의 연산만 수행한다.<br>\n따라서 두 부분의 결과를 정렬하고 비교하는 과정을 포함하더라도 전체 복잡도는 O(2^(n/2) * n) 수준으로 감소한다.</p>\n<h1 id=\"기본적인-틀\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EB%B3%B8%EC%A0%81%EC%9D%B8-%ED%8B%80\" aria-label=\"기본적인 틀 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기본적인 틀</h1>\n<p>Meet in the middle의 기본적인 형태를 Python 코드로 작성하면 다음과 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">minimumDifference</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> nums<span class=\"token punctuation\">:</span> List<span class=\"token punctuation\">[</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># nums를 절반씩 나눈다.</span>\n    n <span class=\"token operator\">=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">)</span>\n    left_nums <span class=\"token operator\">=</span> nums<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span>n<span class=\"token operator\">//</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span>\n    right_nums <span class=\"token operator\">=</span> nums<span class=\"token punctuation\">[</span>n<span class=\"token operator\">//</span><span class=\"token number\">2</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span>\n\n    <span class=\"token comment\"># 각 배열로 만들 수 있는 모든 경우의 합을 저장한 리스트를 구한다.</span>\n    left_sums <span class=\"token operator\">=</span> get_sums<span class=\"token punctuation\">(</span>left_nums<span class=\"token punctuation\">)</span>\n    right_sums <span class=\"token operator\">=</span> get_sums<span class=\"token punctuation\">(</span>right_sums<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_sums</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">:</span> List<span class=\"token punctuation\">[</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> List<span class=\"token punctuation\">[</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n    result <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">recurse</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">,</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">if</span> i <span class=\"token operator\">==</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            result<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token builtin\">sum</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">return</span>\n        recurse<span class=\"token punctuation\">(</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">sum</span> <span class=\"token operator\">+</span> arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n        recurse<span class=\"token punctuation\">(</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">)</span>\n\n    recurse<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> result</code></pre></div>\n<p>이렇게 두 배열로 나누고 각 배열에 대해 완전탐색을 수행한 다음에는 문제에서 요구하는 바를 적절히 구현하면 된다.</p>\n<h1 id=\"대표적인-활용-사례-부분-집합의-합\" style=\"position:relative;\"><a href=\"#%EB%8C%80%ED%91%9C%EC%A0%81%EC%9D%B8-%ED%99%9C%EC%9A%A9-%EC%82%AC%EB%A1%80-%EB%B6%80%EB%B6%84-%EC%A7%91%ED%95%A9%EC%9D%98-%ED%95%A9\" aria-label=\"대표적인 활용 사례 부분 집합의 합 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>대표적인 활용 사례: 부분 집합의 합</h1>\n<p>N개의 정수가 주어졌을 때, 원소들의 합이 정확히 S가 되는 부분 집합의 개수를 구하는 문제를 예로 들 수 있다.<br>\n이 문제는 다음과 같은 순서로 접근할 수 있다.</p>\n<ol>\n<li>데이터를 절반으로 나누어 집합 A와 B로 나눈다.</li>\n<li>집합 A에서 만들 수 있는 모든 부분 집합의 합을 구해 리스트 <code class=\"language-text\">sum_a</code>에 저장한다.</li>\n<li>집합 B에서 만들 수 있는 모든 부분 집합의 합을 구해 리스트 <code class=\"language-text\">sum_b</code>에 저장한다.</li>\n<li><code class=\"language-text\">sum_a</code>를 오름차순으로 정렬한다.</li>\n<li><code class=\"language-text\">sum_b</code>의 각 원소 <code class=\"language-text\">x</code>에 대해, <code class=\"language-text\">sum_a</code>에서 <code class=\"language-text\">S-x</code>가 존재하는지 이진 탐색으로 찾는다(혹은 해시맵을 사용해서 부분 집합의 합을 Key로, 합의 개수를 Value로 저장한 다음 찾는 방법도 있다.)</li>\n</ol>\n<h2 id=\"백준-부분수열의-합2\" style=\"position:relative;\"><a href=\"#%EB%B0%B1%EC%A4%80-%EB%B6%80%EB%B6%84%EC%88%98%EC%97%B4%EC%9D%98-%ED%95%A92\" aria-label=\"백준 부분수열의 합2 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>백준, 부분수열의 합2</h2>\n<p>백준의 <a href=\"https://www.acmicpc.net/problem/1208\">부분수열의 합2</a> 문제가 위에서 설명한 문제와 같다.<br>\n아래는 풀이 코드이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> sys\n\n<span class=\"token builtin\">input</span> <span class=\"token operator\">=</span> sys<span class=\"token punctuation\">.</span>stdin<span class=\"token punctuation\">.</span>readline\n\nn<span class=\"token punctuation\">,</span> s <span class=\"token operator\">=</span> <span class=\"token builtin\">map</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">input</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\narr <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">map</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">input</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># 배열을 절반씩 나눈다.</span>\n    left_arr <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span> <span class=\"token operator\">//</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span>\n    right_arr <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span> <span class=\"token operator\">//</span> <span class=\"token number\">2</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span>\n\n    <span class=\"token comment\"># 나눈 배열에서 구할 수 있는 모든 부분 집합의 합을 구한다.</span>\n    left_sum_count_dict <span class=\"token operator\">=</span> get_sum_count_dict<span class=\"token punctuation\">(</span>left_arr<span class=\"token punctuation\">)</span>\n    right_sum_count_dict <span class=\"token operator\">=</span> get_sum_count_dict<span class=\"token punctuation\">(</span>right_arr<span class=\"token punctuation\">)</span>\n\n    answer <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    <span class=\"token comment\"># 한 쪽 배열에서만 생성된 결과를 순회한다.</span>\n    <span class=\"token keyword\">for</span> left_sum<span class=\"token punctuation\">,</span> left_cnt <span class=\"token keyword\">in</span> left_sum_count_dict<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># O(2^20)</span>\n        target <span class=\"token operator\">=</span> s <span class=\"token operator\">-</span> left_sum\n        <span class=\"token keyword\">if</span> target <span class=\"token keyword\">in</span> right_sum_count_dict<span class=\"token punctuation\">:</span> <span class=\"token comment\"># O(1)</span>\n            answer <span class=\"token operator\">+=</span> <span class=\"token punctuation\">(</span>left_cnt <span class=\"token operator\">*</span> right_sum_count_dict<span class=\"token punctuation\">[</span>target<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\"># S가 0인 경우, 양쪽 모두 공집합을 선택한 경우가 중복으로 포함되므로 1 감소한다.</span>\n    <span class=\"token keyword\">if</span> s <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n        answer <span class=\"token operator\">-=</span> <span class=\"token number\">1</span>\n\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>answer<span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_sum_count_dict</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    result <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n    recurse<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">,</span> result<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> result\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">recurse</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">,</span> result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> i <span class=\"token operator\">==</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        count <span class=\"token operator\">=</span> result<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token builtin\">sum</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n        result<span class=\"token punctuation\">[</span><span class=\"token builtin\">sum</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> count <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n        <span class=\"token keyword\">return</span>\n\n    recurse<span class=\"token punctuation\">(</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">sum</span> <span class=\"token operator\">+</span> arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">,</span> result<span class=\"token punctuation\">)</span>\n    recurse<span class=\"token punctuation\">(</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">,</span> result<span class=\"token punctuation\">)</span>\n\n\nmain<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  </code></pre></div>\n<h2 id=\"leetcode-partition-array-into-two-arrays-to-minimize-sum-difference\" style=\"position:relative;\"><a href=\"#leetcode-partition-array-into-two-arrays-to-minimize-sum-difference\" aria-label=\"leetcode partition array into two arrays to minimize sum difference permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LeetCode, Partition Array Into Two Arrays to Minimize Sum Difference</h2>\n<p>LeetCode의 <a href=\"https://leetcode.com/problems/partition-array-into-two-arrays-to-minimize-sum-difference/description/\">Partition Array Into Two Arrays to Minimize Sum Difference</a> 또한 Meet me in the middle 기법을 사용하는 대표적인 문제다.</p>\n<p>아래는 풀이 코드이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> bisect\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">minimumDifference</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> nums<span class=\"token punctuation\">:</span> List<span class=\"token punctuation\">[</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">:</span>\n        S <span class=\"token operator\">=</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">)</span>\n        <span class=\"token comment\"># 전체 길이의 절반을 n으로 정의한다.</span>\n        n <span class=\"token operator\">=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">)</span> <span class=\"token operator\">//</span> <span class=\"token number\">2</span>\n        left_nums <span class=\"token operator\">=</span> nums<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span>n<span class=\"token punctuation\">]</span>\n        right_nums <span class=\"token operator\">=</span> nums<span class=\"token punctuation\">[</span>n<span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span>\n\n        <span class=\"token comment\"># 재귀 함수를 사용하여 부분 집합의 합을 구하는 함수다.</span>\n        <span class=\"token comment\"># 선택한 원소의 개수를 Key로, 합의 리스트를 Value로 반환한다.</span>\n        <span class=\"token keyword\">def</span> <span class=\"token function\">get_sums</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            result <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>i<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>n <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n\n            <span class=\"token keyword\">def</span> <span class=\"token function\">dfs</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span> _sum<span class=\"token punctuation\">,</span> cnt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">if</span> i <span class=\"token operator\">==</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                    result<span class=\"token punctuation\">[</span>cnt<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>_sum<span class=\"token punctuation\">)</span>\n                    <span class=\"token keyword\">return</span>\n                dfs<span class=\"token punctuation\">(</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> _sum <span class=\"token operator\">+</span> arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> cnt <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n                dfs<span class=\"token punctuation\">(</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> _sum<span class=\"token punctuation\">,</span> cnt<span class=\"token punctuation\">)</span>\n\n            dfs<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">return</span> result\n\n        left_part <span class=\"token operator\">=</span> get_sums<span class=\"token punctuation\">(</span>left_nums<span class=\"token punctuation\">)</span>\n        right_part <span class=\"token operator\">=</span> get_sums<span class=\"token punctuation\">(</span>right_nums<span class=\"token punctuation\">)</span>\n\n        answer <span class=\"token operator\">=</span> <span class=\"token number\">1e9</span>\n\n        <span class=\"token comment\"># 왼쪽에서 left_cnt개를 뽑는다.</span>\n        <span class=\"token keyword\">for</span> left_cnt <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>n <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            right_cnt <span class=\"token operator\">=</span> n <span class=\"token operator\">-</span> left_cnt <span class=\"token comment\"># 오른쪽에서는 n - left_cnt개를 뽑는다.</span>\n            right_sums <span class=\"token operator\">=</span> right_part<span class=\"token punctuation\">[</span>right_cnt<span class=\"token punctuation\">]</span> <span class=\"token comment\"># 해당 개수로 만들 수 있는 부분 수열의 총합 리스트</span>\n            right_sums<span class=\"token punctuation\">.</span>sort<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n            <span class=\"token keyword\">for</span> L <span class=\"token keyword\">in</span> left_part<span class=\"token punctuation\">[</span>left_cnt<span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n                <span class=\"token comment\"># 두 배열의 합의 차이는 |2 * (L + R) - S| 이다.</span>\n                <span class=\"token comment\"># 차이를 최소화하려면 right_sum이 S/2 - L에 가장 가까워야 한다.</span>\n                target <span class=\"token operator\">=</span> S<span class=\"token operator\">/</span><span class=\"token number\">2</span> <span class=\"token operator\">-</span> L\n\n                <span class=\"token comment\"># bisect_left를 이용해 target이 들어갈 위치를 찾는다.</span>\n                idx <span class=\"token operator\">=</span> bisect<span class=\"token punctuation\">.</span>bisect_left<span class=\"token punctuation\">(</span>right_sums<span class=\"token punctuation\">,</span> target<span class=\"token punctuation\">)</span>\n\n                <span class=\"token comment\"># target보다 크거나 같은 값 중 가장 가까운 값 확인</span>\n                <span class=\"token keyword\">if</span> idx <span class=\"token operator\">&lt;</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>right_sums<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                    R <span class=\"token operator\">=</span> right_sums<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">]</span>\n                    diff <span class=\"token operator\">=</span> <span class=\"token builtin\">abs</span><span class=\"token punctuation\">(</span>S <span class=\"token operator\">-</span> <span class=\"token number\">2</span><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span>L <span class=\"token operator\">+</span> R<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token keyword\">if</span> diff <span class=\"token operator\">&lt;</span> answer<span class=\"token punctuation\">:</span>\n                        answer <span class=\"token operator\">=</span> diff\n\n                <span class=\"token comment\"># target보다 작은 값 중 가장 가까운 값 확인</span>\n                <span class=\"token keyword\">if</span> idx <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n                    R <span class=\"token operator\">=</span> right_sums<span class=\"token punctuation\">[</span>idx <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n                    diff <span class=\"token operator\">=</span> <span class=\"token builtin\">abs</span><span class=\"token punctuation\">(</span>S <span class=\"token operator\">-</span> <span class=\"token number\">2</span><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span>L <span class=\"token operator\">+</span> R<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token keyword\">if</span> diff <span class=\"token operator\">&lt;</span> answer<span class=\"token punctuation\">:</span>\n                        answer <span class=\"token operator\">=</span> diff\n\n        <span class=\"token keyword\">return</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>answer<span class=\"token punctuation\">)</span></code></pre></div>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#meet-in-the-middle%EC%9D%B4%EB%9E%80\">Meet in the middle이란?</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%82%AC%EC%9A%A9-%EB%AA%A9%EC%A0%81\">사용 목적</a></p>\n</li>\n<li>\n<p><a href=\"#%EA%B8%B0%EB%B3%B8%EC%A0%81%EC%9D%B8-%ED%8B%80\">기본적인 틀</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%8C%80%ED%91%9C%EC%A0%81%EC%9D%B8-%ED%99%9C%EC%9A%A9-%EC%82%AC%EB%A1%80-%EB%B6%80%EB%B6%84-%EC%A7%91%ED%95%A9%EC%9D%98-%ED%95%A9\">대표적인 활용 사례: 부분 집합의 합</a></p>\n<ul>\n<li><a href=\"#%EB%B0%B1%EC%A4%80-%EB%B6%80%EB%B6%84%EC%88%98%EC%97%B4%EC%9D%98-%ED%95%A92\">백준, 부분수열의 합2</a></li>\n<li><a href=\"#leetcode-partition-array-into-two-arrays-to-minimize-sum-difference\">LeetCode, Partition Array Into Two Arrays to Minimize Sum Difference</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"","date":"2026년 2월 5일","description":"","tags":["알고리즘","Meet in the middle"],"series":null}},"previous":{"fields":{"slug":"/독서기록/진작 이렇게 책을 읽었더라면/"},"frontmatter":{"title":"장경철의 <진작 이렇게 책을 읽었더라면>을 읽고"}},"next":{"fields":{"slug":"/자료구조-알고리즘/단조 스택/"},"frontmatter":{"title":"단조 스택(Monotonic Stack)"}}},"pageContext":{"id":"dbeb4ed7-6a5f-520c-bc0e-fbbd0c83ca4e","previousPostId":"92e345c4-0bf9-5f2b-bd5c-224ae71be057","nextPostId":"8d2caf11-6856-5719-94c1-9eedb6ebeca7"}},"staticQueryHashes":["1475414628","2841359383","3539066558"],"slicesMap":{}}