{"componentChunkName":"component---src-templates-blog-post-js","path":"/database/real-mysql-book-study/04-mysql-engine-architecture/","result":{"data":{"site":{"siteMetadata":{"title":"내가 재밌는 일을 하자 !"}},"markdownRemark":{"id":"1e53b2f6-f045-5b28-9a80-c2a26a703f77","excerpt":"MySQL 엔진 아키텍처  MySQL 서버는 크게 MySQL 엔진과 스토리지 엔진으로 나뉜다. MySQL…","html":"<h2 id=\"mysql-엔진-아키텍처\" style=\"position:relative;\"><a href=\"#mysql-%EC%97%94%EC%A7%84-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98\" aria-label=\"mysql 엔진 아키텍처 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MySQL 엔진 아키텍처</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b9c53b77681406b338ac3bd2a26be5b8/095fc/entire-structure-mysql.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 87.9746835443038%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAASABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAECBAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHtqQaAAAf/xAAaEAACAgMAAAAAAAAAAAAAAAAAAQIRECAh/9oACAEBAAEFAmLE1ZXdP//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABYQAAMAAAAAAAAAAAAAAAAAAAAwQf/aAAgBAQAGPwIiP//EABsQAAIDAQEBAAAAAAAAAAAAAAERECExAGFx/9oACAEBAAE/IdaOIhX6hw6vvKhtgvahT//aAAwDAQACAAMAAAAQgwc8/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAHRABAAICAgMAAAAAAAAAAAAAAQARECExUXGBof/aAAgBAQABPxC6wDytw4rHS/mKStgcI36gSW4AbL7hoCIeQlY//9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"MySQL의 전체 구조\"\n        title=\"\"\n        src=\"/static/b9c53b77681406b338ac3bd2a26be5b8/828fb/entire-structure-mysql.jpg\"\n        srcset=\"/static/b9c53b77681406b338ac3bd2a26be5b8/ff44c/entire-structure-mysql.jpg 158w,\n/static/b9c53b77681406b338ac3bd2a26be5b8/a6688/entire-structure-mysql.jpg 315w,\n/static/b9c53b77681406b338ac3bd2a26be5b8/828fb/entire-structure-mysql.jpg 630w,\n/static/b9c53b77681406b338ac3bd2a26be5b8/0ede0/entire-structure-mysql.jpg 945w,\n/static/b9c53b77681406b338ac3bd2a26be5b8/095fc/entire-structure-mysql.jpg 1134w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>MySQL 서버는 크게 <strong>MySQL 엔진</strong>과 <strong>스토리지 엔진</strong>으로 나뉜다.</p>\n<h3 id=\"mysql-엔진\" style=\"position:relative;\"><a href=\"#mysql-%EC%97%94%EC%A7%84\" aria-label=\"mysql 엔진 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MySQL 엔진</h3>\n<p>클라이언트와의 연결, 요청된 쿼리문을 파악하고 분석 및 최적화하는 작업을 수행한다.</p>\n<p>그 후, 실제 동작은 <em>스토리지 엔진</em>에 요청한다.</p>\n<p>이를 <em>핸들러 요청</em>이라고 하고, 여기에 사용되는 API를 <em>핸들러 API</em>라고 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\">mysql<span class=\"token operator\">></span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>SHOW GLOBAL STATUS LIKE Handler%<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>명령어로 핸들러 API를 확인할 수 있다.</p>\n<p>MySQL 엔진은 아래와 같은 기능들로 이루어져 있다.</p>\n<ul>\n<li>커넥션 핸들러</li>\n<li>SQL 인터페이스</li>\n<li>SQL 파서</li>\n<li>SQL 옵티마이저</li>\n<li>캐시 &#x26; 버퍼</li>\n</ul>\n<h3 id=\"스토리지-엔진\" style=\"position:relative;\"><a href=\"#%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-%EC%97%94%EC%A7%84\" aria-label=\"스토리지 엔진 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>스토리지 엔진</h3>\n<p>종류로는 MyISAM, InnoDB 스토리지 엔진이 있다.</p>\n<p>실제 데이터를 디스크에서 읽거나 쓰는 작업을 수행한다.</p>\n<h2 id=\"mysql-스레딩-구조\" style=\"position:relative;\"><a href=\"#mysql-%EC%8A%A4%EB%A0%88%EB%94%A9-%EA%B5%AC%EC%A1%B0\" aria-label=\"mysql 스레딩 구조 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MySQL 스레딩 구조</h2>\n<p>MySQL은 프로세스 기반이 아닌 쓰레드 기반으로 동작한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\">mysql<span class=\"token operator\">></span> <span class=\"token keyword\">SELECT</span> thread_id<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> <span class=\"token keyword\">type</span><span class=\"token punctuation\">,</span> processlist_user<span class=\"token punctuation\">,</span> processlist_host <span class=\"token keyword\">FROM</span> performance_schema<span class=\"token punctuation\">.</span>threads <span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> <span class=\"token keyword\">type</span><span class=\"token punctuation\">,</span> thread_id<span class=\"token punctuation\">;</span></code></pre></div>\n<p>위 명령어로 실행 중인 쓰레드를 확인할 수 있다.</p>\n<h3 id=\"foreground-thread\" style=\"position:relative;\"><a href=\"#foreground-thread\" aria-label=\"foreground thread permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Foreground Thread</h3>\n<p>클라이언트의 요청을 처리하는 쓰레드이다. 때문에 클라이언트 쓰레드 혹은 사용자 쓰레드라고도 부른다.</p>\n<p>클라이언트의 요청을 모두 처리하면, 쓰레드 캐시로 돌아간다.<br>\n이때, 쓰레드 캐시가 가득 찬 상태라면 쓰레드를 종료시킨다.</p>\n<p>데이터를 MySQL의 <strong>데이터 버퍼</strong>나 <strong>캐시</strong>로부터 가져오는 작업을 수행한다.</p>\n<p>하지만 버퍼나 캐시에 데이터가 없는 경우, InnoDB 기준으로는 직접 디스크에서 데이터를 가져오는 작업은 <strong>백그라운드 쓰레드</strong>에서 처리된다.</p>\n<h3 id=\"background-thread\" style=\"position:relative;\"><a href=\"#background-thread\" aria-label=\"background thread permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Background Thread</h3>\n<p>InnoDB 기준, 아래와 같은 여러 작업들이 백그라운드 쓰레드에 의해 처리된다.</p>\n<ul>\n<li>Insert Buffer를 병합하는 작업</li>\n<li>로그를 디스크에 쓰는 작업</li>\n<li>InnoDB 버퍼 풀의 데이터를 디스크에 쓰는 작업</li>\n<li>데이터를 버퍼로 읽어오는 작업</li>\n<li>잠금이나 데드락을 모니터링하는 작업</li>\n</ul>\n<p>아울러, 주로 디스크에 쓰기 작업을 수행하기 때문에 백그라운드 쓰레드의 개수는 적정 수를 유지하는 것이 중요하다.</p>\n<p>쓰기 작업은 버퍼링을 통해 일괄 작업해도 괜찮다. 오히려 효율적이다. 따라서 이러한 방식으로 처리한다.</p>\n<h2 id=\"메모리-할당-및-사용-구조\" style=\"position:relative;\"><a href=\"#%EB%A9%94%EB%AA%A8%EB%A6%AC-%ED%95%A0%EB%8B%B9-%EB%B0%8F-%EC%82%AC%EC%9A%A9-%EA%B5%AC%EC%A1%B0\" aria-label=\"메모리 할당 및 사용 구조 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>메모리 할당 및 사용 구조</h2>\n<h3 id=\"글로벌-메모리-영역\" style=\"position:relative;\"><a href=\"#%EA%B8%80%EB%A1%9C%EB%B2%8C-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EC%98%81%EC%97%AD\" aria-label=\"글로벌 메모리 영역 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>글로벌 메모리 영역</h3>\n<p>MySQL 서버가 실행되면서 운영체제로부터 할당받는 공간이다.</p>\n<p>필요에 따라 2개 이상의 메모리 공간을 할당받을 수 있다.</p>\n<p>글로벌 메모리 영역이 2개 이상이더라도 모든 쓰레드에 의해 공유된다.</p>\n<p>아래의 기능들이 글로벌 메모리 영역에 존재한다.</p>\n<ul>\n<li>테이블 캐시</li>\n<li>InnoDB 버퍼 풀</li>\n<li>InnoDB 어댑티브 해시 인덱스</li>\n<li>InnoDB 리두 로그 버퍼</li>\n</ul>\n<h3 id=\"로컬-메모리-영역\" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EC%BB%AC-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EC%98%81%EC%97%AD\" aria-label=\"로컬 메모리 영역 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>로컬 메모리 영역</h3>\n<p>클라이언트 쓰레드가 쿼리를 처리할 때 사용하는 메모리 영역이기에, 클라이언트 메모리 영역이라고도 한다.<br>\n클라이언트와의 커넥션을 <em>세션</em>이라고도 하기에, 세션 메모리 영역이라고도 한다.</p>\n<p>로컬 메모리는 각 클라이언트 쓰레드 별로 독립적으로 할당되며 사용된다.</p>\n<p>대표적인 로컬 메모리 영역은 다음과 같다.</p>\n<ul>\n<li>정렬 버퍼</li>\n<li>조인 버퍼</li>\n<li>바이너리 로그 캐시</li>\n<li>네트워크 버퍼</li>\n</ul>\n<h2 id=\"쿼리-실행-구조\" style=\"position:relative;\"><a href=\"#%EC%BF%BC%EB%A6%AC-%EC%8B%A4%ED%96%89-%EA%B5%AC%EC%A1%B0\" aria-label=\"쿼리 실행 구조 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>쿼리 실행 구조</h2>\n<p>클라이언트로부터 쿼리 요청이 들어오면 다음과 같은 순으로 처리된다.</p>\n<p>쿼리 파서 -> 전처리기 -> 옵티마이저 -> 쿼리 실행기</p>\n<h3 id=\"쿼리-파서\" style=\"position:relative;\"><a href=\"#%EC%BF%BC%EB%A6%AC-%ED%8C%8C%EC%84%9C\" aria-label=\"쿼리 파서 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>쿼리 파서</h3>\n<p>요청으로 넘어온 SQL문을 MySQL이 인식할 수 있는 최소한의 단위인 토큰으로 분리해 트리 구조로 만드는 작업을 수행한다.</p>\n<p>SQL 문법 오류는 쿼리 파서에 의해 감지되고 에러를 발생한다.</p>\n<h3 id=\"전처리기\" style=\"position:relative;\"><a href=\"#%EC%A0%84%EC%B2%98%EB%A6%AC%EA%B8%B0\" aria-label=\"전처리기 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>전처리기</h3>\n<p>쿼리 파서의 결과인 <em>파서 트리</em>를 기반으로 쿼리 문장에 구조적 문제를 파악한다.</p>\n<p>테이블이 존재하는지? 칼럼이 존재하는지? 권한이 있는지? 와 같이, 실제 쿼리를 동작했을 때 이상이 없을 지를 판단한다.</p>\n<h3 id=\"옵티마이저\" style=\"position:relative;\"><a href=\"#%EC%98%B5%ED%8B%B0%EB%A7%88%EC%9D%B4%EC%A0%80\" aria-label=\"옵티마이저 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>옵티마이저</h3>\n<p>SQL문을 가장 효율적으로 실행하기 위한 <strong>실행 계획</strong>을 수립한다.</p>\n<h3 id=\"쿼리-실행기\" style=\"position:relative;\"><a href=\"#%EC%BF%BC%EB%A6%AC-%EC%8B%A4%ED%96%89%EA%B8%B0\" aria-label=\"쿼리 실행기 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>쿼리 실행기</h3>\n<p>실행 계획을 바탕으로 스토리지 엔진에게 작업을 요청하고, 그 결과를 사용자에게 반환한다.</p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#mysql-%EC%97%94%EC%A7%84-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98\">MySQL 엔진 아키텍처</a></p>\n<ul>\n<li><a href=\"#mysql-%EC%97%94%EC%A7%84\">MySQL 엔진</a></li>\n<li><a href=\"#%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-%EC%97%94%EC%A7%84\">스토리지 엔진</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#mysql-%EC%8A%A4%EB%A0%88%EB%94%A9-%EA%B5%AC%EC%A1%B0\">MySQL 스레딩 구조</a></p>\n<ul>\n<li><a href=\"#foreground-thread\">Foreground Thread</a></li>\n<li><a href=\"#background-thread\">Background Thread</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A9%94%EB%AA%A8%EB%A6%AC-%ED%95%A0%EB%8B%B9-%EB%B0%8F-%EC%82%AC%EC%9A%A9-%EA%B5%AC%EC%A1%B0\">메모리 할당 및 사용 구조</a></p>\n<ul>\n<li><a href=\"#%EA%B8%80%EB%A1%9C%EB%B2%8C-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EC%98%81%EC%97%AD\">글로벌 메모리 영역</a></li>\n<li><a href=\"#%EB%A1%9C%EC%BB%AC-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EC%98%81%EC%97%AD\">로컬 메모리 영역</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%BF%BC%EB%A6%AC-%EC%8B%A4%ED%96%89-%EA%B5%AC%EC%A1%B0\">쿼리 실행 구조</a></p>\n<ul>\n<li><a href=\"#%EC%BF%BC%EB%A6%AC-%ED%8C%8C%EC%84%9C\">쿼리 파서</a></li>\n<li><a href=\"#%EC%A0%84%EC%B2%98%EB%A6%AC%EA%B8%B0\">전처리기</a></li>\n<li><a href=\"#%EC%98%B5%ED%8B%B0%EB%A7%88%EC%9D%B4%EC%A0%80\">옵티마이저</a></li>\n<li><a href=\"#%EC%BF%BC%EB%A6%AC-%EC%8B%A4%ED%96%89%EA%B8%B0\">쿼리 실행기</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"MySQL 엔진 아키텍처","date":"2023년 12월 14일","description":"Real MySQL 8.0 - Part 4. 아키텍처","tags":["database"]}},"previous":{"fields":{"slug":"/why-series/why-wrap-primitive-type-and-string/"},"frontmatter":{"title":"모든 원시값과 문자열을 포장한다. 왜?"}},"next":{"fields":{"slug":"/database/real-mysql-book-study/04-innodb-engine/"},"frontmatter":{"title":"InnoDB 엔진 이해하기"}}},"pageContext":{"id":"1e53b2f6-f045-5b28-9a80-c2a26a703f77","previousPostId":"82b5460e-8849-569f-a103-1eb29ce1160e","nextPostId":"e74043fd-26cf-5e49-ad5b-2ec471b86114"}},"staticQueryHashes":["1475414628","2841359383"],"slicesMap":{}}