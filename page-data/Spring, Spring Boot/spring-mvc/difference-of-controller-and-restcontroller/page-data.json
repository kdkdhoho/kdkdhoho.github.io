{"componentChunkName":"component---src-templates-blog-post-js","path":"/Spring, Spring Boot/spring-mvc/difference-of-controller-and-restcontroller/","result":{"data":{"site":{"siteMetadata":{"title":"김동호 블로그"}},"markdownRemark":{"id":"fe0a0af4-4fc4-51df-bd31-5492d8540547","excerpt":"@Controller와 @RestController의 역할과 차이점에 대해 알아보기 전에, 둘의 근본이 되는 Controller의 역할에 대해 이야기하겠습니다. (여기서 Controller는 Spring MVC에서의 Controller를 의미합니다.) Controller…","html":"<p>@Controller와 @RestController의 역할과 차이점에 대해 알아보기 전에, 둘의 근본이 되는 Controller의 역할에 대해 이야기하겠습니다. (여기서 Controller는 Spring MVC에서의 Controller를 의미합니다.)</p>\n<h2 id=\"controller의-역할은\" style=\"position:relative;\"><a href=\"#controller%EC%9D%98-%EC%97%AD%ED%95%A0%EC%9D%80\" aria-label=\"controller의 역할은 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Controller의 역할은?</h2>\n<p>제가 생각하는 Controller의 역할은 다음과 같습니다.</p>\n<ol>\n<li><strong>사용자의 요청을 처리한다.</strong></li>\n</ol>\n<ul>\n<li>입력되는 데이터를 처리한다.</li>\n<li>사용자의 요청에 따라 수행할 비즈니스 로직을 결정한다.</li>\n</ul>\n<ol start=\"2\">\n<li><strong>요청의 결과를 반환한다.</strong></li>\n</ol>\n<p>이때, 사용자의 요청을 URI와 매핑하여 각기 다르게 처리합니다.\n이를 위해 @RequestMapping 을 이용하여 어떤 URI 요청을 처리할지 결정합니다.</p>\n<h2 id=\"controller-restcontroller-살펴보기\" style=\"position:relative;\"><a href=\"#controller-restcontroller-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0\" aria-label=\"controller restcontroller 살펴보기 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>@Controller, @RestController 살펴보기</h2>\n<p>우선 <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/stereotype/Controller.html\">@Controller docs</a>를 먼저 살펴보겠습니다.</p>\n<blockquote>\n<p>Indicates that an annotated class is a \"Controller\" (e.g. a web controller).</p>\n</blockquote>\n<p>This annotation serves as a specialization of @Component, allowing for implementation classes to be autodetected through classpath scanning. It is typically used in combination with annotated handler methods based on the RequestMapping annotation.</p>\n<blockquote>\n<p>이 애노테이션이 클래스가 \"컨트롤러\" 임을 나타냅니다. (예: 웹 컨트롤러)\n이 애노테이션은 클래스 경로 탐색을 통해 자동으로 탐지되도록 허용함으로써  <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/stereotype/Component.html\">@Component</a>의 특별성을 제공합니다.\n보통 <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html\">@RequestMapping</a> 이 달린 메서드와 함께 사용됩니다.</p>\n</blockquote>\n<p>또한 내부에 Optional Element로서 <code class=\"language-text\">String value</code> 만을 가집니다.\n이 value는 <strong>logical component name</strong>을 가리킨다고 합니다. 즉, Controller 클래스가 Bean으로 등록될 때의 <strong>이름</strong>을 변경하고 싶을 때 사용하는 요소입니다.</p>\n<hr>\n<p>다음으로 <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RestController.html\">@RestController docs</a>를 살펴보겠습니다.</p>\n<blockquote>\n<p>A convenience annotation that is itself annotated with @Controller and @ResponseBody.</p>\n</blockquote>\n<p>Types that carry this annotation are treated as controllers where @RequestMapping methods assume @ResponseBody semantics by default.</p>\n<blockquote>\n<p>@RestController는 그 자체로 @Controller와 @ResponseBody가 함께 있는 편리한 애노테이션입니다. 이 애노테이션이 포함된 타입은 @RequestMapping가 달린 메서드에 기본적으로 @ResponseBody도 함께 의미합니다.</p>\n<p>NOTE: @RestController is processed if an appropriate HandlerMapping-HandlerAdapter pair is configured such as the RequestMappingHandlerMapping-RequestMappingHandlerAdapter pair which are the default in the MVC Java config and the MVC namespace.</p>\n<p>주의: @RestController는 <code class=\"language-text\">RequestMappingHandlerMapping-RequestMappingHanlderAdapter</code>와 같은 기본적인 MVC Java Config와 MVC namespace를 가진 <code class=\"language-text\">HandlerMapping-HandlerAdapter</code> 쌍이 설정되었을 때 처리됩니다.</p>\n</blockquote>\n<p>@Controller와 마찬가지로 내부에 <code class=\"language-text\">String value</code> Element 만을 가집니다. 의미하는 바도 같습니다.\n하지만 큰 차이가 하나 있습니다. 바로 <code class=\"language-text\">@ResponseBody</code>를 포함한다는 것인데요.\n그렇다면 @ResponseBody가 무엇인지 알아보기 위해 <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ResponseBody.html\">공식문서</a>를 살펴보겠습니다.</p>\n<blockquote>\n<p>Annotation that indicates a method return value should be bound to the web response body.</p>\n<p>As of version 4.0 this annotation can also be added on the type level in which case it is inherited and does not need to be added on the method level.</p>\n<p>이 애노테이션이 가리키는 메서드는 웹 응답 body에 값을 반환하는 의무를 가집니다.</p>\n<p>버전 4.0부터는 type(class, interface, or enum)에 추가할 수도 있습니다. 이 경우 상속이 되며, 메서드에 추가할 필요가 없습니다.</p>\n</blockquote>\n<p>핵심은 <strong>이 애노테이션이 가리키는 메서드는 웹 응답시 body부에 값을 반환한다</strong> 입니다.\n추가로 'class, interface, enum'에 작성할 수 있고, 이 경우 메서드에 따로 명시를 안해줘도 된다는 것입니다.</p>\n<h2 id=\"결론\" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EB%A1%A0\" aria-label=\"결론 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>결론</h2>\n<p>그렇다면 이렇게 결론지을 수 있을 것 같습니다.</p>\n<p>@Controller는 기본적으로 웹 MVC에서 Controller의 역할을 한다.\n@RestController는 @Controller에 @ResponseBody의 의미를 함께 가진다. 따라서 해당 컨트롤러 내 모든 메서드들은 반환 시, 웹 응답 body부에 값을 넣어 반환한다.</p>\n<p>즉, 사용자의 요청에 따라 <strong>데이터의 형식</strong>을 다르게 반환하고 싶을 때, 이 둘을 구분해서 사용해야 합니다.</p>\n<h2 id=\"코드로-비교하기\" style=\"position:relative;\"><a href=\"#%EC%BD%94%EB%93%9C%EB%A1%9C-%EB%B9%84%EA%B5%90%ED%95%98%EA%B8%B0\" aria-label=\"코드로 비교하기 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.65 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>코드로 비교하기</h2>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>This is tmpPage.html<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\nThis is tmpPage.html\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Controller</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">JustController</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/Controller\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">justController</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token string\">\"tmpPage\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/RestController\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@ResponseBody</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">restController</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token string\">\"tmpPage\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>두 메서드는 URI를 각각 \"/Controller\", \"/RestController\"에 매핑하여 요청을 처리합니다.</p>\n<p>이때 \"localhost:8080/Controller\"에 Get 방식으로 요청했을 때 아래와 같은 결과가 나옵니다.</p>\n<p><img src=\"https://velog.velcdn.com/images/donghokim1998/post/e7e0d11d-cc8f-4189-9a61-8b2221543629/image.png\" alt=\"\"></p>\n<p>다음은 \"/RestController\" 에 Get 방식으로 요청했을 때의 결과입니다.</p>\n<p><img src=\"https://velog.velcdn.com/images/donghokim1998/post/27ab1cd6-6895-4364-ad84-62bb6d187fb0/image.png\" alt=\"\"></p>\n<p>코드 상으로는 같은 \"tmpPage\" 를 반환합니다.\n하지만 @ResponseBody 가 붙지 않은 메서드인, <code class=\"language-text\">justController()</code>의 경우 Spring 내의 <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/ViewResolver.html\">ViewResolver</a>에 의해 view로 변환이 됩니다.</p>\n<p>반면 <code class=\"language-text\">restController()</code>의 경우 문자열 \"tmpPage\"이 그대로 Body에 반환되는 것을 확인할 수 있습니다.</p>","tableOfContents":"<ul>\n<li><a href=\"#controller%EC%9D%98-%EC%97%AD%ED%95%A0%EC%9D%80\">Controller의 역할은?</a></li>\n<li><a href=\"#controller-restcontroller-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0\">@Controller, @RestController 살펴보기</a></li>\n<li><a href=\"#%EA%B2%B0%EB%A1%A0\">결론</a></li>\n<li><a href=\"#%EC%BD%94%EB%93%9C%EB%A1%9C-%EB%B9%84%EA%B5%90%ED%95%98%EA%B8%B0\">코드로 비교하기</a></li>\n</ul>","frontmatter":{"title":"[Spring] @Controller와 @RestController 비교하기","date":"2024년 1월 12일","dateISO":"2024-01-12","description":"@Controller와 @RestController의 역할과 차이에 대해","tags":["Spring","Spring MVC"]}},"previous":{"fields":{"slug":"/Git, Github/add-feat-and-issue-number-automatically/"},"frontmatter":{"title":"[git&github] IntelliJ에서 커밋 메시지 작성 시, 자동으로 커밋 타입과 이슈 번호 추가하기"}},"next":{"fields":{"slug":"/네트워크/네트워크-책-스터디/01-comprehension-about-web-and-network-basic/"},"frontmatter":{"title":"1장. 웹과 네트워크의 기본에 대해 알아보자"}}},"pageContext":{"id":"fe0a0af4-4fc4-51df-bd31-5492d8540547","previousPostId":"ef32e2f8-ab6a-56ae-ba1c-a56ce715f661","nextPostId":"77ce7b20-6222-5bcf-97a3-4b90f13265c4"}},"staticQueryHashes":["2476208942","2637872971","3414707483"],"slicesMap":{}}