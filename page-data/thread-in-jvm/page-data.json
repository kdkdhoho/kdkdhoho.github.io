{"componentChunkName":"component---src-templates-post-jsx","path":"/thread-in-jvm/","result":{"data":{"site":{"siteMetadata":{"title":"log4dh"}},"markdownRemark":{"id":"7b64a367-9192-557d-b45d-0e3bc68d44d3","excerpt":"1. Java에서 Thread를 구현하고 실행하는 방법 Java에서 Thread를 구현하는 방법으로 두 가지가 있다.\nThread 클래스를 상속받는 방법과 Runnable 인터페이스를 구현하는 방법이다. 어느 방법을 써도 상관은 없지만, Java는 다중 상속이 불가능하기 때문에 Thread 클래스를 상속받으면 다른 클래스를 상속받지 못하게 된다.\n또한 T…","html":"<h2>1. Java에서 Thread를 구현하고 실행하는 방법</h2>\n<p>Java에서 Thread를 구현하는 방법으로 두 가지가 있다.<br>\nThread 클래스를 상속받는 방법과 Runnable 인터페이스를 구현하는 방법이다.</p>\n<p>어느 방법을 써도 상관은 없지만, Java는 다중 상속이 불가능하기 때문에 Thread 클래스를 상속받으면 다른 클래스를 상속받지 못하게 된다.<br>\n또한 Thread 클래스를 상속받게 되면, 부모 클래스의 메서드를 오버라이딩할 수 있게 된다. 이로 인해, Thread 로서 기대하는 동작을 하지 않을 수 있다.</p>\n<p>따라서 <strong>재사용성과 일관성을 위해서는 Runnable 인터페이스를 구현하는 방법을 권장</strong>한다.</p>\n<h3>Thread 클래스 상속받기</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">MyThread</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Thread</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// 작업 내용</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Runnable 인터페이스 구현하기 (권장)</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">MyThread</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Runnable</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// 작업 내용</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>쓰레드 실행하기</h3>\n<p>위 두 방법 중 하나로 쓰레드를 생성했다면 실행하는 법도 알아야한다.<br>\n기본적으로 쓰레드를 실행하는 방법으로는 <code class=\"language-text\">Thread</code> 클래스의 <code class=\"language-text\">start()</code> 메서드를 호출하는 것이다.<br>\n하지만 <code class=\"language-text\">start()</code>을 호출하는 방법은 쓰레드를 구현한 방법에 따라 달라진다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">void</span> 쓰레드를_구현하는_두_방법의_차이<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Thread</span> myThread1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MyThread1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Thread 클래스 상속</span>\n    myThread1<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token class-name\">Thread</span> myThread2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">MyThread2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Runnable 인터페이스 상속</span>\n    myThread2<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MyThread1</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Thread</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Thread1 start !\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MyThread2</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Runnable</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Thread2 start !\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Thread 클래스를 상속한 <code class=\"language-text\">MyThread1</code>은 바로 <code class=\"language-text\">Thread</code> 타입의 인스턴스 변수로 만들고 <code class=\"language-text\">run()</code> 메서드를 실행하면 된다.<br>\n하지만 Runnable 인터페이스를 상속한 <code class=\"language-text\">MyThread2</code>는 인스턴스를 만들고, 참조 변수를 <code class=\"language-text\">Thread</code> 클래스의 생성자의 인자로 넘기며 결과적으로 <code class=\"language-text\">Thread</code> 타입 인스턴스를 생성해야 한다.</p>\n<p>만약 Runnable 인터페이스를 상속받은 클래스의 인스턴스로 <code class=\"language-text\">run()</code>를 호출하면, 새로운 쓰레드가 생성되어 작업을 수행하지 않고, <code class=\"language-text\">run()</code> 메서드를 호출한 쓰레드가 작업을 이어서 수행하게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Test</span> \n<span class=\"token keyword\">void</span> 쓰레드를_구현하는_두_방법의_차이<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">MyThread2</span> myThread2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MyThread2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    myThread2<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token operator\">==</span> <span class=\"token class-name\">Console</span> <span class=\"token operator\">==</span>\n<span class=\"token class-name\">Test</span> worker\n<span class=\"token class-name\">Test</span> worker\n<span class=\"token class-name\">Test</span> worker\n<span class=\"token class-name\">Test</span> worker\n<span class=\"token class-name\">Test</span> worker</code></pre></div>\n<h3>start() 관련 참고 사항</h3>\n<ol>\n<li>\n<p><strong>사실은 <code class=\"language-text\">start()</code> 메서드가 호출됐다고 바로 쓰레드의 동작이 실행되는 것은 아니다.</strong><br>\nRunnable 상태가 되고 CPU 스케줄링에 의해 자신의 차례가 되어야 비로소 실행되는 것이다.</p>\n<blockquote>\n<p>쓰레드의 실행 순서는 OS의 CPU 스케쥴러에 의해 결정된다.</p>\n</blockquote>\n<p>아래 그림은 쓰레드의 생명 주기를 나타낸 그림이다.\n<figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/19a08e2845ab0ecc73340ebc1ea585e8/b38af/thread-status.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 41.76470588235294%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABoklEQVR42o2Sy2/TQBDG/R9yQxzaqhJQ9VCEeuYf4IBACOiT94VKoKJeuMABFdKqebVBsQKKaMzLMYnrpF7biR/rX3fTKG1v/aTRzs6uZr6ZbwwUkiynF8R4yuJU6hBSSvI8H/lBnOGKmOMoRY5jGtrTV5mfnhpGszNg8fkBN+4XuHlvm9vrFRq2wHM7iL7Hu4rD7EqNWw+2mV2qcvdDi3AwnCQ8D53U8AcZn0yXzbKjrM3Hujticloy57AbsVVts1W22SzZVH8JRBAwiALs3pBCw+WL2cFyo1EBg0sgSRLCQBAIf8wq523RZmqtzsJyicX1MjNPTV4W7MslTNMU78glCsNJbPXzH648qjH3+jsLb5pcW62rcVgYurP/fsI3q0fN6uMcxxfZKcF+tH0qza764ymBJGEYIISgdNhno+iwsedQaPaIM4mhBZh50WDucZHrT8pMPWuw3zoiS4bINObV179cXTGZf7jD9PIBd97/xBfhZAMuiKJnmCnN9UCLls9ey6elREgVq3wsihimmP8Eu+pt/7egK8460Ct03vTanACGuUv3M5hoCAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='Thread Status' title='' src='/static/19a08e2845ab0ecc73340ebc1ea585e8/ca1dc/thread-status.png' srcset='/static/19a08e2845ab0ecc73340ebc1ea585e8/e7570/thread-status.png 170w,\n/static/19a08e2845ab0ecc73340ebc1ea585e8/f46e7/thread-status.png 340w,\n/static/19a08e2845ab0ecc73340ebc1ea585e8/ca1dc/thread-status.png 680w,\n/static/19a08e2845ab0ecc73340ebc1ea585e8/b38af/thread-status.png 740w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>Thread Status</figcaption>\n  </figure></p>\n</li>\n<li>\n<p><strong>한번 실행이 된 쓰레드는 재실행 할 수 없다.</strong><br>\n즉, 하나의 쓰레드에 대해 <code class=\"language-text\">start()</code>가 단 한 번만 호출될 수 있다.<br>\n만약, 동일한 작업을 한 번 더 수행해야 한다면 새로운 쓰레드를 생성해야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">void</span> 쓰레드는_일회용이다<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token class-name\">Thread</span> myThread <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MyThread</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Thread 클래스 상속</span>\n   myThread<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   myThread<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MyThread</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Thread</span> <span class=\"token punctuation\">{</span>\n\n     <span class=\"token annotation punctuation\">@Override</span>\n     <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n           <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                 <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n           <span class=\"token punctuation\">}</span>\n     <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token operator\">==</span> <span class=\"token class-name\">Console</span> <span class=\"token operator\">==</span>\n<span class=\"token class-name\">Thread</span><span class=\"token operator\">-</span><span class=\"token number\">3</span>\n<span class=\"token class-name\">Thread</span><span class=\"token operator\">-</span><span class=\"token number\">3</span>\n<span class=\"token class-name\">Thread</span><span class=\"token operator\">-</span><span class=\"token number\">3</span>\n<span class=\"token class-name\">Thread</span><span class=\"token operator\">-</span><span class=\"token number\">3</span>\n<span class=\"token class-name\">Thread</span><span class=\"token operator\">-</span><span class=\"token number\">3</span>\n\n<span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span></span>IllegalThreadStateException</span>\n<span class=\"token comment\">// ... (생략)</span>\n\n<span class=\"token operator\">--</span><span class=\"token operator\">-</span>\n\n<span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">void</span> 쓰레드는_일회용이다<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token class-name\">Thread</span> myThread <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MyThread</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Thread 클래스 상속</span>\n   myThread<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   myThread <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MyThread</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   myThread<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token operator\">==</span> <span class=\"token class-name\">Console</span> <span class=\"token operator\">==</span>\n<span class=\"token class-name\">Thread</span><span class=\"token operator\">-</span><span class=\"token number\">3</span>\n<span class=\"token class-name\">Thread</span><span class=\"token operator\">-</span><span class=\"token number\">3</span>\n<span class=\"token class-name\">Thread</span><span class=\"token operator\">-</span><span class=\"token number\">3</span>\n<span class=\"token class-name\">Thread</span><span class=\"token operator\">-</span><span class=\"token number\">3</span>\n<span class=\"token class-name\">Thread</span><span class=\"token operator\">-</span><span class=\"token number\">3</span>\n<span class=\"token class-name\">Thread</span><span class=\"token operator\">-</span><span class=\"token number\">4</span>\n<span class=\"token class-name\">Thread</span><span class=\"token operator\">-</span><span class=\"token number\">4</span>\n<span class=\"token class-name\">Thread</span><span class=\"token operator\">-</span><span class=\"token number\">4</span>\n<span class=\"token class-name\">Thread</span><span class=\"token operator\">-</span><span class=\"token number\">4</span>\n<span class=\"token class-name\">Thread</span><span class=\"token operator\">-</span><span class=\"token number\">4</span></code></pre></div>\n</li>\n</ol>\n<h3>start()와 run()의 차이</h3>\n<p><code class=\"language-text\">start()</code>와 <code class=\"language-text\">run()</code> 두 방법 모두 쓰레드의 작업을 수행하는 메서드이다.<br>\n하지만 한 가지 큰 차이점이 있다면, <code class=\"language-text\">start()</code>는 <strong>새로운 쓰레드를 만들고, 해당 쓰레드로 <code class=\"language-text\">run()</code>을 수행한다는 점</strong>이다.<br>\n반면 <code class=\"language-text\">run()</code>은 단순히 메서드를 호출하는 것과 동일하다.</p>\n<h3>Main 쓰레드</h3>\n<p>Java에는 프로그램을 실행시키기 위한 엔트리포인트의 개념으로 main 메서드가 있다.<br>\n이 메서드가 실행되면 <strong>main 쓰레드가 생성</strong>되고 <strong>main 쓰레드가 main 메서드를 수행</strong>하는 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Main</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Thread</span><span class=\"token punctuation\">.</span><span class=\"token function\">currentThread</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token operator\">==</span> <span class=\"token class-name\">Console</span> <span class=\"token operator\">==</span>\nmain</code></pre></div>\n<p>main 메서드의 작업이 모두 수행되면 프로그램이 종료된다.<br>\n하지만 main 메서드가 모든 작업을 마쳤다하더라도 다른 쓰레드가 아직 작업을 마치지 않은 상태라면 어떻게 될까?<br>\n프로그램이 종료되지 않는다.</p>\n<p>따라서, <strong>실행 중인 유저 쓰레드(데몬 쓰레드가 아닌 쓰레드)가 하나도 없을 때 비로소 프로그램은 종료</strong>된다.</p>\n<h2>2. 쓰레드의 우선순위</h2>\n<p><code class=\"language-text\">Thread</code> 클래스에는 <code class=\"language-text\">int priority</code>라는 인스턴스 변수를 가진다.<br>\n이 변수로 쓰레드의 작업 우선순위를 설정하여 쓰레드가 얻는 실행시간이 달라진다.</p>\n<p><code class=\"language-text\">Thread</code> 클래스의 <code class=\"language-text\">public final void setPriority(int newPriority)</code> 메서드를 통해 쓰레드의 우선순위를 결정할 수 있으며 설정할 수 있는 값의 범위는 1부터 10까지이다.\n범위를 벗어난 값으로 설정하면 <code class=\"language-text\">IllegalArgumentException</code>이 발생한다.\n아래는 <code class=\"language-text\">Thread</code> 클래스의 priority 관련 코드를 요약한 코드다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Thread</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Runnable</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> priority<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">/**\n     * The minimum priority that a thread can have.\n     */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> <span class=\"token constant\">MIN_PRIORITY</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token comment\">/**\n     * The default priority that is assigned to a thread.\n     */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> <span class=\"token constant\">NORM_PRIORITY</span> <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token comment\">/**\n     * The maximum priority that a thread can have.\n     */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> <span class=\"token constant\">MAX_PRIORITY</span> <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n        \n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setPriority</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> newPriority<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">ThreadGroup</span> g<span class=\"token punctuation\">;</span>\n        <span class=\"token function\">checkAccess</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>newPriority <span class=\"token operator\">></span> <span class=\"token constant\">MAX_PRIORITY</span> <span class=\"token operator\">||</span> newPriority <span class=\"token operator\">&lt;</span> <span class=\"token constant\">MIN_PRIORITY</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// 범위 제한</span>\n            <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IllegalArgumentException</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>g <span class=\"token operator\">=</span> <span class=\"token function\">getThreadGroup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>newPriority <span class=\"token operator\">></span> g<span class=\"token punctuation\">.</span><span class=\"token function\">getMaxPriority</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                newPriority <span class=\"token operator\">=</span> g<span class=\"token punctuation\">.</span><span class=\"token function\">getMaxPriority</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token function\">setPriority0</span><span class=\"token punctuation\">(</span>priority <span class=\"token operator\">=</span> newPriority<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>priority 값이 클수록 우선순위가 높아진다.<br>\n또 알아두어야 할 것으로, 쓰레드를 생성한 쓰레드로부터 우선순위를 상속받는다.<br>\nmain 메서드를 수행하는 main 쓰레드는 priority 값이 5이므로 main 메서드 내에서 생성하는 쓰레드의 priority 값은 자동적으로 5가 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">void</span> 쓰레드의_우선순위<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">MyThread1</span> myThread1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MyThread1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">MyThread2</span> myThread2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MyThread2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    myThread1<span class=\"token punctuation\">.</span><span class=\"token function\">setPriority</span><span class=\"token punctuation\">(</span><span class=\"token number\">7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Priority of myThread1(-): \"</span> <span class=\"token operator\">+</span> myThread1<span class=\"token punctuation\">.</span><span class=\"token function\">getPriority</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Priority of myThread2(|): \"</span> <span class=\"token operator\">+</span> myThread2<span class=\"token punctuation\">.</span><span class=\"token function\">getPriority</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    myThread1<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    myThread2<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MyThread1</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Thread</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">300</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"-\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> <span class=\"token number\">10000000</span><span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MyThread2</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Thread</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">300</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"|\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> <span class=\"token number\">10000000</span><span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token operator\">==</span> <span class=\"token class-name\">Console</span> <span class=\"token operator\">==</span>\n<span class=\"token class-name\">Priority</span> of <span class=\"token function\">myThread1</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token number\">7</span>\n<span class=\"token class-name\">Priority</span> of <span class=\"token function\">myThread2</span><span class=\"token punctuation\">(</span><span class=\"token operator\">|</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token number\">5</span> <span class=\"token comment\">// Default로 5가 설정되어 있다.</span>\n<span class=\"token operator\">-</span><span class=\"token operator\">|</span><span class=\"token operator\">-</span><span class=\"token operator\">|</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span>\n<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span>\n<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span>\n<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span>\n<span class=\"token operator\">||</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span>\n<span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">||</span><span class=\"token operator\">|</span></code></pre></div>\n<p>위 콘솔에 출력된 결과물은 두 쓰레드의 작업 결과이다.<br>\n매번 수행 결과는 달라지지만, 매번 \"-\" 가 더 많이, 그리고 자주 나오지는 않는다.<br>\n이유로는 맥북 에어 M1 (4코어) 환경에서 테스트를 수행했기 때문인데, 4개의 코어에서 동시에 2개의 쓰레드를 처리할 수 있기 때문에 우선순위는 크게 작용되지 않는 모습이다.<br>\n우선순위는 싱글 코어에서 큰 효과를 나타낼 것으로 기대한다.</p>\n<p>멀티코어라 해도 운영체제마다 다른 방식으로 스케쥴링하기 때문에, 어떤 운영체제에서 실행하느냐에 따라 다른 결과를 얻을 수 있다.\n굳이 우선순위에 차등을 두어 쓰레드를 실행하려면, 특정 운영체제에의 스케쥴링 정책과 JVM의 구현을 직접 확인해야 한다.<br>\n자바는 쓰레드가 우선순위에 따라 어떻게 다르게 처리되어야 하는지에 대해 강제하지 않기에 JVM에 따라 우선순위 관련 구현이 다를 수 있기 때문이다.</p>\n<p>만일 확인한다한들, 운영체제의 스케쥴러에 종속적이라서 어느 정도 예측만 가능하지 정확히 알 수는 없다.\n차라리 <strong>쓰레드에 우선순위를 부여하는 대신 작업에 우선순위를 두어 <code class=\"language-text\">PriorityQueue</code>에 저장해놓고, 우선순위가 높은 작업이 먼저 처리되도록 하는 것이 나을 수 있다.</strong></p>\n<h2>3. 쓰레드 그룹</h2>\n<p>쓰레드 그룹은 <strong>서로 관련된 쓰레드를 그룹으로 다루기 위한 것</strong>으로, 폴더를 생성해 관련된 파일들을 함께 넣어 관리하는 것처럼 관리할 수 있다.\n또, 폴더 안에 폴더를 생성할 수 있듯이 쓰레드 그룹에 다른 쓰레드 그룹을 포함시킬 수 있다.</p>\n<p>사실 쓰레드 그룹은 보안상의 이유로 도입된 개념으로, <strong>쓰레드 자신이 속한 쓰레드 그룹이나 하위 쓰레드 그룹은 변경할 수 있지만 다른 쓰레드 그룹의 쓰레드는 변경할 수 없다.</strong></p>\n<p><strong>모든 쓰레드는 반드시 쓰레드 그룹에 포함되어 있다.</strong>\n따라서 쓰레드를 생성할 때 별도로 쓰레드 그룹을 지정하지 않으면, 쓰레드를 생성한 쓰레드와 같은 쓰레드 그룹에 속하게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">void</span> 모든_쓰레드는_반드시_쓰레드_그룹에_포함된다<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Thread</span> currentThread <span class=\"token operator\">=</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">.</span><span class=\"token function\">currentThread</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">MyThread1</span> myThread1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MyThread1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ThreadGroup of CurrentThread ==> \"</span> <span class=\"token operator\">+</span> currentThread<span class=\"token punctuation\">.</span><span class=\"token function\">getThreadGroup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ThreadGroup of MyThread1 ==> \"</span> <span class=\"token operator\">+</span> myThread1<span class=\"token punctuation\">.</span><span class=\"token function\">getThreadGroup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>currentThread<span class=\"token punctuation\">.</span><span class=\"token function\">getThreadGroup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span>myThread1<span class=\"token punctuation\">.</span><span class=\"token function\">getThreadGroup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token operator\">==</span> <span class=\"token class-name\">Console</span> <span class=\"token operator\">==</span>\n<span class=\"token class-name\">ThreadGroup</span> of <span class=\"token class-name\">CurrentThread</span> <span class=\"token operator\">==</span><span class=\"token operator\">></span> main\n<span class=\"token class-name\">ThreadGroup</span> of <span class=\"token class-name\">MyThread1</span> <span class=\"token operator\">==</span><span class=\"token operator\">></span> main</code></pre></div>\n<p>자바 애플리케이션이 실행되면, JVM은 main과 system이라는 쓰레드 그룹을 만든다.<br>\n그리고 JVM 운영에 필요한 쓰레드들을 생성해서 이 쓰레드 그룹에 포함한다.<br>\n예를 들어 main 메서드를 수행하는 main 쓰레드는 main 쓰레드 그룹에 속하고, 가비지컬렉션을 수행하는 Finalizer 쓰레드는 system 쓰레드 그룹에 속하게 된다.</p>\n<p>우리가 생성하는 모든 쓰레드 그룹은 main 쓰레드 그룹의 하위 쓰레드 그룹이 되며, 쓰레드 그룹을 지정하지 않고 생성한 쓰레드는 자동적으로 main 쓰레드 그룹에 속하게 된다.</p>\n<h2>4. 데몬 쓰레드</h2>\n<p>데몬 쓰레드(Daemon Thread)는 <strong>백그라운드에서 실행하는 쓰레드</strong>로, <strong>일반 쓰레드(데몬 쓰레드가 아닌 쓰레드)의 작업을 돕기 위한 쓰레드</strong>이다.\n일반 쓰레드가 종료되면, 데몬 쓰레드는 더이상 작업을 수행할 이유가 없어지기 때문에 강제적으로 자동 종료되는 특징을 가진다.\n이 점을 제외하고는 일반 쓰레드와 다르지 않다.</p>\n<p>데몬 쓰레드는 무한루프와 조건문을 이용해서 무한히 실행하며 특정 조건이 만족되면 작업을 수행하고 다시 대기하도록 작성한다.\n아래는 데몬 쓰레드를 사용하는 예시이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MyDaemonThread</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Runnable</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">static</span> <span class=\"token keyword\">boolean</span> autoSave <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Thread</span> thread <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">MyDaemonThread</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        thread<span class=\"token punctuation\">.</span><span class=\"token function\">setDaemon</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 설정해주지 않으면 데몬 쓰레드가 종료되지 않는다.</span>\n        thread<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">.</span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 1초마다</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">InterruptedException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// i를 출력한다.</span>\n\n            <span class=\"token comment\">// i가 5가 되면 autoSave 값을 true로 변경한다.</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">==</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                autoSave <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// 일반 쓰레드가 종료될 때까지 계속해서 수행한다.</span>\n            <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">.</span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 3초마다 실행</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">InterruptedException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token comment\">// 조건이 만족하면 정해진 작업을 수행한다.</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>autoSave<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token function\">autoSave</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">autoSave</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"작업 파일이 자동 저장되었습니다.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token operator\">==</span> <span class=\"token class-name\">Console</span> <span class=\"token operator\">==</span>\n<span class=\"token number\">1</span>\n<span class=\"token number\">2</span>\n<span class=\"token number\">3</span>\n<span class=\"token number\">4</span>\n<span class=\"token number\">5</span>\n작업 파일이 자동 저장되었습니다<span class=\"token punctuation\">.</span>\n<span class=\"token number\">6</span>\n<span class=\"token number\">7</span>\n<span class=\"token number\">8</span>\n작업 파일이 자동 저장되었습니다<span class=\"token punctuation\">.</span>\n<span class=\"token number\">9</span>\n<span class=\"token number\">10</span></code></pre></div>\n<p>데몬 쓰레드가 3초마다 작업을 수행하도록 설정했다.<br>\n하지만 쉬지않고 <code class=\"language-text\">autoSave</code> 값을 체크하도록 설정하면 어떻게 될까?<br>\n예상컨데 i가 5가 되는 순간부터 자동 저장이 무수히 많이 수행될 것이다.<br>\n이는 CPU 사용량을 급격히 높이고 심하면 프로그램에 장애까지 생길 것이다.<br>\n따라서 적절히 시간 공백을 두어 주기적으로 한 번씩 실행하도록 하는 것이 중요하다.</p>\n<h2>5. getAllStackTraces()</h2>\n<p><code class=\"language-text\">getAllStackTraces()</code>를 호출하면 Running 또는 Runnable 상태인 모든 쓰레드의 호출스택을 출력할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Map</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">org<span class=\"token punctuation\">.</span>junit<span class=\"token punctuation\">.</span>jupiter<span class=\"token punctuation\">.</span>api<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Test</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ThreadTest</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Test</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">getAllStackTraces</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">MyThread1</span> myThread1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MyThread1</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Thread1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">MyThread2</span> myThread2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MyThread2</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Thread2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        myThread1<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        myThread2<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MyThread1</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Thread</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">MyThread1</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 5초 대기한다.</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">InterruptedException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MyThread2</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Thread</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">MyThread2</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Map</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Thread</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">StackTraceElement</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span> allStackTraces <span class=\"token operator\">=</span> <span class=\"token function\">getAllStackTraces</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">int</span> id <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Map<span class=\"token punctuation\">.</span>Entry</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Thread</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">StackTraceElement</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span> entry <span class=\"token operator\">:</span> allStackTraces<span class=\"token punctuation\">.</span><span class=\"token function\">entrySet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token class-name\">Thread</span> thread <span class=\"token operator\">=</span> entry<span class=\"token punctuation\">.</span><span class=\"token function\">getKey</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token class-name\">StackTraceElement</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> stackTraceElements <span class=\"token operator\">=</span> entry<span class=\"token punctuation\">.</span><span class=\"token function\">getValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"[\"</span> <span class=\"token operator\">+</span> <span class=\"token operator\">++</span>id <span class=\"token operator\">+</span> <span class=\"token string\">\"] name : \"</span> <span class=\"token operator\">+</span> thread<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\", group : \"</span> <span class=\"token operator\">+</span> thread<span class=\"token punctuation\">.</span><span class=\"token function\">getThreadGroup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\", daemon : \"</span> <span class=\"token operator\">+</span> thread<span class=\"token punctuation\">.</span><span class=\"token function\">isDaemon</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">StackTraceElement</span> stackTraceElement <span class=\"token operator\">:</span> stackTraceElements<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>stackTraceElement<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token operator\">==</span> <span class=\"token class-name\">Console</span> <span class=\"token operator\">==</span>\n<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> name <span class=\"token operator\">:</span> <span class=\"token class-name\">Monitor</span> <span class=\"token class-name\">Ctrl</span><span class=\"token operator\">-</span><span class=\"token class-name\">Break</span><span class=\"token punctuation\">,</span> group <span class=\"token operator\">:</span> main<span class=\"token punctuation\">,</span> daemon <span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\njava<span class=\"token punctuation\">.</span>base<span class=\"token annotation punctuation\">@17.0.11</span><span class=\"token operator\">/</span><span class=\"token class-name\"><span class=\"token namespace\">sun<span class=\"token punctuation\">.</span>nio<span class=\"token punctuation\">.</span>ch<span class=\"token punctuation\">.</span></span>SocketDispatcher</span><span class=\"token punctuation\">.</span><span class=\"token function\">read0</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Native</span> <span class=\"token class-name\">Method</span><span class=\"token punctuation\">)</span>\njava<span class=\"token punctuation\">.</span>base<span class=\"token annotation punctuation\">@17.0.11</span><span class=\"token operator\">/</span><span class=\"token class-name\"><span class=\"token namespace\">sun<span class=\"token punctuation\">.</span>nio<span class=\"token punctuation\">.</span>ch<span class=\"token punctuation\">.</span></span>SocketDispatcher</span><span class=\"token punctuation\">.</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">SocketDispatcher</span><span class=\"token punctuation\">.</span>java<span class=\"token operator\">:</span><span class=\"token number\">47</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">(</span>생략<span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> name <span class=\"token operator\">:</span> <span class=\"token class-name\">Notification</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">,</span> group <span class=\"token operator\">:</span> system<span class=\"token punctuation\">,</span> daemon <span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n\n<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span> name <span class=\"token operator\">:</span> <span class=\"token class-name\">Reference</span> <span class=\"token class-name\">Handler</span><span class=\"token punctuation\">,</span> group <span class=\"token operator\">:</span> system<span class=\"token punctuation\">,</span> daemon <span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\njava<span class=\"token punctuation\">.</span>base<span class=\"token annotation punctuation\">@17.0.11</span><span class=\"token operator\">/</span><span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>ref<span class=\"token punctuation\">.</span></span>Reference</span><span class=\"token punctuation\">.</span><span class=\"token function\">waitForReferencePendingList</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Native</span> <span class=\"token class-name\">Method</span><span class=\"token punctuation\">)</span>\njava<span class=\"token punctuation\">.</span>base<span class=\"token annotation punctuation\">@17.0.11</span><span class=\"token operator\">/</span><span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>ref<span class=\"token punctuation\">.</span></span>Reference</span><span class=\"token punctuation\">.</span><span class=\"token function\">processPendingReferences</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Reference</span><span class=\"token punctuation\">.</span>java<span class=\"token operator\">:</span><span class=\"token number\">253</span><span class=\"token punctuation\">)</span>\njava<span class=\"token punctuation\">.</span>base<span class=\"token annotation punctuation\">@17.0.11</span><span class=\"token operator\">/</span><span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>ref<span class=\"token punctuation\">.</span></span>Reference</span>$<span class=\"token class-name\">ReferenceHandler</span><span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Reference</span><span class=\"token punctuation\">.</span>java<span class=\"token operator\">:</span><span class=\"token number\">215</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span> name <span class=\"token operator\">:</span> <span class=\"token class-name\">Signal</span> <span class=\"token class-name\">Dispatcher</span><span class=\"token punctuation\">,</span> group <span class=\"token operator\">:</span> system<span class=\"token punctuation\">,</span> daemon <span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n\n<span class=\"token punctuation\">[</span><span class=\"token number\">5</span><span class=\"token punctuation\">]</span> name <span class=\"token operator\">:</span> <span class=\"token class-name\">Thread1</span><span class=\"token punctuation\">,</span> group <span class=\"token operator\">:</span> main<span class=\"token punctuation\">,</span> daemon <span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\njava<span class=\"token punctuation\">.</span>base<span class=\"token annotation punctuation\">@17.0.11</span><span class=\"token operator\">/</span><span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span></span>Thread</span><span class=\"token punctuation\">.</span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Native</span> <span class=\"token class-name\">Method</span><span class=\"token punctuation\">)</span>\napp<span class=\"token comment\">//MyThread1.run(ThreadTest.java:24)</span>\n\n<span class=\"token punctuation\">[</span><span class=\"token number\">6</span><span class=\"token punctuation\">]</span> name <span class=\"token operator\">:</span> main<span class=\"token punctuation\">,</span> group <span class=\"token operator\">:</span> main<span class=\"token punctuation\">,</span> daemon <span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\njava<span class=\"token punctuation\">.</span>base<span class=\"token annotation punctuation\">@17.0.11</span><span class=\"token operator\">/</span><span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span></span>StringLatin1</span><span class=\"token punctuation\">.</span><span class=\"token function\">regionMatchesCI</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">StringLatin1</span><span class=\"token punctuation\">.</span>java<span class=\"token operator\">:</span><span class=\"token number\">399</span><span class=\"token punctuation\">)</span>\njava<span class=\"token punctuation\">.</span>base<span class=\"token annotation punctuation\">@17.0.11</span><span class=\"token operator\">/</span><span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span></span>String</span><span class=\"token punctuation\">.</span><span class=\"token function\">regionMatches</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span>java<span class=\"token operator\">:</span><span class=\"token number\">2232</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">(</span>생략<span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">[</span><span class=\"token number\">7</span><span class=\"token punctuation\">]</span> name <span class=\"token operator\">:</span> <span class=\"token class-name\">Thread2</span><span class=\"token punctuation\">,</span> group <span class=\"token operator\">:</span> main<span class=\"token punctuation\">,</span> daemon <span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\njava<span class=\"token punctuation\">.</span>base<span class=\"token annotation punctuation\">@17.0.11</span><span class=\"token operator\">/</span><span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span></span>Thread</span><span class=\"token punctuation\">.</span><span class=\"token function\">dumpThreads</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Native</span> <span class=\"token class-name\">Method</span><span class=\"token punctuation\">)</span>\njava<span class=\"token punctuation\">.</span>base<span class=\"token annotation punctuation\">@17.0.11</span><span class=\"token operator\">/</span><span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span></span>Thread</span><span class=\"token punctuation\">.</span><span class=\"token function\">getAllStackTraces</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Thread</span><span class=\"token punctuation\">.</span>java<span class=\"token operator\">:</span><span class=\"token number\">1671</span><span class=\"token punctuation\">)</span>\napp<span class=\"token comment\">//MyThread2.run(ThreadTest.java:38)</span>\n\n<span class=\"token punctuation\">[</span><span class=\"token number\">8</span><span class=\"token punctuation\">]</span> name <span class=\"token operator\">:</span> <span class=\"token class-name\">Common</span><span class=\"token operator\">-</span><span class=\"token class-name\">Cleaner</span><span class=\"token punctuation\">,</span> group <span class=\"token operator\">:</span> <span class=\"token class-name\">InnocuousThreadGroup</span><span class=\"token punctuation\">,</span> daemon <span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\njava<span class=\"token punctuation\">.</span>base<span class=\"token annotation punctuation\">@17.0.11</span><span class=\"token operator\">/</span><span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span></span>Object</span><span class=\"token punctuation\">.</span><span class=\"token function\">wait</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Native</span> <span class=\"token class-name\">Method</span><span class=\"token punctuation\">)</span>\njava<span class=\"token punctuation\">.</span>base<span class=\"token annotation punctuation\">@17.0.11</span><span class=\"token operator\">/</span><span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>ref<span class=\"token punctuation\">.</span></span>ReferenceQueue</span><span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ReferenceQueue</span><span class=\"token punctuation\">.</span>java<span class=\"token operator\">:</span><span class=\"token number\">155</span><span class=\"token punctuation\">)</span>\njava<span class=\"token punctuation\">.</span>base<span class=\"token annotation punctuation\">@17.0.11</span><span class=\"token operator\">/</span><span class=\"token class-name\"><span class=\"token namespace\">jdk<span class=\"token punctuation\">.</span>internal<span class=\"token punctuation\">.</span>ref<span class=\"token punctuation\">.</span></span>CleanerImpl</span><span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">CleanerImpl</span><span class=\"token punctuation\">.</span>java<span class=\"token operator\">:</span><span class=\"token number\">140</span><span class=\"token punctuation\">)</span>\njava<span class=\"token punctuation\">.</span>base<span class=\"token annotation punctuation\">@17.0.11</span><span class=\"token operator\">/</span><span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span></span>Thread</span><span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Thread</span><span class=\"token punctuation\">.</span>java<span class=\"token operator\">:</span><span class=\"token number\">840</span><span class=\"token punctuation\">)</span>\njava<span class=\"token punctuation\">.</span>base<span class=\"token annotation punctuation\">@17.0.11</span><span class=\"token operator\">/</span><span class=\"token class-name\"><span class=\"token namespace\">jdk<span class=\"token punctuation\">.</span>internal<span class=\"token punctuation\">.</span>misc<span class=\"token punctuation\">.</span></span>InnocuousThread</span><span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">InnocuousThread</span><span class=\"token punctuation\">.</span>java<span class=\"token operator\">:</span><span class=\"token number\">162</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">[</span><span class=\"token number\">9</span><span class=\"token punctuation\">]</span> name <span class=\"token operator\">:</span> <span class=\"token class-name\">Finalizer</span><span class=\"token punctuation\">,</span> group <span class=\"token operator\">:</span> system<span class=\"token punctuation\">,</span> daemon <span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\njava<span class=\"token punctuation\">.</span>base<span class=\"token annotation punctuation\">@17.0.11</span><span class=\"token operator\">/</span><span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span></span>Object</span><span class=\"token punctuation\">.</span><span class=\"token function\">wait</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Native</span> <span class=\"token class-name\">Method</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token class-name\">Process</span> finished <span class=\"token keyword\">with</span> <span class=\"token namespace\">exit</span> code <span class=\"token number\">0</span></code></pre></div>\n<p>콘솔 창에 출력된 결과를 보면, 따로 생성한 <code class=\"language-text\">Thread1</code>, <code class=\"language-text\">Thread2</code>를 제외하고 7개의 쓰레드가 실행 중이거나 대기 상태에 있다는 것을 알 수 있다.</p>\n<p>일부는 group이 system인 쓰레드, daemon으로 동작 중인 쓰레드가 있는 것도 확인할 수 있다.</p>\n<h2>다음으로</h2>\n<p>지금까지 Java에서 쓰레드를 구현하고 실행하는 방법, Main 쓰레드, 쓰레드의 우선순위, 쓰레드 그룹, 데몬 쓰레드에 대해 알아보았다.<br>\n다음으로 쓰레드의 상태와 쓰레드의 행동을 제어하는 메서드들에 대해 알아보겠다.</p>","frontmatter":{"title":"Java Thread 1 - Java의 Thread에 대해 알아보자","date":"July 03, 2024","update":null,"tags":["Java","Thread"],"series":null},"fields":{"slug":"/thread-in-jvm/","readingTime":{"minutes":18.595}}},"seriesList":{"edges":[{"node":{"id":"a30ff988-ea74-5562-b241-90fbff73a3da","fields":{"slug":"/kissoft-retrospection/"},"frontmatter":{"title":"키스소프트 현장실습 회고"}}},{"node":{"id":"aedd8f5b-dd45-5a14-9b57-3a48cdc0b641","fields":{"slug":"/what-is-varargs/"},"frontmatter":{"title":"[Java] Varargs는 어떻게 사용하고, 사용했을 때 장점이 무엇일까?"}}},{"node":{"id":"d41198ca-d162-523b-84f8-128b247a19b4","fields":{"slug":"/apply-https/"},"frontmatter":{"title":"[셀럽잇] HTTPS 적용기"}}},{"node":{"id":"3b94cbd6-f64a-5d82-96a2-0761602c250b","fields":{"slug":"/dbcp/"},"frontmatter":{"title":"DBCP와 HikariCP 이해하기"}}},{"node":{"id":"c418073e-50be-5fe1-807d-478c9c47f640","fields":{"slug":"/zero-downtime-deployment/"},"frontmatter":{"title":"무중단 배포 이해하기"}}},{"node":{"id":"c5760ea9-e137-5edf-8244-3a93e25b067b","fields":{"slug":"/unit-test/"},"frontmatter":{"title":"단위 테스트 이해하기"}}},{"node":{"id":"8ae82b3f-5b72-555c-89fe-9939dcf8377c","fields":{"slug":"/using-junit-and-assertJ/"},"frontmatter":{"title":"JUnit과 AssertJ 활용법"}}},{"node":{"id":"91a7a622-00f8-5cca-b6c1-e4f7db7ee31e","fields":{"slug":"/about-tdd/"},"frontmatter":{"title":"TDD 이해하기"}}},{"node":{"id":"10e0dab4-d2e7-52df-8daa-31bfef1b08b6","fields":{"slug":"/static-with-memory-structure/"},"frontmatter":{"title":"static을 더 잘 사용하기"}}},{"node":{"id":"c773b0a0-9610-5605-bdb9-9089df57f52b","fields":{"slug":"/about-garbage-collection/"},"frontmatter":{"title":"JVM의 Garbage Collection과 동작 원리"}}},{"node":{"id":"0bf99b61-98a4-5c40-b8ce-05a918d212f7","fields":{"slug":"/garbage-collection-tuning/"},"frontmatter":{"title":"Garbage Collection 튜닝에 대해"}}},{"node":{"id":"61bd95c2-424a-54c8-96d9-bec4c8a4f58c","fields":{"slug":"/garbage-collection-algorithms/"},"frontmatter":{"title":"Garbage Collection 알고리즘"}}},{"node":{"id":"c87443bb-4e35-55e7-94d5-a5cb70d2dbc8","fields":{"slug":"/cautions-for-using-collections-in-Java/"},"frontmatter":{"title":"Java에서 컬렉션을 사용할 때 주의할 점"}}},{"node":{"id":"c2d7615d-6232-5fce-8794-f4c790106bb5","fields":{"slug":"/2023-retrospection/"},"frontmatter":{"title":"2023년 회고록"}}},{"node":{"id":"def28d41-907f-5432-8060-ed5429114882","fields":{"slug":"/compare-of-datetime-and-timestamp/"},"frontmatter":{"title":"[MySQL] DATETIME vs TIMESTAMP"}}},{"node":{"id":"9bf8ca89-e021-526b-a7b5-2cce0b1e366f","fields":{"slug":"/add-feat-and-issue-number-automatically/"},"frontmatter":{"title":"[git&github] IntelliJ에서 커밋 메시지 작성 시, 자동으로 커밋 타입과 이슈 번호 추가하기"}}},{"node":{"id":"01318426-7520-5a57-92ff-c917e1483247","fields":{"slug":"/difference-of-controller-and-restcontroller/"},"frontmatter":{"title":"[Spring] @Controller와 @RestController 비교하기"}}},{"node":{"id":"bc68fa05-ec4a-5e12-a9b8-4e58769887df","fields":{"slug":"/deploy-spring-boot-in-aws-ec2-manually/"},"frontmatter":{"title":"[Infra] AWS EC2에 Spring Boot 수작업으로 배포하기"}}},{"node":{"id":"122a1e9c-6fe5-5e7f-b797-a31f54d086b0","fields":{"slug":"/what-is-ami-architecture-of-ec2/"},"frontmatter":{"title":"CPU 아키텍처란?"}}},{"node":{"id":"c23a12ff-7b48-57ef-91ed-81f5386d680a","fields":{"slug":"/apply-issue-and-pr-template/"},"frontmatter":{"title":"[github] Github Repository에 Issue, PR Template 적용하기"}}},{"node":{"id":"b1dc584d-3c69-5ae8-82a8-09b015fa3d02","fields":{"slug":"/oauth-test/"},"frontmatter":{"title":"Spring Boot에서 Rest Assured로 인수 테스트할 때 OAuth 로그인 처리하기"}}},{"node":{"id":"9f43b8a7-b5ce-5766-b984-3ed0775d698f","fields":{"slug":"/ioc-container-and-di/"},"frontmatter":{"title":"[Spring] 스프링 컨테이너, 그리고 IoC/DI"}}},{"node":{"id":"e1b2a9fb-d6e3-5f65-9f50-d3a30c2518d1","fields":{"slug":"/what-is-jdbc/"},"frontmatter":{"title":"[Java] JDBC 마스터하기"}}},{"node":{"id":"81b7fb10-f532-5f48-a797-379c3bb99bee","fields":{"slug":"/understanding-transaction-and-concurrency-problem/"},"frontmatter":{"title":"[MySQL] 트랜잭션과 트랜잭션 격리 수준"}}},{"node":{"id":"5ecb4a12-dc98-589f-94e0-695fb2d84fab","fields":{"slug":"/restore-using-binarylog/"},"frontmatter":{"title":"[MySQL] 바이너리 로그로 데이터 복구하기"}}},{"node":{"id":"c375e6a2-7e6c-5607-a579-04d3ab5f3188","fields":{"slug":"/understanding-generic/"},"frontmatter":{"title":"[Java] 제네릭 이해하기"}}},{"node":{"id":"83ad74c1-0d46-5f86-92fc-998642e4367d","fields":{"slug":"/covariant-invariant-and-pecs/"},"frontmatter":{"title":"[Java] 배열의 공변, 제네릭의 불공변. 그리고 PECS"}}},{"node":{"id":"7b9b6854-62e7-5f25-afbf-d5459fa5d021","fields":{"slug":"/commands-of-docker/"},"frontmatter":{"title":"[Docker] 도커의 기본적인 명령어들"}}},{"node":{"id":"d77e8b24-f01d-5673-8c55-d93e2d110c4f","fields":{"slug":"/enhance-speed-ci-workflow/"},"frontmatter":{"title":"[Infra] Github Actions를 이용한 CI 작업 속도를 캐싱으로 개선하기"}}},{"node":{"id":"b4550a40-b215-5e9a-a6a7-8c27bfb63e25","fields":{"slug":"/continuous-deploy-using-github-actions-and-docker/"},"frontmatter":{"title":"[Infra] Github Actions와 Docker를 이용해 배포 자동화 구축하기"}}},{"node":{"id":"e38bb1ed-1a51-5947-a1d2-52aaae42ac97","fields":{"slug":"/build-monitoring-system/"},"frontmatter":{"title":"[Infra] Prometheus와 Grafana, 그리고 Docker를 이용해 모니터링 대시보드 구축하기"}}},{"node":{"id":"32c6a1e4-f349-5a2a-991c-1ea625582325","fields":{"slug":"/june-3rd/"},"frontmatter":{"title":"[회고] 06.10 ~ 06.16"}}},{"node":{"id":"312b3fe7-7d78-543d-ae7c-4e861503d3e4","fields":{"slug":"/june-4th-and-5th/"},"frontmatter":{"title":"[회고] 06.17 ~ 06.30"}}},{"node":{"id":"7b64a367-9192-557d-b45d-0e3bc68d44d3","fields":{"slug":"/thread-in-jvm/"},"frontmatter":{"title":"Java Thread 1 - Java의 Thread에 대해 알아보자"}}},{"node":{"id":"9e5a98c2-ba89-5b36-8e72-0028211a2c5b","fields":{"slug":"/status-and-control-thread-in-java/"},"frontmatter":{"title":"Java Thread 2 - Java Thread의 상태와 행동을 제어하는 방법"}}},{"node":{"id":"45a781cf-0e04-559c-a853-d1609dab1bd4","fields":{"slug":"/synchronize-threads/"},"frontmatter":{"title":"Java Thread 3 - Thread 동기화하기"}}}]},"previous":{"fields":{"slug":"/june-4th-and-5th/"},"frontmatter":{"title":"[회고] 06.17 ~ 06.30"}},"next":{"fields":{"slug":"/status-and-control-thread-in-java/"},"frontmatter":{"title":"Java Thread 2 - Java Thread의 상태와 행동을 제어하는 방법"}}},"pageContext":{"id":"7b64a367-9192-557d-b45d-0e3bc68d44d3","series":null,"previousPostId":"312b3fe7-7d78-543d-ae7c-4e861503d3e4","nextPostId":"9e5a98c2-ba89-5b36-8e72-0028211a2c5b"}},"staticQueryHashes":[],"slicesMap":{}}