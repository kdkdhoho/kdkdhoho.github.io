{"componentChunkName":"component---src-pages-search-jsx","path":"/search/","result":{"data":{"allMarkdownRemark":{"nodes":[{"excerpt":"ê°œìš” ê²Œì‹œê¸€ì— ëŒ“ê¸€ ì‘ì„± ì‹œ, ê²Œì‹œê¸€ ì‘ì„±ìì—ê²Œ ì•ŒëŒì„ ìƒì„±í•˜ë„ë¡ í•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•´ì•¼ í–ˆë‹¤.\nì´ë•Œ, ëŒ“ê¸€ê³¼ ì•ŒëŒì˜ ê²°í•©ë„ë¥¼ ë‚®ì¶”ê¸° ìœ„í•´ ì„ ì‚¬ìš©í–ˆë‹¤.\nì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ë‹¤. ì—¬ê¸°ì„œ ì™€ ì— ëŒ€í•´ ì§šê³  ë„˜ì–´ê°€ê³  ì‹¶ì€ë°, ì´ ì•„ë‹Œ ì„ ì ìš©í•œ ì´ìœ ëŠ”, ëŒ“ê¸€ ìƒì„± ë¡œì§ì´ Commit ëœ í›„ì— ì•ŒëŒ ìƒì„± ë¡œì§ì„ ìˆ˜í–‰í•˜ë„ë¡ í•˜ê¸° ìœ„í•´ì„œë‹¤.  ëŠ” ì´ë²¤íŠ¸ê°€ ë°œí–‰ë˜ìë§ˆì â€¦","fields":{"slug":"/transactional-event-listener-test-trouble-shooting/"},"frontmatter":{"date":"September 26, 2024","title":"@TransactionalEventListener ë©”ì„œë“œë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•œ ë°©ë²•","tags":["Spring","TestTransaction"]},"rawMarkdownBody":"\n## ê°œìš”\n\nê²Œì‹œê¸€ì— ëŒ“ê¸€ ì‘ì„± ì‹œ, ê²Œì‹œê¸€ ì‘ì„±ìì—ê²Œ ì•ŒëŒì„ ìƒì„±í•˜ë„ë¡ í•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•´ì•¼ í–ˆë‹¤.<br>\nì´ë•Œ, ëŒ“ê¸€ê³¼ ì•ŒëŒì˜ ê²°í•©ë„ë¥¼ ë‚®ì¶”ê¸° ìœ„í•´ `ApplicationEventPublisher`ì„ ì‚¬ìš©í–ˆë‹¤.<br>\nì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ë‹¤.\n```java\npublic class CommentService {\n\n    public CommentCreateResponse create(Long listId, String content, Long loginUserId) {\n        User user = userRepository.getById(loginUserId);\n        ListEntity list = listRepository.getById(listId);\n\n        Comment comment = Comment.create(list, user, new CommentContent(content));\n        Comment saved = commentRepository.save(comment);\n\n        applicationEventPublisher.publishEvent(AlarmEvent.comment(list, saved));\n        return CommentCreateResponse.of(saved, user);\n    }\n}\n\npublic class AlarmService {\n\n    @TransactionalEventListener\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\n    public void save(AlarmEvent alarmEvent) {\n        alarmEvent.validateDifferentPublisherAndReceiver();\n        alarmRepository.save(alarmEvent.toEntity());\n    }\n}\n```\n\nì—¬ê¸°ì„œ `@TransactionalEventListener`ì™€ `@Transactional(propagation = Propagation.REQUIRES_NEW)`ì— ëŒ€í•´ ì§šê³  ë„˜ì–´ê°€ê³  ì‹¶ì€ë°,\n\n`@EventListener`ì´ ì•„ë‹Œ `@TransactionalEventListener`ì„ ì ìš©í•œ ì´ìœ ëŠ”, ëŒ“ê¸€ ìƒì„± ë¡œì§ì´ Commit ëœ í›„ì— ì•ŒëŒ ìƒì„± ë¡œì§ì„ ìˆ˜í–‰í•˜ë„ë¡ í•˜ê¸° ìœ„í•´ì„œë‹¤.<br> \n> `@EventListener`ëŠ” ì´ë²¤íŠ¸ê°€ ë°œí–‰ë˜ìë§ˆì ë¡œì§ì„ ì‹¤í–‰í•œë‹¤.<br>\n> ë°˜ë©´ `@TransactionalEventListener`ì€ ë¶€ëª¨ íŠ¸ëœì­ì…˜ì´ Commit ëœ ì´í›„ì— ì‹¤í–‰ëœë‹¤.\n\níŠ¸ëœì­ì…˜ ì „íŒŒ ì†ì„±ì„ `REQUIRES_NEW`ë¡œ ì„¤ì •í•œ ì´ìœ ëŠ”, `save()` ë©”ì„œë“œëŠ” ë¶€ëª¨ íŠ¸ëœì­ì…˜ì´ Commit ëœ ì´í›„ì— ì‹¤í–‰ì´ ë˜ì–´ì•¼ í•˜ëŠ”ë°, `REQUIRED`ë¡œ ì„¤ì •í•˜ë©´<br>\nCommitì´ ëœ íŠ¸ëœì­ì…˜ì— í•©ë¥˜í•˜ê²Œ ë˜ê³  ê·¸ëŒ€ë¡œ ì¢…ë£Œí•˜ê²Œ ë˜ë¯€ë¡œ, ê²°êµ­ ì•ŒëŒì´ ì €ì¥ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤.\n\nìœ„ ë¡œì§ì— ëŒ€í•œ í†µí•© í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ìœ„í•´ ì•„ë˜ì™€ ê°™ì´ ì½”ë“œë¥¼ ì‘ì„±í–ˆë‹¤.\n```java\n@Test\nvoid ë¦¬ìŠ¤íŠ¸ì—_ëŒ“ê¸€ì„_ë‚¨ê¸¸_ê²½ìš°_ì‘ì„±ìì—ê²Œ_ì•ŒëŒì´_ìƒì„±ëœë‹¤() {\n    // given: ë™í˜¸ê°€ ë¦¬ìŠ¤íŠ¸ë¥¼ ìƒì„±í•œë‹¤.\n    User listWriter = userRepository.save(ë™í˜¸());\n    ListEntity list = listRepository.save(ê°€ì¥_ì¢‹ì•„í•˜ëŠ”_ê²¬ì¢…_TOP3(listWriter, List.of()));\n\n    // when: ì •ìˆ˜ê°€ ëŒ“ê¸€ì„ ë‚¨ê¸´ë‹¤.\n    User commentWriter = userRepository.save(ì •ìˆ˜());\n    commentService.create(list.getId(), \"ì²« ëŒ“ê¸€!\", commentWriter.getId());\n\n    // then: ë™í˜¸ì˜ ì•ŒëŒì„ ì¡°íšŒí•´ì„œ ê²€ì¦í•œë‹¤.\n    List<FindAlarmResponse> result = alarmRepository.getAlarms(listWriter);\n    assertThat(result).hasSize(1);\n    assertThat(result.get(0).getType()).isEqualTo(AlarmType.COMMENT.name());\n    assertThat(result.get(0).getSendUserId()).isEqualTo(commentWriter.getId());\n}\n```\n\ní•˜ì§€ë§Œ ì•ŒëŒì´ ì•„ë¬´ê²ƒë„ ì¡´ì¬í•˜ì§€ ì•Šì•˜ê³ , JPA ì¿¼ë¦¬ ë¡œê·¸ë¥¼ ë³´ë©´ ì•ŒëŒ ë°ì´í„°ê°€ INSERT ë˜ì§€ ì•ŠëŠ”ë‹¤.<br>\n\n## ì›ì¸ íŒŒì•…\n\nì „ì²´ì ì¸ ë¡œì§ì„ í•˜ë‚˜ì”© ë‹¤ì‹œ ì‚´í´ë³´ì.<br>\n\n`CommentService#create()`ì´ í˜¸ì¶œë˜ê³  `applicationEventPublisher.publishEvent(AlarmEvent.comment(list, saved));`ì„ í˜¸ì¶œí•œë‹¤.<br>\nê·¸ë¦¬ê³  ë©”ì„œë“œëŠ” ì¢…ë£Œí•œë‹¤.<br>\nê·¸ëŸ¬ë©´ í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ê²€ì¦ ë¶€ë¶„ìœ¼ë¡œ ë„˜ì–´ê°€ê²Œ ë˜ê³ , ë™ì‹œì— `AlarmService#save()`ê°€ í˜¸ì¶œë  ê²ƒì´ë‹¤.<br>\n\ní•˜ì§€ë§Œ ìš°ë¦¬ê°€ ë°”ë¼ëŠ” ê²ƒì€ `CommentService#create()`ì´ ëª¨ë‘ ì¢…ë£Œë˜ê³ , `AlarmService#save()`ê°€ í˜¸ì¶œë˜ê³  ë‚˜ì„œì•¼ ê²€ì¦ ë¶€ë¶„ìœ¼ë¡œ ë„˜ì–´ê°€ëŠ” ê²ƒì´ë‹¤.<br>\në”°ë¼ì„œ `commentService.create(list.getId(), \"ì²« ëŒ“ê¸€!\", commentWriter.getId());` ì´í›„ì— ê°•ì œë¡œ íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•´ì¤˜ì•¼ í•œë‹¤.\n\n## í•´ê²°\n\nìŠ¤í”„ë§ì˜ [TestTransaction](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/transaction/TestTransaction.html)ì„ í†µí•´ í…ŒìŠ¤íŠ¸ íŠ¸ëœì­ì…˜ì„ ìˆ˜ë™ìœ¼ë¡œ ì œì–´í•  ìˆ˜ ìˆë‹¤.\n\n`TestTransaction.flagForCommit()`ê³¼ `TestTransaction.end()`ì„ ì´ìš©í•˜ì—¬ í•´ê²°í•´ë³´ì.\n\n```java\n@Test\nvoid ë¦¬ìŠ¤íŠ¸ì—_ëŒ“ê¸€ì„_ë‚¨ê¸¸_ê²½ìš°_ì‘ì„±ìì—ê²Œ_ì•ŒëŒì´_ìƒì„±ëœë‹¤() {\n    // given\n    User listWriter = userRepository.save(ë™í˜¸());\n    ListEntity list = listRepository.save(ê°€ì¥_ì¢‹ì•„í•˜ëŠ”_ê²¬ì¢…_TOP3(listWriter, List.of()));\n\n    // when\n    User commentWriter = userRepository.save(ì •ìˆ˜());\n    commentService.create(list.getId(), \"ì²« ëŒ“ê¸€!\", commentWriter.getId());\n\n    TestTransaction.flagForCommit(); // í˜„ì¬ ì§„í–‰ ì¤‘ì¸ í…ŒìŠ¤íŠ¸ íŠ¸ëœì­ì…˜ì´ ì¢…ë£Œë˜ë©´ ì»¤ë°‹í•˜ë„ë¡ ì„¤ì •í•œë‹¤.\n    TestTransaction.end(); // í˜„ì¬ ì§„í–‰ ì¤‘ì¸ í…ŒìŠ¤íŠ¸ íŠ¸ëœì­ì…˜ì„ ì¢…ë£Œí•œë‹¤.\n\n    // then\n    List<FindAlarmResponse> result = alarmRepository.getAlarms(listWriter);\n    assertThat(result).hasSize(1);\n    assertThat(result.get(0).getType()).isEqualTo(AlarmType.COMMENT.name());\n    assertThat(result.get(0).getSendUserId()).isEqualTo(commentWriter.getId());\n}\n```\n\nìš°ë¦¬ê°€ ì˜ë„í•œ ëŒ€ë¡œ `commentService.create(list.getId(), \"ì²« ëŒ“ê¸€!\", commentWriter.getId());` ì‹¤í–‰ ì´í›„ì—, í•´ë‹¹ íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•˜ê¸° ìœ„í•´<br>\në‹¤ìŒ ë¼ì¸ì— `TestTransaction.flagForCommit();`ê³¼ `TestTransaction.end();`ì„ í˜¸ì¶œí•´ì£¼ì—ˆë‹¤.<br>\nê° ì½”ë“œë¥¼ í˜¸ì¶œí•˜ë©´, í˜„ì¬ ì§„í–‰ ì¤‘ì¸ í…ŒìŠ¤íŠ¸ íŠ¸ëœì­ì…˜ ì»¨í…ìŠ¤íŠ¸ê°€ ì¢…ë£Œë˜ë©´ Commití•˜ë„ë¡ ì„¤ì •ì„ ë³€ê²½í•˜ê³ , ê°•ì œë¡œ ì¢…ë£Œì‹œí‚¨ë‹¤.<br>\nê²°ê³¼ì ìœ¼ë¡œ `CommentService#create` ë©”ì„œë“œëŠ” ì»¤ë°‹ì´ ë˜ê³ , ìì—°ìŠ¤ë ˆ `AlarmService#save()`ë„ í˜¸ì¶œë˜ì–´ ì˜ë„í•œ ëŒ€ë¡œ í…ŒìŠ¤íŠ¸ê°€ ìˆ˜í–‰ëœë‹¤.\n\nì•„ë˜ëŠ” í…ŒìŠ¤íŠ¸ ê²°ê³¼ ë¡œê·¸ì¸ë°, EntityManagerì˜ Session IDë¥¼ ë³´ë©´ 1954816877ê°€ ëŒ“ê¸€ì„ ì €ì¥í•œë‹¤.<br>\nì €ì¥ì´ ëë‚˜ê³  Commití•˜ê³ , ì´ì–´ì„œ 645470836ê°€ Openëœë‹¤. ë™ì‹œì— 1954816877ì€ íŠ¸ëœì­ì…˜ ì „íŒŒë¡œ ì¸í•´ Suspendingeëœë‹¤.<br>\nê·¸ë¦¬ê³  645470836ê°€ ì•ŒëŒì„ ì €ì¥í•˜ê³ , 645470836 - 1954816877 ìˆœìœ¼ë¡œ Closingëœë‹¤.\n\n```text\n2024-09-26T18:43:55.139+09:00 DEBUG 54024 --- [           main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1954816877<open>)] for JPA transaction\n2024-09-26T18:43:55.140+09:00 DEBUG 54024 --- [           main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction\n2024-09-26T18:43:55.142+09:00 DEBUG 54024 --- [           main] org.hibernate.SQL                        : \n    insert \n    into\n        comment\n        (content, created_date, is_deleted, list_id, updated_date, user_id, id) \n    values\n        (?, ?, ?, ?, ?, ?, default)\n2024-09-26T18:43:55.142+09:00 TRACE 54024 --- [           main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ì²« ëŒ“ê¸€!]\n2024-09-26T18:43:55.142+09:00 TRACE 54024 --- [           main] org.hibernate.orm.jdbc.bind              : binding parameter (2:TIMESTAMP) <- [2024-09-26T18:43:55.140749]\n2024-09-26T18:43:55.142+09:00 TRACE 54024 --- [           main] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [false]\n2024-09-26T18:43:55.142+09:00 TRACE 54024 --- [           main] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [1]\n2024-09-26T18:43:55.142+09:00 TRACE 54024 --- [           main] org.hibernate.orm.jdbc.bind              : binding parameter (5:TIMESTAMP) <- [2024-09-26T18:43:55.140749]\n2024-09-26T18:43:55.142+09:00 TRACE 54024 --- [           main] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [2]\n2024-09-26T18:43:55.145+09:00 DEBUG 54024 --- [           main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit\n2024-09-26T18:43:55.146+09:00 DEBUG 54024 --- [           main] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1954816877<open>)]\n2024-09-26T18:43:55.155+09:00 DEBUG 54024 --- [           main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1954816877<open>)] for JPA transaction\n2024-09-26T18:43:55.155+09:00 DEBUG 54024 --- [           main] o.s.orm.jpa.JpaTransactionManager        : Suspending current transaction, creating new transaction with name [com.listywave.alarm.application.service.AlarmService.save]\n2024-09-26T18:43:55.155+09:00 DEBUG 54024 --- [           main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(645470836<open>)] for JPA transaction\n2024-09-26T18:43:55.155+09:00 DEBUG 54024 --- [           main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7ce660fc]\n2024-09-26T18:43:55.156+09:00 DEBUG 54024 --- [           main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(645470836<open>)] for JPA transaction\n2024-09-26T18:43:55.156+09:00 DEBUG 54024 --- [           main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction\n2024-09-26T18:43:55.158+09:00 DEBUG 54024 --- [           main] org.hibernate.SQL                        : \n    insert \n    into\n        alarm\n        (comment_id, created_date, is_checked, list_id, receive_user_id, type, send_user_id, id) \n    values\n        (?, ?, ?, ?, ?, ?, ?, default)\n2024-09-26T18:43:55.158+09:00 TRACE 54024 --- [           main] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]\n2024-09-26T18:43:55.158+09:00 TRACE 54024 --- [           main] org.hibernate.orm.jdbc.bind              : binding parameter (2:TIMESTAMP) <- [2024-09-26T18:43:55.156967]\n2024-09-26T18:43:55.158+09:00 TRACE 54024 --- [           main] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [false]\n2024-09-26T18:43:55.158+09:00 TRACE 54024 --- [           main] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [1]\n2024-09-26T18:43:55.158+09:00 TRACE 54024 --- [           main] org.hibernate.orm.jdbc.bind              : binding parameter (5:BIGINT) <- [1]\n2024-09-26T18:43:55.158+09:00 TRACE 54024 --- [           main] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [COMMENT]\n2024-09-26T18:43:55.159+09:00 TRACE 54024 --- [           main] org.hibernate.orm.jdbc.bind              : binding parameter (7:BIGINT) <- [2]\n2024-09-26T18:43:55.160+09:00 DEBUG 54024 --- [           main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit\n2024-09-26T18:43:55.160+09:00 DEBUG 54024 --- [           main] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(645470836<open>)]\n2024-09-26T18:43:55.161+09:00 DEBUG 54024 --- [           main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(645470836<open>)] after transaction\n2024-09-26T18:43:55.161+09:00 DEBUG 54024 --- [           main] o.s.orm.jpa.JpaTransactionManager        : Resuming suspended transaction after completion of inner transaction\n2024-09-26T18:43:55.161+09:00 DEBUG 54024 --- [           main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1954816877<open>)] after transaction\n2024-09-26T18:43:55.212+09:00 DEBUG 54024 --- [           main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation\n```\n\n## ê²°ê³¼\n\nê²°ê³¼ì ìœ¼ë¡œ, í…ŒìŠ¤íŠ¸ ì¤‘ê°„ì— ê°•ì œë¡œ ì»¤ë°‹ì„ ìˆ˜í–‰í•˜ì—¬ ì„±ê³µì ìœ¼ë¡œ `@TransactionalEventListener`ì— í•´ë‹¹í•˜ëŠ” ë©”ì„œë“œë¥¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.<br>"},{"excerpt":"ê°œìš” 1300:Kë²ˆì§¸ ìˆ˜ë‚˜ 1637:ë‚ ì¹´ë¡œìš´ ëˆˆ ë¬¸ì œë¥¼ í’€ë©´ì„œ 'ì¼ì •í•˜ê²Œ ì¦ê°€í•˜ëŠ” ìˆ˜ì—´ì—ì„œ íŠ¹ì • ê°’(x)ë³´ë‹¤ ê°™ê±°ë‚˜ ì‘ì€ ê°’ì˜ ê°œìˆ˜ë¥¼ ì„¸ëŠ”' ê²½ìš°ê°€ ì¡´ì¬í–ˆë‹¤.\ní’€ë‹¤ë³´ë‹ˆ ìœ„ ë¡œì§ì´ ê³µì‹ì²˜ëŸ¼ ë”± ë“¤ì–´ë§ëŠ” ê²ƒì„ ë°œê²¬í–ˆê³  ì´ë¥¼ ì •ë¦¬í•˜ê³ ì í•œë‹¤. ì½”ë“œ ìš°ì„  ì½”ë“œë¡œ ì‚´í´ë³´ì.\nì•„ë˜ ì½”ë“œëŠ” 1637:ë‚ ì¹´ë¡œìš´ ëˆˆ ë¬¸ì œë¥¼ í•´ê²°í•˜ë©° ì ìš©í•œ ë©”ì„œë“œë¥¼ ê°„ì†Œí™” í•œ ì½”ë“œë‹¤. ê° â€¦","fields":{"slug":"/counting_the_number_of_values_lower_or_equal_to_constantly_increasing_sequence/"},"frontmatter":{"date":"September 07, 2024","title":"ì¼ì •í•˜ê²Œ ì¦ê°€í•˜ëŠ” ìˆ˜ì—´ì—ì„œ íŠ¹ì • ê°’ë³´ë‹¤ ê°™ê±°ë‚˜ ì‘ì€ ê°’ì˜ ê°œìˆ˜ë¥¼ ì„¸ëŠ” ë²•","tags":["algorithm"]},"rawMarkdownBody":"\n## ê°œìš”\n\n[1300:Kë²ˆì§¸ ìˆ˜](https://www.acmicpc.net/problem/1300)ë‚˜ [1637:ë‚ ì¹´ë¡œìš´ ëˆˆ](https://www.acmicpc.net/problem/1637) ë¬¸ì œë¥¼ í’€ë©´ì„œ 'ì¼ì •í•˜ê²Œ ì¦ê°€í•˜ëŠ” ìˆ˜ì—´ì—ì„œ íŠ¹ì • ê°’(x)ë³´ë‹¤ ê°™ê±°ë‚˜ ì‘ì€ ê°’ì˜ ê°œìˆ˜ë¥¼ ì„¸ëŠ”' ê²½ìš°ê°€ ì¡´ì¬í–ˆë‹¤.<br>\ní’€ë‹¤ë³´ë‹ˆ ìœ„ ë¡œì§ì´ ê³µì‹ì²˜ëŸ¼ ë”± ë“¤ì–´ë§ëŠ” ê²ƒì„ ë°œê²¬í–ˆê³  ì´ë¥¼ ì •ë¦¬í•˜ê³ ì í•œë‹¤.\n\n## ì½”ë“œ\n\nìš°ì„  ì½”ë“œë¡œ ì‚´í´ë³´ì.<br>\nì•„ë˜ ì½”ë“œëŠ” [1637:ë‚ ì¹´ë¡œìš´ ëˆˆ](https://www.acmicpc.net/problem/1637) ë¬¸ì œë¥¼ í•´ê²°í•˜ë©° ì ìš©í•œ ë©”ì„œë“œë¥¼ ê°„ì†Œí™” í•œ ì½”ë“œë‹¤.\n\n```python\n# x: ê¸°ì¤€ì´ ë˜ëŠ” ìˆ˜\n# a: ìˆ˜ì—´ì˜ ì‹œì‘ê°’\n# c: ìˆ˜ì—´ì˜ ìµœëŒ“ê°’\n# b: ìˆ˜ì—´ì´ ì¦ê°€í•˜ëŠ” ë²”ìœ„\n# xë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ ìˆ˜ì˜ ê°œìˆ˜ë¥¼ êµ¬í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.\ndef count_equal_or_lower(x, a, c, b):\n    if x < a:  # ì°¾ìœ¼ë ¤ëŠ” ìˆ˜ê°€ ìˆ˜ì—´ì˜ ìµœì†Œê°’ë³´ë‹¤ ì‘ë‹¤ë©´, ê²°ê³¼ëŠ” 0ì´ë‹¤. \n        return 0\n\n    # x, c ì¤‘ì—ì„œ ì‘ì€ ê°’ì„ ê³ ë¥¸ë‹¤.\n    # ì£¼ì–´ì§„ ìˆ˜ì—´(aë¶€í„° cê¹Œì§€ì˜ bë§Œí¼ ì¦ê°€í•˜ëŠ” ìˆ˜ì—´)ì˜ ë²”ìœ„ì˜ ëì„ ì„¤ì •í•œë‹¤.\n    # íƒìƒ‰ ë²”ìœ„ë¥¼ ì¢íˆëŠ” ê²ƒì´ë‹¤.\n    max_val = min(x, c)\n    \n    # max_valì´ íƒìƒ‰ ë²”ìœ„ì˜ ìµœì†Ÿê°’(a) ë¯¸ë§Œì´ë©´ ê²°ê³¼ëŠ” 0ì´ë‹¤. \n    if max_val < a:\n        return 0\n        \n    length = max_val - a  # aë¶€í„° max_valê¹Œì§€ì˜ ê¸¸ì´ë¥¼ êµ¬í•œë‹¤.\n    count = length // b  # ê¸¸ì´ë¥¼ bë¡œ ë‚˜ëˆˆë‹¤. ì´ëŠ” ì¦‰, ì‹œì‘ê°’(a)ë¶€í„° ëê°’(max_val)ê¹Œì§€ bë§Œí¼ ì í”„í•´ì„œ ì–¼ë§Œí¼ ì›€ì§ì´ëŠ”ì§€ ì„¸ëŠ” ê²ƒì´ë‹¤.\n    result = count + 1 # ë§¨ ì²˜ìŒ ê°’(a)ëŠ” ì í”„ì— í¬í•¨ë˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ 1ì„ ë”í•´ ê°’ì„ ë³´ì •í•œë‹¤.\n    return result\n```\n\nê° ì½”ë“œì— ëŒ€í•œ ì„¤ëª…ì€ ì£¼ì„ìœ¼ë¡œ ì„¤ëª…í–ˆë‹¤.<br>\nê·¸ëŸ¼ ì´ì œ ì˜ˆì‹œë¥¼ í†µí•´ ì´í•´í•´ë³´ì.\n\n## ì˜ˆì‹œ\n\n### ì˜ˆì‹œ 1: a=1, c=10, b=1\n\në‹¤ìŒê³¼ ê°™ì€ ìˆ˜ì—´ì´ ìˆë‹¤ê³  ê°€ì •í•´ë³´ì.<br>\nì‹œì‘ê°’(a): 1, ìµœëŒ“ê°’(c): 10, ì¦ê°€ë¹„(1): 1ì´ë‹¤.<br>\n[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n\nìœ„ ìˆ˜ì—´ì—ì„œ 7ë³´ë‹¤ ê°™ê±°ë‚˜ ì‘ì€ ìˆ«ìëŠ” [1, 2, 3, 4, 5, 6, 7] ì´ë‹¤.\n\nìš°ì„  ì°¾ìœ¼ë ¤ëŠ” ë²”ìœ„ë¥¼ ë¨¼ì € ì •í•´ë³´ì.<br>\nìˆ˜ì—´ì˜ ìµœëŒ“ê°’(c)ê³¼ ê¸°ì¤€ì´ ë˜ëŠ” ìˆ˜(x) ì¤‘, ë” ì‘ì€ ê°’ì€ xì´ë‹¤.<br>\në”°ë¼ì„œ ìˆ˜ì—´ [1, 2, 3, 4, 5, 6, 7] ì•ˆì—ì„œ 7ë³´ë‹¤ ì‘ì€ ìˆ˜ë¥¼ ì°¾ì•„ì•¼ í•˜ëŠ” ê²ƒì´ë‹¤.<br>\n\nì—¬ê¸°ì„œë¶€í„° í•µì‹¬ì¸ë°, ì‹œì‘ ì§€ì ì¸ ì²« ë²ˆì§¸ ì¸ë±ìŠ¤(0)ë¡œë¶€í„° ë§ˆì§€ë§‰ ì¸ë±ìŠ¤(6)ê¹Œì§€ bë§Œí¼ ì¦ê°€í•´ì„œ ëª‡ ë²ˆë§Œì— ê°ˆ ìˆ˜ ìˆëŠ”ì§€ ì„¸ë©´ ëœë‹¤.<br>\nìœ„ ìˆ˜ì—´ì—ì„œëŠ” bê°€ 1ì´ê¸° ë•Œë¬¸ì— 6ë²ˆ ì´ë™í•˜ë©´ ë  ê²ƒì´ë‹¤.<br>\nê·¸ë¦¬ê³  ì²« ë²ˆì§¸ ì¸ë±ìŠ¤ì— í•´ë‹¹í•˜ëŠ” ê°’ì€ íšŸìˆ˜ì— í¬í•¨ë˜ì§€ ì•Šì•˜ìœ¼ë‹ˆ +1ì„ í•´ì£¼ì–´ ë³´ì •ì„ í•´ì¤€ë‹¤.\n\n### ì˜ˆì‹œ 2: a=3, c=23, b=4\n\nì´ë²ˆì—ëŠ” [3, 7, 11, 15, 19, 23] ì˜ ìˆ˜ì—´ì´ë‹¤.<br>\nìœ„ ìˆ˜ì—´ì—ì„œ ê¸°ì¤€ê°’ xë¥¼ 18ë¡œ ì„¤ì •í•´ë³´ì.\n\nìš°ì„ , íƒìƒ‰ ë²”ìœ„ë¥¼ ì„¤ì •í•˜ì.<br>\níƒìƒ‰ ë²”ìœ„ì˜ ì‹œì‘ê°’ì€ 3ì´ê³ , ëê°’ì€ `min(18, 23)` ì´ë¯€ë¡œ 18ê°€ ëœë‹¤.<br>\nì¦‰, [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18] ë‚´ì—ì„œ ì°¾ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤.<br>\n\nì´ë•Œì—ë„ ë§ˆì°¬ê°€ì§€ë¡œ 3ë¶€í„° 18ê¹Œì§€ bë§Œí¼ ì¦ê°€í•´ì„œ ëª‡ ë²ˆë§Œì— ë„ì°©í•˜ëŠ”ì§€ë¥¼ ì„¸ë³´ì.<br>\nbëŠ” 4 ì´ë¯€ë¡œ 3ë¶€í„° ì‹œì‘í•´ì„œ [7, 11, 15]ë¥¼ í†µí•´ 3ë²ˆë§Œì— ë„ì°©í•  ìˆ˜ ìˆë‹¤.<br>\nì—¬ê¸°ì„œ ë§¨ ì²« ë²ˆì§¸ ê°’ì¸ 3ì´ ì œì™¸ë˜ì—ˆìœ¼ë‹ˆ +1ì„ í•´ì¤€ë‹¤.<br>\nê²°ê³¼ì ìœ¼ë¡œ [3, 7, 11, 15] ì˜ ìˆ˜ì—´ì´ ë„ì¶œë˜ê³  ì´ ê°œìˆ˜ëŠ” 4ê°€ ëœë‹¤.<br>\n\në†€ëê²Œë„ íƒìƒ‰í•˜ëŠ” ë²”ìœ„ëŠ” 3ë¶€í„° 18ê¹Œì§€ì˜€ì§€ë§Œ, ì‹œì‘ê°’ë¶€í„° bë§Œí¼ ì¦ê°€í•˜ë©° ëê°’ê¹Œì§€ ë„ë‹¬í•˜ê¸° ìœ„í•œ ìˆ«ìë“¤ì„ ë³´ë‹ˆ ëª¨ë‘ ìˆ˜ì—´ [3, 7, 11, 15, 19, 23]ì— í¬í•¨ë˜ëŠ” ê°’ë“¤ì´ ëœë‹¤."},{"excerpt":"O(sqrt(N))ê³¼ O(log2(N))ì€ ë¹„ìŠ·í•´ë³´ì´ì§€ë§Œ ì°¨ì´ê°€ ë§ì´ ë‹¤ë¥´ë‹¤.\nê°„ë‹¨íˆ Nì„ 1ë¶€í„° 1e8ê¹Œì§€ ì¦ê°€ì‹œí‚¤ë©´ì„œ sqrt(N)ê³¼ log2(N)ì„ ì¶œë ¥í•´ë´ë„ ì•Œ ìˆ˜ ìˆë‹¤. Nì´ ì ì„ ë•ŒëŠ” log2(N)ì´ sqrt(N)ë³´ë‹¤ í° ê²½ìš°ë„ ìˆë‹¤.\ní•˜ì§€ë§Œ ê·¸ ê°’ì´ ì»¤ì§€ë©´ ì»¤ì§ˆìˆ˜ë¡ sqrt(N)ê³¼ log2(N)ì˜ ì°¨ì´ëŠ” ì‹¬í•˜ê²Œ ì°¨ì´ë‚œë‹¤. ê°’ì„ ê¸°ë°˜ìœ¼ë¡œ ëŒ€ì¶© â€¦","fields":{"slug":"/difference-sqrtN-and-logN/"},"frontmatter":{"date":"September 02, 2024","title":"O(sqrt(N))ê³¼ O(log2(N))ì˜ ì°¨ì´","tags":["algorithm","time complexity"]},"rawMarkdownBody":"\nO(sqrt(N))ê³¼ O(log2(N))ì€ ë¹„ìŠ·í•´ë³´ì´ì§€ë§Œ ì°¨ì´ê°€ ë§ì´ ë‹¤ë¥´ë‹¤.<br>\nê°„ë‹¨íˆ Nì„ 1ë¶€í„° 1e8ê¹Œì§€ ì¦ê°€ì‹œí‚¤ë©´ì„œ sqrt(N)ê³¼ log2(N)ì„ ì¶œë ¥í•´ë´ë„ ì•Œ ìˆ˜ ìˆë‹¤.\n\n```kotlin\nimport java.lang.Math.sqrt\nimport kotlin.math.log\n\nfun main() {\n    for (n in 1..1e8.toInt()) {\n        println(\"sqrt(N)=${sqrt(n.toDouble())} log2(N)=${log(n.toDouble(), 2.0)}\")\n    }\n}\n```\n\nNì´ ì ì„ ë•ŒëŠ” log2(N)ì´ sqrt(N)ë³´ë‹¤ í° ê²½ìš°ë„ ìˆë‹¤.<br>\ní•˜ì§€ë§Œ ê·¸ ê°’ì´ ì»¤ì§€ë©´ ì»¤ì§ˆìˆ˜ë¡ sqrt(N)ê³¼ log2(N)ì˜ ì°¨ì´ëŠ” ì‹¬í•˜ê²Œ ì°¨ì´ë‚œë‹¤.<br>\n\n```text\nN=1 sqrt(N)=1.0 log2(N)=0.0\nN=2 sqrt(N)=1.4142135623730951 log2(N)=1.0\nN=3 sqrt(N)=1.7320508075688772 log2(N)=1.584962500721156\nN=4 sqrt(N)=2.0 log2(N)=2.0\nN=5 sqrt(N)=2.23606797749979 log2(N)=2.321928094887362\nN=6 sqrt(N)=2.449489742783178 log2(N)=2.584962500721156\nN=7 sqrt(N)=2.6457513110645907 log2(N)=2.807354922057604\nN=8 sqrt(N)=2.8284271247461903 log2(N)=3.0\nN=9 sqrt(N)=3.0 log2(N)=3.1699250014423126\nN=10 sqrt(N)=3.1622776601683795 log2(N)=3.3219280948873626\nN=11 sqrt(N)=3.3166247903554 log2(N)=3.4594316186372978\nN=12 sqrt(N)=3.4641016151377544 log2(N)=3.5849625007211565\nN=13 sqrt(N)=3.605551275463989 log2(N)=3.700439718141092\nN=14 sqrt(N)=3.7416573867739413 log2(N)=3.8073549220576037\nN=15 sqrt(N)=3.872983346207417 log2(N)=3.9068905956085187\nN=16 sqrt(N)=4.0 log2(N)=4.0\nN=17 sqrt(N)=4.123105625617661 log2(N)=4.08746284125034\nN=18 sqrt(N)=4.242640687119285 log2(N)=4.169925001442312\nN=19 sqrt(N)=4.358898943540674 log2(N)=4.247927513443585\nN=20 sqrt(N)=4.47213595499958 log2(N)=4.321928094887363\nN=21 sqrt(N)=4.58257569495584 log2(N)=4.392317422778761\nN=22 sqrt(N)=4.69041575982343 log2(N)=4.459431618637297\nN=23 sqrt(N)=4.795831523312719 log2(N)=4.523561956057013\nN=24 sqrt(N)=4.898979485566356 log2(N)=4.584962500721157\nN=25 sqrt(N)=5.0 log2(N)=4.643856189774724\nN=26 sqrt(N)=5.0990195135927845 log2(N)=4.700439718141093\nN=27 sqrt(N)=5.196152422706632 log2(N)=4.754887502163469\nN=28 sqrt(N)=5.291502622129181 log2(N)=4.807354922057604\nN=29 sqrt(N)=5.385164807134504 log2(N)=4.857980995127573\nN=30 sqrt(N)=5.477225575051661 log2(N)=4.906890595608519\n.\n.\n.\nN=30358755 sqrt(N)=5509.877947831513 log2(N)=24.855609291850453\nN=30358756 sqrt(N)=5509.878038577624 log2(N)=24.855609339372\nN=30358757 sqrt(N)=5509.878129323733 log2(N)=24.855609386893544\nN=30358758 sqrt(N)=5509.8782200698415 log2(N)=24.85560943441509\nN=30358759 sqrt(N)=5509.878310815948 log2(N)=24.85560948193663\nN=30358760 sqrt(N)=5509.878401562052 log2(N)=24.85560952945817\nN=30358761 sqrt(N)=5509.878492308156 log2(N)=24.85560957697971\nN=30358762 sqrt(N)=5509.878583054258 log2(N)=24.855609624501252\nN=30358763 sqrt(N)=5509.878673800359 log2(N)=24.855609672022787\nN=30358764 sqrt(N)=5509.878764546458 log2(N)=24.855609719544322\nN=30358765 sqrt(N)=5509.878855292555 log2(N)=24.855609767065854\nN=30358766 sqrt(N)=5509.8789460386515 log2(N)=24.85560981458739\nN=30358767 sqrt(N)=5509.879036784746 log2(N)=24.855609862108917\nN=30358768 sqrt(N)=5509.8791275308395 log2(N)=24.855609909630445\nN=30358769 sqrt(N)=5509.87921827693 log2(N)=24.855609957151973\nN=30358770 sqrt(N)=5509.879309023021 log2(N)=24.855610004673498\nN=30358771 sqrt(N)=5509.879399769109 log2(N)=24.855610052195026\nN=30358772 sqrt(N)=5509.879490515196 log2(N)=24.855610099716543\nN=30358773 sqrt(N)=5509.879581261282 log2(N)=24.855610147238064\nN=30358774 sqrt(N)=5509.879672007366 log2(N)=24.855610194759585\nN=30358775 sqrt(N)=5509.879762753449 log2(N)=24.855610242281106\nN=30358776 sqrt(N)=5509.879853499529 log2(N)=24.85561028980262\nN=30358777 sqrt(N)=5509.879944245609 log2(N)=24.855610337324133\n```\n\nê°’ì„ ê¸°ë°˜ìœ¼ë¡œ ëŒ€ì¶© ì‹œê°„ë³µì¡ë„ ê·¸ë˜í”„ë¥¼ ê·¸ë ¤ë³´ì•˜ë‹¤.\n\n![ì‹œê°„ë³µì¡ë„ ê·¸ë˜í”„](img_1.png)\n\n## ê²°ë¡ \n\nO(sqrt(N))ë„ O(N)ì— ë¹„í•´ ìƒë‹¹íˆ ì ì€ ìˆ˜ì¸ê±´ ë¶„ëª…í•˜ë‹¤.<br>\ní•˜ì§€ë§Œ log2(N)ì— ë¹„í•˜ë©´ ìƒë‹¹íˆ í° ê²°ê³¼ì¸ ê²ƒë„ ë¶„ëª…í•˜ë‹¤.\n\nì´ ë‘˜ì˜ ì‹œê°„ë³µì¡ë„ ì°¨ì´ëŠ” ë¶„ëª…í•˜ê³ , ê·¸ ì°¨ì´ëŠ” ê°’ì´ ì»¤ì§ˆ ìˆ˜ë¡ ì—„ì²­ë‚˜ê²Œ ì°¨ì´ë‚˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤."},{"excerpt":"ì´ë²ˆ ì£¼ëŠ” ì™¸ì  ë™ê¸°ì—ì„œ ë‚´ì  ë™ê¸°ë¡œ ì˜ ì „ì´ëœ ê²ƒ ê°™ë‹¤.\nì‹œì‘ì€ ì €ë²ˆ ì£¼ë¶€í„°ì¸ë° ì˜¤ëŠ˜ê¹Œì§€ ë‚´ì  ë™ê¸°ë¡œ ê¾¸ì¤€íˆ ì›€ì§ì˜€ë‹¤.\nì—­ì‹œ ì™¸ì  ë™ê¸°ë¥¼ ê°€ì¡Œì„ ë•Œë³´ë‹¤ í›¨ì”¬ ë§ˆìŒì´ í¸ì•ˆí•˜ê³  ìŠ¤íŠ¸ë ˆìŠ¤ë„ ëœ ë°›ëŠ”ë‹¤. ìš°í…Œì½”ë¥¼ í•˜ê³  ë‚˜ì„œë¶€í„° ì™¸ì  ë™ê¸°ë³´ë‹¤ ë‚´ì  ë™ê¸°ì˜ ì¤‘ìš”ì„±ì„ ì•Œê²Œ ë˜ì—ˆë‹¤.\në‚´ì  ë™ê¸°ê°€ ë” ì†Œì¤‘í•œ ê±¸ ëª‡ ë²ˆì´ê³  ê¹¨ë‹¬ì•„ë„ ì™¸ì  ë™ê¸°ê°€ ìê¾¸ ê¼¬ë¦¬ì¹œë‹¤. í”„ë¡œê·¸ë¨ì˜â€¦","fields":{"slug":"/august-2st/"},"frontmatter":{"date":"August 11, 2024","title":"[íšŒê³ ] 08.05 ~ 08.11","tags":["retrospective"]},"rawMarkdownBody":"\nì´ë²ˆ ì£¼ëŠ” ì™¸ì  ë™ê¸°ì—ì„œ ë‚´ì  ë™ê¸°ë¡œ ì˜ ì „ì´ëœ ê²ƒ ê°™ë‹¤.<br>\nì‹œì‘ì€ ì €ë²ˆ ì£¼ë¶€í„°ì¸ë° ì˜¤ëŠ˜ê¹Œì§€ ë‚´ì  ë™ê¸°ë¡œ ê¾¸ì¤€íˆ ì›€ì§ì˜€ë‹¤.<br>\nì—­ì‹œ ì™¸ì  ë™ê¸°ë¥¼ ê°€ì¡Œì„ ë•Œë³´ë‹¤ í›¨ì”¬ ë§ˆìŒì´ í¸ì•ˆí•˜ê³  ìŠ¤íŠ¸ë ˆìŠ¤ë„ ëœ ë°›ëŠ”ë‹¤.\n\nìš°í…Œì½”ë¥¼ í•˜ê³  ë‚˜ì„œë¶€í„° ì™¸ì  ë™ê¸°ë³´ë‹¤ ë‚´ì  ë™ê¸°ì˜ ì¤‘ìš”ì„±ì„ ì•Œê²Œ ë˜ì—ˆë‹¤.<br>\në‚´ì  ë™ê¸°ê°€ ë” ì†Œì¤‘í•œ ê±¸ ëª‡ ë²ˆì´ê³  ê¹¨ë‹¬ì•„ë„ ì™¸ì  ë™ê¸°ê°€ ìê¾¸ ê¼¬ë¦¬ì¹œë‹¤.<br>\n\ní”„ë¡œê·¸ë¨ì˜ ì¢‹ì€ ì„¤ê³„ ë°©ë²• ì¤‘ì—, ë³€í•˜ì§€ ì•ŠëŠ” ê²ƒê³¼ ë³€í•˜ëŠ” ê²ƒì„ ì˜ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ ìˆëŠ”ë°<br>\nì‚´ì•„ê°€ëŠ” ë° ìˆì–´ì„œëŠ” ë¶„ë¦¬ë¥¼ í•´ë„ ë‚˜ì¤‘ì—” ë‹¤ì‹œ ë¶™ê³  ë§‰ ê·¸ëŸ¬ëŠ” ê²ƒ ê°™ë‹¤.\n\nì‚¬ì‹¤ íšŒê³ ë¥¼ í•˜ëŠ” ê°€ì¥ í° ì´ìœ ëŠ”, ë‚´ê°€ ë‚˜ì•„ê°€ê³ ì í•˜ëŠ” ë°©í–¥ì„±ì„ ìƒì§€ ì•Šê¸° ìœ„í•´ ì‘ì„±í•˜ëŠ” ê²ƒì´ë¼ ìƒê°í•œë‹¤<br>\në¹„ìœ ë¥¼ í•˜ìë©´ ìì „ê±°ë¥¼ ì²˜ìŒ ë°°ìš¸ ë•Œ ê· í˜•ì„ ìƒì§€ ì•Šê³  ì­‰ ë‚˜ì•„ê°€ë¼ê³  ë’¤ì—ì„œ ì¡ì•„ì£¼ëŠ” ì—­í• ì´ í•„ìš”í•œë°, íšŒê³ ê°€ ê·¸ ì—­í• ì´ë¼ ìƒê°í•œë‹¤.<br>\nê·¸ëŸ¬ë‹¤ ê· í˜•ì„ ì¡ê²Œ ë˜ê³  ë°©í–¥ì„ ì¡ê²Œ ë˜ë©´ ì—­í• ì€ ë” ì´ìƒ í•„ìš”í•˜ì§€ ì•Šê²Œ ëœë‹¤.<br>\ní˜„ì¬ì˜ ë‚˜ë¥¼ ë˜ëŒì•„ë´¤ì„ ë•Œ ê· í˜•ê³¼ ë°©í–¥ì„ ì˜ ì¡ì€ ê²ƒ ê°™ë‹¤. ê·¸ëƒ¥ ì´ëŒ€ë¡œ ì­‰ ë‚˜ì•„ê°€ëŠ” ë° ì§‘ì¤‘í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•´ë³´ì¸ë‹¤.\n\në°‘ë°¥ì„ ë§ì´ ê¹”ì•˜ì§€ë§Œ, íšŒê³ ëŠ” ë§¤ì£¼ ê°•ë°•ì ìœ¼ë¡œ í•˜ê¸°ë³´ë‹¤ í•„ìš”ì— ì˜í•´ ì‘ì„±í•˜ëŠ” ê²ƒìœ¼ë¡œ í•˜ê² ë‹¤!"},{"excerpt":"ì´ë²ˆ ì£¼ëŠ” ì·¨ì—…ê³¼ ê´€ë ¨í•´ì„œ ë§ì€ ìƒê°ì„ í–ˆë˜ í•œ ì£¼ì˜€ë‹¤.\nì·¨ì—…ì— ëŒ€í•œ ì‹¤íŒ¨ì™€ ë‘ë ¤ì›€ì„ ê²ªì—ˆë‹¤.\nê·¸ë˜ë„ ì‹¤íŒ¨ì™€ ë‘ë ¤ì›€ìœ¼ë¡œ ì¸í•´ ëª©í‘œê°€ ìƒê²¼ê³  ì´ë²ˆ í•œ ì£¼ ë™ì•ˆ ëª©í‘œë¥¼ ì¬ìˆ˜ë¦½í•´ ì‹¤ì²œí–ˆë‹¤.\nì‚¬ì‹¤ ì´ë²ˆ í•œ ì£¼ ë‚´ë‚´ ì•ìœ¼ë¡œ ì§€ì†ê°€ëŠ¥í•˜ê³  ì²´ê³„ì ì¸ ì·¨ì—… ì¤€ë¹„ë¥¼ ê³„íší•˜ê³  ì„¤ê³„í•˜ë ¤ê³  í–ˆì§€ë§Œ ìƒê°ë³´ë‹¤ ì‚¬í˜ë§Œì— ëª¨ë‘ ëë‚˜ê²Œ ë˜ì—ˆë‹¤.\nì„¤ê³„ê°€ ëë‚˜ê³  ê¾¸ì¤€íˆ ì‹¤ì²œ ì¤‘ì¸ë° ì´ë²ˆ ì£¼â€¦","fields":{"slug":"/august-1st/"},"frontmatter":{"date":"August 04, 2024","title":"[íšŒê³ ] 07.29 ~ 08.04","tags":["retrospective"]},"rawMarkdownBody":"\nì´ë²ˆ ì£¼ëŠ” ì·¨ì—…ê³¼ ê´€ë ¨í•´ì„œ ë§ì€ ìƒê°ì„ í–ˆë˜ í•œ ì£¼ì˜€ë‹¤.<br>\nì·¨ì—…ì— ëŒ€í•œ ì‹¤íŒ¨ì™€ ë‘ë ¤ì›€ì„ ê²ªì—ˆë‹¤.<br>\nê·¸ë˜ë„ ì‹¤íŒ¨ì™€ ë‘ë ¤ì›€ìœ¼ë¡œ ì¸í•´ ëª©í‘œê°€ ìƒê²¼ê³  ì´ë²ˆ í•œ ì£¼ ë™ì•ˆ ëª©í‘œë¥¼ ì¬ìˆ˜ë¦½í•´ ì‹¤ì²œí–ˆë‹¤.<br>\nì‚¬ì‹¤ ì´ë²ˆ í•œ ì£¼ ë‚´ë‚´ ì•ìœ¼ë¡œ ì§€ì†ê°€ëŠ¥í•˜ê³  ì²´ê³„ì ì¸ ì·¨ì—… ì¤€ë¹„ë¥¼ ê³„íší•˜ê³  ì„¤ê³„í•˜ë ¤ê³  í–ˆì§€ë§Œ ìƒê°ë³´ë‹¤ ì‚¬í˜ë§Œì— ëª¨ë‘ ëë‚˜ê²Œ ë˜ì—ˆë‹¤.<br>\nì„¤ê³„ê°€ ëë‚˜ê³  ê¾¸ì¤€íˆ ì‹¤ì²œ ì¤‘ì¸ë° ì´ë²ˆ ì£¼ë¥¼ ë§ˆë¬´ë¦¬í•˜ëŠ” ì˜¤ëŠ˜, ê½¤ë‚˜ ë§Œì¡±ìŠ¤ëŸ½ê³  ì˜¤íˆë ¤ í¬ë§ì´ ìƒê²¼ë‹¤ê³  í•  ìˆ˜ ìˆë‹¤.\n\në¶€ë„ëŸ½ê¸°ë„ í•´ì„œ êµ¬ì²´ì ìœ¼ë¡œ ì´ì•¼ê¸°í•˜ì§„ ì•Šì„ ê²ƒì´ë‹¤.<br>\n\n## Keep\n\n1. ì§€ì†ì ì¸ ì·¨ì—… ì‹œë„ì™€ ê¸°ë¡, ì…€í”„ í”¼ë“œë°±ìœ¼ë¡œ ë‹¤ë“¬ì–´ ë‚˜ê°€ê¸°\n2. Problem Solving ë§¤ì¼í•˜ê¸°\n3. CS, ê¸°ìˆ  ê´€ë ¨ ê³µë¶€ ë§¤ì¼í•˜ê¸°\n\n## Problem & Try\n\n1. ì·¨ì—… í™œë™ê³¼ PSë¥¼ ì˜¤ì „ì— ëª¨ë‘ ë§ˆì¹˜ê³  ìˆë‹¤.<br>\nìƒê°ë³´ë‹¤ ì—ë„ˆì§€ê°€ ë§ì´ ë“œëŠ” ì‘ì—…ë“¤ì´ë¼ì„œ ì˜¤í›„ì— í”„ë¡œì íŠ¸ë‚˜ ê¸°ìˆ  ê³µë¶€ë¥¼ í•˜ë ¤ê³  í•˜ë©´ ì‹œì‘ì´ ì¡°ê¸ˆ í˜ë“¤ë‹¤..<br>\nì´ê²ƒë„ ìŠµê´€ì´ ë˜ë„ë¡ ì²˜ìŒì—” í˜ë“¤ì§€ë§Œ ê·¸ëƒ¥ í•´ë³´ìì‡!\n\n2. ëª©í‘œë¥¼ ìˆ˜ë¦½í•œ ì§€ ì´ì œ í•œ ì£¼ê°€ ì§€ë‚¬ë‹¤.<br>\nì²« ìˆ ì— ë°°ë¶€ë¥´ê³  ì‹¶ì–´í•˜ëŠ” ë§ˆìŒì„ ê²½ê³„í•˜ì.\n\n3. ëª©í‘œí•˜ëŠ” ê²ƒì„ ì´ë£¨ê¸° ìœ„í•´ì„  ì „ì— ë¹„í•´ ì‹œê°„ê³¼ ë…¸ë ¥ì„ ë§ì´ ìŸì„ ìˆ˜ ë°–ì— ì—†ë‹¤.<br>\nì´ë¥¼ ë°›ì•„ë“œë¦¬ê³  ì‹¤ì²œí•˜ì."},{"excerpt":"TL;DR 7ì›” AWS ë¹„ìš©ì´ ì§€ë‚œ ë‹¬ë³´ë‹¤ 7$ê°€ ì¶”ê°€ë˜ì—ˆë‹¤. ì›ì¸ì€ ì„œë²„ CPU ì‚¬ìš©ëŸ‰ì˜ ê¸‰ê²©í•˜ê²Œ ì¦ê°€í•¨ì— ë”°ë¼ ì¶”ê°€ ë¹„ìš©ì´ ë°œìƒí–ˆë˜ ê²ƒì´ë‹¤. ë”°ë¼ì„œ CPU ì‚¬ìš©ëŸ‰ì´ ê¸‰ê²©íˆ ì¶”ê°€ ë¹„ìš©ì´ ë°œìƒí•˜ì§€ ì•Šë„ë¡ ì„¤ì •ì„ ë°”ê¿”ì¤¬ë‹¤.  CPU ì‚¬ìš©ëŸ‰ì´ ê¸‰ê²©íˆ ëŠ˜ì–´ë‚œ ì´ìœ ëŠ” ë¡œê·¸ì™€ ë””ìŠ¤í¬ ìš©ëŸ‰ ë•Œë¬¸ì´ì—ˆë‹¤. ë””ìŠ¤í¬ ìš©ëŸ‰ì„ ì¤„ì´ë‹ˆ ê·€ì‹ ê°™ì´ í•´ê²°ë˜ì—ˆë‹¤. ì¬ë°œ ë°©ì§€ë¥¼ ìœ„í•´ ë¡œâ€¦","fields":{"slug":"/log-and-disk/"},"frontmatter":{"date":"August 03, 2024","title":"EC2 CPU ì‚¬ìš©ëŸ‰ì´ ê¸‰ê²©íˆ ëŠ˜ì–´ë‚œ ë¬¸ì œ í•´ê²°","tags":["infra","ec2"]},"rawMarkdownBody":"\n## TL;DR\n- 7ì›” AWS ë¹„ìš©ì´ ì§€ë‚œ ë‹¬ë³´ë‹¤ 7$ê°€ ì¶”ê°€ë˜ì—ˆë‹¤.\n- ì›ì¸ì€ ì„œë²„ CPU ì‚¬ìš©ëŸ‰ì˜ ê¸‰ê²©í•˜ê²Œ ì¦ê°€í•¨ì— ë”°ë¼ ì¶”ê°€ ë¹„ìš©ì´ ë°œìƒí–ˆë˜ ê²ƒì´ë‹¤.\n- ë”°ë¼ì„œ CPU ì‚¬ìš©ëŸ‰ì´ ê¸‰ê²©íˆ ì¶”ê°€ ë¹„ìš©ì´ ë°œìƒí•˜ì§€ ì•Šë„ë¡ ì„¤ì •ì„ ë°”ê¿”ì¤¬ë‹¤. \n- CPU ì‚¬ìš©ëŸ‰ì´ ê¸‰ê²©íˆ ëŠ˜ì–´ë‚œ ì´ìœ ëŠ” ë¡œê·¸ì™€ ë””ìŠ¤í¬ ìš©ëŸ‰ ë•Œë¬¸ì´ì—ˆë‹¤.\n- ë””ìŠ¤í¬ ìš©ëŸ‰ì„ ì¤„ì´ë‹ˆ ê·€ì‹ ê°™ì´ í•´ê²°ë˜ì—ˆë‹¤.\n- ì¬ë°œ ë°©ì§€ë¥¼ ìœ„í•´ ë¡œê·¸ ì •ì±…ì„ ì„¤ì •í•´ì£¼ì—ˆë‹¤.\n\n## 1. ë¬¸ì œ ìƒí™©\n\n### ì§€ë‚œ ë‹¬ì— ë¹„í•´ 7$ ì¦ê°€\n**7ì›” AWS ë¹„ìš©ì´ ê°‘ìê¸° ì§€ë‚œ ë‹¬ì— ë¹„í•´ 7$ê°€ ì¶”ê°€**ëë‹¤.<br>\nì²­êµ¬ì„œë¥¼ ìì„¸íˆ ì‚´í´ë³´ë‹ˆ ì•„ë˜ ì‚¬ì§„ì²˜ëŸ¼ \"**Amazon Elastic Compute Cloud T4GCPUCredits**\" ì´ë¼ëŠ” í•­ëª©ìœ¼ë¡œ 6\\$ê°€ ì¶”ê°€ëë‹¤.<br>\në‚˜ë¨¸ì§€ 1$ëŠ” 6ì›”ì— ë¹„í•´ í•˜ë£¨ê°€ ë” ë§ì•„ì„œ ë°œìƒí•œ ê²ƒìœ¼ë¡œ íŒë‹¨í•œë‹¤.<br>\n![7ì›” ì²­êµ¬ì„œ](img.png)\n(ì°¸ê³ ë¡œ 150ì‹œê°„ì€ ì•½ 6ì¼ì´ë‹¤.)\n\n### Amazon Elastic Compute Cloud T4GCPUCreditsë€?\nGPTì— ë¬¼ì–´ë³´ë‹ˆ ì•„ë˜ì™€ ê°™ì´ ì„¤ëª…í•œë‹¤.\n![Amazon Elastic Compute Cloud T4GCPUCreditsì— ëŒ€í•œ GPT ì„¤ëª…](img_1.png)\n\ní•´ë‹¹ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ê´€ë ¨ ê³µì‹ ë¬¸ì„œ ë°œê²¬í–ˆë‹¤. ([ë¬¸ì„œ1](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/burstable-performance-instances-unlimited-mode.html?icmpid=docs_ec2_console), [ë¬¸ì„œ2](https://aws.amazon.com/ko/ec2/pricing/on-demand/#T2.2FT3.2FT4g_Unlimited_Mode_Pricing))<br>\në¬¸ì„œì—ì„œ ì•„ë˜ì™€ ê°™ì´ ì„¤ëª…í•œë‹¤.<br>\n> T4g, T3a and T3 instances launch as unlimited by default (unless you [change the default](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/burstable-performance-instances-how-to.html#burstable-performance-instance-set-default-credit-specification-for-account)). If the average CPU usage over a 24-hour period exceeds the baseline, you incur charges for surplus credits. If you launch Spot Instances as unlimited and plan to use them immediately and for a short duration, with no idle time for accruing CPU credits, you incur charges for surplus credits. We recommend that you launch your Spot Instances in [standard](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/burstable-performance-instances-standard-mode.html) mode to avoid paying higher costs.\n> <br>\n> <br>\n> T4g, T3a ë° T3 ì¸ìŠ¤í„´ìŠ¤ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë¬´ì œí•œìœ¼ë¡œ ì‹œì‘ë©ë‹ˆë‹¤(ê¸°ë³¸ê°’ì„ ë³€ê²½í•˜ì§€ ì•ŠëŠ” í•œ). 24ì‹œê°„ ë™ì•ˆì˜ í‰ê·  CPU ì‚¬ìš©ëŸ‰ì´ ê¸°ì¤€ì„ ì„ ì´ˆê³¼í•˜ë©´ ì´ˆê³¼ í¬ë ˆë”§ì— ëŒ€í•œ ìš”ê¸ˆì´ ë¶€ê³¼ë©ë‹ˆë‹¤. ìŠ¤íŒŸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë¬´ì œí•œìœ¼ë¡œ ì‹œì‘í•˜ê³  CPU í¬ë ˆë”§ì´ ì ë¦½ë˜ëŠ” ìœ íœ´ ì‹œê°„ ì—†ì´ ë‹¨ê¸°ê°„ ë™ì•ˆ ì¦‰ì‹œ ì‚¬ìš©í•  ê³„íšì¸ ê²½ìš° ì‰ì—¬ í¬ë ˆë”§ì— ëŒ€í•œ ìš”ê¸ˆì´ ë¶€ê³¼ë©ë‹ˆë‹¤. ë” ë†’ì€ ë¹„ìš©ì„ ì§€ë¶ˆí•˜ì§€ ì•Šìœ¼ë ¤ë©´ ìŠ¤íŒŸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í‘œì¤€ ëª¨ë“œë¡œ ì‹œì‘í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.\n\n> T4g ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë¬´ì œí•œ ëª¨ë“œë¡œ ì‚¬ìš©í•  ê²½ìš° CPU í¬ë ˆë”§ì€ Linux, RHEL ë° SLESì— ëŒ€í•´ **vCPU-ì‹œê°„ë‹¹ 0.04 USDê°€ ë¶€ê³¼**ë©ë‹ˆë‹¤.\n\n**í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ ì¸ìŠ¤í„´ìŠ¤ëŠ” t4g.micro** ë¡œì„œ, ìœ„ ë‚´ìš©ì— í•´ë‹¹í•œë‹¤.<br> \nì²­êµ¬ì„œì—ì„œë„ '0.04$ per vCPU Hours' ë¼ê³  í–ˆìœ¼ë‹ˆ ì •í™•í•˜ë‹¤.<br>\nì°¾ì•„ë³´ë‹ˆ **ì‹¤ì œë¡œ í¬ë ˆë”§ ì‚¬ì–‘ì´ unlimited**ì˜€ê³  **ë¬´ì œí•œ ëª¨ë“œ ì„¤ì •ì„ ëŒ ìˆ˜ ìˆëŠ” ê²ƒìœ¼ë¡œ íŒŒì•…**í–ˆë‹¤.<br>\n![ì‹¤ì œ ì„¤ì •ë˜ì–´ ìˆëŠ” í¬ë ˆë”§ ì‚¬ì–‘](img_2.png)\n![í¬ë ˆë”§ ì‚¬ì–‘ ë³€ê²½ ê°€ëŠ¥](img_3.png)\n\nì¼ë‹¨ ì„¸ ì¸ìŠ¤í„´ìŠ¤ ëª¨ë‘ êº¼ë†“ì•˜ë‹¤.\n\n## 2. ì›ì¸ íŒŒì•…\n\nì´ì œ CPU ì‚¬ìš©ëŸ‰ì´ ê¸‰ê²©íˆ ì¹˜ì†Ÿì€ ì´ìœ ë¥¼ íŒŒì•…í•´ë³´ì.\n\n### AWS ëª¨ë‹ˆí„°ë§ìœ¼ë¡œ CPU ì‚¬ìš©ëŸ‰ íŒŒì•…\n\nìœ„ì—ì„œë¶€í„° AWSê°€ ì œê³µí•˜ëŠ” Prod, Dev, DB ì¸ìŠ¤í„´ìŠ¤ì˜ ëª¨ë‹ˆí„°ë§ ê²°ê³¼ì´ë‹¤.<br>\nëª¨ë‘ í•œ ë‹¬ ê°„ì˜ ê²°ê³¼ë¥¼ ë³´ì•˜ë‹¤.<br>\nëˆˆì—¬ê²¨ ë³¼ ì ì€ **CPU ì‚¬ìš©ë¥ **ì´ë‹¤.\n\n![Prod ì¸ìŠ¤í„´ìŠ¤ ëª¨ë‹ˆí„°ë§](img_4.png)\n![Dev ì¸ìŠ¤í„´ìŠ¤ ëª¨ë‹ˆí„°ë§](img_5.png)\n![DB ì¸ìŠ¤í„´ìŠ¤ ëª¨ë‹ˆí„°ë§](img_6.png)\n\nDev, DB ì¸ìŠ¤í„´ìŠ¤ëŠ” CPU ì‚¬ìš©ëŸ‰ì´ ìµœëŒ€ 2.1%ì´ë‹¤.<br>\në°˜ë©´ **ProdëŠ” 92%** ê°€ ì°íŒë‹¤. ì‹¬ì§€ì–´ 7/27 ë¶€í„° ì§€ê¸ˆê¹Œì§€ ì§€ì†ë˜ë‹¤ì‹œí”¼ í•œë‹¤.<br>\nì‹¤ì œë¡œ **CPU ì‚¬ìš©ë¥ ê³¼ CPU í¬ë ˆë”§ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§ ê²°ê³¼ê°€ ê±°ì˜ ì¼ì¹˜**í•œë‹¤.\n\nCPU ì‚¬ìš©ë¥ ì´ ì˜¬ë¼ê°ì— ë”°ë¼ CPU í¬ë ˆë”§ ì‚¬ìš©ëŸ‰ì´ ì¦ê°€í•´ì„œ ì¶”ê°€ ë¹„ìš©ì´ ì¦ê°€í•œ ê²ƒì´ í‹€ë¦¼ì—†ì–´ ë³´ì¸ë‹¤.\n\n## 24/08/03 11:22 ê¸°ì¤€ Prod ì¸ìŠ¤í„´ìŠ¤ ìƒíƒœ\n\nì¼ë‹¨ Prod ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ì†í•´ì„œ í˜„ì¬ ìƒíƒœë¥¼ íŒŒì•…í•´ë³´ì.\n\nCPUëŠ” 6.56% ì‚¬ìš©ì¤‘ì´ë‹¤.\n![24/08/03 11:22 ê¸°ì¤€ CPU ì‚¬ìš©ëŸ‰](img_7.png)\n\në©”ëª¨ë¦¬ëŠ” ì „ì²´ 3GB ì¤‘, ì•½ 8MB ì •ë„ ì‚¬ìš© ì¤‘ì´ë‹¤.\n![24/08/03 11:22 ê¸°ì¤€ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰](img_8.png)\n\në­”ê°€ ì´ìƒí•´ì„œ ë‹¤ì‹œ AWS ëª¨ë‹ˆí„°ë§í•´ë´¤ë”ë‹ˆ ì‹¤ì‹œê°„ìœ¼ë¡œ ë‚´ë ¤ê°€ëŠ” ì¤‘ì´ë‹¤ ..?\n11:10 ê¸°ì ìœ¼ë¡œ ë‚´ë ¤ê°€ê¸° ì‹œì‘í–ˆë‹¤.\n![ê°‘ìê¸° ë‚´ë ¤ê°€ëŠ” CPU ì‚¬ìš©ëŸ‰](img_9.png)\n\në‚´ë ¤ê°€ë‹ˆ ë‹¤í–‰ì¸ë° CPU ì‚¬ìš©ë¥ ì´ ê¸‰ê²©í•˜ê²Œ ì˜¬ë¼ê°€ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì¼ê¹Œ..?\n\n.<br>\n.<br>\n.\n\n\nì•„ë¬´íŠ¼ ì¤‘ìš”í•œ ê±´ CPU ì‚¬ìš©ë¥ ì´ ê¸‰ê²©í•˜ê²Œ ì¦ê°€í•œ ì´ìœ ë‹¤.<br>\në‹¤ì‹œ CPU ì‚¬ìš©ë¥ ì„ ìì„¸íˆ ë³´ë©´, '7/7\\~7/9' ì‚¬ì´ì™€ '7/29\\~8/3' ì‚¬ì´ì— ì‚¬ìš©ë¥ ì´ íŠ„ë‹¤.\n![CPU ì‚¬ìš©ëŸ‰](img_10.png)\n\nì°¸ê³ ë¡œ ì•„ê¹Œ 150 ì‹œê°„ì´ ë¶€ê³¼ë˜ì—ˆê³  150ì‹œê°„ì€ ì•½ 6ì¼ì´ë¼ê³  í–ˆë‹¤.<br>\n7ì›” 7,8,9,29,30,31 -> 6ì¼ë¡œ ë§ì•„ ë–¨ì–´ì§„ë‹¤..!\n\n7ì›” 8ì¼, 7ì›” 29ì¼ì€ ì •ê¸° íšŒì˜ê°€ ì§„í–‰ëœ ë‚ ì´ë‹¤.<br>\níšŒì˜ ë•Œë§ˆë‹¤ ì„œë²„ì— íŠ¸ë˜í”½ì´ ëª°ë¦¬ëŠ” ê²½ìš°ê°€ ìˆë‹¤.<br>\nê·¸ë ‡ë‹¤ë©´ ì„œë²„ì— ê³¼ë„í•œ ìš”ì²­ì— ë”°ë¼ ë°œìƒí•˜ê±°ë‚˜ ì–´ë””ì„ ê°€ ë³‘ëª©í˜„ìƒì´ ë°œìƒí•´ì„œ CPU ì‚¬ìš©ë¥ ì´ ì˜¬ë¼ê°€ëŠ” ê²ƒì¼ê¹Œ?\n\nì•„ë˜ëŠ” 7ì›” 29ì¼ì´ í¬í•¨ë˜ëŠ” ì´ë²ˆ í•œ ì£¼(7/27\\~8/3)ì˜ ë„¤íŠ¸ì›Œí¬ I/O ë¹„ìœ¨ì´ë‹¤.\n![7/27 ~ 8/3ì˜ ë„¤íŠ¸ì›Œí¬ IO ë¹„ìœ¨](img_11.png)\n\n7ì›” 29ì¼ ê¸°ì¤€ìœ¼ë¡œ CPU ì‚¬ìš©ë¥ ì€ 90% ì´ìƒì„ ìœ ì§€í•˜ì§€ë§Œ ë„¤íŠ¸ì›Œí¬ I/O ë¹„ìœ¨ì€ í° ë³€ë™ì´ ì—†ë‹¤.<br>\në„¤íŠ¸ì›Œí¬ ì…ë ¥ì´ ì¤‘ê°„ì¤‘ê°„ ìˆ˜ì¹˜ê°€ ì˜¬ë¼ê°€ì§€ë§Œ, ê²°ê³¼ì— ì˜í–¥ì„ ì£¼ëŠ” ê²ƒ ê°™ì§€ëŠ” ì•Šë‹¤.\n\nìŠ¤í”„ë§ì˜ ë¬¸ì œì¸ê°€ ì‹¶ì–´ì„œ ê·¸ë¼íŒŒë‚˜ë¥¼ ì‚´í´ë´¤ë‹¤.<br>\nê·¸ëŸ°ë° ì •ì‘ Process CPU UsageëŠ” Max ê°’ì´ 0.0717 ì´ì—ˆë‹¤.<br>\nSystem CPU UsageëŠ” AWSì˜ ëª¨ë‹ˆí„°ë§ ê²°ê³¼ì™€ ì¼ì¹˜í–ˆë‹¤.<br>\n![ê·¸ë¼íŒŒë‚˜ì˜ CPU Usage ì§€í‘œ](img_12.png)\n\nê²°êµ­ **ì¸ìŠ¤í„´ìŠ¤ ìì²´ì˜ ë¬¸ì œ**ì¸ ê²ƒìœ¼ë¡œ ì¢í ìˆ˜ ìˆë‹¤.<br>\nê³§ë°”ë¡œ AWSì—ì„œ ì œê³µí•˜ëŠ” ì‹œìŠ¤í…œ ë¡œê·¸ë¥¼ íŒŒì•…í•´ë´¤ì§€ë§Œ ì¼ìë„ ì—†ê³  ë¬´ìŠ¨ ì†Œë¦°ì§€ ì˜ ëª¨ë¥´ê² ë‹¤ ğŸ¤·â€â™‚ï¸<br>\nê·¸ë˜ì„œ ì¸ìŠ¤í„´ìŠ¤ ë‚´ì— `/var/log/syslog`ë¥¼ ì½ì–´ë³´ë‹ˆ ì•„ë˜ì™€ ê°™ì•˜ë‹¤.\n\n```text\n2024-07-31T00:07:08.262339+00:00 ip-172-31-38-137 rsyslogd[165030]: rsyslogd: file '/var/log/syslog'[8] write error - see https://www.rsyslog.com/solving-rsyslog-write-errors/ for help OS error: No space left on device [v8.2312.0 try https://www.rsyslog.com/e/2027 ]\n2024-07-31T00:07:08.262418+00:00 ip-172-31-38-137 rsyslogd[165030]: rsyslogd: action 'action-3-builtin:omfile' (module 'builtin:omfile') message lost, could not be processed. Check for additional error messages before this one. [v8.2312.0 try https://www.rsyslog.com/e/2027 ]\n2024-07-31T00:07:08.262512+00:00 ip-172-31-38-137 rsyslogd[165030]: rsyslogd: file '/var/log/syslog'[8] write error - see https://www.rsyslog.com/solving-rsyslog-write-errors/ for help OS error: No space left on device [v8.2312.0 try https://www.rsyslog.com/e/2027 ]\n2024-07-31T00:07:08.262581+00:00 ip-172-31-38-137 rsyslogd[165030]: rsyslogd: action 'action-3-builtin:omfile' (module 'builtin:omfile') message lost, could not be processed. Check for additional error messages before this one. [v8.2312.0 try https://www.rsyslog.com/e/2027 ]\n2024-07-31T00:07:08.262689+00:00 ip-172-31-38-137 rsyslogd[165030]: rsyslogd: file '/var/log/syslog'[8] write error - see https://www.rsyslog.com/solving-rsyslog-write-errors/ for help OS error: No space left on device [v8.2312.0 try https://www.rsyslog.com/e/2027 ]\n2024-07-31T00:07:08.262758+00:00 ip-172-31-38-137 rsyslogd[165030]: rsyslogd: action 'action-3-builtin:omfile' (module 'builtin:omfile') message lost, could not be processed. Check for additional error messages before this one. [v8.2312.0 try https://www.rsyslog.com/e/2027 ]\n2024-07-31T00:07:08.268322+00:00 ip-172-31-38-137 systemd[1]: sysstat-summary.service: Deactivated successfully.\n2024-07-31T00:07:08.275229+00:00 ip-172-31-38-137 systemd[1]: Finished sysstat-summary.service - Generate a daily summary of process accounting.\n2024-07-31T00:10:08.240256+00:00 ip-172-31-38-137 systemd[1]: Starting sysstat-collect.service - system activity accounting tool...\n2024-07-31T00:07:03.053696+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device\n2024-07-31T00:10:08.245703+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device (Dropped 20546 similar message(s))\n2024-07-31T00:10:08.249710+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device\n2024-07-31T00:10:08.260427+00:00 ip-172-31-38-137 systemd[1]: sysstat-collect.service: Deactivated successfully.\n2024-07-31T00:10:08.271450+00:00 ip-172-31-38-137 systemd[1]: Finished sysstat-collect.service - system activity accounting tool.\n2024-07-31T00:10:08.263698+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device\n2024-07-31T00:15:01.933716+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device (Dropped 3 similar message(s))\n2024-07-31T00:15:01.936707+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device\n2024-07-31T00:15:01.949349+00:00 ip-172-31-38-137 CRON[415611]: (root) CMD (command -v debian-sa1 > /dev/null && debian-sa1 1 1)\n2024-07-31T00:15:01.952692+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device\n2024-07-31T00:17:01.939703+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device (Dropped 3 similar message(s))\n2024-07-31T00:17:01.943731+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device\n2024-07-31T00:17:01.957020+00:00 ip-172-31-38-137 CRON[415616]: (root) CMD (cd / && run-parts --report /etc/cron.hourly)\n2024-07-31T00:20:08.239392+00:00 ip-172-31-38-137 systemd[1]: Starting sysstat-collect.service - system activity accounting tool...\n2024-07-31T00:17:01.960755+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device\n2024-07-31T00:20:08.242699+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device (Dropped 3 similar message(s))\n2024-07-31T00:20:08.247700+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device\n2024-07-31T00:20:08.260189+00:00 ip-172-31-38-137 systemd[1]: sysstat-collect.service: Deactivated successfully.\n2024-07-31T00:20:08.271838+00:00 ip-172-31-38-137 systemd[1]: Finished sysstat-collect.service - system activity accounting tool.\n2024-07-31T00:20:08.263697+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device\n2024-07-31T00:25:01.949718+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device (Dropped 3 similar message(s))\n2024-07-31T00:25:01.953694+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device\n2024-07-31T00:25:01.966387+00:00 ip-172-31-38-137 CRON[415631]: (root) CMD (command -v debian-sa1 > /dev/null && debian-sa1 1 1)\n2024-07-31T00:29:12.947214+00:00 ip-172-31-38-137 dockerd[72833]: time=\"2024-07-31T00:29:12.946688543Z\" level=error msg=\"Error writing log message\" driver=json-file error=\"error writing log entry: write /var/lib/docker/containers/2dfe8bd85c1922553dbcc6ab2e11ccc79a1c457eef02f1b93f790e1ff0045057/2dfe8bd85c1922553dbcc6ab2e11ccc79a1c457eef02f1b93f790e1ff0045057-json.log: no space left on device\" message=\n2024-07-31T00:25:01.969689+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device\n2024-07-31T00:29:12.947685+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device (Dropped 3 similar message(s))\n2024-07-31T00:29:12.947692+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device\n2024-07-31T00:29:17.942629+00:00 ip-172-31-38-137 dockerd[72833]: time=\"2024-07-31T00:29:17.941983283Z\" level=error msg=\"Error writing log message\" driver=json-file error=\"error writing log entry: write /var/lib/docker/containers/2dfe8bd85c1922553dbcc6ab2e11ccc79a1c457eef02f1b93f790e1ff0045057/2dfe8bd85c1922553dbcc6ab2e11ccc79a1c457eef02f1b93f790e1ff0045057-json.log: no space left on device\" message=\n2024-07-31T00:29:17.942934+00:00 ip-172-31-38-137 dockerd[72833]: time=\"2024-07-31T00:29:17.942062224Z\" level=error msg=\"Error writin2024-07-31T01:24:12.302137+00:00 ip-172-31-38-137 rsyslogd[165030]: rsyslogd: action 'action-3-builtin:omfile' (module 'builtin:omfile') message lost, could not be processed. Check for additional error messages before this one. [v8.2312.0 try https://www.rsyslog.com/e/2027 ]\n2024-07-31T01:24:12.302176+00:00 ip-172-31-38-137 rsyslogd[165030]: rsyslogd: file '/var/log/syslog'[8] write error - see https://www.rsyslog.com/solving-rsyslog-write-errors/ for help OS error: No space left on device [v8.2312.0 try https://www.rsyslog.com/e/2027 ]\n2024-07-31T01:24:12.302207+00:00 ip-172-31-38-137 rsyslogd[165030]: rsyslogd: action 'action-3-builtin:omfile' (module 'builtin:omfile') message lost, could not be processed. Check for additional error messages before this one. [v8.2312.0 try https://www.rsyslog.com/e/2027 ]\n```\n\nìœ„ ë¡œê·¸ë¥¼ ë¶„í•´í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.<br>\n**7/31ì¼ 00:07+00:00ë¶€í„° 00:29+00:00 ê¹Œì§€** ì•„ë˜ ë¡œê·¸ê°€ ê¸°ë¡ëœë‹¤.\n```text\n2024-07-31T00:07:08.268322+00:00 ip-172-31-38-137 systemd[1]: sysstat-summary.service: Deactivated successfully.\n2024-07-31T00:07:08.275229+00:00 ip-172-31-38-137 systemd[1]: Finished sysstat-summary.service - Generate a daily summary of process accounting.\n2024-07-31T00:10:08.240256+00:00 ip-172-31-38-137 systemd[1]: Starting sysstat-collect.service - system activity accounting tool...\n2024-07-31T00:07:03.053696+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device\n2024-07-31T00:10:08.245703+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device (Dropped 20546 similar message(s))\n2024-07-31T00:10:08.249710+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device\n2024-07-31T00:10:08.260427+00:00 ip-172-31-38-137 systemd[1]: sysstat-collect.service: Deactivated successfully.\n2024-07-31T00:10:08.271450+00:00 ip-172-31-38-137 systemd[1]: Finished sysstat-collect.service - system activity accounting tool.\n2024-07-31T00:10:08.263698+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device\n2024-07-31T00:15:01.933716+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device (Dropped 3 similar message(s))\n2024-07-31T00:15:01.936707+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device\n2024-07-31T00:15:01.949349+00:00 ip-172-31-38-137 CRON[415611]: (root) CMD (command -v debian-sa1 > /dev/null && debian-sa1 1 1)\n2024-07-31T00:15:01.952692+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device\n2024-07-31T00:17:01.939703+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device (Dropped 3 similar message(s))\n2024-07-31T00:17:01.943731+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device\n2024-07-31T00:17:01.957020+00:00 ip-172-31-38-137 CRON[415616]: (root) CMD (cd / && run-parts --report /etc/cron.hourly)\n2024-07-31T00:20:08.239392+00:00 ip-172-31-38-137 systemd[1]: Starting sysstat-collect.service - system activity accounting tool...\n2024-07-31T00:17:01.960755+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device\n2024-07-31T00:20:08.242699+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device (Dropped 3 similar message(s))\n2024-07-31T00:20:08.247700+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device\n2024-07-31T00:20:08.260189+00:00 ip-172-31-38-137 systemd[1]: sysstat-collect.service: Deactivated successfully.\n2024-07-31T00:20:08.271838+00:00 ip-172-31-38-137 systemd[1]: Finished sysstat-collect.service - system activity accounting tool.\n2024-07-31T00:20:08.263697+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device\n2024-07-31T00:25:01.949718+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device (Dropped 3 similar message(s))\n2024-07-31T00:25:01.953694+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device\n2024-07-31T00:25:01.966387+00:00 ip-172-31-38-137 CRON[415631]: (root) CMD (command -v debian-sa1 > /dev/null && debian-sa1 1 1)\n2024-07-31T00:29:12.947214+00:00 ip-172-31-38-137 dockerd[72833]: time=\"2024-07-31T00:29:12.946688543Z\" level=error msg=\"Error writing log message\" driver=json-file error=\"error writing log entry: write /var/lib/docker/containers/2dfe8bd85c1922553dbcc6ab2e11ccc79a1c457eef02f1b93f790e1ff0045057/2dfe8bd85c1922553dbcc6ab2e11ccc79a1c457eef02f1b93f790e1ff0045057-json.log: no space left on device\" message=\n2024-07-31T00:25:01.969689+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device\n2024-07-31T00:29:12.947685+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device (Dropped 3 similar message(s))\n2024-07-31T00:29:12.947692+00:00 ip-172-31-38-137 kernel: systemd-journald[164997]: Failed to open system journal: No space left on device\n2024-07-31T00:29:17.942629+00:00 ip-172-31-38-137 dockerd[72833]: time=\"2024-07-31T00:29:17.941983283Z\" level=error msg=\"Error writing log message\" driver=json-file error=\"error writing log entry: write /var/lib/docker/containers/2dfe8bd85c1922553dbcc6ab2e11ccc79a1c457eef02f1b93f790e1ff0045057/2dfe8bd85c1922553dbcc6ab2e11ccc79a1c457eef02f1b93f790e1ff0045057-json.log: no space left on device\" message=\n2024-07-31T00:29:17.942934+00:00 ip-172-31-38-137 dockerd[72833]: time=\"2024-07-31T00:29:17.942062224Z\" level=error msg=\"Error writin2024-07-31T01:24:12.302137+00:00 ip-172-31-38-137 rsyslogd[165030]: rsyslogd: action 'action-3-builtin:omfile' (module 'builtin:omfile') message lost, could not be processed. Check for additional error messages before this one. [v8.2312.0 try https://www.rsyslog.com/e/2027 ]\n```\n\nê·¸ë¦¬ê³  ìœ„ ë¡œê·¸ì˜ ì „í›„ë¡œ ì•„ë˜ ë¡œê·¸ê°€ ìƒë‹¹íˆ ë§ì´ ê¸°ë¡ë˜ì–´ìˆë‹¤.\n\n```text\n2024-07-31T00:07:08.262339+00:00 ip-172-31-38-137 rsyslogd[165030]: rsyslogd: file '/var/log/syslog'[8] write error - see https://www.rsyslog.com/solving-rsyslog-write-errors/ for help OS error: No space left on device [v8.2312.0 try https://www.rsyslog.com/e/2027 ]\n2024-07-31T00:07:08.262418+00:00 ip-172-31-38-137 rsyslogd[165030]: rsyslogd: action 'action-3-builtin:omfile' (module 'builtin:omfile') message lost, could not be processed. Check for additional error messages before this one. [v8.2312.0 try https://www.rsyslog.com/e/2027 ]\n```\n\nì•„ë‹ˆ ì´ê²Œ ì›¬ê±¸? **ì‹¤ì œ ëª¨ë‹ˆí„°ë§ ê²°ê³¼ì—ì„œë„ 7/31 00:00\\~00:30 ê¹Œì§€ CPU ì‚¬ìš©ëŸ‰ì´ ê¸‰ê²©íˆ ì¤„ì–´ë“ ë‹¤**.<br>\nê·¸ë¦¬ê³  **ê·¸ ì „í›„ë¡œ CPU ì‚¬ìš©ëŸ‰ì´ 90% ì´ìƒì„ ê¾¸ì¤€íˆ ê¸°ë¡**ëœë‹¤.<br>\n![CPU ì‚¬ìš©ëŸ‰ì´ ì¤„ì–´ë“  ìƒí™©](img_13.png)\n\nìœ„ ë¡œê·¸ê°€ ì •ë‹µì´ ë  ê²ƒ ê°™ë‹¤ â—ï¸<br>\në¡œê·¸ë¥¼ ì˜ ì½ì–´ë³´ë‹ˆ **ë¡œê·¸ë¥¼ ê¸°ë¡í•˜ëŠ” ë° í•„ìš”í•œ ë””ìŠ¤í¬ ìš©ëŸ‰ì´ ë¶€ì¡±**í•˜ë‹¤ê³  í•œë‹¤.\n\n`df -h`ë¡œ í™•ì¸í•´ë³´ë‹ˆ ì‹¤ì œë¡œ ê°€ë“ì°¨ìˆë‹¤. ğŸ˜±ğŸ˜±\n![ì‹¤ì œë¡œ ë””ìŠ¤í¬ ìš©ëŸ‰ì´ ê°€ë“ ì°¨ ìˆì—ˆë‹¤](img_14.png)\n\në„ì»¤ì˜ ë¡œê·¸ë„ ê´€ë ¨ë˜ì–´ ìˆì–´ ë³´ì´ë‹ˆ Docker Containerì˜ ìš©ëŸ‰ë„ í™•ì¸í•´ë³´ì.\n![ë„ì»¤ ì»¨í…Œì´ë„ˆì˜ ìš©ëŸ‰](img_15.png)\n'2dfe~~' ëŠ” ìŠ¤í”„ë§ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆì´ë‹¤.<br>\nì—¬ê¸°ì„œ 1GB ê°€ê¹Œì´ ì°¨ì§€í•˜ê³  ìˆì—ˆë‹¤!<br>\n\nì»¨í…Œì´ë„ˆ ë‚´ë¶€ì— ë¡œê·¸ íŒŒì¼ì€ _{ContainerId}-json.log_ ì™€ ê°™ì€ ì´ë¦„ìœ¼ë¡œ ë˜ì–´ ìˆë‹¤.<br>\në”°ë¼ì„œ `sudo truncate -s 0 2dfe8bd85c1922553dbcc6ab2e11ccc79a1c457eef02f1b93f790e1ff0045057-json.log` ëª…ë ¹ì–´ë¡œ ë¡œê·¸ì˜ ë‚´ìš©ì„ ëª¨ë‘ ì§€ì›Œì£¼ê³  ë””ìŠ¤í¬ë¥¼ í™•ì¸í•´ë³´ë‹ˆ í™•ì—°íˆ ì¤„ì—ˆë‹¤!<br>\n![ë””ìŠ¤í¬ ìš©ëŸ‰ì´ ì¤„ì–´ë“  ëª¨ìŠµ](img_16.png)\n\në””ìŠ¤í¬ë¥¼ ì–´ëŠì •ë„ ì •ë¦¬í•˜ê³  ë³´ë‹ˆ 10%ë¥¼ ìœ ì§€í•˜ë˜ CPU ì‚¬ìš©ëŸ‰ë„ ì¤„ì—ˆë‹¤!<br>\nì‚¬ì§„ì„ ì˜ëª»ì°ì–´ ì˜ ì•ˆë³´ì´ê² ì§€ë§Œ 2.58% ê¹Œì§€ ì¤„ì–´ë“¦ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n![ë””ìŠ¤í¬ê°€ ì¤„ì–´ë“¦ì— ë”°ë¼ ê°ì†Œí•œ CPU ì‚¬ìš©ëŸ‰](img_17.png)\n\n**ê²°êµ­ ë¡œê·¸ë¡œ ì¸í•´ ë””ìŠ¤í¬ ìš©ëŸ‰ ë¶€ì¡±ìœ¼ë¡œ ë°œìƒí•œ ë¬¸ì œì„ì´ í™•ì‹¤í•´ì¡Œë‹¤.**\n\ní•˜ì§€ë§Œ ì‚­ì œí–ˆë‹¤ê³  ëì´ ì•„ë‹ˆë‹¤.<br>\nì•ìœ¼ë¡œë„ ë¡œê·¸ëŠ” ê³„ì†í•´ì„œ ë‚¨ì„ ê²ƒì´ë‹¤.\n\në„ì»¤ì˜ ë¡œê·¸ ë“œë¼ì´ë²„ë¥¼ ì„¤ì •í•´ì£¼ì–´ ìµœëŒ€ ìš©ëŸ‰ì„ ì œí•œí•´ë‘ì.<br>\n`sudo vi /etc/docker/daemon.json`ì„ ì…ë ¥í•´ì„œ Docker ë¡œê¹… ë“œë¼ì´ë²„ ì„¤ì •ì„ ì•„ë˜ì™€ ê°™ì´ í•´ì£¼ì—ˆë‹¤.<br>\nìµœëŒ€ ìš©ëŸ‰ì€ 500MB, ìµœëŒ€ íŒŒì¼ ì‚¬ì´ì¦ˆëŠ” 5ë¡œ ì„¤ì •í•´ë‘ì—ˆë‹¤.\n```json\n{\n  \"log-driver\": \"json-file\",\n  \"log-opts\": {\n    \"max-size\": \"500m\",\n    \"max-file\": \"5\"\n  }\n}\n```\n\nì´ë²ˆì—” ì„œë²„ ì‹œìŠ¤í…œì˜ ë¡œê·¸ ì„¤ì •ì„ í•´ì£¼ì.[^1]\nLinuxì—ëŠ” ì£¼ê¸°ì ìœ¼ë¡œ ë¡œê·¸ë¥¼ ì‚­ì œ ë° ì •ë¦¬í•˜ëŠ” ê¸°ëŠ¥ì˜ Logrotate ê¸°ëŠ¥ì´ ìˆë‹¤.<br>\ní•´ë‹¹ ê¸°ëŠ¥ì„ ì„¤ì •í•´ì£¼ì.\n\n`sudo vim /etc/logrotate.conf` ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ê³  ì•„ë˜ ê°’ì„ ì…ë ¥ & ì €ì¥í•´ì£¼ì.\n\n```text\n# see \"man logrotate\" for details\n\n# global options do not affect preceding include directives\n\n# rotate log files weekly\n# ì£¼ë§ˆë‹¤ ë¡œê·¸ íŒŒì¼ì„ êµì²´í•œë‹¤\nweekly\n\n# use the adm group by default, since this is the owning group\n# of /var/log/.\nsu root adm\n\n# keep 4 weeks worth of backlogs\n# ë¡œê·¸ íŒŒì¼ì˜ ê°œìˆ˜ê°€ 4ê°œ ì´ìƒì´ë©´ ê°€ì¥ ì˜¤ë˜ëœ ë¡œê·¸ íŒŒì¼ì„ ì‚­ì œí•œë‹¤.\nrotate 4\n\n# create new (empty) log files after rotating old ones\n# ì˜¤ë˜ëœ ë¡œê·¸ë¥¼ ì •ë¦¬í•˜ê³  ìƒˆë¡œìš´ ë¡œê·¸ íŒŒì¼ì„ ë§Œë“¤ì§€ ì—¬ë¶€\ncreate\n\n# use date as a suffix of the rotated file\n# ë¡œê·¸ íŒŒì¼ ì •ë¦¬ í›„ ë¡œê·¸ íŒŒì¼ ë’¤ì— ë‚ ì§œë¥¼ ì¶”ê°€í•œë‹¤.\ndateext\n\n# uncomment this if you want your log files compressed\n# ë¡œê·¸ íŒŒì¼ì„ ë¡œí…Œì´íŠ¸ í›„ ì••ì¶• íŒŒì¼ë¡œ ìƒì„±í•œë‹¤.\ncompress\n\n# packages drop log rotation information into this directory\ninclude /etc/logrotate.d\n\n# system-specific logs may also be configured here.\nsize 500M # ë¡œê·¸ íŒŒì¼ ì‚¬ì´ì¦ˆê°€ 500Mê°€ ë„˜ìœ¼ë©´ ë¡œí…Œì´íŠ¸ë¥¼ ì‹¤í–‰í•œë‹¤.\n```\n\n## ë§ˆë¬´ë¦¬\n\nì •ë¦¬í•˜ëŠ” ê¹€ì— ë‹¤ë¥¸ ë¶ˆí•„ìš”í•œ íŒŒì¼ì´ë‚˜ í´ë”ë¥¼ ì‚­ì œí•´ì£¼ì—ˆë‹¤.<br>\nCPU ì‚¬ìš©ëŸ‰ë„ ë” ì¤„ì–´ë“¦ì„ ë³¼ ìˆ˜ ìˆë‹¤.\n\n![ë””ìŠ¤í¬ ì •ë¦¬ ìµœì¢…ë³¸](img_18.png)\n![CPU ì‚¬ìš©ëŸ‰ ê°ì†Œ ìµœì¢…ë³¸](img_19.png)\n\nì›ì¹˜ ì•Šì€ ì¶”ê°€ ë¹„ìš©ì´ ë°œìƒí•¨ì— ë”°ë¼ í¬ë ˆë”§ ì‚¬ì–‘ì„ unlimitedì—ì„œ standardë¡œ ìˆ˜ì •í–ˆë‹¤.<br>\nì´ì— ë”°ë¼ CPU ì‚¬ìš©ëŸ‰ì´ ê¸‰ê²©íˆ ëŠ˜ì–´ë‚¨ì— ë”°ë¼ ì¶”ê°€ ë¹„ìš©ì´ ë°œìƒí•˜ì§€ëŠ” ì•Šì„ ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤.<br>\n\nëˆì„ ì¡°ê¸ˆ ë” ì¼ì§€ë§Œ ì†Œì¤‘í•œ ê²½í—˜ì„ í•  ìˆ˜ ìˆì—ˆë‹¤.<br>\n**ì‹œìŠ¤í…œì„ ìš´ì˜í•  ë•Œ ë¡œê·¸ë¥¼ ì˜ ë‚¨ê¸°ëŠ” ê²ƒì´ ë§¤ìš° ì¤‘ìš”**í•˜ë‹¤ëŠ” ê²ƒê³¼ **ë¡œê·¸ë¥¼ ì˜ ì €ì¥í•˜ëŠ” ê²ƒì´ ì¤‘ìš”**í•˜ë‹¤ëŠ” ê²ƒì´ë‹¤.<br>\në˜í•œ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œë¥¼ ë¶™ì˜€ìŒì—ë„ ì˜ ì‚¬ìš©í•˜ê³  ìˆì§€ ëª»í•˜ëŠ” ê²ƒ ê°™ë‹¤.<br>\n**íŠ¹ì • ë©”íŠ¸ë¦­ì— ì„ê³„ì¹˜ë¥¼ ì„¤ì •í•´ë†“ê³  ê°’ì„ ì´ˆê³¼í•˜ë©´ ì•ŒëŒì„ ë°œìƒí•˜ë„ë¡** í•´ë´ì•¼ê² ë‹¤.\n\n---\n\n[^****1]: [[Linux] Logrotate ì„¤ëª… ë° ì„¤ì • ë°©ë²•](http://www.chlux.co.kr/bbs/board.php?bo_table=board02&wr_id=91&sca=OS&page=6)"},{"excerpt":"TL;DR execute(String)ì™€ executeUpdate(String)ì€ Statement ì¸í„°í˜ì´ìŠ¤ì˜ ë©”ì„œë“œì´ë‹¤.\nexecute()ì™€ executeUpdate()ëŠ” PreparedStatement ì¸í„°í˜ì´ìŠ¤ì˜ ë©”ì„œë“œì´ë‹¤.\nStatement ì¸í„°í˜ì´ìŠ¤ì˜ ë‘ ë©”ì„œë“œëŠ” ë‚´ë¶€ì ìœ¼ë¡œ Statementì˜ êµ¬í˜„ì²´ë§Œì´ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ ë³´ì¥ë˜ì–´ ìˆë‹¤.\nPreâ€¦","fields":{"slug":"/execute-and-executeUpdate-of-jdbc/"},"frontmatter":{"date":"August 02, 2024","title":"[JDBC] execute(String)ê³¼ execute(). executeUpdate(String)ì™€ executeUpdate()ì˜ ì°¨ì´","tags":["java","jdbc"]},"rawMarkdownBody":"\n## TL;DR\n\nexecute(String)ì™€ executeUpdate(String)ì€ Statement ì¸í„°í˜ì´ìŠ¤ì˜ ë©”ì„œë“œì´ë‹¤.<br>\nexecute()ì™€ executeUpdate()ëŠ” PreparedStatement ì¸í„°í˜ì´ìŠ¤ì˜ ë©”ì„œë“œì´ë‹¤.<br>\nStatement ì¸í„°í˜ì´ìŠ¤ì˜ ë‘ ë©”ì„œë“œëŠ” ë‚´ë¶€ì ìœ¼ë¡œ Statementì˜ êµ¬í˜„ì²´ë§Œì´ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ ë³´ì¥ë˜ì–´ ìˆë‹¤.<br>\nPreparedStatement ì¸í„°í˜ì´ìŠ¤ëŠ” ì´ë¦„ì²˜ëŸ¼ ë¯¸ë¦¬ ë‚´ë¶€ì ìœ¼ë¡œ SQL ë¬¸ì„ ë§Œë“¤ì–´ ë†“ê³  ê³§ë°”ë¡œ ì‹¤í–‰í•˜ëŠ” ì‹ìœ¼ë¡œ ë™ì‘í•œë‹¤.\n\n## ë¬¸ì œ ìƒí™©\n\nJDBCë¥¼ ë³µìŠµ ì¤‘ì´ì—ˆë‹¤.<br>\nê°„ë‹¨í•œ Member í…Œì´ë¸”ì„ ë§Œë“¤ê³  DriverManagerë¡œ Connectionì„ ë§ºì€ ë‹¤ìŒ, PreparedStatement ì¸í„°í˜ì´ìŠ¤ë¡œ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì„ í…ŒìŠ¤íŠ¸ ì¤‘ì´ì—ˆë‹¤.<br>\ní•˜ì§€ë§Œ ì´ìƒí•˜ê²Œ execute(sql) ì™€ executeUpdate(sql)ë¥¼ í˜¸ì¶œí•˜ë©´ ì¿¼ë¦¬ê°€ ë‚˜ê°€ì§€ ì•Šì•˜ë‹¤.<br>\në°˜ëŒ€ë¡œ execute() ì™€ executeUpdate()ë¥¼ í˜¸ì¶œí•˜ë©´ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ì—ˆë‹¤.<br>\nì‹¬ì§€ì–´ execute(sql) ì™€ executeUpdate(sql)ë¥¼ í˜¸ì¶œí•˜ë©´ \"This method is not allowed for a prepared statement; use a regular statement instead.\" ë¼ëŠ” ë¡œê·¸ê°€ ê¸°ë¡ëœë‹¤.\n\nìƒì„±í•œ Member í…Œì´ë¸”ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\n```sql\ncreate table member (\n    member_id varchar(10),\n    money integer not null default 0,\n    primary key (member_id)\n);\n```\n\nì‘ì„±í•œ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\n```java\n@Slf4j\npublic class MemberRepositoryV0 {\n\n    public Member save(Member member) {\n        String sql = \"INSERT INTO member(member_id, money) VALUES (?, ?)\";\n\n        try (\n                Connection conn = DbConnectionUtil.getConnection();\n                PreparedStatement pstmt = conn.prepareStatement(sql)\n        ) {\n            log.info(\"Current Connection: {}\", conn);\n\n            pstmt.setString(1, member.getMemberId());\n            pstmt.setInt(2, member.getMoney());\n\n            pstmt.execute(); // ì¿¼ë¦¬ ì‹¤í–‰.\n//            pstmt.execute(sql); // ì‹¤í–‰ X. This method is not allowed for a prepared statement; use a regular statement instead.\n//            pstmt.executeUpdate(); // ì‹¤í–‰.\n//            pstmt.executeUpdate(sql); // ì‹¤í–‰ X. This method is not allowed for a prepared statement; use a regular statement instead.\n        } catch (SQLException e) {\n            log.info(e.getMessage());\n        }\n\n        return member;\n    }\n}\n```\n\ní…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\n```java\nclass MemberRepositoryV0Test {\n\n    private final Member member = new Member(\"hi1\", 1000);\n    private final MemberRepositoryV0 memberRepository = new MemberRepositoryV0();\n\n    @Test\n    void saveTest() {\n        memberRepository.save(member);\n    }\n}\n```\n\n## ì›ì¸ ë¶„ì„\n\nì¼ë‹¨ execute()ëŠ” PreparedStatement ì¸í„°í˜ì´ìŠ¤ì— ì„ ì–¸ë˜ì–´ ìˆë‹¤.<br>\në°˜ë©´ execute(String)ëŠ” Statement ì¸í„°í˜ì´ìŠ¤ì— ì„ ì–¸ë˜ì–´ ìˆë‹¤.\n\nexecuteUpdate() ë˜í•œ PreparedStatement ì¸í„°í˜ì´ìŠ¤ì—,<br>\nexecuteUpdate(sql)ëŠ” Statement ì¸í„°í˜ì´ìŠ¤ì— ì„ ì–¸ë˜ì–´ ìˆë‹¤.\n\nì•„ë˜ì™€ ê°™ì´ ë¶„ë¥˜í•  ìˆ˜ ìˆê² ë‹¤.<br>\nStatement - execute(String), executeUpdate(String)<br>\nPreparedStatement - execute(), executeUpdate()\n\nPreparedStatementëŠ” Statementë¥¼ ìƒì†ë°›ëŠ”ë‹¤.<br>\nStatementì— ëŒ€í•´ ë¨¼ì € ì•Œì•„ë³´ì.\n\n### Statement\n\nì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•œ ì„¤ëª…ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ë‹¤.<br>\n> \"The object used for executing a static SQL statement and returning the results it produces.\"\n\nì •ì ì¸ SQL ë¬¸ì„ ì‹¤í–‰í•˜ê³  ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤ê³  í•œë‹¤.\n\nexecute(String)ì— ëŒ€í•œ ì„¤ëª…ë„ ë³´ì.<br>\n\n> Executes the given SQL statement, which may return multiple results.\n> In some (uncommon) situations, a single SQL statement may return multiple result sets and/ or update counts.\n> Normally you can ignore this unless you are (1) executing a stored procedure that you know may return multiple results or\n> (2) you are dynamically executing an unknown SQL string.\n> The execute method executes an SQL statement and indicates the form of the first result.\n> You must then use the methods getResultSet or getUpdateCount to retrieve the result, and getMoreResults to move to any subsequent result(s).\n> Note: This method cannot be called on a PreparedStatement or CallableStatement.<br>\n> <br>\n> Params:<br>\n> sql â€“ any SQL statement<br>\n> Returns:<br>\n> true if the first result is a ResultSet object; false if it is an update count or there are no results<br>\n> Throws:<br>\n> SQLException â€“ if a database access error occurs, this method is called on a closed Statement, the method is called on a PreparedStatement or CallableStatement<br>\n> SQLTimeoutException â€“ when the driver has determined that the timeout value that was specified by the setQueryTimeout method has been exceeded and has at least attempted to cancel the currently running Statement<br>\n> See Also:<br>\n> getResultSet, getUpdateCount, getMoreResults\n\nì£¼ì–´ì§„ SQL ë¬¸ì„ ì‹¤í–‰í•˜ê³  ê·¸ ê²°ê³¼ê°€ ResultSetì´ë©´ true, ì•„ë‹ˆë©´ falseë¥¼ ë°˜í™˜í•œë‹¤ê³  í•œë‹¤.<br>\në˜í•œ PreparedStatement ë˜ëŠ” CallableStatementì—ì„œëŠ” í˜¸ì¶œí•  ìˆ˜ ì—†ë‹¤ê³  í•œë‹¤.<br>\nì •ë§ë¡œ ê·¸ëŸ´ê¹Œ?<br>\nì‹¤ì œë¡œ ë””ë²„ê¹…ìœ¼ë¡œ ì‚´í´ë³¸ ê²°ê³¼, ì•„ë˜ ì‚¬ì§„ê³¼ ê°™ì•˜ë‹¤.\n![JdbcStatement#executeInternal(String, Object)](debug.png)\në©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê°ì²´ëŠ” PreparedStatementì´ë¯€ë¡œ `this`ëŠ” JdbcPreparedStatement ì„ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.<br>\në”°ë¼ì„œ í•´ë‹¹ ì¡°ê±´ë¬¸ì— ì˜í•´, ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ì£¼ì²´ê°€ Statementê°€ ì•„ë‹ˆë©´ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•  ìˆ˜ ì—†ëŠ” ê²ƒì´ë‹¤.\n\nexecuteUpdate(String) ë˜í•œ ë™ì¼í•œ ë¡œì§ìœ¼ë¡œ ì²˜ë¦¬ëœë‹¤.\n![Statement#executeUpdate(String)](img_5.png)\n![Statement#executeUpdateInternal(String, Object)](img_6.png)\n\në°˜ë©´, PreparedStatement#execute()ëŠ” ì•„ë˜ ì‚¬ì§„ì²˜ëŸ¼ ë¯¸ë¦¬ ë§Œë“¤ì–´ë†“ì€ SQL ë¬¸ì„ ê³§ë°”ë¡œ ì‹¤í–‰í•œë‹¤. \n![PreparedStatement#execute()](img_4.png)\n> PreparedStatementì— ì„ ì–¸ëœ setXXX() ë©”ì„œë“œë¥¼ í†µí•´ ê°œë°œìê°€ ì¸ìë¡œ ê±´ë„¨ ê°’ì´ ì–´ë–»ê²Œ ë°”ì¸ë”© ë˜ëŠ”ì§€ ë³´ëŠ” ê²ƒë„ ê½¤ ì¬ë°Œë‹¤.\n\n## ë¶„ì„ ê²°ê³¼\n\nStatementì˜ execute(String), executeUpdate(String)ì€ ì„¤ëª…ì— ë‚˜ì™€ìˆë“¯ì´ PreparedStatement ë˜ëŠ” CallableStatementì—ì„œëŠ” í˜¸ì¶œí•  ìˆ˜ ì—†ë„ë¡ êµ¬í˜„ë˜ì–´ ìˆë‹¤.<br>\nPreparedStatementëŠ” ì´ë¦„ ê·¸ëŒ€ë¡œ ë¯¸ë¦¬ ì¤€ë¹„í•´ë†“ì€ SQL ë¬¸ì„ ê³§ë°”ë¡œ ì‹¤í–‰í•˜ëŠ” êµ¬ì¡°ì´ë‹¤.<br>\në”°ë¼ì„œ pstmt.execute(sql); ì™€ pstmt.executeUpdate(sql); ì„ í˜¸ì¶œí–ˆì„ ë•Œ ì¿¼ë¦¬ê°€ ë‚˜ê°€ì§€ ì•Šì€ ê²ƒì´ì—ˆë‹¤.\n\n## ë§ˆì¹˜ë©°\n\në•ë¶„ì— í—·ê°ˆë ¸ë˜ execute()ì™€ execute(String), executeUpdate()ì™€ executeUpdate(String)ì˜ ì°¨ì´ì— ëŒ€í•´ ì•Œê²Œ ë˜ì—ˆë‹¤.<br>\në˜í•œ PreparedStatementê°€ ì–´ë–»ê²Œ ê°’ì„ ë°”ì¸ë”©í•˜ëŠ” ì§€ì— ëŒ€í•´ì„œë„ ì•Œê²Œ ë˜ì—ˆë‹¤."},{"excerpt":"ë‚´ë¶€ í´ë˜ìŠ¤(inner class) ë‚´ë¶€ í´ë˜ìŠ¤(inner class)ë€, ë‹¤ë¥¸ í´ë˜ìŠ¤ ì•ˆì— ì •ì˜ëœ í´ë˜ìŠ¤ë¥¼ ì˜ë¯¸í•œë‹¤.\në‚´ë¶€ í´ë˜ìŠ¤ëŠ” ìì‹ ì„ ê°ì‹¼ ì™¸ë¶€ í´ë˜ìŠ¤ì—ì„œë§Œ ì“°ì—¬ì•¼ í•˜ë©°, ê·¸ ì™¸ì˜ ì“°ì„ìƒˆê°€ ìˆë‹¤ë©´ ë³„ë„ì˜ í´ë˜ìŠ¤ë¡œ ë§Œë“¤ì–´ì•¼ í•œë‹¤. ë‚´ë¶€ í´ë˜ìŠ¤ë¥¼ ì„ ì–¸í•˜ëŠ” ì´ìœ ëŠ” ë‘ í´ë˜ìŠ¤ê°€ ì„œë¡œ ê¸´ë°€í•œ ê´€ê³„ì„ì„ ë‚˜íƒ€ë‚´ê¸° ìœ„í•¨ì´ë‹¤.\nì´ë¥¼ ì ì ˆíˆ ì‚¬ìš©í•˜ë©´ í´ë˜ìŠ¤ë¥¼ ë…¼ë¦¬ì â€¦","fields":{"slug":"/inner-class/"},"frontmatter":{"date":"July 26, 2024","title":"[Java] inner í´ë˜ìŠ¤ì™€ ì¢…ë¥˜ì— ëŒ€í•´","tags":["java","inner class"]},"rawMarkdownBody":"\n## ë‚´ë¶€ í´ë˜ìŠ¤(inner class)\n\në‚´ë¶€ í´ë˜ìŠ¤(inner class)ë€, ë‹¤ë¥¸ í´ë˜ìŠ¤ ì•ˆì— ì •ì˜ëœ í´ë˜ìŠ¤ë¥¼ ì˜ë¯¸í•œë‹¤.<br>\në‚´ë¶€ í´ë˜ìŠ¤ëŠ” **ìì‹ ì„ ê°ì‹¼ ì™¸ë¶€ í´ë˜ìŠ¤ì—ì„œë§Œ ì“°ì—¬ì•¼ í•˜ë©°, ê·¸ ì™¸ì˜ ì“°ì„ìƒˆê°€ ìˆë‹¤ë©´ ë³„ë„ì˜ í´ë˜ìŠ¤ë¡œ ë§Œë“¤ì–´ì•¼ í•œë‹¤**.\n\në‚´ë¶€ í´ë˜ìŠ¤ë¥¼ ì„ ì–¸í•˜ëŠ” ì´ìœ ëŠ” **ë‘ í´ë˜ìŠ¤ê°€ ì„œë¡œ ê¸´ë°€í•œ ê´€ê³„ì„ì„ ë‚˜íƒ€ë‚´ê¸° ìœ„í•¨**ì´ë‹¤.<br>\nì´ë¥¼ ì ì ˆíˆ ì‚¬ìš©í•˜ë©´ **í´ë˜ìŠ¤ë¥¼ ë…¼ë¦¬ì ìœ¼ë¡œ êµ¬ì¡°í™”í•˜ì—¬ íŒ¨í‚¤ì§€ë¥¼ ê°„ì†Œí™”**í•  ìˆ˜ ìˆê³  **`private` ì ‘ê·¼ì œì–´ìë¥¼ ì´ìš©í•´ í´ë˜ìŠ¤ ìì²´ë¥¼ ìº¡ìŠí™”** í•  ìˆ˜ ìˆë‹¤.\n\n## ë‚´ë¶€ í´ë˜ìŠ¤ì˜ ì¢…ë¥˜\n\nì¢…ë¥˜ë¡œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\n\n- ì •ì  ë©¤ë²„ í´ë˜ìŠ¤\n- ë¹„ì •ì  ë©¤ë²„ í´ë˜ìŠ¤\n- ìµëª… í´ë˜ìŠ¤\n- ì§€ì—­ í´ë˜ìŠ¤\n\n## ë¹„ì •ì  ë©¤ë²„ í´ë˜ìŠ¤\n\në¹„ì •ì  ë©¤ë²„ í´ë˜ìŠ¤ëŠ” ì™¸ë¶€ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í†µí•´ì„œë§Œ ê°ì²´ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤.<br>\nì™¸ë¶€ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í†µí•´ ìƒì„±ëœ ë¹„ì •ì  ë©¤ë²„ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ëŠ”, ì¸ìŠ¤í„´ìŠ¤í™”ê°€ ë  ë•Œ ì™¸ë¶€ ì¸ìŠ¤í„´ìŠ¤ì™€ ì•”ë¬µì ìœ¼ë¡œ ì—°ê²°ë˜ë©° ë³€ê²½í•  ìˆ˜ ì—†ë‹¤.<br>\nì¦‰, **ë¹„ì •ì  ë©¤ë²„ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë  ë•Œ, ìì‹ ì„ ìƒì„±í•œ ì™¸ë¶€ ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•œ ì°¸ì¡°**ë¥¼ í•­ìƒ ê°€ì§€ê²Œ ëœë‹¤.<br>\nì‹¬ì§€ì–´ ì™¸ë¶€ í´ë˜ìŠ¤ì˜ ë©¤ë²„ë¥¼ ì°¸ì¡°í•˜ì§€ ì•Šì•„ë„, í´ë˜ìŠ¤ íŒŒì¼ì—ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ìˆ¨ê²¨ì§„ ì™¸ë¶€ ì°¸ì¡°ê°€ ì¡´ì¬í•˜ê²Œ ëœë‹¤.<br>\në”°ë¼ì„œ ë¹„ì •ì  ë©¤ë²„ í´ë˜ìŠ¤ì—ì„œ **ì •ê·œí™”ëœ this**ë¡œ ì™¸ë¶€ í´ë˜ìŠ¤ì˜ ë©¤ë²„ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.\n\ní•˜ì§€ë§Œ ì´ëŸ° íŠ¹ì§•ìœ¼ë¡œ ì¸í•´ **ë©”ëª¨ë¦¬ ëˆ„ìˆ˜**ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.<br>\në§Œì•½, ì™¸ë¶€ í´ë˜ìŠ¤ëŠ” ë”ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•Šê³  ë‚´ë¶€(ë©¤ë²„) í´ë˜ìŠ¤ë§Œ ì‚¬ìš©ëœë‹¤ê³  í•˜ë©´, ì™¸ë¶€ í´ë˜ìŠ¤ë¥¼ ë©”ëª¨ë¦¬ì—ì„œ ì œê±°í•´ì¤˜ì•¼ í•œë‹¤.<br>\në”°ë¼ì„œ ì™¸ë¶€ í´ë˜ìŠ¤ë¥¼ ì°¸ì¡°í•˜ì§€ ì•ŠëŠ” ë©¤ë²„ í´ë˜ìŠ¤ë¼ë©´ **ì •ì  ë©¤ë²„ í´ë˜ìŠ¤**ë¡œ ì„ ì–¸í•˜ì.<br>\nì •ì  ë©¤ë²„ í´ë˜ìŠ¤ëŠ” ë‚´ë¶€ì ìœ¼ë¡œë„ ì™¸ë¶€ í´ë˜ìŠ¤ë¥¼ ì°¸ì¡°í•˜ì§€ ì•ŠëŠ”ë‹¤.\n\nì•„ë˜ëŠ” ë¹„ì •ì  ë©¤ë²„ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•œ ê°„ë‹¨í•œ ì˜ˆì‹œ ì½”ë“œì´ë‹¤.\n\n```java\npublic class Outer {\n\n    public int num = 10;\n\n    public static class ì •ì _ë©¤ë²„_í´ë˜ìŠ¤ {\n    }\n\n    public class ë¹„ì •ì _ë©¤ë²„_í´ë˜ìŠ¤ {\n\n        int x = 5;\n\n        public void addX(int x) {\n            this.x += x;\n        }\n\n        public void logic() {\n            Outer.this.num = x; // ë¹„ì •ì  ë©¤ë²„ í´ë˜ìŠ¤ì—ì„œ ì™¸ë¶€ í´ë˜ìŠ¤ë¡œ ì •ê·œí™”ëœ thisë¥¼ ì‚¬ìš©í•´ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.\n        }\n\n        public int getX() {\n            return x;\n        }\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Outer outer = new Outer();\n        Outer.ë¹„ì •ì _ë©¤ë²„_í´ë˜ìŠ¤ ë¹„ì •ì _ë©¤ë²„_í´ë˜ìŠ¤ = outer.new ë¹„ì •ì _ë©¤ë²„_í´ë˜ìŠ¤(); // ë¹„ì •ì  ë©¤ë²„ í´ë˜ìŠ¤ëŠ” ì™¸ë¶€ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ì—†ì´ ìƒì„±í•  ìˆ˜ ì—†ë‹¤.\n\n        System.out.println(ë¹„ì •ì _ë©¤ë²„_í´ë˜ìŠ¤.getX()); // 5\n        ë¹„ì •ì _ë©¤ë²„_í´ë˜ìŠ¤.addX(10);\n        ë¹„ì •ì _ë©¤ë²„_í´ë˜ìŠ¤.logic();\n        System.out.println(ë¹„ì •ì _ë©¤ë²„_í´ë˜ìŠ¤.getX() + \" \" + outer.num); // 15 15\n    }\n}\n```\n\n## ì •ì  ë©¤ë²„ í´ë˜ìŠ¤\n\në¹„ì •ì  ë©¤ë²„ í´ë˜ìŠ¤ì— `static` í‚¤ì›Œë“œë¥¼ ë¶™ì¸ í´ë˜ìŠ¤ì´ë‹¤.<br>\nì •ì  ë©¤ë²„ í´ë˜ìŠ¤ì™€ ë‹¤ë¥´ê²Œ, ì™¸ë¶€ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í†µí•˜ì§€ ì•Šê³  ì •ì  ë©¤ë²„ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤.<br>\në”°ë¼ì„œ **ì •ì  ë©¤ë²„ í´ë˜ìŠ¤ëŠ” ì™¸ë¶€ í´ë˜ìŠ¤ì˜ ê°„ì ‘ ì°¸ì¡°ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤**.\n\nì •ì  ë©¤ë²„ í´ë˜ìŠ¤ì— ë¶™ëŠ” `static`ì€, ì¼ë°˜ì ìœ¼ë¡œ `static`ì´ ë©”ëª¨ë¦¬ ìƒì—ì„œ ë™ì‘í•˜ëŠ” ë°©ì‹ê³¼ëŠ” ë‹¤ë¥´ë‹¤.<br>\n`static`ì´ë”ë¼ë„ ì¸ìŠ¤í„´ìŠ¤í™” í•  ë•Œ ë§ˆë‹¤ ë§¤ë²ˆ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê¸° ë•Œë¬¸ì´ë‹¤.\n\nì •ì  ë‚´ë¶€ í´ë˜ìŠ¤ì—ì„œ ì™¸ë¶€ í´ë˜ìŠ¤ë¡œì˜ ì ‘ê·¼ì€ `static` í•„ë“œë‚˜ ë©”ì„œë“œìœ¼ë¡œë§Œ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤.<br>\në§Œì•½ ì™¸ë¶€ í´ë˜ìŠ¤ì˜ non-static í•„ë“œë¡œ ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„  ì™¸ë¶€ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í†µí•´ì„œë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.\n\nì•„ë˜ëŠ” ì •ì  ë©¤ë²„ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•œ ê°„ë‹¨í•œ ì˜ˆì‹œ ì½”ë“œì´ë‹¤.\n\n```java\npublic class Outer {\n\n    public int num = 10;\n    private static int privateStaticNum = 10;\n\n    public int getNum() {\n        return num;\n    }\n\n    public static void print(int num) {\n        System.out.println(num);\n    }\n\n    public static class ì •ì _ë©¤ë²„_í´ë˜ìŠ¤ {\n\n        int x = 5;\n\n        public void addX(int x) {\n            this.x += x;\n        }\n\n        public void logic() {\n            // Outer.this.num = x; // ì»´íŒŒì¼ ì˜¤ë¥˜\n            // x += Outer.num; // ì»´íŒŒì¼ ì˜¤ë¥˜\n            x += Outer.privateStaticNum; // static í•„ë“œë¡œ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤. ì‹¬ì§€ì–´ private ì„ì—ë„ ê°€ëŠ¥í•˜ë‹¤.\n\n            int num = new Outer().getNum(); // ì™¸ë¶€ í´ë˜ìŠ¤ì˜ non-static í•„ë“œë¡œ ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„  ì™¸ë¶€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í†µí•´ì•¼ í•œë‹¤.\n            Outer.print(num); // static ë©”ì„œë“œë¡œ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤.\n        }\n\n        public int getX() {\n            return x;\n        }\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Outer.ì •ì _ë©¤ë²„_í´ë˜ìŠ¤ ì •ì _ë©¤ë²„_í´ë˜ìŠ¤ = new Outer.ì •ì _ë©¤ë²„_í´ë˜ìŠ¤();\n        System.out.println(ì •ì _ë©¤ë²„_í´ë˜ìŠ¤.getX()); // 5\n\n        ì •ì _ë©¤ë²„_í´ë˜ìŠ¤.addX(10);\n        System.out.println(ì •ì _ë©¤ë²„_í´ë˜ìŠ¤.getX()); // 15\n\n        ì •ì _ë©¤ë²„_í´ë˜ìŠ¤.logic(); // 10\n        System.out.println(ì •ì _ë©¤ë²„_í´ë˜ìŠ¤.getX()); // 25\n\n        Outer.ì •ì _ë©¤ë²„_í´ë˜ìŠ¤ ì •ì _ë©¤ë²„_í´ë˜ìŠ¤2 = new Outer.ì •ì _ë©¤ë²„_í´ë˜ìŠ¤();\n        System.out.println(ì •ì _ë©¤ë²„_í´ë˜ìŠ¤ == ì •ì _ë©¤ë²„_í´ë˜ìŠ¤2); // false\n    }\n}\n```\n\n## ìµëª… í´ë˜ìŠ¤\n\nìµëª… í´ë˜ìŠ¤ëŠ” í´ë˜ìŠ¤ ì´ë¦„ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë‚´ë¶€ í´ë˜ìŠ¤ì´ë‹¤.<br>\ní´ë˜ìŠ¤ë‚˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì„ ì–¸ê³¼ ë™ì‹œì— ê°ì²´ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤.\n\nì•„ë˜ëŠ” ìµëª… í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê°„ë‹¨í•œ ì˜ˆì‹œ ì½”ë“œì´ë‹¤.\n\n```java\n@Getter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Member {\n\n    private Long id;\n    private String name;\n}\n\npublic class JdbcTemplateTest {\n\n    private static final RowMapper<Member> rowMapper = new RowMapper<Member>() { // ìµëª… í´ë˜ìŠ¤ (ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„)\n        @Override\n        public Member mapRow(ResultSet rs, int rowNum) throws SQLException {\n            return new Member(\n                    rs.getLong(\"id\"),\n                    rs.getString(\"name\")\n            );\n        }\n    };\n\n    Member zz = new Member() { // ìµëª… í´ë˜ìŠ¤\n        @Override\n        public String toString() {\n            return \"new Member Instance\";\n        }\n    };\n}\n\nclass ma {\n    public static void main(String[] args) {\n        JdbcTemplateTest jdbcTemplateTest = new JdbcTemplateTest();\n        Member zz = jdbcTemplateTest.zz;\n        System.out.println(zz); // \"new Member Instance\"\n    }\n}\n```\n\n## ì§€ì—­ í´ë˜ìŠ¤\n\nì§€ì—­ ë©¤ë²„ì™€ ë™ì¼í•˜ë‹¤.<br>\në‹¨ì§€ í´ë˜ìŠ¤ì¼ ë¿ì´ë‹¤.\n\nnon-static ë¬¸ë§¥ì¼ ë•Œë§Œ **ì™¸ë¶€ í´ë˜ìŠ¤ë¥¼ ì •ê·œí™”ëœ thisë¡œ ì°¸ì¡°**í•  ìˆ˜ ìˆë‹¤.\n\nì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n\n```java\npublic class Outer {\n\n    public int num = 10;\n\n    public void logic() {\n\n        class ì§€ì—­_í´ë˜ìŠ¤ {\n\n            int x = 100;\n\n            public void setX(int x) {\n                this.x = x;\n            }\n\n            public void add() {\n                Outer.this.num += x; // ì™¸ë¶€ ì¸ìŠ¤í„´ìŠ¤ ì°¸ì¡° ê°€ëŠ¥\n            }\n        }\n\n        ì§€ì—­_í´ë˜ìŠ¤ ì§€ì—­_í´ë˜ìŠ¤ = new ì§€ì—­_í´ë˜ìŠ¤();\n        System.out.println(\"ì´ˆê¸° X: \" + ì§€ì—­_í´ë˜ìŠ¤.x); // 100\n\n        ì§€ì—­_í´ë˜ìŠ¤.setX(num);\n        System.out.println(\"ìˆ˜ì • ì´í›„ X: \" + ì§€ì—­_í´ë˜ìŠ¤.x); // 10\n\n        ì§€ì—­_í´ë˜ìŠ¤.add();\n        System.out.println(\"ì§€ì—­_í´ë˜ìŠ¤.add() ì´í›„ num: \" + this.num);\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Outer outer = new Outer();\n        outer.logic();\n    }\n}\n```\n\n## Referece\n- ìë°”ì˜ ì •ì„\n- ì´í™í‹°ë¸Œ ìë°”\n- https://inpa.tistory.com/entry/JAVA-%E2%98%95-%EC%9E%90%EB%B0%94%EC%9D%98-%EB%82%B4%EB%B6%80-%ED%81%B4%EB%9E%98%EC%8A%A4%EB%8A%94-static-%EC%9C%BC%EB%A1%9C-%EC%84%A0%EC%96%B8%ED%95%98%EC%9E%90#inner_%ED%81%B4%EB%9E%98%EC%8A%A4%EC%9D%98_%EB%AC%B8%EC%A0%9C%EC%A0%90\n"},{"excerpt":"7ì›” 8ì¼ë¶€í„° 23ì¼ê¹Œì§€ í–ˆë˜ ê²ƒë“¤ê³¼ ëŠë‚€ ì ë“¤ì„ ì •ë¦¬í•˜ê³ , ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì•ìœ¼ë¡œì˜ ë°©í–¥ì„±ì„ ì¡ê¸° ìœ„í•œ íšŒê³ ë¡ ë©´ì ‘ 7ì›” 11ì¼, 16ì¼, 22ì¼, 23ì¼ ë©´ì ‘ì„ ë´¤ë‹¤.\në•Œë¬¸ì— 7ì›”ì€ ë©´ì ‘ì„ ìœ„í•œ ì‹œê°„ìœ¼ë¡œ ê°€ë“í–ˆë‹¤ê³  ê³¼ì–¸ì´ ì•„ë‹ˆë‹¤.\nì´ ì„¸ ê³³ì˜ ë©´ì ‘ì„ ë³´ê²Œ ë˜ì—ˆê³  ê° ê¸°ì—…ì˜ ë©´ì ‘ì„ ëë‚˜ê³  ëŠë‚€ ì ë“¤ì´ í•˜ë‚˜ì”©ì€ ìˆë‹¤. What? Why? How? Resulâ€¦","fields":{"slug":"/july-2nd-3rd-4th/"},"frontmatter":{"date":"July 24, 2024","title":"[íšŒê³ ] 07.08 ~ 07.23","tags":["retrospective"]},"rawMarkdownBody":"\n7ì›” 8ì¼ë¶€í„° 23ì¼ê¹Œì§€ í–ˆë˜ ê²ƒë“¤ê³¼ ëŠë‚€ ì ë“¤ì„ ì •ë¦¬í•˜ê³ , ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì•ìœ¼ë¡œì˜ ë°©í–¥ì„±ì„ ì¡ê¸° ìœ„í•œ íšŒê³ ë¡\n\n## ë©´ì ‘\n\n7ì›” 11ì¼, 16ì¼, 22ì¼, 23ì¼ ë©´ì ‘ì„ ë´¤ë‹¤.<br>\në•Œë¬¸ì— 7ì›”ì€ ë©´ì ‘ì„ ìœ„í•œ ì‹œê°„ìœ¼ë¡œ ê°€ë“í–ˆë‹¤ê³  ê³¼ì–¸ì´ ì•„ë‹ˆë‹¤.<br>\nì´ ì„¸ ê³³ì˜ ë©´ì ‘ì„ ë³´ê²Œ ë˜ì—ˆê³  ê° ê¸°ì—…ì˜ ë©´ì ‘ì„ ëë‚˜ê³  ëŠë‚€ ì ë“¤ì´ í•˜ë‚˜ì”©ì€ ìˆë‹¤.\n\n### What? Why? How? Result?\n\nì´ë²ˆ ì‹œê°„ë™ì•ˆ ë°°ìš´ ê²ƒì¤‘ ê°€ì¥ í•µì‹¬ì´ë‹¤.<br>\në‚´ê°€ í•œ ê²½í—˜ì— **What? Why? How? Result?** ì´ ë°˜ë“œì‹œ í•„ìš”í•˜ê³ , ë©´ì ‘ì—ì„œ ì–´í•„í•  ê²ƒì€ ì´ ë„¤ ê°€ì§€ê°€ ì „ë¶€ë¼ëŠ” ê²ƒì´ë‹¤.<br>\nì–´ì©Œë©´ ì´ë ‡ê²Œ ëŠë‚€ ì´ìœ ì˜ ëª©ì ì´ ë©´ì ‘ì¼ ìˆ˜ ìˆë‹¤. ë¬¼ë¡  ì§€ê¸ˆ ìƒí™©ì—ì„  ì•„ì˜ˆ í‹€ë¦° ë§ì€ ì•„ë‹ˆì§€ë§Œ,<br>\në©´ì ‘ê´€ë“¤ì€ ë¹„ì¦ˆë‹ˆìŠ¤ë§¨ì´ê¸°ì— ê·¸ë“¤ì´ ê¶ê¸ˆí•œ ê²ƒë„ ì´ ë„¤ ê°€ì§€ê°€ ì „ë¶€ë¼ê³  ìƒê°í•œë‹¤.<br>\nê·¸ë¦¬ê³  ì‹¤ë¬´ëŠ” ì‚¬ì‹¤ìƒ ì´ ë„¤ ê°€ì§€ë¡œ ì›€ì§ì´ëŠ” ê²Œ ì•„ë‹ê¹Œ ìƒê°í•œë‹¤.\n\nëŒì´ì¼œë³´ë©´ ìµœê·¼ë“¤ì–´ Why ì™€ Resultê°€ ë¶€ì¡±í–ˆë‹¤ê³  ìƒê°í•œë‹¤.<br>\nWhyì™€ Resultë¥¼ ì±„ìš°ëŠ” ìª½ìœ¼ë¡œ ì§€í–¥í•´ë³´ì.\n\nê²°ê³¼ì ìœ¼ë¡œ ì•ìœ¼ë¡œ í”„ë¡œì íŠ¸ë¥¼ í•  ë•Œ, í˜¹ì€ ê°œë°œì„ í•  ë•Œ, ê³µë¶€ë¥¼ í•  ë•Œ, ì´ ë„¤ ê°€ì§€ë¥¼ ê³„ì†í•´ì„œ ì˜ì‹í•˜ê³  êµ¬ì¡°í™”í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•´ë³´ì¸ë‹¤.<br>\nê·¸ë¦¬ê³  ë‚´ê°€ í–ˆë˜ ê²½í—˜ì— ëŒ€í•´ ëª¨ë‘ ì´ ë„¤ ê°€ì§€ë¡œ ì˜ ì •ë¦¬í•˜ëŠ” ì‹œê°„ì´ í•„ìš”í•´ë³´ì¸ë‹¤.\n\n### ê·¸ë˜ë„ ê²½ìŸë ¥ì´ ìˆë‹¤ëŠ” ì‚¬ì‹¤\n\n23ì¼, Cì‚¬ì˜ 2ì°¨ ë©´ì ‘ì„ ë´¤ë‹¤.<br>\në©´ì ‘ ì„œë‘ì— ë©´ì ‘ê´€ê»˜ì„œ ì´ëŸ° ë§ì”€ì„ í•´ì£¼ì…¨ë‹¤. \"ì§€ì›ìê°€ 1,200ëª… ì •ë„ ë˜ëŠ”ë° 2ì°¨ ë©´ì ‘ê¹Œì§€ ì˜¤ëŠ” ì‚¬ëŒì€ ì–¼ë§ˆ ì—†ë‹¤. ë”°ë¼ì„œ ì§€ì›ìê»˜ì„œ ê²½ìŸë ¥ì´ ì¶©ë¶„íˆ ìˆë‹¤ê³  ìƒê°í•œë‹¤.\"<br>\në©´ì ‘ì´ë¼ëŠ” ìƒí™©ì—ì„œ ë©´ì ‘ê´€ì´ ë‚´ê²Œ ì–´ë–¤ ì˜ë„ë¡œ ë§ì”€í•˜ì…¨ëŠ”ì§€ëŠ” ì •í™•íˆ ì•Œ ìˆ˜ ì—†ë‹¤.<br>\në‹¤ë§Œ ë¶„ëª…í•œ ì‚¬ì‹¤ì€ **ê²½ìŸë ¥ì´ ìˆë‹¤ëŠ” ì‚¬ì‹¤**ì´ë‹¤.<br>\n\në©´ì ‘ ì¤‘ì— ìš°ì•„í•œí…Œí¬ì½”ìŠ¤ì˜ ê²½ìŸë¥ ì— ëŒ€í•´ì„œë„ ì—¬ì­¤ë³´ì…¨ë‹¤.<br>\në‹¹ì‹œ ê¸°ì–µì„ ë– ì˜¬ë¦¬ë©° \"5ê¸° ë°±ì—”ë“œ ê¸°ì¤€, 1,200ëª… ì¤‘ 100ëª…\" ì´ë¼ê³  ë‹µë³€í–ˆë‹¤. (ì •í™•íˆëŠ” 1,500ëª… ì¤‘ 100ëª…ì´ë‹¤.)<br>\nì´ ë§ì„ í•˜ë©° ë‹¤ì‹œ í•œë²ˆ ëŠë‚„ ìˆ˜ ìˆì—ˆë‹¤. 'ì§€ê¸ˆê¹Œì§€ ê¾¸ì¤€íˆ ë†’ì€ ê²½ìŸë¥ ì„ ëš«ê³  ìˆêµ¬ë‚˜.'<br>\n\nì‹ ì…ìœ¼ë¡œì„œ ì±„ìš© ì‹œì¥ì´ ë„ˆë¬´ ì¶”ìš´ ê±´ ì‚¬ì‹¤ì´ë‹¤.<br>\nê·¸ëŸ¼ì—ë„ ë‚˜ëŠ” ê²½ìŸë ¥ ìˆëŠ” ì‹ ì…ì´ë¼ëŠ” ì‚¬ì‹¤ì€ ì´ëŸ¬í•œ ê²½í—˜ë“¤ë¡œ ì¦ëª…ì´ ëœë‹¤ê³  ìƒê°í•œë‹¤.<br>\në”°ë¼ì„œ, ë§Œì•½ ì´ë²ˆ ì±„ìš© ê³¼ì •ì—ì„œ ëª¨ë‘ ì“´ ë§›ì„ ë³´ë”ë¼ë„ í¬ê¸°í•˜ì§€ ì•Šì•˜ìœ¼ë©´ ì¢‹ê² ë‹¤.<br>\nì ê¹ ì¬ì •ë¹„í•˜ëŠ” ì‹œê°„ì´ í•„ìš”í• ì§€ì–¸ì • ê³„ì†í•´ì„œ ì‹œë„í•˜ì—¬ ë§ˆì¹¨ë‚´ ì¢‹ì€ ê²°ê³¼ë¥¼ ë§ºì—ˆìœ¼ë©´ ì¢‹ê² ë‹¤.\n\n### ë„“ì´ë³´ë‹¨ ê¹Šì´\n\n16ì¼, Sì‚¬ì˜ 1ì°¨ ë©´ì ‘ì„ ë´¤ë‹¤.<br>\n7ì¼ ê°„ ì§„í–‰í•œ ê³¼ì œ í…ŒìŠ¤íŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë§ì€ ì§ˆë¬¸ì„ ë°›ì•˜ë‹¤.<br>\nê·¸ëŸ°ë° ë‚´ ì˜ˆìƒê³¼ ë‹¬ë¦¬ ì‚¬ìš©í•œ ê¸°ìˆ ì„ ì•Œê³  ì¼ëŠ”ì§€? ì•ˆë‹¤ë©´ ì–¼ë§ˆë‚˜ ì•„ëŠ”ì§€? ì— ê´€í•œ ì§ˆë¬¸ì„ ë°›ì•˜ë‹¤.<br>\nì‚¬ì‹¤, ê³¼ì œì— ì‚¬ìš©í•œ ê¸°ìˆ ì´ë‚˜ ê°œë…ì€ ìµìˆ™í•˜ê±°ë‚˜ ëŠ¥ìˆ™í•œ ê²ƒë“¤ì´ ì•„ë‹ˆì—ˆë‹¤.<br>\në¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì–´ë””ì„œ ì£¼ì›Œë“¤ì€ ê²ƒë“¤ì„ ì‚¬ìš©í•´ í•´ê²°í•˜ê²Œ ë˜ì—ˆë‹¤.<br>\nê²°êµ­ ë‹µë³€ì„ ì† ì‹œì›íˆ í•˜ì§€ ëª»í–ˆë‹¤.<br>\n\nê²°ê³¼ëŠ” ì˜ˆìƒí–ˆë˜ ëŒ€ë¡œ íƒˆë½ì´ì—ˆì§€ë§Œ, ê¹Šì´ê°€ ë¶€ì¡±í–ˆë‹¤ëŠ” ì‚¬ì‹¤ì„ ë¼ˆì €ë¦¬ê²Œ ëŠê¼ˆë‹¤.<br>\në™ì‹œì— 'Why?'ê°€ ê²°ì—¬ë˜ì—ˆë‹¤ê³  ëŠê¼ˆë‹¤.<br>\nìš°í…Œì½”ë¥¼ ê³„ê¸°ë¡œ ê·¸ë ‡ê²Œ ìŠ¤ìŠ¤ë¡œ ê°•ì¡°í–ˆë˜ 'Why?' ì¸ë°, ë„ˆë¬´ í•´ì´í•´ì¡Œë‚˜ë³´ë‹¤.<br>\n\n## ì•ìœ¼ë¡œ\n\në‹¤ì‹œ í•œë²ˆ í™•ì¥ë³´ë‹¨ ê¹Šì´ì— ì´ˆì ì„ ë‘ì–´ë³´ì.<br>\nê·¸ë¦¬ê³  Why ì™€ Resultë¥¼ ì§€í–¥í•˜ëŠ” ë°©í–¥ì„±ì„ ê°€ì§€ì. "},{"excerpt":"DBì˜ í”„ë¡œì‹œì €(Procedure), í•¨ìˆ˜(Function), íŒ¨í‚¤ì§€(Package)ì— ëŒ€í•´ ê°„ë‹¨íˆ ì•Œì•„ë³´ì.\nê·¸ë¦¬ê³  í”„ë¡œì‹œì €ì™€ í•¨ìˆ˜ì˜ ì°¨ì´ì— ëŒ€í•´ì„œë„ ì•Œì•„ë³´ì. í”„ë¡œì‹œì € DB í”„ë¡œì‹œì €ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ëœ ì¼ë ¨ì˜ ì¿¼ë¦¬ì™€ ì ˆì°¨ì  ì½”ë“œë¥¼ í¬í•¨í•˜ëŠ” í”„ë¡œê·¸ë¨ì´ë‹¤.\nì£¼ë¡œ, ë°ì´í„°ë² ì´ìŠ¤ ë‚´ ë³µì¡í•œ ì‘ì—…ì„ ìë™í™”í•˜ê±°ë‚˜ ë°˜ë³µì ì¸ ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤. ì£¼ìš” â€¦","fields":{"slug":"/procedure-function-package/"},"frontmatter":{"date":"July 22, 2024","title":"[DB] í”„ë¡œì‹œì €, í•¨ìˆ˜, íŒ¨í‚¤ì§€ì— ëŒ€í•´","tags":["DB"]},"rawMarkdownBody":"\nDBì˜ í”„ë¡œì‹œì €(Procedure), í•¨ìˆ˜(Function), íŒ¨í‚¤ì§€(Package)ì— ëŒ€í•´ ê°„ë‹¨íˆ ì•Œì•„ë³´ì.<br>\nê·¸ë¦¬ê³  í”„ë¡œì‹œì €ì™€ í•¨ìˆ˜ì˜ ì°¨ì´ì— ëŒ€í•´ì„œë„ ì•Œì•„ë³´ì.\n\n## í”„ë¡œì‹œì €\n\nDB í”„ë¡œì‹œì €ëŠ” **ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ëœ ì¼ë ¨ì˜ ì¿¼ë¦¬ì™€ ì ˆì°¨ì  ì½”ë“œë¥¼ í¬í•¨í•˜ëŠ” í”„ë¡œê·¸ë¨**ì´ë‹¤.<br>\nì£¼ë¡œ, ë°ì´í„°ë² ì´ìŠ¤ ë‚´ ë³µì¡í•œ ì‘ì—…ì„ ìë™í™”í•˜ê±°ë‚˜ ë°˜ë³µì ì¸ ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤.\n\n### ì£¼ìš” íŠ¹ì§•\n\n1. ëª¨ë“ˆì„±: í”„ë¡œì‹œì €ëŠ” ë…ë¦½ì ì¸ ëª¨ë“ˆë¡œì„œ ì—¬ëŸ¬ ê³³ì—ì„œ ì¬ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.\n2. ì„±ëŠ¥ í–¥ìƒ: SQL ì¿¼ë¦¬ë¥¼ ë¯¸ë¦¬ ì»´íŒŒì¼í•´ ì €ì¥í•˜ê¸°ì— ì‹¤í–‰ ì‹œ ë” ë¹ ë¥´ê²Œ ì²˜ë¦¬ëœë‹¤.\n3. ë°˜í™˜ ê°’ ì—†ìŒ: í”„ë¡œì‹œì €ëŠ” ë°˜í™˜ ê°’ì´ ì—†ì–´ë„ ëœë‹¤. í˜¹, ë°˜í™˜ê°’ì´ ìˆì„ ê²½ìš° `OUT` ë§¤ê°œë³€ìˆ˜ë¥¼ ì´ìš©í•´ ë°˜í™˜í•œë‹¤.\n4. ì—ëŸ¬ ì²˜ë¦¬: í”„ë¡œì‹œì € ë‚´ì—ì„œ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. \n\n### ì‚¬ìš© ì˜ˆì‹œ ì½”ë“œ\n\n```sql\n-- í”„ë¡œì‹œì € í˜¸ì¶œ\nCREATE PROCEDURE update_employee_salary {\n    -- íŒŒë¼ë¯¸í„° 1\n    IN employee_id INT,\n    -- íŒŒë¼ë¯¸í„° 2\n    IN new_salary DECIMAL(10, 2)\n}\n-- ì‹¤í–‰ë¶€\nBEGIN\n    UPDATE employees\n    SET salary = new_salary\n    WHERE id = employee_id;\nEND;\n\n-- í”„ë¡œì‹œì € í˜¸ì¶œ\nCALL update_employee_salary(1, 75000.00);\n```\n\n## í•¨ìˆ˜\n\nDB í•¨ìˆ˜ëŠ” **íŠ¹ì • ì‘ì—…ì„ ìˆ˜í–‰í•˜ê³  í•˜ë‚˜ì˜ ê°’ì„ ë°˜í™˜í•˜ëŠ” ì¿¼ë¦¬ ë¸”ë¡**ì´ë‹¤.<br>\nì£¼ë¡œ ë°ì´í„°ë¥¼ ê³„ì‚°í•˜ê±°ë‚˜ ë³€í™˜í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤.\n\n### ì£¼ìš” íŠ¹ì§•\n\n1. ë°˜í™˜ ê°’ í•„ìˆ˜: í•¨ìˆ˜ëŠ” í•­ìƒ í•˜ë‚˜ì˜ ê°’ì„ ë°˜í™˜í•´ì•¼ í•œë‹¤.\n2. í˜¸ì¶œ ë°©ì‹: ì¿¼ë¦¬ ë‚´ì—ì„œ í˜¸ì¶œë  ìˆ˜ ìˆìœ¼ë©°, SELECT ë¬¸ ë“±ì—ì„œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.\n3. íŠ¸ëœì ì…˜ ì œì–´ ë¶ˆê°€: íŠ¸ëœì­ì…˜ì„ ì œì–´í•˜ëŠ” COMMIT, ROLLBACK ëª…ë ¹ì–´ê°€ í¬í•¨ë  ìˆ˜ ì—†ë‹¤.\n\n### ì‚¬ìš© ì˜ˆì‹œ ì½”ë“œ\n\n```sql\n-- í•¨ìˆ˜ ì„ ì–¸\nCREATE FUNCTION get_employee_salary {\n    -- íŒŒë¼ë¯¸í„°\n    employee_id INT\n} RETURNS DECIMAL(10, 2)\n-- ì‹¤í–‰ë¶€\nBEGIN\n    DECLARE employee_salary DECIMAL(10, 2);\n    SELECT salary INTO employee_salary\n    FROM employees\n    WHERE id = employee_id\n    RETURN employee_salary;\nEND;\n```\n\n## íŒ¨í‚¤ì§€\n\nDB íŒ¨í‚¤ì§€ëŠ” **í”„ë¡œì‹œì €, í•¨ìˆ˜, ë³€ìˆ˜, ì»¤ì„œ ë“± DB ê°ì²´ë¥¼ ê·¸ë£¹í™”í•œ ë…¼ë¦¬ì ì¸ ë‹¨ìœ„**ì´ë‹¤.<br>\nHeaderì™€ Bodyë¡œ ë‚˜ë‰œë‹¤.\n\n### ì£¼ìš” íŠ¹ì§•\n\n1. ê´€ë ¨ í”„ë¡œì‹œì €ì™€ í•¨ìˆ˜ë¥¼ ë…¼ë¦¬ì ì¸ í•œ ë‹¨ìœ„ë¡œ ë¬¶ìŒìœ¼ë¡œì¨ í° ë‹¨ìœ„ì˜ ëª¨ë“ˆì„ êµ¬ì¶•í•  ìˆ˜ ìˆë‹¤.\n2. íŒ¨í‚¤ì§€ê°€ ì²˜ìŒ í˜¸ì¶œë  ë•Œ ë©”ëª¨ë¦¬ì— ë¡œë“œë˜ë¯€ë¡œ ì´í›„ ì´í›„ì˜ í˜¸ì¶œì—ëŠ” ë” ë¹ ë¥´ê²Œ ì‹¤í–‰ëœë‹¤.\n\n### ì‚¬ìš© ì˜ˆì‹œ ì½”ë“œ\n\n```sql\n-- Headerë¶€\nCREATE OR REPLACE PACKAGE employee_pkg IS\n    PROCEDURE update_salary(employee_id INT, new_salary DECIMAL);\n    FUNTION get_salary(employee_id INT) RETURN DECIMAL;\n}\n\n-- Bodyë¶€\nCREATE OR REPLACE PACKAGE BODY employee_pkg IS\n    PROCEDURE update_salary(employee_id INT, new_salary DECIMAL) IS\n    BEGIN\n        UPDATE employees\n        SET salary = new_salary\n        WHERE id = employee_id;\n    END update_salary;\n    \n    FUNCTION get_salary(employee_id INT) RETURN DECIMAL IS\n        employee_salary DECIMAL(10, 2);\n    BEGIN\n        SELECT salary INTO employee_salary\n        FROM employees\n        WHERE id = employee_id\n        RETURN employee_salary;\n    END get_salary\nEND employee_pkg;\n\n-- íŒ¨í‚¤ì§€ ë‚´ í”„ë¡œì‹œì € í˜¸ì¶œ\nEXEC employee_pkg.update_salary(1, 20000.00);\n-- íŒ¨í‚¤ì§€ ë‚´ í•¨ìˆ˜ í˜¸ì¶œ\nSELECT employee_pkg.get_salary(1) FROM dual;\n```"},{"excerpt":"í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë‹¤ë³´ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ê³¼ ë™ì‹œì— DBì— ë”ë¯¸ ë°ì´í„°ë¥¼ ë„£ê³  ì‹¶ì€ ê²½ìš°ê°€ ìˆë‹¤.\níŠ¹íˆ ë¡œì»¬ì´ë‚˜ ê°œë°œ í™˜ê²½ì—ì„œ ì›í™œí•œ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ í•„ìš”í•œ ê²½ìš°ê°€ ë§ë‹¤. ë”°ë¼ì„œ ì´ë²ˆ ê¸€ì—ì„œëŠ” ìŠ¤í”„ë§ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ë©´ì„œ ë™ì‹œì— DBì— ë”ë¯¸ ë°ì´í„°ë¥¼ ë„£ëŠ” ë°©ë²• 2ê°€ì§€ì— ëŒ€í•´ ì•Œì•„ë³´ê³ ì í•œë‹¤. ê°œë°œ í™˜ê²½ì€ ë‹¤ìŒê³¼ ê°™ë‹¤. Java 17 Spring Boot â€¦","fields":{"slug":"/insert-dummy-data-to-db/"},"frontmatter":{"date":"July 14, 2024","title":"[Spring] ìŠ¤í”„ë§ ì• í”Œë¦¬ì¼€ì´ì…˜ ë™ì‘ê³¼ ë™ì‹œì— DBì— ë”ë¯¸ ë°ì´í„° ì‚½ì…í•˜ê¸°","tags":["Spring"]},"rawMarkdownBody":"\ní”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë‹¤ë³´ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ê³¼ ë™ì‹œì— DBì— ë”ë¯¸ ë°ì´í„°ë¥¼ ë„£ê³  ì‹¶ì€ ê²½ìš°ê°€ ìˆë‹¤.<br>\níŠ¹íˆ ë¡œì»¬ì´ë‚˜ ê°œë°œ í™˜ê²½ì—ì„œ ì›í™œí•œ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ í•„ìš”í•œ ê²½ìš°ê°€ ë§ë‹¤.\n\në”°ë¼ì„œ ì´ë²ˆ ê¸€ì—ì„œëŠ” **ìŠ¤í”„ë§ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ë©´ì„œ ë™ì‹œì— DBì— ë”ë¯¸ ë°ì´í„°ë¥¼ ë„£ëŠ” ë°©ë²• 2ê°€ì§€**ì— ëŒ€í•´ ì•Œì•„ë³´ê³ ì í•œë‹¤.\n\nê°œë°œ í™˜ê²½ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\n\n- Java 17\n- Spring Boot 3.3.1\n- H2 (InMemory)\n- Spring Data JPA\n\n## í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ê°„ë‹¨í•œ í”„ë¡œì íŠ¸ ì„¸íŒ…\n\ní…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ H2 DBë¥¼ ì¸ë©”ëª¨ë¦¬ ë°©ì‹ìœ¼ë¡œ ë„ìš°ê³  ì½˜ì†”ì— ì ‘ì†í•´ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.<br>\nê·¸ë¦¬ê³  ë¡œê·¸ë¥¼ ë‚¨ê¸°ê¸° ìœ„í•´ ì•„ë˜ì™€ ê°™ì´ ì„¤ì • íŒŒì¼ì„ ì‘ì„±í•˜ì.\n\n```yaml\n# application.yml\nspring:\n  datasource:\n    driver-class-name: org.h2.Driver\n    url: jdbc:h2:mem:testdb\n\n  h2:\n    console:\n      enabled: true\n\n  jpa:\n    defer-datasource-initialization: true\n    hibernate:\n      ddl-auto: create\n    properties:\n      hibernate:\n        format_sql: true\n        highlight_sql: true\n\nlogging:\n  level:\n    org.springframework.orm.jpa: DEBUG\n    org.hibernate.SQL: DEBUG\n    org.springframework.orm.transaction: DEBUG\n    org.hibernate.orm.jdbc.bind: TRACE\n```\n\nDBì— ì‚½ì…í•  ê°„ë‹¨í•œ ì—”í‹°í‹° ê°ì²´ë¥¼ ë§Œë“¤ì—ˆë‹¤.\n\n```java\n@Entity\n@AllArgsConstructor\n@Table(name = \"users\")\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String name;\n}\n```\n\n## 1. data.sql\n\nê°€ì¥ ë¨¼ì €, `data.sql` íŒŒì¼ì„ ì‘ì„±í•˜ëŠ” ê²ƒì´ë‹¤.<br>\n*/src/main/resources/* ì•„ë˜ì— ì‘ì„±í•˜ë©´ ëœë‹¤.<br>\n\nê°„ë‹¨íˆ users í…Œì´ë¸”ì— idëŠ” 1ì´ê³  nameì€ \"userA\" ì¸ ë°ì´í„°ë¥¼ ë„£ê¸° ìœ„í•´ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í–ˆë‹¤.\n```sql\nINSERT INTO USERS\nVALUES (1, 'userA');\n```\n\nh2 ì½˜ì†”ì— ì ‘ì†í•´ì„œ í™•ì¸í•˜ë©´ ì˜ ì €ì¥ë˜ëŠ” ê±¸ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n![data.sql ê²°ê³¼ í™•ì¸](sql-script.png)\n\ní•˜ì§€ë§Œ í•´ë‹¹ ë°©ë²•ì„ ì ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” application.yml ì— `spring.jpa.defer-datasource-initialization` ì˜µì…˜ì„ `true`ë¡œ ì„¤ì •í•´ì£¼ì–´ì•¼ í•œë‹¤.<br>\ndata.sql íŒŒì¼ì˜ ì‹¤í–‰ ì‹œì ì€ _Hibernate_ ê°€ ì´ˆê¸°í™”ë˜ê¸° ì „ì— ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì´ë‹¤.<br>\n\në˜í•œ, H2ì™€ ê°™ì€ ì„ë² ë””ë“œ DBëŠ” Springì´ ê¸°ë³¸ì ìœ¼ë¡œ data.sql ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰ì‹œí‚¨ë‹¤.<br>\ní•˜ì§€ë§Œ ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš°ì—ëŠ” `spring.sql.init.mode=always` ì„¤ì •ì„ ì¶”ê°€í•´ì£¼ì–´ì•¼ ë™ì‘í•œë‹¤.\n\nìœ„ì™€ ë™ì¼í•˜ê²Œ _schema.sql_ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•  ìˆ˜ë„ ìˆë‹¤.<br>\nì´ë¦„ì—ì„œ êµ¬ë¶„í•  ìˆ˜ ìˆë“¯ì´ schema.sqlì€ ìŠ¤í‚¤ë§ˆë¥¼ ì´ˆê¸°í™”í•  ë•Œ ì‚¬ìš©ë˜ê³  data.sqlì€ ë”ë¯¸ ë°ì´í„°ë¥¼ ì‚½ì…í•  ë•Œ ì‚¬ìš©í•œë‹¤. \n\n## 2. ë”°ë¡œ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê³  @PostConstructor ì¶”ê°€í•˜ê¸°\n\në”ë¯¸ ë°ì´í„°ë¥¼ ì‚½ì…í•˜ëŠ” ê´€ì‹¬ì‚¬ë¥¼ ê°€ì§„ ê°ì²´ë¥¼ ë§Œë“¤ê³ , `@PostConstructor`ë¥¼ ë¶™ì¸ ë©”ì„œë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ë°©ë²•ì´ë‹¤.<br>\nê°„ë‹¨í•˜ê²Œ ë§Œë“¤ì–´ ë³´ì•˜ë‹¤.\n\n```java\n@Component\n@RequiredArgsConstructor\npublic class DummyDataInserter {\n\n    private final UserRepository userRepository;\n\n    @PostConstruct\n    public void init() {\n        User userA = new User(1L, \"userA\");\n        userRepository.save(userA);\n    }\n}\n```\n\n_data.sql_ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²•ì€ ë‚´ê°€ ëª°ë¼ì„œ ê·¸ëŸ°ê±´ì§€ ë¡œê·¸ê°€ ì•ˆë‚¨ì•˜ë‹¤.<br>\ní•˜ì§€ë§Œ í•´ë‹¹ ë°©ë²•ì€ Hibernateë¥¼ ì´ìš©í•˜ë‹¤ë³´ë‹ˆ ì¹œì ˆí•˜ê²Œ ë¡œê·¸ë„ ë‚¨ê¸¸ ìˆ˜ ìˆë‹¤.\n![](log-of-postconstructor.png)\n\në˜, `@Profile`ì„ ì´ìš©í•´ ì›í•˜ëŠ” í™˜ê²½ì—ì„œë§Œ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.<br>\nì¶”ê°€ë¡œ ìŒ© SQL ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•˜ëŠ” ê²Œ ì•„ë‹Œ, ì½”ë“œë¥¼ ì‘ì„±í•´ ì €ì¥í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì—ì„œë„ í° ë©”ë¦¬íŠ¸ë¼ê³  ìƒê°í•œë‹¤."},{"excerpt":"ê°ì²´ì§€í–¥ì„ ê³µë¶€í•˜ë©´ ë¹ ì§ˆ ìˆ˜ ì—†ëŠ” ë‚´ìš©ì´ ìˆë‹¤.\në°”ë¡œ SOLID ë¼ê³  ë¶ˆë¦¬ëŠ” ê°ì²´ì§€í–¥ ì„¤ê³„ ì›ì¹™ì´ë‹¤.\nì´ë²ˆ ê¸€ì€ SOLID ì›ì¹™ì´ ë¬´ì—‡ì´ê³  ì™œ íƒ„ìƒí•˜ê²Œ ë˜ì—ˆìœ¼ë©° ê° ì›ì¹™ì€ ë¬´ì—‡ì„ ì˜ë¯¸í•˜ëŠ”ì§€ ì•Œì•„ë³´ê² ë‹¤. SOLID ì›ì¹™ SOLIDëŠ” ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì„ í•  ë•Œ ê°ì²´ì§€í–¥ì˜ íŠ¹ì§•ì„ ì˜ ì‚´ë¦´ ìˆ˜ ìˆëŠ” ì„¤ê³„ ì›ì¹™ì´ë‹¤.\nì´ 5ê°€ì§€ì˜ ì›ì¹™ì´ ìˆìœ¼ë©°, ì›ì¹™ì´ë¼ëŠ” ì´ë¦„ì´â€¦","fields":{"slug":"/solid/"},"frontmatter":{"date":"July 13, 2024","title":"ê°ì²´ì§€í–¥ ì„¤ê³„ ì›ì¹™: SOLID","tags":["oop","solid"]},"rawMarkdownBody":"\nê°ì²´ì§€í–¥ì„ ê³µë¶€í•˜ë©´ ë¹ ì§ˆ ìˆ˜ ì—†ëŠ” ë‚´ìš©ì´ ìˆë‹¤.<br>\në°”ë¡œ _SOLID_ ë¼ê³  ë¶ˆë¦¬ëŠ” ê°ì²´ì§€í–¥ ì„¤ê³„ ì›ì¹™ì´ë‹¤.<br>\nì´ë²ˆ ê¸€ì€ SOLID ì›ì¹™ì´ ë¬´ì—‡ì´ê³  ì™œ íƒ„ìƒí•˜ê²Œ ë˜ì—ˆìœ¼ë©° ê° ì›ì¹™ì€ ë¬´ì—‡ì„ ì˜ë¯¸í•˜ëŠ”ì§€ ì•Œì•„ë³´ê² ë‹¤.\n\n## SOLID ì›ì¹™\n\nSOLIDëŠ” ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì„ í•  ë•Œ ê°ì²´ì§€í–¥ì˜ íŠ¹ì§•ì„ ì˜ ì‚´ë¦´ ìˆ˜ ìˆëŠ” ì„¤ê³„ ì›ì¹™ì´ë‹¤.<br>\nì´ 5ê°€ì§€ì˜ ì›ì¹™ì´ ìˆìœ¼ë©°, ì›ì¹™ì´ë¼ëŠ” ì´ë¦„ì´ ë¶™ì€ë§Œí¼ ë‹¤ì„¯ ê°€ì§€ì˜ ì›ì¹™ì„ ëª¨ë“  ìƒí™©ì—ì„œ ì§€ì¼œì•¼ í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. ëŒ€ë¶€ë¶„ì˜ ìƒí™©ì— ì ì ˆíˆ ì‚¬ìš© ê°€ëŠ¥í•œ *ê°€ì´ë“œë¼ì¸*ê³¼ë„ ê°™ë‹¤.<br>\në‹¤ë§Œ, SOLIDë¥¼ ìƒê°í•˜ë©° ì½”ë“œë¥¼ ì„¤ê³„í•˜ê³  ì‘ì„±í•˜ë©´ ê°ì²´ì§€í–¥ì˜ í° ì¥ì ì¸ ìœ ì—°í•¨ê³¼ ìƒì‚°ì„±ì´ í–¥ìƒë˜ëŠ” ê²ƒì„ ëŠë‚„ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.\n\nì´ì œ ë‹¤ì„¯ ê°€ì§€ ì›ì¹™ì— ëŒ€í•´ ì•Œì•„ë³´ì.\n\n### SRP: ë‹¨ì¼ ì±…ì„ ì›ì¹™\n\n**í´ë˜ìŠ¤ë‚˜ ëª¨ë“ˆì´ ë³€ê²½ë˜ëŠ” ì´ìœ ëŠ” ë‹¨ í•œê°€ì§€ ë•Œë¬¸ì´ì–´ì•¼ í•œë‹¤**ëŠ” ì›ì¹™ì´ë‹¤.<br>\nì•„ë˜ ì½”ë“œëŠ” ë°±ì—”ë“œ ê°œë°œìë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°ì²´ë¥¼ ë‚˜íƒ€ë‚´ë³¸ ì½”ë“œë‹¤.<br>\në©”ì„œë“œë¥¼ ë³´ë©´ ì„œë²„ë¥¼ êµ¬ì¶•í•˜ê³  DBë¥¼ ì„¤ì •í•˜ë©° MainPageë¥¼ ê°œë°œí•˜ëŠ” ì—­í• ì„ ê°€ì§„ë‹¤.\n\n```java\npublic class SpringBackendDeveloper {\n\n    public void deployServer() {\n    }\n\n    public void setupDatabase() {\n    }\n\n    public void developMainPage() {\n    }\n}\n```\n\në³´í†µ ë°±ì—”ë“œ ê°œë°œìì˜ ì—­í• ì€ API ì„œë²„ì™€ ê´€ë ¨ëœ ì¼ì„ ìˆ˜í–‰í•œë‹¤.<br>\nMainPageë¥¼ ê°œë°œí•˜ëŠ” ê²ƒì€ **ë°±ì—”ë“œ ê°œë°œìì˜ ê´€ì‹¬ì‚¬ê°€ ì•„ë‹ˆë‹¤**.<br>\nì•„ë˜ì™€ ê°™ì€ ë°±ì—”ë“œ ê°œë°œìê°€ ìˆë‹¤ë©´ MainPageë¥¼ ìˆ˜ì •í•´ì•¼ í•˜ëŠ” ìƒí™©ì´ ìƒê¸´ ìˆœê°„, ë°±ì—”ë“œ ì„œë²„ì™€ ê´€ë ¨ëœ ì¼ë¿ë§Œ ì•„ë‹ˆë¼ í”„ë¡ íŠ¸ì—”ë“œì˜ ì±…ì„ê¹Œì§€ ê°€ì§€ê²Œ ë˜ê³ <br>\nSRPë¥¼ ìœ„ë°˜í•œë‹¤ê³  í•  ìˆ˜ ìˆë‹¤.\n\nì´ë•Œ, **ì±…ì„ì€ ìƒí™©ì— ë”°ë¼ ìœ ë™ì **ì¼ ìˆ˜ ìˆë‹¤.<br>\nìš”êµ¬ ì‚¬í•­ì— ë”°ë¼, ì±…ì„ì„ ë‚˜ëˆ„ëŠ” ê¸°ì¤€ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤.<br>\në°”ë¡œ ìœ„ ì½”ë“œë¥¼ ë‹¤ì‹œ ì‚´í´ë´¤ì„ ë•Œ, ë°±ì—”ë“œ ê°œë°œìê°€ MainPageê¹Œì§€ ê°œë°œí•˜ëŠ” ê²ƒì´ ì±…ì„ì´ë¼ë©´ SRPë¥¼ ìœ„ë°˜í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆê²Œ ëœë‹¤.<br>\në”°ë¼ì„œ ì¤‘ìš”í•œ ê²ƒì€, **íŠ¹ì • ê°ì²´ì˜ ì—­í• ì´ ë¬´ì—‡ì¸ì§€ ì˜ ì •ì˜í•˜ëŠ” ê²ƒ**ì´ë‹¤.\n\n### OCP: ê°œë°© íì‡„ ì›ì¹™\n\n**ë³€ê²½ì—ëŠ” ì—´ë ¤ìˆê³  ìˆ˜ì •ì—ëŠ” ë‹«í˜€ ìˆì–´ì•¼ í•œë‹¤**ëŠ” ì›ì¹™ì´ë‹¤.<br>\nì—´ë ¤ìˆê³  ë‹«í˜€ ìˆë‹¤ëŠ” í‘œí˜„ì´ í•œêµ­ì–´ë¡œ í‘œí˜„í•˜ë©´ ë‹¤ì†Œ ì–´ìƒ‰í•  ìˆ˜ ìˆëŠ”ë°, ì—´ë ¤ìˆë‹¤ëŠ” ê±´ í—ˆìš©í•œë‹¤ëŠ” ì˜ë¯¸ê³  ë‹«í˜€ìˆë‹¤ëŠ” ê±´ í—ˆìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ê³  ì´í•´í•˜ë©´ ë  ê²ƒ ê°™ë‹¤.\n\nì•„ë˜ ì½”ë“œë¥¼ ì‚´í´ë³´ì.<br>\n```java\npublic class Boss {\n\n    SpringBackendDeveloper springBackendDeveloper = new SpringBackendDeveloper();\n    \n    public void developService() {\n        springBackendDeveloper.setUpDatabase();\n        springBackendDeveloper.deplyServer();\n    }\n}\n```\n`Boss` ê°ì²´ëŠ” `SpringBackendDeveloper` ê³ ìš©í•´ ì„œë¹„ìŠ¤ ê°œë°œì— ì˜ì¡´í•˜ê³  ìˆë‹¤.<br>\nê·¸ëŸ°ë° ê°‘ìê¸° Springì´ ì•„ë‹ˆë¼ Nodeë¡œ ì„œë¹„ìŠ¤ë¥¼ ë§ˆì´ê·¸ë ˆì´ì…˜ í•´ì•¼ í•  ìƒí™©ì´ ìƒê²¼ë‹¤ê³  ê°€ì •í•´ë³´ì.<br>\n`Boss`ê°€ ì˜ì¡´í•˜ëŠ” `SpringBackendDeveloper`ì„ `NodeBackendDevloper`ë¡œ êµì²´í•˜ê¸° ìœ„í•´ ëª¨ë“  ì½”ë“œë¥¼ ê³ ì³ë‚˜ê°€ì•¼ í•  ê²ƒì´ë‹¤.<br> \n\nì´ì œ ì•„ë˜ ì½”ë“œë¥¼ ì‚´í´ë³´ì.\n```java\npublic interface BackendDeveloper {\n\n    void deployServer();\n\n    void setupDatabase();\n}\n\npublic class NodeBackendDeveloper implements BackendDeveloper {\n\n    @Override\n    public void deployServer() {\n    }\n\n    @Override\n    public void setupDatabase() {\n    }\n}\n\npublic class Boss {\n\n    BackendDeveloper backendDeveloper;\n\n    public Boss(BackendDeveloper backendDeveloper) {\n        this.backendDeveloper = backendDeveloper;\n    }\n\n    public void developService() {\n        backendDeveloper.setupDatabase();\n        backendDeveloper.deployServer();\n    }\n}\n```\n\n`BackendDeveloper`ë¼ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ê³  `NodeBackendDeveloper`ê°€ ì´ë¥¼ êµ¬í˜„í•˜ê³  ìˆë‹¤.<br>\në™ì‹œì— `Boss`ëŠ” ìƒì„±ìë¡œ `BackendDeveloper`ë¥¼ ë°›ê³ , ê¸°ì¡´ê³¼ ë™ì¼í•˜ê²Œ ì‘ì—…ì„ ìš”ì²­í•œë‹¤.<br>\nìœ„ ì½”ë“œëŠ” `Boss` ì…ì¥ì—ì„œ ë´¤ì„ ë•Œ, **ë³€ê²½ì—ëŠ” ì—´ë ¤ìˆê³  ìˆ˜ì •ì—ëŠ” ë‹«í˜€ìˆëŠ” ê²ƒ**ì´ë‹¤.\n\nOCPëŠ” **ë†’ì€ ì‘ì§‘ë„, ë‚®ì€ ê²°í•©ë„**ë¼ê³ ë„ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.<br>\níŠ¹ì • ê°ì²´ì˜ ê´€ì‹¬ì‚¬(`Boss` ì…ì¥ì—ì„œ ì„œë¹„ìŠ¤ë¥¼ ê°œë°œí•˜ëŠ” ê²ƒ)ë¥¼ í•˜ë‚˜ì˜ ê°ì²´ê°€ ëª¨ë‘ ë‹´ë‹¹í•˜ê³ , ê´€ì‹¬ì‚¬ê°€ ì•„ë‹Œ ê²ƒ(ê°œë°œìì˜ ê¸°ìˆ ìŠ¤íƒ)ê³¼ëŠ” ëŠìŠ¨í•˜ê²Œ ì—°ê²°ë˜ì–´ì•¼ í•œë‹¤ëŠ” ì˜ë¯¸ë‹¤.\n\n### ISP: ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬ ì›ì¹™\n\n**ì¸í„°í˜ì´ìŠ¤ë„ ê´€ì‹¬ì‚¬ì— ë”°ë¼ ì ì ˆíˆ ë¶„ë¦¬í•´ì•¼ í•œë‹¤**ëŠ” ì›ì¹™ì´ë‹¤.<br>\n\nìœ„ì˜ ì˜ˆì‹œë¥¼ ê³„ì†í•´ì„œ ì‚¬ìš©í•´ë³´ì.<br>\në§Œì•½ ë°±ì—”ë“œ ê°œë°œì 2ëª…ê³¼ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì 1ëª…ì„ ê³ ìš©í•˜ê³  ì‹¶ë‹¤ê³  ê°€ì •í•´ë³´ê³  ì ì ˆí•œ ì½”ë“œë¥¼ ì‘ì„±í•´ë³´ì•˜ë‹¤.\n\n```java\npublic interface FrontendDeveloper {\n\n    void developMainPage();\n}\n\npublic class Boss {\n\n    BackendDeveloper backendDeveloper;\n    FrontendDeveloper frontendDeveloper;\n\n    public Boss(BackendDeveloper backendDeveloper, FrontendDeveloper frontendDeveloper) {\n        this.backendDeveloper = backendDeveloper;\n        this.frontendDeveloper = frontendDeveloper;\n    }\n\n    public void developService() {\n        frontendDeveloper.developMainPage();\n        backendDeveloper.setupDatabase();\n        backendDeveloper.deployServer();\n    }\n}\n```\n\ní™”ë©´ ê°œë°œì„ ì±…ì„ì§€ëŠ” `FrontendDeveloper` ì¸í„°í˜ì´ìŠ¤ë¥¼ ë¶„ë¦¬í•´ ë§Œë“¤ì—ˆë‹¤.<br>\nê·¸ë¦¬ê³  `Boss`ëŠ” `BackendDeveloper`ì™€ `FrontendDeveloper`ë¥¼ ì˜ì¡´í•˜ì—¬ ê°ê°ì—ê²Œ ì ì ˆí•œ ì—­í• ì„ ìš”ì²­í•œë‹¤.<br>\në§Œì•½ í’€ìŠ¤íƒ ê°œë°œì 1ëª…ì„ ë” ë°ë ¤ì˜¤ê³  ì‹¶ì–´ë„ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•˜ë©´ ëœë‹¤.\n\n```java\npublic class FullStackDeveloper implements BackendDeveloper, FrontendDeveloper {\n\n    @Override\n    public void deployServer() {\n    }\n\n    @Override\n    public void setupDatabase() {\n    }\n\n    @Override\n    public void developMainPage() {\n    }\n}\n\npublic class Boss {\n\n    BackendDeveloper backendDeveloper;\n    FrontendDeveloper frontendDeveloper;\n    FullStackDeveloper fullStackDeveloper; // í’€ìŠ¤íƒ ê°œë°œì ì¶”ê°€\n\n    public Boss(BackendDeveloper backendDeveloper, FrontendDeveloper frontendDeveloper, FullStackDeveloper fullStackDeveloper) {\n        this.backendDeveloper = backendDeveloper;\n        this.frontendDeveloper = frontendDeveloper;\n        this.fullStackDeveloper = fullStackDeveloper;\n    }\n\n    public void developService() {\n        frontendDeveloper.developMainPage();\n        fullStackDeveloper.developMainPage();\n        backendDeveloper.setupDatabase(); // í’€ìŠ¤íƒ ê°œë°œì ì¶”ê°€\n        backendDeveloper.deployServer();\n        fullStackDeveloper.deployServer(); // í’€ìŠ¤íƒ ê°œë°œì ì¶”ê°€\n    }\n}\n```\n\nì¸í„°í˜ì´ìŠ¤ë¥¼ ê´€ì‹¬ì‚¬ì— ë”°ë¼ ì ì ˆíˆ ë¶„ë¦¬í•˜ì—¬ `FullStackDeveloper` ë¼ëŠ” ê°ì²´ê°€ ì†ì‰½ê²Œ íƒ„ìƒí•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.\n\n### LSP: ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™\n\n**í•˜ìœ„ íƒ€ì…ì€ ìƒìœ„ íƒ€ì…ì„ ëŒ€ì²´í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤**ëŠ” ì›ì¹™ì´ë‹¤.<br>\nì¢€ ë” í’€ì–´ì„œ ì„¤ëª…í•˜ë©´, **ìƒìœ„ íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ëŠ” í•˜ìœ„ íƒ€ì…ì´ ì–´ë–»ê²Œ ë³€í•´ë„ ë™ì¼í•œ ë™ì‘ì„ í•  ê²ƒìœ¼ë¡œ ê¸°ëŒ€í•˜ê³  ë³´ì¥ë˜ì–´ì•¼ í•œë‹¤**ëŠ” ê²ƒì´ë‹¤. \n\në§Œì•½ ì•„ë˜ì™€ ê°™ì€ ì½”ë“œê°€ ìˆë‹¤ê³  ê°€ì •í•´ë³´ì.\n```java\npublic class DBA implements BackendDeveloper {\n    \n    @Override\n    public void deployServer() {\n    }\n\n    @Override\n    public void setupDatabase() {\n    }\n}\n```\n\nì§ì±…(ì´ë¦„)ì€ DBAì¸ë° ì •ì‘ `BackendDeveloper`ë¥¼ ìƒì†ë°›ì•„ êµ¬í˜„í•˜ê³  ìˆë‹¤.<br>\në§Œì•½, `new Boss(new DBA(), ..., ...);` ê°€ í˜¸ì¶œëœë‹¤ë©´ ì–´ë–»ê²Œ ë ê¹Œ?<br>\nBossëŠ” ë‹¹ì—°íˆ BackendDeveloperê°€ ìˆ˜í–‰í•  ë™ì‘ë“¤ì— ëŒ€í•´ ê¸°ëŒ€í•  ê²ƒì´ë‹¤.<br>\ní•˜ì§€ë§Œ ì •ì‘ ì‹¤í–‰ ê²°ê³¼ DBAê°€ ë™ì‘ì„ ìˆ˜í–‰í•˜ê²Œ ë  ê²ƒì´ë‹¤.\n\nì—ì‹œê°€ ì•½ê°„ í˜„ì‹¤ê³¼ ê´´ë¦¬ê°ì´ ìˆë‹¤ê³  ìƒê°í•  ìˆ˜ ìˆë‹¤.<br>\ní•˜ì§€ë§Œ ì—¬ê¸°ì„œ ì¤‘ìš”í•˜ê²Œ ë³¼ ê²ƒì€ **í•˜ìœ„ í´ë˜ìŠ¤ê°€ ìƒìœ„ í´ë˜ìŠ¤ì˜ ë™ì‘ì„ ì˜ ìˆ˜í–‰í•˜ëŠ”ê°€?** ì´ë‹¤.<br>\në˜ ë‹¤ë¥¸ ì˜ˆì‹œë¡œ Stackê³¼ Vectorì˜ ê´€ê³„ê°€ ìˆë‹¤. [^1]\n\n### DIP: ì˜ì¡´ê´€ê³„ ì—­ì „ ì›ì¹™\n\n**ê³ ìˆ˜ì¤€ ëª¨ë“ˆì€ ì €ìˆ˜ì¤€ ëª¨ë“ˆì˜ êµ¬í˜„ì— ì˜ì¡´í•´ì„œëŠ” ì•ˆë˜ë©°, ì €ìˆ˜ì¤€ ëª¨ë“ˆì´ ê³ ìˆ˜ì¤€ ëª¨ë“ˆì— ì˜ì¡´í•´ì•¼ í•œë‹¤**ëŠ” ì›ì¹™ì´ë‹¤.<br>\në§ì´ ì¡°ê¸ˆ ì–´ë ¤ìš´ë° ì•„ë˜ ê·¸ë¦¼ì„ í†µí•´ ì´í•´í•´ë³´ì.\n![ì˜ì¡´ê´€ê³„ ì—­ì „ ì›ì¹™](dip.png)\n\n\"_ê³ ìˆ˜ì¤€ ëª¨ë“ˆì€ ì €ìˆ˜ì¤€ ëª¨ë“ˆì˜ êµ¬í˜„ì— ì˜ì¡´í•´ì„œëŠ” ì•ˆë˜ë©°_\" == Bossê°€ Node, Spring, DjangoBackendDeveloperì— ì˜ì¡´í•´ì„œëŠ” ì•ˆë˜ë©°<br>\n<br>\n\"_ì €ìˆ˜ì¤€ ëª¨ë“ˆì´ ê³ ìˆ˜ì¤€ ëª¨ë“ˆì— ì˜ì¡´í•´ì•¼ í•œë‹¤_\" == Node, Spring, DjangoBackendDeveloperê°€ BackendDeveloperì— ì˜ì¡´í•´ì•¼ í•œë‹¤.\n\në¡œ ì´í•´í•  ìˆ˜ ìˆë‹¤.\n\n## ë§ˆì¹˜ë©°\n\nì§€ê¸ˆê¹Œì§€ SOLID ì›ì¹™ì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ë‹¤.<br>\nê²°êµ­ ë‹¤ì„¯ ê°€ì§€ ì›ì¹™ ëª¨ë‘ **ê°ì²´ì˜ ê´€ì‹¬ì‚¬ì— ë”°ë¼ ì ì ˆíˆ ë¶„ë¦¬**í•˜ê³ , ì´ ê³¼ì •ì—ì„œ **ì¶”ìƒí™”ë¥¼ í†µí•´ ìœ ì—°í•œ ì„¤ê³„ë¥¼ í•˜ë¼**ëŠ” ì˜ë¯¸ì™€ ì¼ë§¥ìƒí†µ í•˜ëŠ” ê²ƒ ê°™ë‹¤. \n\n---\n\n[^1]: [Stackë³´ë‹¤ëŠ” ArrayDequeë¥¼ ì“°ì. Stackê³¼ Vectorì˜ ë¬¸ì œì ](https://jaehee329.tistory.com/27)\n"},{"excerpt":"What I Studied DFS&BFS, ë‹¤ìµìŠ¤íŠ¸ë¼ ë³µìŠµ ! Java ì“°ë ˆë“œ ì •ë¦¬ë²• CS ê³µë¶€í•  ë•Œ ì–¼ì¶” ì†ìœ¼ë¡œ ì •ë¦¬í•˜ê³ , ë¸”ë¡œê·¸ì— ì •ë¦¬í•˜ëŠ” ê²Œ ë” ì •ë¦¬ê°€ ì˜ëœë‹¤. Javaì²˜ëŸ¼ ì½”ë“œ ê´€ë ¨í•´ì„œëŠ” ì§ì ‘ ì½”ë“œ ë”°ë¼ì³ë³´ê³  ì‹¤í–‰í•˜ê³  ì‹¤í—˜í•´ë³´ê³  ì •ë¦¬í•˜ëŠ” ê²Œ ë” ì¢‹ë‹¤. Keep ì£¼, ì›” ë‹¨ìœ„ì˜ ëª©í‘œë¥¼ ì„¤ì •í•˜ê³  ëª©í‘œë¥¼ ë‹¬ì„±í•˜ëŠ” ë° ì •ì§„í•˜ì. ì¡°ê¸‰í•˜ì§€ë§ì. ì™„ë²½í•˜ì§€ ì•Šâ€¦","fields":{"slug":"/july-1st/"},"frontmatter":{"date":"July 07, 2024","title":"[íšŒê³ ] 07.01 ~ 07.07","tags":["retrospective"]},"rawMarkdownBody":"\n## What I Studied\n\n- DFS&BFS, ë‹¤ìµìŠ¤íŠ¸ë¼ ë³µìŠµ !\n- [Java ì“°ë ˆë“œ](https://kdkdhoho.github.io/thread-in-jvm)\n- ì •ë¦¬ë²•\n  - CS ê³µë¶€í•  ë•Œ ì–¼ì¶” ì†ìœ¼ë¡œ ì •ë¦¬í•˜ê³ , ë¸”ë¡œê·¸ì— ì •ë¦¬í•˜ëŠ” ê²Œ ë” ì •ë¦¬ê°€ ì˜ëœë‹¤.\n  - Javaì²˜ëŸ¼ ì½”ë“œ ê´€ë ¨í•´ì„œëŠ” ì§ì ‘ ì½”ë“œ ë”°ë¼ì³ë³´ê³  ì‹¤í–‰í•˜ê³  ì‹¤í—˜í•´ë³´ê³  ì •ë¦¬í•˜ëŠ” ê²Œ ë” ì¢‹ë‹¤.\n\n## Keep\n\n- ì£¼, ì›” ë‹¨ìœ„ì˜ ëª©í‘œë¥¼ ì„¤ì •í•˜ê³  ëª©í‘œë¥¼ ë‹¬ì„±í•˜ëŠ” ë° ì •ì§„í•˜ì.\n- ì¡°ê¸‰í•˜ì§€ë§ì.\n- ì™„ë²½í•˜ì§€ ì•Šì•„ë„ ë˜ëŠ” ë§ˆìŒì„ ê°€ì§€ì.\n    - ì²œ ë¦¬ ê¸¸ë„ í•œ ê±¸ìŒë¶€í„°\n\n## Problem & Try\n\n- ìƒí™œ íŒ¨í„´ì„ ì¡°ê¸ˆ ì‹ ê²½ì¨ë³´ì !\n- ê· í˜•ì¡íŒ ì‹ì‚¬ì™€ ì£¼ 3íšŒ ìš´ë™ì„ ë‹¬ì„±í•´ë³´ì !"},{"excerpt":"ë“¤ì–´ê°€ë©° ì§€ë‚œ ê¸€ì—ëŠ” ì“°ë ˆë“œë¥¼ ë‹¤ë£¨ê¸° ìœ„í•´ ì“°ë ˆë“œì˜ ìƒíƒœì™€ ì“°ë ˆë“œì˜ í–‰ë™ì„ ì œì–´í•˜ëŠ” ë©”ì„œë“œë“¤ì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ë‹¤. ì´ë²ˆì—ëŠ” ì“°ë ˆë“œì˜ í•µì‹¬. ì“°ë ˆë“œì˜ ê½ƒì´ë¼ê³  ìƒê°í•˜ëŠ” ì“°ë ˆë“œ ë™ê¸°í™”ì— ëŒ€í•´ ì•Œì•„ë³´ì. Javaì—ì„œ ì“°ë ˆë“œë¥¼ ë™ê¸°í™”í•˜ëŠ” ë°©ë²•ì—ëŠ” 3ê°€ì§€ê°€ ìˆë‹¤. ì„ê³„ì˜ì—­ê³¼ ë½, ê·¸ë¦¬ê³  ëª¨ë‹ˆí„° ì“°ë ˆë“œì˜ ë™ê¸°í™”ë¥¼ ì•Œì•„ë³´ê¸° ì „ì—, ì„ê³„ ì˜ì—­(Critical Sectioâ€¦","fields":{"slug":"/synchronize-threads/"},"frontmatter":{"date":"July 06, 2024","title":"Java Thread 3 - Thread ë™ê¸°í™”í•˜ê¸°","tags":["Java","Thread"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©°\n\n[ì§€ë‚œ ê¸€](https://kdkdhoho.github.io/status-and-control-thread-in-java)ì—ëŠ” ì“°ë ˆë“œë¥¼ ë‹¤ë£¨ê¸° ìœ„í•´ **ì“°ë ˆë“œì˜ ìƒíƒœ**ì™€ **ì“°ë ˆë“œì˜ í–‰ë™ì„ ì œì–´í•˜ëŠ” ë©”ì„œë“œ**ë“¤ì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ë‹¤.\n\nì´ë²ˆì—ëŠ” ì“°ë ˆë“œì˜ í•µì‹¬. ì“°ë ˆë“œì˜ ê½ƒì´ë¼ê³  ìƒê°í•˜ëŠ” **ì“°ë ˆë“œ ë™ê¸°í™”**ì— ëŒ€í•´ ì•Œì•„ë³´ì.\n\nJavaì—ì„œ ì“°ë ˆë“œë¥¼ ë™ê¸°í™”í•˜ëŠ” ë°©ë²•ì—ëŠ” 3ê°€ì§€ê°€ ìˆë‹¤.\n\n## ì„ê³„ì˜ì—­ê³¼ ë½, ê·¸ë¦¬ê³  ëª¨ë‹ˆí„°\n\nì“°ë ˆë“œì˜ ë™ê¸°í™”ë¥¼ ì•Œì•„ë³´ê¸° ì „ì—, **ì„ê³„ ì˜ì—­(Critical Section)**ê³¼ **ë½(Lock)**, ê·¸ë¦¬ê³  **ëª¨ë‹ˆí„°(Monitor) ë°©ì‹**ì— ëŒ€í•´ ê°„ë‹¨íˆ ì•Œì•„ë³´ì.\n\n### ì„ê³„ ì˜ì—­ (Critical Section)\n\n**ì„ê³„ ì˜ì—­**ì€ **ë‘˜ ì´ìƒì˜ ì“°ë ˆë“œê°€ ë™ì‹œì— ì ‘ê·¼í•´ì„œ ì•ˆë˜ëŠ” ê³µìœ  ìì›ì— ì ‘ê·¼í•˜ëŠ” êµ¬ê°„ ë˜ëŠ” ì˜ì—­**ì´ë‹¤.\n\nì•„ë˜ ì½”ë“œë¥¼ ì˜ˆì‹œë¡œ í–ˆì„ ë•Œ, `Main.increment()`ê°€ ì„ê³„ ì˜ì—­ì´ ëœë‹¤.<br>\n\n```java\nclass MyThread extends Thread {\n    \n    @Override\n    public void run() {\n        for (int i = 0; i < 1000; i++) {\n            Main.increment(); // ì„ê³„ ì˜ì—­\n        }\n    }\n}\n\npublic class Main {\n\n    private static int count = 0;\n\n    public static void increment() {\n        count++;\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        MyThread thread1 = new MyThread();\n        MyThread thread2 = new MyThread();\n        thread1.start();\n        thread2.start();\n        thread1.join();\n        thread2.join();\n        System.out.println(\"Final count: \" + count);\n    }\n}\n\n== Console ==\nFinal count: 3995\n```\n\n### ë½ (Lock)\n\në½ì€, **ì„ê³„ ì˜ì—­ì— ë“¤ì–´ê°€ê¸° ìœ„í•´ íšë“í•´ì•¼ í•˜ëŠ” ê²ƒ**ì´ë‹¤.<br>\në½ì„ íšë“í•œ ì“°ë ˆë“œë§Œì´ ì„ê³„ ì˜ì—­ì— ë“¤ì–´ê°ˆ ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ ì„ê³„ ì˜ì—­ì—ì„œ ì‘ì—…ì´ ëª¨ë‘ ëë‚˜ë©´ ë°˜ë“œì‹œ ë½ì„ ë°˜í™˜í•´ì•¼ í•œë‹¤.<br>\nê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ë‹¤ë¥¸ ì“°ë ˆë“œëŠ” ì„ê³„ ì˜ì—­ì— ì ˆëŒ€ ë“¤ì–´ê°ˆ ìˆ˜ ì—†ë‹¤.\n\në§Œì•½ ë‹¤ë¥¸ ì“°ë ˆë“œê°€ ì´ë¯¸ ë¨¼ì € ë½ì„ ì„ ì í–ˆë‹¤ë©´, í•´ë‹¹ ì“°ë ˆë“œê°€ ë½ì„ ë°˜í™˜í•  ë•Œê¹Œì§€ ìì‹ ì€ ë¬´í•œì • ëŒ€ê¸°í•´ì•¼ í•œë‹¤.\n\n<br>\n\n---\n\n<br>\n<br>\n\nì´ì œ ë³¸ê²©ì ìœ¼ë¡œ ë™ê¸°í™”í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ì.\n\n### ëª¨ë‹ˆí„°(Monitor)\n\nëª¨ë‹ˆí„°ëŠ” ìŠ¤ë ˆë“œ ê°„ì˜ ë™ê¸°í™”í•˜ëŠ” ê¸°ë²• ì¤‘ í•˜ë‚˜ë‹¤.<br>\nëª¨ë‹ˆí„°ëŠ” ìƒí˜¸ ë°°ì œ(Mutual Exclusion)ì„ ì§€ì›í•˜ê³  ì¡°ê±´ì— ë”°ë¼ ìŠ¤ë ˆë“œë¥¼ WAITING ìƒíƒœë¡œ ì „í™˜í•œë‹¤.<br>\nëª¨ë‹ˆí„°ì˜ êµ¬ì„± ìš”ì†Œë¡œëŠ” Mutex Lockê³¼ Condition Variable(s)ê°€ ìˆë‹¤.<br>\nMutex Lockì€ ë§ ê·¸ëŒ€ë¡œ ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ì„ê³„ ì˜ì—­ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ íšë“ì„ ì‹œë„í•˜ëŠ” Lockì´ê³  Condition Variableì€ WAITING ìƒíƒœë¡œ ì „í™˜ëœ ìŠ¤ë ˆë“œê°€ ëŒ€ê¸°í•˜ëŠ” ê³µê°„ì´ë‹¤. êµ¬í˜„ì— ë”°ë¼ Queueë‚˜ Poolì˜ ê°œë…ìœ¼ë¡œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.\n\nëª¨ë‹ˆí„°ì— ëŒ€í•´ ì•Œì•„ë³¸ ì´ìœ ëŠ”, JVMì´ ëª¨ë“  ê°ì²´ì— ëŒ€í•´ ëª¨ë‹ˆí„° ê¸°ë²•ìœ¼ë¡œ ë™ê¸°í™” í•˜ê¸° ë•Œë¬¸ì´ë‹¤.<br>\nìë°”ì—ì„œ ëª¨ë“  ê°ì²´ëŠ” Lockì„ í•˜ë‚˜ì”© ê°€ì§€ê³  ìˆê³  (Mutex Lock), Lockì„ íšë“í•˜ê¸° ìœ„í•´ ëŒ€ê¸°í•˜ëŠ” ê³µê°„ì¸ Waiting Pool (Condition Variable)ì´ í•˜ë‚˜ì”© ì¡´ì¬í•œë‹¤.\n\n## 1. synchronizedë¥¼ ì´ìš©í•œ ë™ê¸°í™”\n\nì œì¼ ë¨¼ì € ê°€ì¥ ì‰½ê³  ë‹¨ìˆœí•œ ë°©ë²•ì¸ `synchronized` í‚¤ì›Œë“œë¥¼ ì´ìš©í•œ ë™ê¸°í™”ì— ëŒ€í•´ ì•Œì•„ë³´ì.\n\n`synchronized` í‚¤ì›Œë“œë¥¼ ì„ ì–¸í•˜ë©´ JVMì´ í•´ë‹¹ ìì›(ê°ì²´)ì— ëŒ€í•´ ëª¨ë‹ˆí„° ë°©ì‹ìœ¼ë¡œ ë™ê¸°í™”ë¥¼ ì œì–´í•œë‹¤.\n\n`synchronized`ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ìœ¼ë¡œëŠ” ë‘ ê°€ì§€ê°€ ìˆë‹¤.\n\n### 1-1. ë©”ì„œë“œ ì „ì²´ë¥¼ ì„ê³„ ì˜ì—­ìœ¼ë¡œ ì„¤ì •\n\nì•„ë˜ ì½”ë“œì²˜ëŸ¼ ë©”ì„œë“œ ìì²´ì— `synchronized` í‚¤ì›Œë“œë¥¼ ì¶”ê°€í•¨ìœ¼ë¡œì¨ **ë©”ì„œë“œ ì „ì²´ë¥¼ ì„ê³„ ì˜ì—­ìœ¼ë¡œ ì„¤ì •**í•  ìˆ˜ ìˆë‹¤.<br>\n\n```java\n// ë©”ì„œë“œ ì „ì²´ë¥¼ ì„ê³„ ì˜ì—­ìœ¼ë¡œ ì§€ì •\npublic static synchronized void increment() {\n    count++;\n}\n```\n\nëª¨ë“  ì“°ë ˆë“œëŠ” í•´ë‹¹ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ì‹œì ë¶€í„° ìë™ìœ¼ë¡œ Lockì„ ì–»ì–´ ì‘ì—…ì„ ìˆ˜í–‰í•˜ë‹¤ê°€ ë©”ì„œë“œê°€ ì¢…ë£Œë˜ë©´ Lockì„ ë°˜í™˜í•œë‹¤.\n\n> ì°¸ê³ )<br>\n> Javaì—ì„œ ëª¨ë“  ê°ì²´ëŠ” ê³ ìœ í•œ Lockì„ í•˜ë‚˜ì”© ê°€ì§„ë‹¤.<br>\n> Lockì€ JVMì´ ì†Œìœ í•˜ê³  ê´€ë¦¬í•œë‹¤.\n\n### 1-2. íŠ¹ì • ì˜ì—­ì„ ì„ê³„ ì˜ì—­ìœ¼ë¡œ ì„¤ì •\n\në‘ ë²ˆì§¸ë¡œ, ì½”ë“œ ì¼ë¶€ ì˜ì—­ì„ ë¸”ëŸ­ `{}` ìœ¼ë¡œ ê°ì‹¸ê³ , ë¸”ëŸ­ ì•ì— `synchronized(ì°¸ì¡°ë³€ìˆ˜)` í‚¤ì›Œë“œë¥¼ ì¶”ê°€í•˜ëŠ” ë°©ì‹ì´ë‹¤.\n\n```java\n@Override\npublic void run() {\n    for (int i = 0; i < 1000; i++) {\n        // íŠ¹ì • ì˜ì—­ì„ ì„ê³„ ì˜ì—­ìœ¼ë¡œ ì§€ì •\n        // â¬‡ï¸ synchronized ë¸”ëŸ­ â¬‡ï¸\n        synchronized (Main.class) {\n            Main.increment();\n        }\n    }\n}\n```\n\nì´ë•Œ, **ì°¸ì¡°ë³€ìˆ˜ëŠ” Lockì„ ê±¸ê³ ìí•˜ëŠ” ê°ì²´ë¥¼ ì°¸ì¡°**í•´ì•¼ í•œë‹¤.<br>\nì´ ë¸”ëŸ­ì„ _synchronized ë¸”ëŸ­_ ì´ë¼ê³  ë¶€ë¥´ë©°, ì´ ë¸”ëŸ­ì˜ ì˜ì—­ ì•ˆìœ¼ë¡œ ë“¤ì–´ê°€ë©´ì„œ ì“°ë ˆë“œëŠ” ì§€ì •ëœ ê°ì²´ì˜ Lockì„ íšë“í•˜ê³ , ë¸”ëŸ­ì˜ ì˜ì—­ì„ ë²—ì–´ë‚˜ë©´ Lockì„ ë°˜ë‚©í•œë‹¤.\n\n### synchronized ì‚¬ìš© ì‹œ ì£¼ì˜ì \n\nì„ê³„ ì˜ì—­ì˜ ì„¤ì •ì€ ë©€í‹°ì“°ë ˆë“œ í”„ë¡œê·¸ë¨ì˜ ì„±ëŠ¥ì„ ê²°ì •í•œë‹¤.<br>\n\n`synchronized` í‚¤ì›Œë“œëŠ” ë™ê¸°í™”ë¥¼ ì ìš©í•˜ê¸° ë§¤ìš° ì‰¬ìš´ ë°©ë²•ì´ì§€ë§Œ, Lockì„ íšë“í•˜ê¸° ìœ„í•´ ë¬´í•œì • ëŒ€ê¸°í•´ì•¼ í•˜ëŠ” ì“°ë ˆë“œë“¤ì´ ë¬´ìˆ˜íˆ ë§ì•„ì§€ë©´ í”„ë¡œê·¸ë¨ ì„±ëŠ¥ì˜ ì•…ì˜í–¥ì„ ë¼ì¹  ìˆ˜ ìˆë‹¤.\në˜í•œ, ì„ê³„ ì˜ì—­ì„ ë©”ì„œë“œ ì „ì²´ë³´ë‹¤ëŠ” í•„ìš”í•œ ì˜ì—­ìœ¼ë¡œë§Œ ìµœì†Œí™”í•˜ëŠ” ê²ƒì´ í”„ë¡œê·¸ë¨ ì„±ëŠ¥ì— ì˜í–¥ì„ ë¼ì¹œë‹¤.<br>\në”°ë¼ì„œ synchronized ë¸”ëŸ­ìœ¼ë¡œ ì„ê³„ ì˜ì—­ì„ ìµœì†Œí™”í•  ìˆ˜ ìˆë‹¤ë©´, ë©”ì„œë“œ ì „ì²´ì— `synchronized`ë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒë³´ë‹¨ ë” ë‚˜ì€ ì„ íƒì¼ ìˆ˜ ìˆë‹¤.<br>\në¬¼ë¡  ë©”ì„œë“œ ì „ì²´ê°€ ì„ê³„ ì˜ì—­ì´ì–´ì•¼ í•œë‹¤ë©´, ê·¸ë• `synchronized` ë©”ì„œë“œë¥¼ ì„ ì–¸í•˜ëŠ” ê²ƒì´ ë‚˜ì„ ìˆ˜ ìˆë‹¤.\n\nì¶”ê°€ë¡œ ë§¨ ìœ„ì— ìˆëŠ” ì˜ˆì‹œ ì½”ë“œì—ì„œ `int count` ë³€ìˆ˜ê°€ í˜„ì¬ëŠ” `private` ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆì§€ë§Œ, `public`ìœ¼ë¡œ ì—´ë¦¬ëŠ” ìˆœê°„ `count` ë³€ìˆ˜ì— ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.<br>\nì´ë•ŒëŠ” **ë³€ìˆ˜ ìì²´ì— ë™ê¸°í™”ë¥¼ ì„¤ì •**í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.<br>\nì¦‰, `Main.increment()` ë©”ì„œë“œì—ë§Œ `synchronized`ë¡œ ë™ê¸°í™”í•˜ëŠ” ì‹¤ìˆ˜ë¥¼ ë²”í•´ì„œëŠ” ì•ˆëœë‹¤ëŠ” ì˜ë¯¸ë‹¤.<br>\n\n## 2. wait()ê³¼ notify()\n\n`synchronized`ë¥¼ ì´ìš©í•´ì„œ ë™ê¸°í™”í•˜ê²Œ ë˜ë©´, Lockì„ ì–»ê¸° ìœ„í•´ ë¬´í•œì • ëŒ€ê¸°í•´ì•¼í•˜ëŠ” ìƒí™©ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.<br>\nì´ëŸ° ìƒí™©ì„ ê°œì„ í•˜ê¸° ìœ„í•´ ê³ ì•ˆëœ ê²ƒì´ `wait()`ê³¼ `notify()` ë©”ì„œë“œì´ë‹¤.\n\në™ê¸°í™”ëœ ì„ê³„ì˜ì—­ì˜ ì½”ë“œë¥¼ ìˆ˜í–‰í•˜ë‹¤ê°€, **ì‘ì—…ì„ ë” ì´ìƒ ì§„í–‰í•  ìƒí™©ì´ ì•„ë‹ˆë©´ `wait()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ì„œ íšë“í•œ Lockì„ ë°˜ë‚©í•˜ê³  ëŒ€ê¸°ì—´(Waiting Pool)ì—ì„œ ëŒ€ê¸°**í•œë‹¤.<br>\n(ì°¸ê³ ë¡œ ì´ë•Œ ì“°ë ˆë“œëŠ” WAITING ìƒíƒœê°€ ëœë‹¤.)<br>\nê·¸ëŸ¬ë©´ Lockì„ ì–»ê¸° ìœ„í•´ ëŒ€ê¸°í•˜ë˜ ì“°ë ˆë“œ ì¤‘ í•˜ë‚˜ê°€ Lockì„ íšë“í•˜ì—¬ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆê²Œ ëœë‹¤.<br>\n**ë‚˜ì¤‘ì— ì‘ì—…ì„ ì§„í–‰í•  ìˆ˜ ìˆëŠ” ìƒí™©ì´ ì˜¤ë©´ `notify()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ì„œ ëŒ€ê¸°ì—´ì—ì„œ ëŒ€ê¸° ì¤‘ì¸ ì“°ë ˆë“œê°€ ë‹¤ì‹œ RUNNABLE ìƒíƒœë¡œ ë°”ë€Œê²Œ ë˜ê³ , ë§ˆì¹¨ë‚´ Lockì„ ì–»ì–´ ì‘ì—…ì„ ì§„í–‰**í•  ìˆ˜ ìˆê²Œ ëœë‹¤.\n\n> `wait()`ì— ì˜í•´ Lockì„ ë°˜í™˜í–ˆë‹¤ê°€, ë‹¤ì‹œ Lockì„ ì–»ì–´ì„œ ì„ê³„ ì˜ì—­ì— ì§„ì…í•˜ëŠ” ê²ƒì„ _ì¬ì§„ì…(reentrance)_ ì´ë¼ê³  í•œë‹¤.\n\ní•˜ì§€ë§Œ ëŒ€ê¸°ì—´ì—ì„œ ëŒ€ê¸° ì¤‘ì¸ ì“°ë ˆë“œê°€ ë‘˜ ì´ìƒì¸ ê²½ìš°, **`notify()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê²Œ ë˜ë©´ ë‹¨ í•˜ë‚˜ì˜ ì“°ë ˆë“œë§Œì´ ë¬´ì‘ìœ„ë¡œ ì„ íƒë˜ì–´ RUNNABLE ìƒíƒœ**ê°€ ëœë‹¤.<br>\n**ëŒ€ê¸°ì—´ì— ìˆëŠ” ëª¨ë“  ì“°ë ˆë“œë¥¼ RUNNABLE ìƒíƒœë¡œ ë§Œë“œëŠ” `notifyAll()`** ì´ë¼ëŠ” ë©”ì„œë“œë„ ìˆì§€ë§Œ, **ëŒ€ê¸°ì—´ì— ìˆëŠ” ëª¨ë“  ì“°ë ˆë“œë¥¼ ê¹¨ìš¸ ë¿, ê²°êµ­ Lockì€ ë‹¨ í•˜ë‚˜ì˜ ì“°ë ˆë“œë§Œì´ íšë“í•˜ì—¬ Lockì„ íšë“í•˜ì§€ ëª»í•œ ë‚˜ë¨¸ì§€ ì“°ë ˆë“œëŠ” ë‹¤ì‹œ Lockì„ ì–»ê¸° ìœ„í•´ ëŒ€ê¸°í•´ì•¼ í•œë‹¤.**\n\n`wait()`ê³¼ `notify()`ëŠ” íŠ¹ì • ê°ì²´ì— ëŒ€í•œ í–‰ë™ì´ë¯€ë¡œ `Object` í´ë˜ìŠ¤ì— ì •ì˜ë˜ì–´ìˆë‹¤.\n\n`wait()`ì€ `notify()`ê°€ í˜¸ì¶œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.<br>\n`wait(long timeout)`, `wait(long timeout, int nanos)`ëŠ” ì§€ì •ëœ ì‹œê°„ë™ì•ˆë§Œ ê¸°ë‹¤ë¦°ë‹¤.<br>\nì¦‰, ì§€ì • ì‹œê°„ì´ ì§€ë‚œ í›„ ìë™ìœ¼ë¡œ `notify()`ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒê³¼ ë™ì¼í•˜ë‹¤.\n\n**Waiting Poolì€ ê°ì²´ë§ˆë‹¤ ì¡´ì¬**í•œë‹¤.<br>\në”°ë¼ì„œ `notifyAll()`ì´ í˜¸ì¶œëœë‹¤ê³  í•´ì„œ ëª¨ë“  ê°ì²´ì˜ ì“°ë ˆë“œ, ê·¸ ì¤‘ì—ì„œ Waiting Poolì— ìˆëŠ” ì“°ë ˆë“œê°€ ê¹¨ì›Œì§€ëŠ” ê²ƒì€ ì•„ë‹ˆë¼ëŠ” ì ì„ ê¸°ì–µí•˜ì.\n\n**`wait()`ê³¼ `notify()`ëŠ” _synchronized ë¸”ë¡_ ë‚´ì—ì„œë§Œ ì‚¬ìš©**í•  ìˆ˜ ìˆë‹¤.\n\n### ì˜ˆì‹œ ì½”ë“œ - Producer, Consumer ë¬¸ì œ\n\nì•„ë˜ ì½”ë“œëŠ” ì‹ë‹¹ì—ì„œ ìŒì‹(Dish)ì„ ë§Œë“¤ì–´ í…Œì´ë¸”(Table)ì— ì¶”ê°€(add)í•˜ëŠ” ìš”ë¦¬ì‚¬(Cook)ì™€ í…Œì´ë¸”ì˜ ìŒì‹ì„ ì†Œë¹„(remove)í•˜ëŠ” ì†ë‹˜(Customer)ì„ ì“°ë ˆë“œë¡œ êµ¬í˜„í•œ ì½”ë“œì´ë‹¤.\n\n```java\nimport java.util.ArrayList;\nimport java.util.List;\n\n// í…Œì´ë¸” ì“°ë ˆë“œ\nclass Table {\n\n    public static final String[] dishNames = {\"donut\", \"donut\", \"burger\"}; // donutì´ ë” ìì£¼ ë‚˜ì˜¨ë‹¤.\n    private static final int MAX_FOOD = 6; // í…Œì´ë¸”ì— ë†“ì„ ìˆ˜ ìˆëŠ” ìµœëŒ€ ìŒì‹ ìˆ˜\n\n    private final List<String> dishes = new ArrayList<>();\n\n    // í…Œì´ë¸”ì— ìŒì‹ì´ ê°€ë“ì°¼ìœ¼ë©´, í…Œì´ë¸”ì— ìŒì‹ì„ ì¶”ê°€í•˜ì§€ ì•ŠëŠ”ë‹¤.\n    public void add(String dish) {\n        if (dishes.size() >= MAX_FOOD) {\n            return;\n        }\n        dishes.add(dish);\n        System.out.println(\"Dishes: \" + dishes);\n    }\n\n    // ì§€ì •ëœ ìš”ë¦¬ì™€ ì¼ì¹˜í•˜ëŠ” ìš”ë¦¬ë¥¼ í…Œì´ë¸”ì—ì„œ ì œê±°í•œë‹¤.\n    public boolean remove(String dishName) {\n        for (int i = 0; i < dishes.size(); i++) {\n            if (dishName.equals(dishes.get(i))) {\n                dishes.remove(i);\n                return true;\n            }\n        }\n        return false;\n    }\n\n    public int dishNum() {\n        return dishNames.length;\n    }\n}\n\n// ìš”ë¦¬ì‚¬ ì“°ë ˆë“œ\nclass Cook implements Runnable {\n\n    private final Table table;\n\n    public Cook(Table table) {\n        this.table = table;\n    }\n\n    // ì„ì˜ì˜ ìš”ë¦¬ë¥¼ í•˜ë‚˜ ì„ íƒí•´ì„œ tableì— ì¶”ê°€í•˜ê³  0.001ì´ˆ ëŒ€ê¸°í•˜ëŠ” ì‘ì—…ì„ ë¬´í•œì • ìˆ˜í–‰í•œë‹¤.\n    @Override\n    public void run() {\n        while (true) {\n            int index = (int) (Math.random() * table.dishNum());\n            table.add(Table.dishNames[index]);\n\n            try {\n                Thread.sleep(1);\n            } catch (InterruptedException e) {\n            }\n        }\n    }\n}\n\n// ì†ë‹˜ ì“°ë ˆë“œ\nclass Customer implements Runnable {\n\n    private final Table table;\n    private final String food;\n\n    public Customer(Table table, String food) {\n        this.table = table;\n        this.food = food;\n    }\n\n    @Override\n    public void run() {\n        // 0.01ì´ˆ ëŒ€ê¸° í›„, tableì—ì„œ foodë¥¼ ì†Œë¹„í•œë‹¤.\n        // ì†Œë¹„ ê²°ê³¼ì— ë”°ë¼ ë‹¤ë¥¸ ë‚´ìš©ì„ ì¶œë ¥í•œë‹¤.\n        while (true) {\n            try {\n                Thread.sleep(10);\n            } catch (InterruptedException e) {\n            }\n\n            String name = Thread.currentThread().getName();\n            boolean removed = table.remove(food);\n\n            if (removed) {\n                System.out.println(name + \" ate a \" + food);\n            } else {\n                System.out.println(name + \" failed to eat.\");\n            }\n        }\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) throws InterruptedException {\n        Table table = new Table(); // ì—¬ëŸ¬ ê°ì²´ê°€ ê³µìœ í•˜ëŠ” ê°ì²´\n\n        new Thread(new Cook(table), \"COOK1\").start();\n        new Thread(new Customer(table, \"donut\"), \"CUSTOMER1\").start();\n        new Thread(new Customer(table, \"burger\"), \"CUSTOMER2\").start();\n\n        Thread.sleep(100); // 0.1ì´ˆ ëŒ€ê¸°í–ˆë‹¤ê°€\n        System.exit(0); // í”„ë¡œê·¸ë¨ì„ ê°•ì œ ì¢…ë£Œí•œë‹¤.\n    }\n}\n\n```\n\nì´ ì½”ë“œë¥¼ ì‹¤í–‰í•  ë•Œë§ˆë‹¤ ê²°ê³¼ëŠ” ë‹¤ë¥´ë‹¤. ì˜ˆì™¸ê°€ ë°œìƒí•  ìˆ˜ë„, ë°œìƒí•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆë‹¤.<br>\nìµœì•…ì˜ ê²½ìš°ì—” **2ê°€ì§€ ì¢…ë¥˜ì˜ ì˜ˆì™¸ê°€ ë°œìƒ**í•˜ëŠ”ë°, í•˜ë‚˜ëŠ” Cook ì“°ë ˆë“œê°€ Tableì— ìŒì‹ì„ ì¶”ê°€í•˜ëŠ” ë„ì¤‘ì—, Customer ì“°ë ˆë“œê°€ ìŒì‹ì„ ê°€ì ¸ê°€ë ¤ í–ˆê¸° ë•Œë¬¸ì— `ConcurrentModificationException`ì´ê³ ,<br>\në˜ í•˜ë‚˜ëŠ”, Customer ì“°ë ˆë“œê°€ Tableì˜ ë§ˆì§€ë§‰ ë‚¨ì€ ìŒì‹ì„ ê°€ì ¸ê°€ëŠ” ë„ì¤‘ì— ë‹¤ë¥¸ Customer ì“°ë ˆë“œê°€ ë¨¼ì € ìŒì‹ì„ ê°€ì ¸ê°€ì„œ, ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ìŒì‹ì„ Tableì—ì„œ remove() í•˜ë ¤ê³  í–ˆê¸° ë•Œë¬¸ì— ë°œìƒí•˜ëŠ” `IndexOutOfBoundsException`ì´ë‹¤.\n\nì´ëŸ° ì˜ˆì™¸ë“¤ì´ ë°œìƒí•˜ëŠ” ì´ìœ ëŠ” ì—¬ëŸ¬ ì“°ë ˆë“œ(Cook, Customer)ê°€ ê³µìœ ìì›(Table)ì„ ì‚¬ìš©í•˜ëŠ”ë°ë„ ë™ê¸°í™”í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì´ë‹¤.\nì´ì œ ì´ ì½”ë“œì— ë™ê¸°í™”ë¥¼ ì¶”ê°€í•´ë³´ì.<br>\në³µì¡í•  ê±° ì—†ë‹¤. `Table` í´ë˜ìŠ¤ë§Œ ì˜ ì‚´í´ë³´ì.\n\n```java\nimport java.util.ArrayList;\nimport java.util.List;\n\n// í…Œì´ë¸” ì“°ë ˆë“œ\nclass Table {\n\n    String[] dishNames = {\"donut\", \"donut\", \"burger\"}; // donutì´ ë” ìì£¼ ë‚˜ì˜¨ë‹¤.\n    final int MAX_FOOD = 6; // í…Œì´ë¸”ì— ë†“ì„ ìˆ˜ ìˆëŠ” ìµœëŒ€ ìŒì‹ ìˆ˜\n\n    private List<String> dishes = new ArrayList<>();\n\n    // í…Œì´ë¸”ì— ìŒì‹ì´ ê°€ë“ì°¼ìœ¼ë©´, í…Œì´ë¸”ì— ìŒì‹ì„ ì¶”ê°€í•˜ì§€ ì•ŠëŠ”ë‹¤.\n    public synchronized void add(String dish) { // synchronized ì¶”ê°€\n        if (dishes.size() >= MAX_FOOD) {\n            return;\n        }\n        dishes.add(dish);\n        System.out.println(\"Dishes: \" + dishes);\n    }\n\n    // ì§€ì •ëœ ìš”ë¦¬ì™€ ì¼ì¹˜í•˜ëŠ” ìš”ë¦¬ë¥¼ í…Œì´ë¸”ì—ì„œ ì œê±°í•œë‹¤.\n    public boolean remove(String dishName) {\n        synchronized (this) { // synchronized ë¸”ëŸ­ ì¶”ê°€\n            while (dishes.isEmpty()) { // ìš”ë¦¬ê°€ ì—†ìœ¼ë©´ ìƒê¸¸ ë•Œê¹Œì§€ 0.5ì´ˆ ëŒ€ê¸°í•˜ëŠ” ê²ƒì„ ë°˜ë³µí•œë‹¤.\n                String name = Thread.currentThread().getName();\n                System.out.println(name + \" is waiting.\");\n                try {\n                    Thread.sleep(500);\n                } catch (InterruptedException e) {\n                }\n            }\n\n            for (int i = 0; i < dishes.size(); i++) {\n                if (dishName.equals(dishes.get(i))) {\n                    dishes.remove(i);\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    public int dishNum() {\n        return dishNames.length;\n    }\n}\n\n// ìš”ë¦¬ì‚¬ ì“°ë ˆë“œ\nclass Cook implements Runnable {\n\n    private final Table table;\n\n    public Cook(Table table) {\n        this.table = table;\n    }\n\n    // ì„ì˜ì˜ ìš”ë¦¬ë¥¼ í•˜ë‚˜ ì„ íƒí•´ì„œ tableì— ì¶”ê°€í•˜ê³  0.01ì´ˆ ëŒ€ê¸°í•˜ëŠ” ì‘ì—…ì„ ë¬´í•œì • ìˆ˜í–‰í•œë‹¤.\n    @Override\n    public void run() {\n        while (true) {\n            int index = (int) (Math.random() * table.dishNum());\n            table.add(table.dishNames[index]);\n\n            try {\n                Thread.sleep(100);\n            } catch (InterruptedException e) {\n            }\n        }\n    }\n}\n\n// ì†ë‹˜ ì“°ë ˆë“œ\nclass Customer implements Runnable {\n\n    private final Table table;\n    private final String food;\n\n    public Customer(Table table, String food) {\n        this.table = table;\n        this.food = food;\n    }\n\n    @Override\n    public void run() {\n        // 0.01ì´ˆ ëŒ€ê¸° í›„, tableì—ì„œ foodë¥¼ ì†Œë¹„í•œë‹¤.\n        // ì†Œë¹„ ê²°ê³¼ì— ë”°ë¼ ë‹¤ë¥¸ ë‚´ìš©ì„ ì¶œë ¥í•œë‹¤.\n        while (true) {\n            try {\n                Thread.sleep(10);\n            } catch (InterruptedException e) {\n            }\n\n            String name = Thread.currentThread().getName();\n            boolean removed = table.remove(food);\n\n            if (removed) {\n                System.out.println(name + \" ate a \" + food);\n            } else {\n                System.out.println(name + \" failed to eat.\");\n            }\n        }\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) throws InterruptedException {\n        Table table = new Table(); // ì—¬ëŸ¬ ê°ì²´ê°€ ê³µìœ í•˜ëŠ” ê°ì²´\n\n        new Thread(new Cook(table), \"COOK1\").start();\n        new Thread(new Customer(table, \"donut\"), \"CUSTOMER1\").start();\n        new Thread(new Customer(table, \"burger\"), \"CUSTOMER2\").start();\n\n        Thread.sleep(5000); // 5ì´ˆ í›„ ëŒ€ê¸°í–ˆë‹¤ê°€\n        System.exit(0); // í”„ë¡œê·¸ë¨ì„ ê°•ì œ ì¢…ë£Œí•œë‹¤.\n    }\n}\n\n== Console ==\nDishes: [donut]\nCUSTOMER2 is waiting.\nCUSTOMER1 ate a donut\nCUSTOMER2 is waiting.\nCUSTOMER2 is waiting.\nCUSTOMER2 is waiting.\n... (ìƒëµ)\n```\n\nTable ì“°ë ˆë“œì˜ **`add()` ë©”ì„œë“œì— synchronized í‚¤ì›Œë“œë¥¼ ì¶”ê°€**í–ˆê³ , **`remove()` ë©”ì„œë“œ ë‚´ë¶€ì— synchronized ë¸”ëŸ­ì„ ì¶”ê°€**í–ˆë‹¤.<br>\nëª¨ë‘, ê³µìœ  ìì›ì¸ `List<String> dishes`ì— ì ‘ê·¼í•˜ëŠ” ì„ê³„ ì˜ì—­ì„ `synchronize`ë¥¼ ì´ìš©í•´ì„œ ë™ê¸°í™” í•œ ê²ƒì´ë‹¤.<br>\nì¶”ê°€ë¡œ í”„ë¡œê·¸ë¨ ì‹¤í–‰ ì‹œê°„ì„ 5ì´ˆë¡œ ëŠ˜ë ¸ìœ¼ë©°, Cook ì“°ë ˆë“œê°€ ìŒì‹ì„ ì¶”ê°€í•˜ëŠ” ì£¼ê¸°ë¥¼ 0.001ì´ˆì—ì„œ 0.1ì´ˆë¡œ ëŠ˜ë ¸ë‹¤.\n\në”ì´ìƒ ì˜ˆì™¸ëŠ” ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.<br>\ní•˜ì§€ë§Œ, \"Customer2 is waiting.\" ì´ í•œë²ˆ ì¶œë ¥ë˜ë©´ í”„ë¡œê·¸ë¨ì´ ì¢…ë£Œë  ë•Œê¹Œì§€ ë¬´í•œì • ì¶œë ¥ëœë‹¤.<br>\nì´ìœ ëŠ” ë°”ë¡œ, `remove()` ë©”ì„œë“œì— ìˆë‹¤.\n\nCustomer2ê°€ `remove()`ì„ í˜¸ì¶œí–ˆì„ ë•Œ synchronized ë¸”ëŸ­ì— ì§„ì…í–ˆë‹¤ê³  ê°€ì •í•˜ê³  ì‹¤í–‰ íë¦„ì„ ì˜ ë”°ë¼ê°€ë³´ì.<br>\në§Œì•½ ì´ë•Œ `dishes.isEmpty()`ì˜ ê²°ê³¼ë¡œ `true`ê°€ ë°˜í™˜ë˜ì—ˆë‹¤ë©´, while ë¬¸ì„ ë°˜ë³µí•  ê²ƒì´ë‹¤.<br>\ní•˜ì§€ë§Œ í˜„ì¬ ê³µìœ  ìì›ì¸ Tableì— ëŒ€í•œ Lockì„ ê°€ì§„ ì±„ë¡œ ë¬´í•œíˆ while ë¬¸ì„ ëŒê²Œ ëœë‹¤.<br>\në•Œë¬¸ì— Cook ì“°ë ˆë“œì™€ Customer1 ì“°ë ˆë“œëŠ” LOCKì„ íšë“í•˜ê¸° ìœ„í•´ ë¬´í•œì • ëŒ€ê¸°í•˜ê³  ìˆëŠ” ê²ƒì´ê³ ,<br>Lockì„ ì ìœ í•œ Customer2ëŠ” ë¬´í•œì • ëŒ€ê¸°í•˜ê³  ìˆëŠ” ê²ƒì´ë‹¤.\n\nì´ì œ `wait()`ì™€ `notify()`ë¥¼ ì´ìš©í•˜ì—¬ ì´ë¥¼ ê°œì„ í•´ë³´ì.\n\n```java\nimport java.util.ArrayList;\nimport java.util.List;\n\n// í…Œì´ë¸” ì“°ë ˆë“œ\nclass Table {\n\n    String[] dishNames = {\"donut\", \"donut\", \"burger\"}; // donutì´ ë” ìì£¼ ë‚˜ì˜¨ë‹¤.\n    final int MAX_FOOD = 6; // í…Œì´ë¸”ì— ë†“ì„ ìˆ˜ ìˆëŠ” ìµœëŒ€ ìŒì‹ ìˆ˜\n\n    private List<String> dishes = new ArrayList<>();\n\n    // í…Œì´ë¸”ì— ìŒì‹ì´ ê°€ë“ì°¼ìœ¼ë©´, í…Œì´ë¸”ì— ìŒì‹ì„ ì¶”ê°€í•˜ì§€ ì•ŠëŠ”ë‹¤.\n    public synchronized void add(String dish) {\n        if (dishes.size() >= MAX_FOOD) {\n            System.out.println(Thread.currentThread().getName() + \" is waiting.\");\n\n            try {\n                wait(); // ì“°ë ˆë“œ ìì‹ (Cook)ì„ ëŒ€ê¸°ì‹œí‚¨ë‹¤.\n                Thread.sleep(500);\n            } catch (InterruptedException e) {\n            }\n        }\n\n        // ì„±ê³µì ìœ¼ë¡œ ìŒì‹ì„ ì¶”ê°€í•œë‹¤\n        dishes.add(dish);\n        System.out.println(Thread.currentThread().getName() + \" add \" + dish);\n        notify(); // ì“°ë ˆë“œë¥¼ ê¹¨ìš´ë‹¤. Customer ì“°ë ˆë“œë¥¼ ê¹¨ìš°ê¸° ìœ„í•¨ì´ë‹¤.\n        System.out.println(\"Dishes: \" + dishes);\n    }\n\n    // ì§€ì •ëœ ìš”ë¦¬ì™€ ì¼ì¹˜í•˜ëŠ” ìš”ë¦¬ë¥¼ í…Œì´ë¸”ì—ì„œ ì œê±°í•œë‹¤.\n    public void remove(String dishName) {\n        synchronized (this) {\n            // ìŒì‹ì´ ì•„ë¬´ê²ƒë„ ì—†ìœ¼ë©´\n            while (dishes.isEmpty()) {\n                System.out.println(Thread.currentThread().getName() + \" is waiting.\");\n\n                try {\n                    wait(); // ì“°ë ˆë“œ ìì‹ (Customer)ì„ ëŒ€ê¸°ì‹œí‚¨ë‹¤.\n                    Thread.sleep(500);\n                } catch (InterruptedException e) {\n                }\n            }\n\n            while (true) {\n                for (int i = 0; i < dishes.size(); i++) {\n                    if (dishName.equals(dishes.get(i))) {\n                        dishes.remove(i); // ì„±ê³µì ìœ¼ë¡œ ì œê±°í•˜ê³ \n                        notify(); // ì“°ë ˆë“œë¥¼ ê¹¨ìš´ë‹¤. Cook ì“°ë ˆë“œë¥¼ ê¹¨ìš°ê¸° ìœ„í•¨ì´ë‹¤.\n                        return;\n                    }\n                }\n\n                try {\n                    System.out.println(Thread.currentThread().getName() + \" is waiting.\");\n                    wait(); // ì›í•˜ëŠ” ìŒì‹ì´ ì—†ê¸°ì—, ì“°ë ˆë“œ ìì‹ (Customer)ì„ ëŒ€ê¸°ì‹œí‚¨ë‹¤.\n                    Thread.sleep(500); // 0.5ì´ˆ ë”œë ˆì´\n                } catch (InterruptedException e) {\n                }\n            }\n        }\n    }\n\n    public int dishNum() {\n        return dishNames.length;\n    }\n}\n\n// ìš”ë¦¬ì‚¬ ì“°ë ˆë“œ\nclass Cook implements Runnable {\n\n    private final Table table;\n\n    public Cook(Table table) {\n        this.table = table;\n    }\n\n    // ì„ì˜ì˜ ìš”ë¦¬ë¥¼ í•˜ë‚˜ ì„ íƒí•´ì„œ tableì— ì¶”ê°€í•˜ê³  0.01ì´ˆ ëŒ€ê¸°í•˜ëŠ” ì‘ì—…ì„ ë¬´í•œì • ìˆ˜í–‰í•œë‹¤.\n    @Override\n    public void run() {\n        while (true) {\n            int index = (int) (Math.random() * table.dishNum());\n            table.add(table.dishNames[index]);\n\n            try {\n                Thread.sleep(10);\n            } catch (InterruptedException e) {\n            }\n        }\n    }\n}\n\n// ì†ë‹˜ ì“°ë ˆë“œ\nclass Customer implements Runnable {\n\n    private final Table table;\n    private final String food;\n\n    public Customer(Table table, String food) {\n        this.table = table;\n        this.food = food;\n    }\n\n    @Override\n    public void run() {\n        while (true) {\n            try {\n                Thread.sleep(100);\n                table.remove(food);\n                System.out.println(Thread.currentThread().getName() + \" ate a \" + food);\n            } catch (InterruptedException e) {\n            }\n        }\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) throws InterruptedException {\n        Table table = new Table(); // ê³µìœ  ìì›\n\n        new Thread(new Cook(table), \"COOK\").start();\n        new Thread(new Customer(table, \"donut\"), \"CUSTOMER1\").start();\n        new Thread(new Customer(table, \"burger\"), \"CUSTOMER2\").start();\n\n        Thread.sleep(2000); // 2ì´ˆ ëŒ€ê¸°í–ˆë‹¤ê°€\n        System.exit(0); // í”„ë¡œê·¸ë¨ì„ ê°•ì œ ì¢…ë£Œí•œë‹¤.\n    }\n}\n```\n\n`wait()`ì™€ `notify()`ë¥¼ ì ì ˆíˆ ë°°ì¹˜í•˜ì—¬, ì˜ˆì™¸ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.<br>\në˜, í•˜ë‚˜ì˜ ì“°ë ˆë“œê°€ Lockì„ ì§€ì†ì ìœ¼ë¡œ ì ìœ í•˜ëŠ” ë¬¸ì œë„ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.\n\ní•˜ì§€ë§Œ ì—¬ì „íˆ ë¬¸ì œëŠ” ì¡´ì¬í•œë‹¤. ë°”ë¡œ, **ê¸°ì•„ ìƒíƒœ**ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\n\n### ê¸°ì•„ ìƒíƒœ\n\nê¸°ì•„ ìƒíƒœë€, **ìì›ì„ íšë“í•˜ê¸° ìœ„í•´ ëŒ€ê¸°í•˜ëŠ” ì“°ë ˆë“œê°€ ë§¤ë²ˆ ì„ íƒë°›ì§€ ëª»í•´ ì˜ì˜ ëŒ€ê¸°í•˜ê²Œ ë˜ëŠ” ìƒíƒœ**ë¥¼ ì˜ë¯¸í•œë‹¤.\n\nìœ„ ì½”ë“œì—ì„œ Customer ì“°ë ˆë“œê°€ ìŒì‹ì„ ì„±ê³µì ìœ¼ë¡œ ë¨¹ì€ í›„, ìŒì‹ì„ ì±„ì›Œë‹¬ë¼ê³  í•˜ê¸° ìœ„í•´ `notify()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ëŒ€ê¸° ì¤‘ì¸ Cook ì“°ë ˆë“œë¥¼ ê¹¨ìš°ê¸¸ ì‹œë„í•œë‹¤.\ní•˜ì§€ë§Œ `notify()`ëŠ” Waiting Poolì— ì¡´ì¬í•˜ëŠ” ì“°ë ˆë“œ ì¤‘ ë¬´ì‘ìœ„ì˜ ë‹¨ í•˜ë‚˜ì—ê²Œë§Œ ì‹ í˜¸ë¥¼ ì¤€ë‹¤ê³  í–ˆë‹¤.\në”°ë¼ì„œ Customer ì“°ë ˆë“œë¼ë¦¬ ì„œë¡œ ê¹¨ìš°ê³  ëŒ€ê¸°í•˜ê³ ë¥¼ ë°˜ë³µí•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤.<br>\nìµœì•…ì˜ ê²½ìš° Cook ì“°ë ˆë“œëŠ” ì˜ì˜ ëŒ€ê¸°í•˜ê²Œ ë  ê²ƒì´ê³ , ì´ë¥¼ ê¸°ì•„ ìƒíƒœì— ë¹ ì¡Œë‹¤ê³  í•  ìˆ˜ ìˆë‹¤.\n\n**ê¸°ì•„ ìƒíƒœë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„  `notifyAll()`ì„ í˜¸ì¶œ**í•´ì•¼ í•œë‹¤.<br>\në§Œì•½ `notifyAll()`ì„ í˜¸ì¶œí–ˆì„ ë•Œ, ë°”ë¡œ ë‹¤ìŒ ì°¨ë¡€ì— ë˜ ë‹¤ì‹œ Customer ì“°ë ˆë“œê°€ Lockì„ íšë“í–ˆë‹¤ í•˜ë”ë¼ë„, í•´ë‹¹ Customer ì“°ë ˆë“œëŠ” ë§ˆì°¬ê°€ì§€ë¡œ ë¨¹ì„ ê²Œ ì—†ì–´ ë‹¤ì‹œ Waiting Poolë¡œ ëŒì•„ê°ˆ ê²ƒì´ê³ <br>\nCook ì“°ë ˆë“œëŠ” Lockì„ ì–»ê¸° ìœ„í•´ ëŒ€ê¸°í•˜ê³  ìˆë‹¤ê°€ ì°¨ë¡€ê°€ ì˜¤ë©´ ë§ˆì¹¨ë‚´ Lockì„ íšë“í•  ìˆ˜ ìˆê²Œ ë˜ì–´ ìŒì‹ì„ ì¶”ê°€í•  ìˆ˜ ìˆê²Œ ë  ê²ƒì´ë‹¤.\n\n### ì°¸ê³ \n\nì°¸ê³ ë¡œ ìœ„ì˜ í…Œì´ë¸”, ìš”ë¦¬ì‚¬, ì†ë‹˜ ì˜ˆì‹œëŠ” [ìƒì‚°ì-ì†Œë¹„ì ë¬¸ì œ](https://ko.wikipedia.org/wiki/%EC%83%9D%EC%82%B0%EC%9E%90-%EC%86%8C%EB%B9%84%EC%9E%90_%EB%AC%B8%EC%A0%9C)ì™€ ê°™ë‹¤.\n\nê·¸ë¦¬ê³  ìŠ¤ë ˆë“œ ë™ê¸°í™” ê¸°ë²• ì¤‘, [ëª¨ë‹ˆí„°](https://ko.wikipedia.org/wiki/%EB%AA%A8%EB%8B%88%ED%84%B0_(%EB%8F%99%EA%B8%B0%ED%99%94))ë¥¼ `wait()`, `notify()`, `notifyAll()`ë¡œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.\n\n## 3. Lockê³¼ Conditionì„ ì´ìš©í•œ ë™ê¸°í™”\n\n`wait()`ê³¼ `notify()`ë¥¼ ì´ìš©í•´ì„œ Lockì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆì—ˆë‹¤.\ní•˜ì§€ë§Œ `notify()` íŠ¹ì„±ìƒ, íŠ¹ì • ì“°ë ˆë“œë¥¼ ì°ì–´ì„œ RUNNABLE ìƒíƒœë¡œ ë°”ê¾¸ê¸°ëŠ” ë¶ˆê°€ëŠ¥í–ˆë‹¤.\në§Œì•½ íŠ¹ì • ì“°ë ˆë“œë¥¼ êº ìš¸ ìˆ˜ ìˆë‹¤ë©´ í›¨ì”¬ íš¨ìœ¨ì ì¸ ë©€í‹°ì“°ë ˆë”© ì‘ì—…ì´ ìˆ˜í–‰ë  ê²ƒì´ë‹¤.\n\nì•ìœ¼ë¡œ ì‚´í´ë³¼ Lockê³¼ Condition ì¸í„°í˜ì´ìŠ¤ê°€ ì´ë¥¼ ê°€ëŠ¥ì¼€ í•œë‹¤.\n\nLock ì¸í„°í˜ì´ìŠ¤ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì´ 3ê°€ì§€ì˜ ì¢…ë¥˜ê°€ ìˆë‹¤.\n\n- `ReentrantLock`: ì¬ì§„ì…ì´ ê°€ëŠ¥í•œ Lockìœ¼ë¡œ, ê°€ì¥ ì¼ë°˜ì ì¸ ë°°íƒ€ Lock.\n- `ReentrantReadWriteLock`: ì½ê¸°ì—ëŠ” ê³µìœ ì ì´ê³ , ì“°ê¸°ì—ëŠ” ë°°íƒ€ì ì¸ Lock.\n- `StampedLock`: ReentrantReadWriteLockì— ë‚™ê´€ì  Lock ê¸°ëŠ¥ì„ ì¶”ê°€\n  > StapmedLockì€ Lock ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ì§€ ì•ŠëŠ”ë‹¤.\n\n<br>\n\nì„¸ ê°€ì§€ ì¢…ë¥˜ì˜ Lock ëª¨ë‘, ì‚¬ìš©ë²•ì´ ë¹„ìŠ·í•˜ë‹¤.\në”°ë¼ì„œ ê°€ì¥ ê¸°ë³¸ì ì¸ ReentrantLockì˜ ì‚¬ìš©ë²•ì— ëŒ€í•´ì„œë§Œ ì•Œì•„ë³´ê² ë‹¤.\n\n### ReentrantLock\n\nìš°ì„ , ReentrantLockì€ ì•„ë˜ ìˆëŠ” ë‘ ê°œì˜ ìƒì„±ìë¥¼ ê°€ì§„ë‹¤.\n\n```java\npublic ReentrantLock();\npublic ReentrantLock(boolean fair);\n```\n\n`fair` ê°’ì— `ture`ë¥¼ ì¸ìë¡œ ì£¼ë©´, Lockì´ í’€ë ¸ì„ ë•Œ ê°€ì¥ ì˜¤ë˜ ê¸°ë‹¤ë¦° ì“°ë ˆë“œê°€ Lockì„ íšë“í•  ìˆ˜ ìˆë„ë¡ ì²˜ë¦¬í•œë‹¤.<br>\ní•˜ì§€ë§Œ ê³µì •í•˜ê²Œ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ì„  ì´ë¥¼ ì—°ì‚°í•˜ëŠ” ê³¼ì •ì´ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— ì˜¤ë²„í—¤ë“œê°€ ë°œìƒí•œë‹¤.<br>\nëŒ€ë¶€ë¶„ì˜ ê²½ìš°ì—” êµ³ì´ ê³µì •í•˜ê²Œ ì²˜ë¦¬í•˜ì§€ ì•Šì•„ë„ ë¬¸ì œê°€ ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ê³µì •í•¨ë³´ë‹¨ ì„±ëŠ¥ì„ íƒí•œë‹¤.\n\në‹¤ìŒìœ¼ë¡  ReentrantLockì˜ `lock()` ë©”ì„œë“œì— ëŒ€í•´ ì•Œì•„ë³´ì.\n\nLockì„ ìë™ìœ¼ë¡œ íšë“&ë°˜í™˜í•˜ëŠ” `synchronized`ì™€ ë‹¬ë¦¬ **Lock í´ë˜ìŠ¤ë“¤ì€ ëª¨ë‘ ìˆ˜ë™ìœ¼ë¡œ Lockì„ ê´€ë¦¬**í•´ì•¼ í•œë‹¤.<br> \nê·¸ë˜ë„, Lockì„ ê±¸ê³  í‘¸ëŠ” ê²ƒì€ ê°„ë‹¨í•˜ë‹¤.<br>\n`void lock()`, `void unlock()`, `boolean isLocked()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê¸°ë§Œ í•˜ë©´ ëœë‹¤.<br>\ní•˜ì§€ë§Œ, **ë°˜ë“œì‹œ `lock()`ì„ ê±¸ê³  í•´ì œí•´ì¤˜ì•¼ í•œë‹¤**ëŠ” ê²ƒì€ ìŠì§€ ë§ì.\n\n```java\nsynchronized (lock) {\n    // ì„ê³„ ì˜ì—­\n}\n\nâ¬‡ï¸ â¬‡ï¸ â¬‡ï¸ \n\nlock.lock();\n// ì„ê³„ ì˜ì—­\nlock.unlock();\n```\n\në§Œì•½, ì„ê³„ ì˜ì—­ ë‚´ì—ì„œ ì˜ˆì™¸ê°€ ë°œìƒí•˜ê±°ë‚˜ `return`ë¬¸ìœ¼ë¡œ ë¹ ì ¸ë‚˜ì˜¤ê²Œ ë˜ë©´ Lockì´ í’€ë¦¬ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.<br>\në•Œë¬¸ì— `unlock()`ì€ ì•„ë˜ ì½”ë“œì²˜ëŸ¼ try-finally ë¬¸ìœ¼ë¡œ ê°ì‹¸ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤.\n\n```java\nLock lock = new ReentrantLock();\nlock.lock();\ntry {\n    // ì„ê³„ ì˜ì—­\n} finally {\n    lock.unlock();\n}\n```\n\nì´ ì™¸ì—ë„ `tryLock()`ì´ë¼ëŠ” ë©”ì„œë“œê°€ ìˆë‹¤.<br>\n`lock()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê²Œ ë˜ë©´ Lockì„ íšë“í•  ë•Œê¹Œì§€ ëŒ€ê¸° ìƒíƒœì— ë¹ ì§„ë‹¤.<br>\ní•˜ì§€ë§Œ `boolean tryLock()` ë©”ì„œë“œì˜ ê²½ìš°, Lock íšë“ì„ ì‹œë„í–ˆë‹¤ê°€ ì‹¤íŒ¨í•˜ë©´ ëŒ€ê¸°í•˜ì§€ ì•Šê³  ë°”ë¡œ falseë¥¼ ë°˜í™˜í•œë‹¤. ë°˜ë©´ íšë“í–ˆì„ ê²½ìš°ì—” trueë¥¼ ë°˜í™˜í•œë‹¤.\n\nì•„ë‹ˆë©´ `boolean tryLock(long timeout, TimeUnit unit) throws InterruptedException` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ì„œ ì§€ì •ëœ ì‹œê°„ë™ì•ˆë§Œ Lockì„ íšë“í•˜ê¸° ìœ„í•´ ëŒ€ê¸°í•˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤.<br>\nì´ë¥¼ ì´ìš©í•´ ì§€ì •ëœ ì‹œê°„ë™ì•ˆ Lockì„ ì–»ì§€ ëª»í•˜ë©´ ë‹¤ì‹œ ì‘ì—…ì„ ì‹œë„í•  ê²ƒì¸ì§€ í¬ê¸°í•  ê²ƒì¸ì§€ë¥¼ ì‚¬ìš©ìê°€ ê²°ì •í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ê²ƒë„ ì¢‹ì€ ë°©ë²•ì´ ë  ìˆ˜ ìˆë‹¤.<br>\nê·¸ë¦¬ê³  ì´ ë©”ì„œë“œëŠ” `InterruptedException`ì„ ë°œìƒí•  ìˆ˜ ìˆëŠ”ë°, ì´ëŠ” ì§€ì •ëœ ì‹œê°„ë™ì•ˆ ê¸°ë‹¤ë¦¬ëŠ” ë„ì¤‘ì— `interrupt()`ì— ì˜í•´ ëŒ€ê¸°ë¥¼ ì·¨ì†Œí•  ìˆ˜ ìˆë‹¤ëŠ” ëœ»ì´ë‹¤.\n\n### ReentrantLockê³¼ Condition\n\nì•ì„œ `wait()`ì™€ `notify()`ëŠ” ì“°ë ˆë“œ ì¢…ë¥˜ ìƒê´€ì—†ì´ Waiting Poolì—ì„œ ëŒ€ê¸°í•˜ê³  ê·¸ ì¤‘ì—ì„œ í•˜ë‚˜ë¥¼ ë¬´ì‘ìœ„ë¡œ ê¹¨ìš´ë‹¤ê³  í–ˆë‹¤.<br>\nê·¸ëŸ¼ ë§Œì•½, Waiting Poolì„ ì“°ë ˆë“œ íƒ€ì…ì— ë”°ë¼ ë‚˜ëˆ„ì–´ ê¸°ë‹¤ë¦¬ë„ë¡ í•œë‹¤ë©´ ì´ ë¬¸ì œë¥¼ ê°„ë‹¨í•˜ê²Œ í•´ê²°í•  ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ?<br>\nì´ë¥¼ `Condition` ì¸í„°í˜ì´ìŠ¤ê°€ ì§€ì›í•œë‹¤.\n\n`Condition`ì„ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ”ì§€ ì½”ë“œë¡œ ì‚´í´ë³´ì.<br>\nì•„ë˜ ì½”ë“œëŠ” `wait()`ì™€ `notify()`ë¥¼ í•™ìŠµí•  ë•Œ ì‚¬ìš©í•œ ì½”ë“œì— ì¼ë¶€ë¥¼ ì¶”ê°€í•œ ê²ƒì´ë‹¤.<br>\nì¶”ê°€í•œ ê²ƒìœ¼ë¡œëŠ”, `ReentrantLock`ì™€ Cook ì“°ë ˆë“œë¥¼ ìœ„í•œ Conditionì¸ `conditionforCook`, Customer ì“°ë ˆë“œë¥¼ ìœ„í•œ Conditionì¸ `conditionForCustomers`ë¥¼ ìƒì„±í–ˆê³   \n`wait()`ëŠ” `condition.await()`ë¡œ, `notify()`ëŠ” `condition.signal()`ë¡œ ìˆ˜ì •í•œ ê²Œ ì „ë¶€ë‹¤.\n\n```java\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.locks.Condition;\nimport java.util.concurrent.locks.Lock;\nimport java.util.concurrent.locks.ReentrantLock;\n\n// í…Œì´ë¸” ì“°ë ˆë“œ\nclass Table {\n\n    private Lock lock = new ReentrantLock(); // ReentrantLock ê°ì²´ ìƒì„±\n    private Condition conditionForCook = lock.newCondition(); // lockìœ¼ë¡œë¶€í„° Cook ì“°ë ˆë“œë¥¼ ìœ„í•œ Condition ìƒì„±\n    private Condition conditionForCustomers = lock.newCondition(); // Customer ì“°ë ˆë“œë¥¼ ìœ„í•œ Condition ìƒì„±\n\n    String[] dishNames = {\"donut\", \"donut\", \"burger\"}; // donutì´ ë” ìì£¼ ë‚˜ì˜¨ë‹¤.\n    final int MAX_FOOD = 6; // í…Œì´ë¸”ì— ë†“ì„ ìˆ˜ ìˆëŠ” ìµœëŒ€ ìŒì‹ ìˆ˜\n\n    private List<String> dishes = new ArrayList<>();\n\n    // í…Œì´ë¸”ì— ìŒì‹ì´ ê°€ë“ì°¼ìœ¼ë©´, í…Œì´ë¸”ì— ìŒì‹ì„ ì¶”ê°€í•˜ì§€ ì•ŠëŠ”ë‹¤.\n    public void add(String dish) { // synchronized ì œê±°\n        lock.lock(); // Lock íšë“ ì‹œë„\n\n        try {\n            if (dishes.size() >= MAX_FOOD) {\n                System.out.println(Thread.currentThread().getName() + \" is waiting.\");\n\n                try {\n                    conditionForCook.await(); // Cook ì“°ë ˆë“œë¥¼ Cook Conditionì— ëŒ€ê¸°ì‹œí‚¨ë‹¤.\n                    Thread.sleep(500);\n                } catch (InterruptedException e) {\n                }\n            }\n\n            // ì„±ê³µì ìœ¼ë¡œ ìŒì‹ì„ ì¶”ê°€í•œë‹¤\n            dishes.add(dish);\n            System.out.println(Thread.currentThread().getName() + \" add \" + dish);\n            conditionForCustomers.signal(); // Customer ì“°ë ˆë“œë¥¼ êº ìš´ë‹¤.\n            System.out.println(\"Dishes: \" + dishes);\n        } finally { // finallyë¬¸ì„ ì´ìš©í•´ í•­ìƒ unlock()ì„ í˜¸ì¶œ\n            lock.unlock();\n        }\n    }\n\n    // ì§€ì •ëœ ìš”ë¦¬ì™€ ì¼ì¹˜í•˜ëŠ” ìš”ë¦¬ë¥¼ í…Œì´ë¸”ì—ì„œ ì œê±°í•œë‹¤.\n    public void remove(String dishName) {\n        lock.lock(); // ë½ íšë“ ì‹œë„\n\n        try {\n            // ìŒì‹ì´ ì•„ë¬´ê²ƒë„ ì—†ìœ¼ë©´\n            while (dishes.isEmpty()) {\n                System.out.println(Thread.currentThread().getName() + \" is waiting.\");\n\n                try {\n                    // lock.unlock(); // ëŒ€ê¸°ì‹œí‚¤ê¸° ì „ì— íšë“í•œ Lockì„ ë°˜í™˜í•´ì•¼ í•˜ëŠ”ê²Œ ì•„ë‹Œê°€? ì˜ë¬¸ì´ ë“¤ ìˆ˜ ìˆë‹¤. ê²°ë¡ ì€, ë°˜í™˜í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. JVMì´ ì•Œì•„ì„œ Lockì„ ë°˜í™˜í•´ì¤€ë‹¤. ìì„¸í•œ ë‚´ìš©ì€ https://stackoverflow.com/questions/11308768/condition-should-unlock-before-await ë¥¼ ì°¸ê³ í•˜ì.\n                    conditionForCustomers.await(); // Customer ì“°ë ˆë“œë¥¼ Customer Conditionì— ëŒ€ê¸°ì‹œí‚¨ë‹¤.\n                    Thread.sleep(500);\n                } catch (InterruptedException e) {\n                }\n            }\n\n            while (true) {\n                for (int i = 0; i < dishes.size(); i++) {\n                    if (dishName.equals(dishes.get(i))) {\n                        dishes.remove(i); // ì„±ê³µì ìœ¼ë¡œ ì œê±°í•˜ê³ \n                        conditionForCook.signal(); // Cook Conditionì— ëŒ€ê¸° ì¤‘ì¸ ì“°ë ˆë“œë¥¼ ê¹¨ìš´ë‹¤.\n                        return;\n                    }\n                }\n\n                try {\n                    System.out.println(Thread.currentThread().getName() + \" is waiting.\");\n                    conditionForCustomers.await(); // ì›í•˜ëŠ” ìŒì‹ì´ ì—†ìœ¼ë¯€ë¡œ Customer Conditionì— ë³¸ì¸ì„ ëŒ€ê¸°ì‹œí‚¨ë‹¤.\n                    Thread.sleep(500); // 0.5ì´ˆ ë”œë ˆì´\n                } catch (InterruptedException e) {\n                }\n            }\n        } finally { // finallyë¬¸ì„ ì´ìš©í•´ í•­ìƒ unlock()ì„ í˜¸ì¶œ\n            lock.unlock();\n        }\n    }\n\n    public int dishNum() {\n        return dishNames.length;\n    }\n}\n\n// ìš”ë¦¬ì‚¬ ì“°ë ˆë“œ\nclass Cook implements Runnable {\n\n    private final Table table;\n\n    public Cook(Table table) {\n        this.table = table;\n    }\n\n    // ì„ì˜ì˜ ìš”ë¦¬ë¥¼ í•˜ë‚˜ ì„ íƒí•´ì„œ tableì— ì¶”ê°€í•˜ê³  0.01ì´ˆ ëŒ€ê¸°í•˜ëŠ” ì‘ì—…ì„ ë¬´í•œì • ìˆ˜í–‰í•œë‹¤.\n    @Override\n    public void run() {\n        while (true) {\n            int index = (int) (Math.random() * table.dishNum());\n            table.add(table.dishNames[index]);\n\n            try {\n                Thread.sleep(10);\n            } catch (InterruptedException e) {\n            }\n        }\n    }\n}\n\n// ì†ë‹˜ ì“°ë ˆë“œ\nclass Customer implements Runnable {\n\n    private final Table table;\n    private final String food;\n\n    public Customer(Table table, String food) {\n        this.table = table;\n        this.food = food;\n    }\n\n    @Override\n    public void run() {\n        while (true) {\n            try {\n                Thread.sleep(100);\n                table.remove(food);\n                System.out.println(Thread.currentThread().getName() + \" ate a \" + food);\n            } catch (InterruptedException e) {\n            }\n        }\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) throws InterruptedException {\n        Table table = new Table(); // ê³µìœ  ìì›\n\n        new Thread(new Cook(table), \"COOK\").start();\n        new Thread(new Customer(table, \"donut\"), \"CUSTOMER1\").start();\n        new Thread(new Customer(table, \"burger\"), \"CUSTOMER2\").start();\n\n        Thread.sleep(2000); // 2ì´ˆ í›„ ëŒ€ê¸°í–ˆë‹¤ê°€\n        System.exit(0); // í”„ë¡œê·¸ë¨ì„ ê°•ì œ ì¢…ë£Œí•œë‹¤.\n    }\n}\n```\n\nê·¸ ê²°ê³¼, Cook ì“°ë ˆë“œê°€ ê¹¨ì–´ë‚˜ì•¼ í•  ìƒí™©ì— Customer ì“°ë ˆë“œê°€ ê¹¨ì–´ë‚  ì¼ì´ ì—†ë‹¤.<br>\nìì—°ìŠ¤ë ˆ ê¸°ì•„ í˜„ìƒì´ í•´ê²°ë˜ì—ˆë‹¤.\n\n## 4. volatile\n\nìš”ì¦˜ì€ ëŒ€ë¶€ë¶„ ê¸°ë³¸ì ìœ¼ë¡œ ë©€í‹° ì½”ì–´ í”„ë¡œì„¸ì„œë¥¼ ì‚¬ìš©í•œë‹¤.\nì¦‰, 2ê°œ ì´ìƒì˜ ì½”ì–´ê°€ ì‘ì—…ì„ ë³‘ë ¬ë¡œ ì²˜ë¦¬í•œë‹¤ëŠ” ì˜ë¯¸ë‹¤.\n\nì´ ì½”ì–´ì—ëŠ” ê°ê°ì˜ ìºì‹œê°€ ì¡´ì¬í•œë‹¤.\n![ì½”ì–´ì™€ ë©”ëª¨ë¦¬](core-has-cache.jpeg)\n\nì½”ì–´ëŠ” ë©”ëª¨ë¦¬ì—ì„œ ì½ì–´ì˜¨ ê°’ì„ ìºì‹œì— ì €ì¥í•˜ê³  ì €ì¥í•œ ê°’ì„ ì½ì–´ì„œ ì‘ì—…í•œë‹¤.<br>\në˜‘ê°™ì€ ê°’ì„ ë‹¤ì‹œ ì½ì„ ë•Œì—ëŠ”, ìºì‹œì— ê°’ì´ ìˆëŠ”ì§€ ì²´í¬í•˜ê³  ì—†ì„ ë•Œë§Œ ë©”ëª¨ë¦¬ì—ì„œ ì½ì–´ì˜¨ë‹¤.<br>\nê·¸ëŸ¬ë‹¤ë³´ë‹ˆ ë©”ëª¨ë¦¬ì—ëŠ” ê°’ì´ ë°”ë€Œì—ˆëŠ”ë°ë„ ìºì‹œì— ì €ì¥ëœ ê°’ì´ ê°±ì‹ ë˜ì§€ ì•Šì•„ì„œ ë©”ëª¨ë¦¬ì— ì €ì¥ëœ ê°’ì´ ë‹¤ë¥¸ ê²½ìš°ê°€ ë°œìƒí•œë‹¤.\n\nì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” **`volatile` í‚¤ì›Œë“œ**ë¥¼ ë³€ìˆ˜ì— ì¶”ê°€í•˜ë©´ ëœë‹¤.<br>\n`volatile` í‚¤ì›Œë“œëŠ” **ì½”ì–´ê°€ ë³€ìˆ˜ì˜ ê°’ì„ ì½ì„ ë•Œ, ìºì‹œê°€ ì•„ë‹Œ ë©”ëª¨ë¦¬ì—ì„œ ì½ë„ë¡ ê°•ì œ**í•œë‹¤.\n\në³€ìˆ˜ì— `volatile` í‚¤ì›Œë“œ ë§ê³  `synchronized` í‚¤ì›Œë“œë¥¼ ë¶™ì—¬ë„ ê°™ì€ íš¨ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.<br>\n**ì“°ë ˆë“œê°€ synchronized ë¸”ëŸ­ìœ¼ë¡œ ë“¤ì–´ê°ˆ ë•Œì™€ ë‚˜ì˜¬ ë•Œ, ìºì‹œì™€ ë©”ëª¨ë¦¬ê°„ì˜ ë™ê¸°í™”**ê°€ ì´ë£¨ì–´ì§€ê¸° ë•Œë¬¸ì´ë‹¤.\n\nì¶”ê°€ë¡œ `volatile`ì€ ë³€ìˆ˜ì˜ ì½ê¸°ì™€ ì“°ê¸°ë¥¼ ì›ìí™”í•œë‹¤.\n\n**JVMì€ ë°ì´í„°ë¥¼ 4byte ë‹¨ìœ„ë¡œ ì²˜ë¦¬**í•œë‹¤.<br>\në”°ë¼ì„œ `int`ë‚˜ ì´ë³´ë‹¤ ì‘ì€ ë°ì´í„° íƒ€ì…ì€ í•˜ë‚˜ì˜ ëª…ë ¹ìœ¼ë¡œ ì½ê¸°ë‚˜ ì“°ê¸°ê°€ ê°€ëŠ¥í•˜ë‹¤.<br>\nì°¸ê³ ë¡œ **í•˜ë‚˜ì˜ ëª…ë ¹ì´ë€ CPU ë ˆë²¨ì—ì„œ ë” ì´ìƒ ë‚˜ëˆŒ ìˆ˜ ì—†ëŠ” ìµœì†Œí•œì˜ ì‘ì—… ë‹¨ìœ„**ë¥¼ ì˜ë¯¸í•œë‹¤.<br>\në‹¤ì‹œ ë§í•´, ì‘ì—… ì¤‘ê°„ì— ë‹¤ë¥¸ ì“°ë ˆë“œê°€ ë¼ì–´ ë“¤ ìˆ˜ê°€ ì—†ë‹¤ëŠ” ì˜ë¯¸ë‹¤.<br>\nê·¸ëŸ°ë° **`long`ì´ë‚˜ `double`ì€ 8byte**ì´ë‹¤.<br>\n**ë‘ ë²ˆì˜ ì—°ì‚°ì´ ìˆ˜í–‰**ë˜ì–´ì•¼í•˜ê³ , ì´ëŠ” ê³§ **ì¤‘ê°„ì— ë‹¤ë¥¸ ì“°ë ˆë“œì— ì˜í•´ ë°©í•´ë°›ì„ ì—¬ì§€ê°€ ìˆë‹¤**ëŠ” ë§ì´ë‹¤.<br>\nì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ë³€ìˆ˜ì— ì ‘ê·¼í•˜ëŠ” ëª¨ë“  ê³³ì— `synchronized` í‚¤ì›Œë“œë¥¼ ì¶”ê°€í•´ë„ ë˜ì§€ë§Œ, **ê°„ë‹¨í•˜ê²Œ ë³€ìˆ˜ì— `volatile` í‚¤ì›Œë“œë¥¼ ì¶”ê°€í•¨ìœ¼ë¡œì¨ í•´ë‹¹ ë³€ìˆ˜ì— ëŒ€í•œ ì½ê¸°ë‚˜ ì“°ê¸°ê°€ ì›ìí™”í•  ìˆ˜ ìˆë‹¤.**\n\në§ˆì§€ë§‰ìœ¼ë¡œ `volatile`ì— ëŒ€í•´ ì¤‘ìš”í•œ ì ì€, `volatile`ë¡œ ì—¬ëŸ¬ ì“°ë ˆë“œë“¤ì˜ ì‘ì—…ì„ ë™ê¸°í™”í•˜ëŠ” ê±´ ì•„ë‹ˆë¼ëŠ” ê²ƒì´ë‹¤.<br>\n`volatile` í‚¤ì›Œë“œë¥¼ ì¶”ê°€í–ˆìœ¼ë‹ˆ ë”ì´ìƒ ë™ê¸°í™”ë¥¼ ì‹ ê²½ì“°ì§€ ì•Šì•„ë„ ëœë‹¤ê³  ìƒê°í•  ìˆ˜ ìˆë‹¤.<br>\ní•˜ì§€ë§Œ **`volatile`ì€ ì½”ì–´ê°€ ë³€ìˆ˜ì— ì ‘ê·¼í•  ë•Œ í•­ìƒ ë©”ëª¨ë¦¬ì— ìˆëŠ” ê°’ì„ ì½ë„ë¡ ê°•ì œí•˜ëŠ” ê²ƒê³¼ í•´ë‹¹ ë³€ìˆ˜ë¥¼ ì½ê¸°ë‚˜ ì“°ê¸°ê°€ ì›ìí™” ë˜ëŠ” ê²ƒì¼ ë¿, ì—¬ëŸ¬ ì“°ë ˆë“œë“¤ì´ ìˆ˜í–‰í•˜ëŠ” ì‘ì—…ì— ëŒ€í•œ ë™ê¸°í™”ëŠ” ìˆ˜í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.**\n\n## ë§ˆì¹˜ë©°\n\nì§€ê¸ˆê¹Œì§€ Javaì—ì„œ ì“°ë ˆë“œë¥¼ ìƒì„±í•˜ê³  ì‹¤í–‰ì‹œí‚¤ê³ , ë©€í‹°ì“°ë ˆë“œ í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ì“°ë ˆë“œì˜ ìƒíƒœ, í–‰ë™ì„ ì œì–´í•˜ëŠ” ë©”ì„œë“œì™€ ë™ê¸°í™”ë¥¼ ì œì–´í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ë‹¤.\n\nì‚¬ì‹¤ êµ‰ì¥íˆ ì¶”ìƒì ì´ê³  ì—¬ëŸ¬ ì“°ë ˆë“œê°„ì˜ íë¦„ì„ ë¨¸ë¦¬ ì†ìœ¼ë¡œ ê·¸ë¦¬ëŠ” ê²ƒì€ ì‰½ì§€ ì•Šì€ ì¼ì´ë‹¤.\nê·¸ë˜ì„œ ë‹¤ìŒì—” ì§€ê¸ˆê¹Œì§€ ë°°ìš´ ì“°ë ˆë“œ ê´€ë ¨ ì§€ì‹ë“¤ì„ í† ëŒ€ë¡œ, ì—¬ëŸ¬ê°€ì§€ ë¬¸ì œ ìƒí™©ì„ ë§Œë“¤ê³  ì´ë¥¼ í•´ê²°í•´ë³´ë ¤ê³  í•œë‹¤."},{"excerpt":"ë“¤ì–´ê°€ë©° ì§€ë‚œ ê¸€ì—ëŠ” Javaì—ì„œ ì“°ë ˆë“œë¥¼ êµ¬í˜„í•˜ê³  ì‹¤í–‰í•˜ëŠ” ë°©ë²•, Main ì“°ë ˆë“œ, ì“°ë ˆë“œì˜ ìš°ì„ ìˆœìœ„, ì“°ë ˆë“œ ê·¸ë£¹, ë°ëª¬ ì“°ë ˆë“œì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ë‹¤. ì´ë²ˆ ê¸€ì—ì„œëŠ” ì“°ë ˆë“œë¥¼ ë‹¤ë£¨ê³  ì‚¬ìš©í•¨ì— ìˆì–´ ì¤‘ìš”í•œ ì“°ë ˆë“œì˜ ìƒíƒœì™€ ì“°ë ˆë“œì˜ í–‰ë™ì„ ì œì–´í•˜ëŠ” ë©”ì„œë“œë“¤ì— ëŒ€í•´ ì•Œì•„ë³´ê² ë‹¤. ì“°ë ˆë“œì˜ ì‹¤í–‰ì œì–´ ì‚¬ì‹¤ìƒ ì“°ë ˆë“œë¥¼ ì‚¬ìš©í•¨ì— ìˆì–´ í•µì‹¬ì´ ë˜ëŠ” ë¶€ë¶„ì´ë¼ê³  ìƒê°í•œë‹¤.\nâ€¦","fields":{"slug":"/status-and-control-thread-in-java/"},"frontmatter":{"date":"July 05, 2024","title":"Java Thread 2 - Java Threadì˜ ìƒíƒœì™€ í–‰ë™ì„ ì œì–´í•˜ëŠ” ë°©ë²•","tags":["Java","Thread"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©°\n\nì§€ë‚œ ê¸€ì—ëŠ” Javaì—ì„œ ì“°ë ˆë“œë¥¼ êµ¬í˜„í•˜ê³  ì‹¤í–‰í•˜ëŠ” ë°©ë²•, Main ì“°ë ˆë“œ, ì“°ë ˆë“œì˜ ìš°ì„ ìˆœìœ„, ì“°ë ˆë“œ ê·¸ë£¹, ë°ëª¬ ì“°ë ˆë“œì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ë‹¤.\n\nì´ë²ˆ ê¸€ì—ì„œëŠ” ì“°ë ˆë“œë¥¼ ë‹¤ë£¨ê³  ì‚¬ìš©í•¨ì— ìˆì–´ ì¤‘ìš”í•œ **ì“°ë ˆë“œì˜ ìƒíƒœ**ì™€ **ì“°ë ˆë“œì˜ í–‰ë™ì„ ì œì–´í•˜ëŠ” ë©”ì„œë“œ**ë“¤ì— ëŒ€í•´ ì•Œì•„ë³´ê² ë‹¤.\n\n## ì“°ë ˆë“œì˜ ì‹¤í–‰ì œì–´\n\nì‚¬ì‹¤ìƒ ì“°ë ˆë“œë¥¼ ì‚¬ìš©í•¨ì— ìˆì–´ í•µì‹¬ì´ ë˜ëŠ” ë¶€ë¶„ì´ë¼ê³  ìƒê°í•œë‹¤.<br>\nì“°ë ˆë“œë¥¼ ìƒì„±í•˜ê³  ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ì–´ë µì§€ ì•Šë‹¤. í•˜ì§€ë§Œ ê°œë°œìê°€ ì˜ë„í•œëŒ€ë¡œ ë™ì‘í•˜ëŠ” ê²ƒì€ ì–´ë µë‹¤.<br>\nê°œë°œìê°€ ì˜ë„í•œëŒ€ë¡œ ë™ì‘í•œë‹¤ëŠ” ì˜ë¯¸ëŠ”, ë™ê¸°í™”(synchronization)ì™€ ìŠ¤ì¼€ì¤„ë§(scheduling)ì„ í•œë‹¤ëŠ” ë§ì¸ë° ìŠ¤ì¼€ì¤„ë§ì„ íš¨ìœ¨ì ìœ¼ë¡œ ìˆ˜í–‰í•˜ë©´ì„œ ì—¬ëŸ¬ ì“°ë ˆë“œê°€ ë™ì‹œì„± ë¬¸ì œë¥¼ ì¼ìœ¼í‚¤ì§€ ì•Šë„ë¡ ë™ê¸°í™”ë¥¼ í•˜ëŠ” ê²ƒì€ ì¤‘ìš”í•˜ë©´ì„œ ì‰½ì§€ ì•Šë‹¤.\n\nìŠ¤ì¼€ì¤„ë§ì„ ì˜í•˜ê¸° ìœ„í•´ì„  **ì“°ë ˆë“œì˜ ìƒíƒœ**ì™€ **ê´€ë ¨ ë©”ì„œë“œ**ë¥¼ ì˜ ì•Œì•„ì•¼ í•œë‹¤.\n\n## ì“°ë ˆë“œ ìƒíƒœ\n\nìš°ì„  ì“°ë ˆë“œì˜ ìƒíƒœì— ëŒ€í•´ ì•Œì•„ë³´ì.\n\n```java\npublic class Thread implements Runnable {\n   \n      public enum State {\n        NEW,\n        RUNNABLE,\n        BLOCKED,\n        WAITING,\n        TIMED_WAITING,\n        TERMINATED;\n    }\n}\n```\n\nì“°ë ˆë“œì˜ ìƒíƒœì—ëŠ” ì´ 6ê°€ì§€ê°€ ìˆë‹¤.\n\n|      ìƒíƒœ       |                 ì„¤ëª…                 |\n|:-------------:|:----------------------------------:|\n|      NEW      | ì“°ë ˆë“œê°€ ìƒì„±ë˜ê³  ì•„ì§ `start()`ê°€ í˜¸ì¶œë˜ì§€ ì•Šì€ ìƒíƒœ |\n|   RUNNABLE    |         ì‹¤í–‰ ê°€ëŠ¥í•˜ê±°ë‚˜ ì‹¤í–‰ ì¤‘ì¸ ìƒíƒœ          |\n|    BLOCKED    |        ë½ì„ íšë“í•˜ê¸° ìœ„í•´ ëŒ€ê¸° ì¤‘ì¸ ìƒíƒœ         |\n|    WAITING    |       ë¬´ê¸°í•œìœ¼ë¡œ ë‹¤ë¥¸ ì“°ë ˆë“œë¥¼ ëŒ€ê¸° ì¤‘ì¸ ìƒíƒœ       |\n| TIMED_WAITING |     ì§€ì •ëœ ì‹œê°„ë™ì•ˆ ë‹¤ë¥¸ ì“°ë ˆë“œë¥¼ ëŒ€ê¸° ì¤‘ì¸ ìƒíƒœ      |\n|  TERMINATED   |          ì“°ë ˆë“œì˜ ì‘ì—…ì´ ì¢…ë£Œëœ ìƒíƒœ           |\n\n## ìƒíƒœ ê´€ë ¨ ë©”ì„œë“œ\n\në‹¤ìŒìœ¼ë¡œ ìƒíƒœ ê´€ë ¨ ë©”ì„œë“œì— ëŒ€í•´ ì•Œì•„ë³´ì.\n\n|                                     ë©”ì„œë“œ                                      |                                                             ì„¤ëª…                                                             |\n|:----------------------------------------------------------------------------:|:--------------------------------------------------------------------------------------------------------------------------:|\n| static void sleep(long millis)<br/>static void sleep(long millis, int nanos) |                ì“°ë ˆë“œë¥¼ ì§€ì •í•œ ì‹œê°„ë™ì•ˆ ì¼ì‹œì •ì§€(WAITING, TIMED_WAITING, BLOCKED)ì‹œí‚¨ë‹¤.<br/>ì§€ì •í•œ ì‹œê°„ì´ ì§€ë‚˜ë©´, ë‹¤ì‹œ RUNNABLE ìƒíƒœê°€ ëœë‹¤.                |\n| void join()<br/>void join(long millis)<br/>void join(long millis, int nanos) |  íŠ¹ì • ì“°ë ˆë“œë¥¼ ì§€ì •í•œ ì‹œê°„ë™ì•ˆ ì‹¤í–‰í•œë‹¤.<br/>ì§€ì •ëœ ì‹œê°„ì´ ì§€ë‚˜ê±°ë‚˜ ì‘ì—…ì´ ì¢…ë£Œë˜ë©´ `join()`ì„ í˜¸ì¶œí•œ ì“°ë ˆë“œë¡œ ë‹¤ì‹œ ëŒì•„ì™€ ì‹¤í–‰ì„ ê³„ì†í•œë‹¤.<br/>ì‹œê°„ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ì‘ì—…ì´ ì¢…ë£Œë  ë•Œê¹Œì§€ ëŒ€ê¸°í•œë‹¤.   |\n|                               void interrupt()                               | `sleep()`ì´ë‚˜ `join()`ì— ì˜í•´ WAITING ìƒíƒœê°€ ëœ ì“°ë ˆë“œë¥¼ ê¹¨ì›Œ RUNNABLE ìƒíƒœë¡œ ë§Œë“ ë‹¤.<br/>í•´ë‹¹ ì“°ë ˆë“œëŠ” InterruptedExceptionì„ ë°œìƒí•¨ìœ¼ë¡œì¨ ì¼ì‹œì •ì§€ìƒíƒœë¥¼ ë²—ì–´ë‚˜ê²Œ ëœë‹¤. |\n|                             static void yield()                              |                                  ì‹¤í–‰ ì¤‘, ìì‹ ì—ê²Œ ì£¼ì–´ì§„ ì‹¤í–‰ì‹œê°„ì„ ë‹¤ë¥¸ ì“°ë ˆë“œì—ê²Œ ì–‘ë³´í•˜ê³  ìì‹ ì€ RUNNABLE ìƒíƒœê°€ ëœë‹¤.                                   |\n|                           (deprecated) void stop()                           |                                                       ì“°ë ˆë“œë¥¼ ì¦‰ì‹œ ì¢…ë£Œì‹œí‚¨ë‹¤.                                                       |\n|                         (deprecated) void suspend()                          |                                   ì“°ë ˆë“œë¥¼ ì¼ì‹œì •ì§€ì‹œí‚¨ë‹¤.<br/>`resume()`ì„ í˜¸ì¶œí•˜ë©´ ë‹¤ì‹œ RUNNABLE ìƒíƒœê°€ ëœë‹¤.                                   |\n|                            (deprecated) resume()                             |                                     `suspend()`ì— ì˜í•´ ì¼ì‹œì •ì§€ìƒíƒœì— ìˆëŠ” ì“°ë ˆë“œë¥¼ RUNNABLE ìƒíƒœë¡œ ë§Œë“ ë‹¤.                                      |\n\n> ì°¸ê³ ) stop(), suspend(), resume()ì€ ì“°ë ˆë“œë¥¼ êµì°©ìƒíƒœë¡œ ë§Œë“¤ê¸° ì‰½ê¸° ë•Œë¬¸ì— deprecate ëë‹¤.\n\n### Threadì˜ LifeCycle\n\nì“°ë ˆë“œì˜ ë¼ì´í”„ì‚¬ì´í´ì„ ê·¸ë ¤ë³´ì•˜ë‹¤.<br>\ní•­ìƒ ì“°ë ˆë“œê°€ ë²ˆí˜¸ ìˆœì„œëŒ€ë¡œ ë™ì‘í•œë‹¤ëŠ” ë³´ì¥ì€ ì—†ì§€ë§Œ, ëª¨ë“  ê²½ìš°ë¥¼ í•œ ë²ˆ ì”© ê±°ì¹œë‹¤ëŠ” ê°€ì •í•˜ì— ìˆœì„œë¥¼ ë§¤ê²¨ë³´ì•˜ë‹¤.<br>\nì‚¬ì§„ì„ í´ë¦­í•˜ë©´ ê¹”ë”í•˜ê²Œ ë³¼ ìˆ˜ ìˆë‹¤.\n\n![](thread-status-in-jvm.jpeg)\n\n## sleep(long millis) - ì¼ì • ì‹œê°„ë™ì•ˆ ëŒ€ê¸°í•œë‹¤.\n\n`static void sleep(long millis)` ë©”ì„œë“œëŠ” ì“°ë ˆë“œë¥¼ ì¼ì • ì‹œê°„ë™ì•ˆ ì¼ì‹œì •ì§€ ìƒíƒœë¡œ ë§Œë“ ë‹¤.<br>\nì¼ì§€ì •ì§€ëœ ì“°ë ˆë“œëŠ” ì£¼ì–´ì§„ ì‹œê°„ì´ ëª¨ë‘ ì§€ë‚˜ê±°ë‚˜(time-out) ë˜ëŠ” `interrupt()`ê°€ í˜¸ì¶œë˜ë©´ `InterruptedExcepion`ì´ ë°œìƒë˜ê³  ì‹¤í–‰ëŒ€ê¸° ìƒíƒœê°€ ëœë‹¤.\n\nì£¼ì–´ì§„ ì‹œê°„ì´ ëª¨ë‘ ì§€ë‚¬ì„ ë•Œì—ëŠ” `InterruptedExcepion`ì´ ë°œìƒí•˜ì§€ ì•Šê³  `Runnable` ìƒíƒœê°€ ëœë‹¤.\n\n```java\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(\"[\" + LocalDateTime.now() + \"] Start\");\n        MyThread1 myThread1 = new MyThread1();\n        System.out.println(\"[\" + LocalDateTime.now() + \"] Init State ==> \" + myThread1.getState());\n        myThread1.start();\n    }\n}\n\nclass MyThread1 extends Thread {\n\n    @Override\n    public void run() {\n        try {\n            System.out.println(\"[\" + LocalDateTime.now() + \"] Before Sleep ==> \" + getState());\n            sleep(5 * 1000); // 5ì´ˆê°„ sleep\n            System.out.println(\"[\" + LocalDateTime.now() + \"] After Sleep ==> \" + getState());\n        } catch (InterruptedException e) {\n            System.out.println(\"[\" + LocalDateTime.now() + \"] Interrupted ==> \" + getState());\n        }\n    }\n}\n\n== Console ==\n[2024-07-03T19:07:02.812505] Start\n[2024-07-03T19:07:02.818183] Init State ==> NEW\n[2024-07-03T19:07:02.825393] Before Sleep ==> RUNNABLE\n[2024-07-03T19:07:07.829930] After Sleep ==> RUNNABLE\n```\n\n1. ìœ„ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ê³§ë°”ë¡œ \"Init State ==> NEW\"ì™€ \"Before Sleep ==> RUNNABLE\"ì´ ì¶œë ¥ë˜ê³  5ì´ˆ ë’¤ì— \"After Sleep ==> RUNNABLE\" ì´ ì¶œë ¥ëœë‹¤.<br>\n2. `myThread1`ì´ ìƒì„±ë˜ì–´ _NEW_ ìƒíƒœê°€ ë˜ê³  `start()` ë©”ì„œë“œ í˜¸ì¶œë¡œ _RUNNABLE_ ìƒíƒœë¡œ ë°”ë€ë‹¤.<br>\n3. ê·¸ë¦¬ê³  ë³¸ì¸ì˜ ì°¨ë¡€ê°€ ë˜ë©´ `run()` ë©”ì„œë“œê°€ í˜¸ì¶œë˜ì–´ ì‘ì—…ì„ ì‹œì‘í•œë‹¤.<br>\n4. `run()` ì•ˆì—ì„œ `sleep()`ì„ í˜¸ì¶œí•˜ê¸° ì „ ìƒíƒœëŠ” _RUNNABLE_ ì´ê³ , `sleep()`ì´ í˜¸ì¶œë˜ì–´ ì“°ë ˆë“œëŠ” ë™ì‘ì„ ë©ˆì¶”ê²Œ ëœë‹¤.\n5. 5ì´ˆê°€ ì§€ë‚˜ë©´ RUNNABLE ìƒíƒœë¡œ ë°”ë€ë‹¤. ë”°ë¼ì„œ ë‹¤ìŒ ì½”ë“œë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆê²Œ ëœë‹¤.<br>ê²°ê³¼ì ìœ¼ë¡œ \"After Sleep ==> RUNNABLE\" ì´ ì¶œë ¥ëœë‹¤.\n\n<br>\n\nê·¸ëŸ¼ `MyThread`ë¥¼ ì‹¤í–‰í•˜ê³  3ì´ˆ ë’¤ì— `interrupt()`ë¥¼ í˜¸ì¶œí•´ë³´ë©´ ì–´ë–»ê²Œ ë ê¹Œ?\n\n```java\npublic class Main {\n    public static void main(String[] args) throws InterruptedException {\n        System.out.println(\"[\" + LocalDateTime.now() + \"] Start\");\n        MyThread1 myThread1 = new MyThread1();\n        System.out.println(\"[\" + LocalDateTime.now() + \"] Init State ==> \" + myThread1.getState());\n        myThread1.start();\n\n        Thread.sleep(3 * 1000);\n        myThread1.interrupt();\n    }\n}\n\nclass MyThread1 extends Thread {\n\n    @Override\n    public void run() {\n        try {\n            System.out.println(\"[\" + LocalDateTime.now() + \"] Before Sleep ==> \" + getState());\n            sleep(5 * 1000); // 5ì´ˆê°„ sleep\n            System.out.println(\"[\" + LocalDateTime.now() + \"] After Sleep ==> \" + getState());\n        } catch (InterruptedException e) {\n            System.out.println(\"[\" + LocalDateTime.now() + \"] Interrupted ==> \" + getState());\n        }\n    }\n}\n\n== Console ==\n[2024-07-03T19:06:30.126652] Start \n[2024-07-03T19:06:30.136039] Init State ==> NEW\n[2024-07-03T19:06:30.143565] Before Sleep ==> RUNNABLE\n[2024-07-03T19:06:33.145258] Interrupted ==> RUNNABLE\n```\n\n\"Before Sleep ==> RUNNABLE\" ê¹Œì§€ëŠ” ìœ„ì™€ ë™ì¼í•˜ë‹¤.<br>\ní•˜ì§€ë§Œ 3ì´ˆ ë’¤ì— `myThread1.interrupt()`ì„ í˜¸ì¶œí•˜ë‹ˆ \"Interrupted ==> RUNNABLE\"ê°€ ì¶œë ¥ë˜ì—ˆë‹¤.<br>\n`InterruptedException`ì´ ë°œìƒí•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n\n<br>\n\n`sleep()`ì„ ì‚¬ìš©í•  ë•Œ í•œ ê°€ì§€ ì£¼ì˜í•  ì ì´ ìˆë‹¤.<br>\nì•„ë˜ ì˜ˆì‹œ ì½”ë“œë¥¼ ì‚´í´ë³´ì.\n\n```java\npublic class Main {\n    public static void main(String[] args) throws InterruptedException {\n        MyThread1 myThread1 = new MyThread1();\n        MyThread2 myThread2 = new MyThread2();\n        myThread1.start();\n        myThread2.start();\n\n        // myThread1ì—ê²Œ 2ì´ˆê°„ sleep ì‹œí‚¨ë‹¤.\n        myThread1.sleep(2 * 1000);\n\n        System.out.println(\"[Th-main] ì¢…ë£Œ \");\n    }\n}\n\nclass MyThread1 extends Thread {\n\n    @Override\n    public void run() {\n        for (int i = 0; i < 300; i++) {\n            System.out.print(\"1\");\n        }\n        System.out.println(\"[Th-1] ì¢…ë£Œ \");\n    }\n}\n\nclass MyThread2 extends Thread {\n\n    @Override\n    public void run() {\n        for (int i = 0; i < 300; i++) {\n            System.out.print(\"2\");\n        }\n        System.out.println(\"[Th-2] ì¢…ë£Œ \");\n    }\n}\n\n== Console ==\n111111222222222222222222222222222221122211111111111222222221111111111111111111111111\n122222222222222222222222222222222221222222111221111111122222222222222222222222222222\n222211111111111111111111111111111111111111111111111111111111111111222222222222211111\n111111112222222222222222222222222211111111111222222222221122222222222222222222222222\n222222221111111111111111111111111111111111122222222222222222112222222221111111111111\n111111111111111111111111222222222222222222222222222222222211111121222222222211122222\n2222221122222222222222222221[Th-2] ì¢…ë£Œ 111111111111111111111111111111111111111111111\n11111111111111111111111[Th-1] ì¢…ë£Œ [Th-main] ì¢…ë£Œ \n```\n\nìœ„ ì½”ë“œë¥¼ ì‚´í´ë³´ë©´, `myThread1`ê³¼ `myThread2`ë¥¼ ì‹¤í–‰í•˜ê³ , `myThread1.sleep(2 * 1000)`ì„ í˜¸ì¶œí•˜ì—¬ `Thread1`ì—ê²Œ 2ì´ˆê°„ ëŒ€ê¸° ìƒíƒœì— ë¹ ì§€ë„ë¡ í–ˆë‹¤.<br>\ní•˜ì§€ë§Œ ì—¬ëŸ¬ ë²ˆ ë°˜ë³µ ì‹¤í–‰í•´ë„ ë§¤ë²ˆ **[Th-main]ì´ ë§¨ ë‚˜ì¤‘ì— ëë‚œë‹¤.**<br>\nì •ì‘ [Th-1]ì€ ì œì¼ ë¨¼ì € ëë‚˜ëŠ” ê²½ìš°ë„ ë°œìƒí•œë‹¤.<br>\nì™œ ì´ëŸ° í˜„ìƒì´ ë°œìƒí• ê¹Œ?\n\nì´ìœ ëŠ” ë°”ë¡œ **`sleep()` ë©”ì„œë“œëŠ” í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ì“°ë ˆë“œì— ëŒ€í•´ ë™ì‘**í•˜ê¸° ë•Œë¬¸ì´ë‹¤.<br>\nì¦‰, ì•„ë˜ ë‘ ì½”ë“œê°€ ë™ì¼í•œ ê²ƒì´ë‹¤.\n\n```java\nmyThread1.sleep(2 * 1000); == Thread.currentThread().sleep(2 * 1000);\n```\n\nì´ëŸ¬í•œ ì´ìœ ë¡œ `sleep()` ë©”ì„œë“œëŠ” staticìœ¼ë¡œ ì„ ì–¸ë˜ì–´ ìˆìœ¼ë©°, ì°¸ì¡°ë³€ìˆ˜ë¥¼ ì´ìš©í•´ì„œ `sleep()`ì„ í˜¸ì¶œí•˜ê¸° ë³´ë‹¨ **ê°€ê¸‰ì  `Thread.sleep()`ì„ í†µí•´ í˜¸ì¶œí•˜ëŠ” ê²ƒì´ ê¶Œì¥**ëœë‹¤.\n\n`MyThread1`ì— `sleep`ì„ ê±¸ê³  ì‹¶ìœ¼ë©´ `MyThread1`ì—ì„œ `sleep()`ì„ í˜¸ì¶œí•´ì•¼ í•œë‹¤.\n\n## interrupt()ì™€ interrupted() - ì“°ë ˆë“œì˜ ì‘ì—…ì„ ì·¨ì†Œí•œë‹¤.\n\n**`interrupt()`ëŠ” ì“°ë ˆë“œì—ê²Œ ì‘ì—…ì„ ë©ˆì¶”ë¼ê³  ìš”ì²­**í•œë‹¤.<br>\ní•˜ì§€ë§Œ ìš”ì²­ë§Œ í•  ë¿, ê°•ì œë¡œ ë©ˆì¶”ê²Œ í•  ìˆ˜ëŠ” ì—†ë‹¤.<br>\nê·¸ì € `Thread`ì˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ì¸ `boolean interrupted` ê°’ì„ ë°”ê¿€ ë¿ì´ë‹¤.\n\n`boolean interrupted` ê°’ì„ í™•ì¸í•˜ëŠ” ë°©ë²•ìœ¼ë¡œëŠ” `boolean isInterrupted()`ì™€ `static boolean interrupted()`ê°€ ìˆë‹¤.\në‘˜ì˜ ì°¨ì´ë¡œ, `isInterrupted()`ì˜ ê²½ìš° ë‹¨ìˆœíˆ `boolean interrupted` ê°’ì„ ë°˜í™˜í•˜ì§€ë§Œ,\n`Thread.interrupted()`ëŠ” ë§Œì•½ `boolean interrupted` ê°’ì´ `true` ì¼ ê²½ìš°, í˜„ì¬ì˜ ê°’ì„ ë°˜í™˜í•˜ë©´ì„œ ê°’ì„ `false`ë¡œ ì„¤ì •í•œë‹¤.<br>\nê·¸ë¦¬ê³  **`Thread.interrupted()`ëŠ” ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” í˜„ì¬ ì“°ë ˆë“œë¥¼ ëŒ€ìƒìœ¼ë¡œ ë™ì‘**í•œë‹¤.\n\nì“°ë ˆë“œê°€ `sleep()`, `wait()`, `join()` ì— ì˜í•´ ì¼ì‹œì •ì§€ ìƒíƒœì— ìˆì„ ë•Œ, í•´ë‹¹ ì“°ë ˆë“œì— `interrupt()`ë¥¼ í˜¸ì¶œí•˜ë©´ `InterruptedException`ì´ ë°œìƒí•˜ê³  ì“°ë ˆë“œëŠ”\nRUNNABLE ìƒíƒœë¡œ ë°”ë€ë‹¤. ê·¸ë¦¬ê³  ë™ì‹œì— `interrupted` ìƒíƒœëŠ” `false`ë¡œ ì´ˆê¸°í™”ëœë‹¤.\n\nì•„ë˜ ì½”ë“œë¡œ ì´í•´í•´ë³´ì.\n\n```java\nimport javax.swing.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        MyThread myThread = new MyThread();\n        myThread.start();\n\n        String input = JOptionPane.showInputDialog(\"ì•„ë¬´ ê°’ì´ë‚˜ ì…ë ¥í•˜ì„¸ìš”.\");\n        System.out.println(\"ì…ë ¥ê°’: \" + input);\n        myThread.interrupt();\n        System.out.println(\"isInterrupted: \" + myThread.isInterrupted());\n    }\n}\n\nclass MyThread extends Thread {\n\n    @Override\n    public void run() {\n        int i = 10;\n\n        while (i != 0 && !isInterrupted()) {\n            System.out.println(i--);\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                System.out.println(\"InterruptedException ë°œìƒ!\");\n            }\n        }\n\n        System.out.println(\"ì¹´ìš´íŠ¸ ì¢…ë£Œ\");\n    }\n}\n\n== Console ==\n10\n9\n8\n7\nì…ë ¥ê°’: abcd\nInterruptedException ë°œìƒ!\n6\nisInterrupted: true\n5\n4\n3\n2\n1\nì¹´ìš´íŠ¸ ì¢…ë£Œ\n```\n\n1. `MyThread`ëŠ” ië¥¼ ì¶œë ¥í•˜ê³  ê°’ì„ 1 ê°ì†Œí•œë‹¤.<br>\n2. ê·¸ë¦¬ê³  `Thread.sleep(1000)` ìœ¼ë¡œ 1ì´ˆê°„ `TIMED_WAITING` ìƒíƒœê°€ ëœë‹¤.<br>\n3. ì‚¬ìš©ìì˜ ì…ë ¥ì´ ì£¼ì–´ì§€ê¸° ì „ê¹Œì§€ëŠ” `interrupt()` ê°€ ë°œìƒë˜ì§€ ì•Šê¸°ì— 1ì´ˆê°€ ì§€ë‚˜ë©´ `InterruptedException`ëŠ” ë°œìƒí•˜ì§€ ì•Šê³  ìë™ìœ¼ë¡œ `RUNNABLE` ìƒíƒœë¡œ ë³€ê²½ëœë‹¤.\n4. ë§Œì•½ ì´ë•Œ, ì‚¬ìš©ìì˜ ì…ë ¥ì´ ì£¼ì–´ì§€ë©´ `interrupt()`ê°€ í˜¸ì¶œë˜ì–´ _\"isInterrupted: true\"_ ê°€ ì¶œë ¥ëœë‹¤.\n5. í•˜ì§€ë§Œ whileë¬¸ì€ ì¢…ë£Œë˜ì§€ ì•ŠëŠ”ë‹¤.\n6. ì´ìœ ëŠ”, `Thread.sleep(1000)` ìœ¼ë¡œ `TIMED_WAITING` ìƒíƒœì¸ ì™€ì¤‘ì—, `interrupt()`ê°€ í˜¸ì¶œë˜ì—ˆê¸° ë•Œë¬¸ì— **`InterruptedException`ê°€ ë°œìƒí•˜ë©´ì„œ\në™ì‹œì— `interrupted` ìƒíƒœëŠ” `false`ë¡œ ì´ˆê¸°í™”**ë˜ê¸° ë•Œë¬¸ì´ë‹¤.\në”°ë¼ì„œ `break`ë¡œ í•´ë‹¹ whileë¬¸ì„ íƒˆì¶œí•˜ê±°ë‚˜, **catchë¬¸ ì•ˆì— `interrupt()`ë¥¼ í˜¸ì¶œí•˜ì—¬ ì“°ë ˆë“œ ë³¸ì¸ì˜ `interrupted` ìƒíƒœë¥¼ `true`ë¡œ ë°”ê¿”ì¤˜ì•¼ í•œë‹¤.**\n\n```java\ncatch (InterruptedException e) {\n    interrupt();\n}\n```\n\n## yield() - ë‹¤ë¥¸ ì“°ë ˆë“œì—ê²Œ ì–‘ë³´í•œë‹¤.\n\n`yield()`ëŠ” ìì‹ ì˜ ì‹¤í–‰ ì‹œê°„ì„ ë‹¤ìŒ ì°¨ë¡€ì˜ ì“°ë ˆë“œì—ê²Œ ì–‘ë³´í•˜ê³ , ìì‹ ì€ RUNNABLE ìƒíƒœë¡œ ëŒì•„ê°„ë‹¤.<br>\n**`yield()`ë¥¼ ì ì ˆíˆ ì‚¬ìš©í•˜ë©´ í”„ë¡œê·¸ë¨ì˜ ì‘ë‹µì„±ì„ ë†’ì´ê³  íš¨ìœ¨ì ì¸ ë©€í‹° ì“°ë ˆë”© í”„ë¡œê·¸ë¨ì„ ì‘ì„±**í•  ìˆ˜ ìˆë‹¤.<br>\nì‹¤ì œë¡œ `yield()`ë¥¼ ì‚¬ìš©í•´ì„œ íš¨ìœ¨ì„ ë†’ì¸ ì˜ˆì‹œ ì½”ë“œë¥¼ ì‚´í´ë³´ì.<br>\n\n```java\npublic class Main {\n    public static void main(String[] args) {\n        MyThread thread1 = new MyThread(\"*\");\n        MyThread thread2 = new MyThread(\"**\");\n        MyThread thread3 = new MyThread(\"***\");\n        thread1.start();\n        thread2.start();\n        thread3.start();\n\n        try {\n            Thread.sleep(2000);\n            thread1.suspend();\n            Thread.sleep(2000);\n            thread2.suspend();\n            Thread.sleep(2000);\n            thread1.resume();\n            Thread.sleep(3000);\n            thread1.stop();\n            thread2.stop();\n            Thread.sleep(2000);\n            thread3.stop();\n        } catch (InterruptedException e) {\n        }\n    }\n}\n\nclass MyThread implements Runnable {\n\n    private final Thread thread;\n\n    private boolean stopped = false;\n    private boolean suspended = false;\n\n    public MyThread(String name) {\n        this.thread = new Thread(this, name);\n    }\n\n    @Override\n    public void run() {\n        String name = thread.getName();\n        \n        while (!stopped) { // stopped ë  ë•Œê¹Œì§€ ë¬´í•œì • ì‹¤í–‰\n            if (!suspended) { // suspend ìƒíƒœê°€ ì•„ë‹ˆë©´\n                System.out.println(name); // name ì¶œë ¥\n\n                try {\n                    Thread.sleep(1000); // 1ì´ˆ ëŒ€ê¸°\n                } catch (InterruptedException e) {\n                    System.out.println(name + \" - interruped !!\");\n                }\n            } else { // suspend ìƒíƒœì´ë©´\n                // yield() í˜¸ì¶œ\n                // ë§Œì•½, yield()ë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šìœ¼ë©´ ë¬´í•œì • while ë¬¸ì„ ë°˜ë³µí•œë‹¤.\n                Thread.yield();\n            }\n        }\n\n        System.out.println(name + \" - stopped\");\n    }\n\n    public void suspend() {\n        suspended = true;\n        this.thread.interrupt();\n        System.out.println(thread.getName() + \" - interrupt() by suspend()\");\n    }\n\n    public void stop() {\n        stopped = true;\n        this.thread.interrupt();\n        System.out.println(thread.getName() + \" - interrupt() by stop()\");\n    }\n\n    public void resume() {\n        suspended = false;}\n\n    public void start() {\n        this.thread.start();\n    }\n}\n```\n\n`suspend()`ì™€ `stop()`, `resume()`ì€ êµì°©ìƒíƒœë¥¼ ìœ ë°œí•˜ê¸°ì— deprecated ë˜ì—ˆì§€ë§Œ, `yield()`ë¥¼ ì˜ ì´í•´í•˜ê¸° ìœ„í•´ ì‚¬ìš©í–ˆë‹¤.<br>\n\nìœ„ ì½”ë“œì—ì„œ ì¤‘ì ì ìœ¼ë¡œ ë´ì•¼í•  ê²ƒì€ Main ë©”ì„œë“œì˜ ë¡œì§ë³´ë‹¤ëŠ” `MyThread`ì˜ ë¡œì§ì´ë‹¤.<br>\n\n`MyThread`ëŠ” _stopped_ ê°€ ë˜ê¸° ì „ê¹Œì§€ëŠ” nameì„ ì¶œë ¥í•˜ê³  1ì´ˆê°„ ëŒ€ê¸°í•˜ëŠ” ì‘ì—…ì„ ë¬´í•œíˆ ìˆ˜í–‰í•œë‹¤.<br>\ní•˜ì§€ë§Œ ì´ë•Œ, _suspended_ ìƒíƒœì— ë”°ë¼ í–‰ë™ì´ ë‹¬ë¼ì§„ë‹¤.<br>\në§Œì•½, `suspend()`ê°€ í˜¸ì¶œë˜ì–´ ì ì‹œ ì¼ì‹œì •ì§€ ìƒíƒœê°€ ë˜ì—ˆì„ ë•Œ, ì¶œë ¥ì„ í•˜ì§€ ì•ŠëŠ”ë‹¤.<br>\në”ì´ìƒ whileë¬¸ì„ ëŒ í•„ìš”ê°€ ì—†ê²Œ ëœ ê²ƒì´ë‹¤.<br>\në”°ë¼ì„œ `suspended`ê°€ `false`ê°€ ë  ë•Œê¹Œì§€ ë‹¤ë¥¸ ì“°ë ˆë“œì—ê²Œ ì‘ì—…ì„ ì–‘ë³´í•˜ëŠ” ê²ƒì´ íš¨ìœ¨ì ì¼ ê²ƒì´ë‹¤.\n\nì‹¤ì œë¡œ ìœ„ ì½”ë“œì—ì„œ `yield()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ë¶€ë¶„ì„ ì£¼ì„ì²˜ë¦¬í•´ë³´ë©´, í”„ë¡œê·¸ë¨ì´ ë¹„íš¨ìœ¨ì ìœ¼ë¡œ ë™ì‘í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n\n## join() - ë‹¤ë¥¸ ì“°ë ˆë“œì˜ ì‘ì—…ì„ ê¸°ë‹¤ë¦°ë‹¤.\n\n`join()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ì“°ë ˆë“œ ìì‹ ì´, í•˜ë˜ ì‘ì—…ì„ ë©ˆì¶”ê³  íŠ¹ì • ì“°ë ˆë“œì—ê²Œ ì§€ì •ëœ ì‹œê°„ë™ì•ˆ ì‘ì—…ì„ ìˆ˜í–‰í•˜ë„ë¡ ë³¸ì¸ì€ WAITING ìƒíƒœë¡œ ëŒ€ê¸°í•  ë•Œ ì‚¬ìš©í•œë‹¤.<br>\nì‹œê°„ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´, íŠ¹ì • ì“°ë ˆë“œì˜ ì‘ì—…ì´ ëª¨ë‘ ëë‚  ë•Œê¹Œì§€ ëŒ€ê¸°í•œë‹¤.\n\n`join()`ë„ `sleep()` ì²˜ëŸ¼ `interrupt()`ë¡œ WAITING ìƒíƒœì—ì„œ RUNNABLE ìƒíƒœë¡œ ëœë‹¤.<br>\në‘˜ì˜ ì°¨ì´ë¡œ, **`join()` ë©”ì„œë“œëŠ” ëŒ€ìƒì´ í˜„ì¬ ì“°ë ˆë“œê°€ ì•„ë‹Œ ë‹¤ë¥¸ íŠ¹ì • ì“°ë ˆë“œì— ëŒ€í•´ì„œ ë™ì‘í•œë‹¤**ëŠ” ì ì´ë‹¤.<br>\nì´ë•Œë¬¸ì— static ë©”ì„œë“œê°€ ì•„ë‹ˆë‹¤.\n\nì´ë²ˆì—ë„ ì˜ˆì‹œ ì½”ë“œë¥¼ ì‚´í´ë³´ì.\n\nì•„ë˜ ì½”ë“œëŠ” 300ë²ˆ ë™ì•ˆ ê°ìì˜ ë¬¸ìì—´ì„ ì¶œë ¥í•˜ëŠ” `Thread1`ê³¼ `Thread2`ê°€ ìˆì„ ë•Œ<br>\nmain ì“°ë ˆë“œê°€ `Thread1`ê³¼ `Thread2`ì˜ ì‘ì—…ì´ ëë‚  ë•Œê¹Œì§€ ëŒ€ê¸°í•˜ê¸° ìœ„í•´ `join()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ì½”ë“œì´ë‹¤.\n\n```java\npublic class Main {\n    public static void main(String[] args) {\n        Thread1 thread1 = new Thread1();\n        Thread2 thread2 = new Thread2();\n        thread1.start();\n        thread2.start();\n\n        long startTime = System.currentTimeMillis();\n\n        try {\n            thread1.join(); // main ì“°ë ˆë“œê°€ thread1ì˜ ì‘ì—…ì´ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.\n            thread2.join(); // main ì“°ë ˆë“œê°€ thread2ì˜ ì‘ì—…ì´ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.\n            // thread1ê³¼ thread2ì— join() í–ˆê¸° ë•Œë¬¸ì—, main ì“°ë ˆë“œëŠ” ë°”ë¡œ ì¢…ë£Œë˜ì§€ ì•ŠëŠ”ë‹¤.\n        } catch (InterruptedException e) {\n        }\n\n        long endTime = System.currentTimeMillis();\n        System.out.println(\"ì†Œìš”ì‹œê°„: \" + (endTime - startTime));\n    }\n}\n\nclass Thread1 extends Thread {\n\n    @Override\n    public void run() {\n        for (int i = 0; i < 300; i++) {\n            System.out.print(new String(\"-\"));\n        }\n    }\n}\n\nclass Thread2 extends Thread {\n\n    @Override\n    public void run() {\n        for (int i = 0; i < 300; i++) {\n            System.out.print(new String(\"|\"));\n        }\n    }\n}\n\n== Consele ==\nì†Œìš”ì‹œê°„: 8\n```\n\nìœ„ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ì‹¤í–‰ ì‹œê°„ì´ ë§¤ë²ˆ 0 ì´ìƒì˜ ê°’ì´ ë‚˜ì˜¬ ê²ƒì´ë‹¤.<br>\në§Œì•½ `join()` ê´€ë ¨ ì½”ë“œë¥¼ ëª¨ë‘ ì£¼ì„ì²˜ë¦¬ í•œ ë‹¤ìŒ ì‹¤í–‰í•´ë³´ë©´, í•­ìƒ 0ì´ ì¶œë ¥ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n\nì´ë²ˆì—ëŠ” `join()` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ë‹¤ë¥¸ ì˜ˆì‹œë¡œ, ê°€ë¹„ì§€ ì½œë ‰í„°ë¥¼ ë°ëª¬ ì“°ë ˆë“œë¡œ ë§Œë“¤ì–´ë³¸ ì½”ë“œë¥¼ í†µí•´ `sleep()`, `interrupt()`, `join()` ì„ ì‚¬ìš©í•˜ëŠ” ë²•ì— ëŒ€í•´ ì´í•´í•´ë³´ì.<br>\nìì„¸í•œ ì„¤ëª…ì€ ì£¼ì„ì„ ì°¸ê³ í•˜ì.\n\n```java\nclass GarbageCollector extends Thread {\n\n    private static final int MAX_MEMORY = 1000;\n\n    int usedMemory = 0;\n\n    public GarbageCollector() {\n        setDaemon(true);\n    }\n\n    @Override\n    public void run() {\n        while (true) {\n            try {\n                sleep(10 * 1000); // 10ì´ˆ ì£¼ê¸°ë¡œ ì‹¤í–‰í•œë‹¤.\n            } catch (InterruptedException e) {\n                System.out.println(\"Awaken by interrupt()\");\n            }\n            gc(); // ë¡œì§ì„ ìˆ˜í–‰í•œë‹¤.\n            System.out.println(\"Garbage Collected. Free Memory : \" + freeMemory()); // ê²°ê³¼ë¥¼ ì¶œë ¥í•œë‹¤.\n        }\n    }\n\n    private void gc() {\n        usedMemory -= 300;\n        if (usedMemory < 0) {\n            usedMemory = 0;\n        }\n    }\n\n    public int totalMemory() {\n        return MAX_MEMORY;\n    }\n\n    public int freeMemory() {\n        return MAX_MEMORY - usedMemory;\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) throws InterruptedException {\n        GarbageCollector gc = new GarbageCollector();\n        gc.start();\n\n        int requiredMemory = 0;\n        for (int i = 0; i < 20; i++) {\n            requiredMemory = (int) (Math.random() * 10) * 20;\n\n            // í•„ìš”í•œ ë©”ëª¨ë¦¬ê°€ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì–‘ë³´ë‹¤ í¬ê±°ë‚˜, ì „ì²´ ë©”ëª¨ë¦¬ì˜ 60% ì´ìƒì„ ì‚¬ìš©í–ˆì„ ê²½ìš°\n            if (gc.freeMemory() < requiredMemory || gc.freeMemory() < gc.totalMemory() * 0.4) {\n                gc.interrupt(); // sleep ìƒíƒœì¸ gcë¥¼ ê¹¨ìš´ë‹¤.\n                gc.join(100); // 0.1ì´ˆ ë™ì•ˆ gcê°€ ì‘ì—…ì„ ìˆ˜í–‰í•  ë•Œê¹Œì§€ main ì“°ë ˆë“œëŠ” ì ì‹œ ëŒ€ê¸°í•œë‹¤.\n            }\n\n            gc.usedMemory += requiredMemory;\n            System.out.println(\"usedMemory: \" + gc.usedMemory);\n        }\n    }\n}\n```\n\n## ë§ˆì¹˜ë©°\n\nì§€ê¸ˆê¹Œì§€ **ì“°ë ˆë“œì˜ ìƒíƒœ**ì™€ **ì“°ë ˆë“œì˜ í–‰ë™ì„ ì œì–´í•˜ëŠ” ë©”ì„œë“œ**ë“¤ì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ë‹¤.<br>\nì“°ë ˆë“œë¥¼ ë‹¤ë£¨ê¸° ìœ„í•´ì„œ í•„ìˆ˜ì ì¸ ì§€ì‹ì´ë¯€ë¡œ ì§ì ‘ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³  ì‹¤í–‰ì‹œì¼œê°€ë©° ì´í•´í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•´ë³´ì¸ë‹¤.\n\në‹¤ìŒìœ¼ë¡œëŠ” ì—¬ëŸ¬ ì“°ë ˆë“œë¥¼ ë™ì‹œì— ì‹¤í–‰ì‹œì¼°ì„ ë•Œ, **ë™ê¸°í™”í•˜ëŠ” ë²•**ì— ëŒ€í•´ ì•Œì•„ë³´ê² ë‹¤."},{"excerpt":"1. Javaì—ì„œ Threadë¥¼ êµ¬í˜„í•˜ê³  ì‹¤í–‰í•˜ëŠ” ë°©ë²• Javaì—ì„œ Threadë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ë‘ ê°€ì§€ê°€ ìˆë‹¤.\nThread í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ëŠ” ë°©ë²•ê³¼ Runnable ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì´ë‹¤. ì–´ëŠ ë°©ë²•ì„ ì¨ë„ ìƒê´€ì€ ì—†ì§€ë§Œ, JavaëŠ” ë‹¤ì¤‘ ìƒì†ì´ ë¶ˆê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— Thread í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ìœ¼ë©´ ë‹¤ë¥¸ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì§€ ëª»í•˜ê²Œ ëœë‹¤.\në˜í•œ Tâ€¦","fields":{"slug":"/thread-in-jvm/"},"frontmatter":{"date":"July 03, 2024","title":"Java Thread 1 - Javaì˜ Threadì— ëŒ€í•´ ì•Œì•„ë³´ì","tags":["Java","Thread"]},"rawMarkdownBody":"\n## 1. Javaì—ì„œ Threadë¥¼ êµ¬í˜„í•˜ê³  ì‹¤í–‰í•˜ëŠ” ë°©ë²•\n\nJavaì—ì„œ Threadë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ë‘ ê°€ì§€ê°€ ìˆë‹¤.<br>\nThread í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ëŠ” ë°©ë²•ê³¼ Runnable ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì´ë‹¤.\n\nì–´ëŠ ë°©ë²•ì„ ì¨ë„ ìƒê´€ì€ ì—†ì§€ë§Œ, JavaëŠ” ë‹¤ì¤‘ ìƒì†ì´ ë¶ˆê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— Thread í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ìœ¼ë©´ ë‹¤ë¥¸ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì§€ ëª»í•˜ê²Œ ëœë‹¤.<br>\në˜í•œ Thread í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ê²Œ ë˜ë©´, ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë”©í•  ìˆ˜ ìˆê²Œ ëœë‹¤. ì´ë¡œ ì¸í•´, Thread ë¡œì„œ ê¸°ëŒ€í•˜ëŠ” ë™ì‘ì„ í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.\n\në”°ë¼ì„œ **ì¬ì‚¬ìš©ì„±ê³¼ ì¼ê´€ì„±ì„ ìœ„í•´ì„œëŠ” Runnable ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ê¶Œì¥**í•œë‹¤.\n\n### Thread í´ë˜ìŠ¤ ìƒì†ë°›ê¸°\n\n```java\nclass MyThread extends Thread {\n\n    @Override\n    public void run() {\n        // ì‘ì—… ë‚´ìš©\n    }\n}\n```\n\n### Runnable ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„í•˜ê¸° (ê¶Œì¥)\n\n```java\nclass MyThread implements Runnable {\n\n    @Override\n    public void run() {\n        // ì‘ì—… ë‚´ìš©\n    }\n}\n```\n\n### ì“°ë ˆë“œ ì‹¤í–‰í•˜ê¸°\n\nìœ„ ë‘ ë°©ë²• ì¤‘ í•˜ë‚˜ë¡œ ì“°ë ˆë“œë¥¼ ìƒì„±í–ˆë‹¤ë©´ ì‹¤í–‰í•˜ëŠ” ë²•ë„ ì•Œì•„ì•¼í•œë‹¤.<br>\nê¸°ë³¸ì ìœ¼ë¡œ ì“°ë ˆë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ë°©ë²•ìœ¼ë¡œëŠ” `Thread` í´ë˜ìŠ¤ì˜ `start()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì´ë‹¤.<br>\ní•˜ì§€ë§Œ `start()`ì„ í˜¸ì¶œí•˜ëŠ” ë°©ë²•ì€ ì“°ë ˆë“œë¥¼ êµ¬í˜„í•œ ë°©ë²•ì— ë”°ë¼ ë‹¬ë¼ì§„ë‹¤.\n\n```java\n@Test\nvoid ì“°ë ˆë“œë¥¼_êµ¬í˜„í•˜ëŠ”_ë‘_ë°©ë²•ì˜_ì°¨ì´() {\n    Thread myThread1 = new MyThread1(); // Thread í´ë˜ìŠ¤ ìƒì†\n    myThread1.start();\n    \n    Thread myThread2 = new Thread(new MyThread2()); // Runnable ì¸í„°í˜ì´ìŠ¤ ìƒì†\n    myThread2.start();\n}\n\nclass MyThread1 extends Thread {\n\n    @Override\n    public void run() {\n        System.out.println(\"Thread1 start !\");\n    }\n}\n\nclass MyThread2 implements Runnable {\n\n    @Override\n    public void run() {\n        System.out.println(\"Thread2 start !\");\n    }\n}\n```\n\nThread í´ë˜ìŠ¤ë¥¼ ìƒì†í•œ `MyThread1`ì€ ë°”ë¡œ `Thread` íƒ€ì…ì˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¡œ ë§Œë“¤ê³  `run()` ë©”ì„œë“œë¥¼ ì‹¤í–‰í•˜ë©´ ëœë‹¤.<br>\ní•˜ì§€ë§Œ Runnable ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì†í•œ `MyThread2`ëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ê³ , ì°¸ì¡° ë³€ìˆ˜ë¥¼ `Thread` í´ë˜ìŠ¤ì˜ ìƒì„±ìì˜ ì¸ìë¡œ ë„˜ê¸°ë©° ê²°ê³¼ì ìœ¼ë¡œ `Thread` íƒ€ì… ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•´ì•¼ í•œë‹¤.\n\në§Œì•½ Runnable ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì†ë°›ì€ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¡œ `run()`ë¥¼ í˜¸ì¶œí•˜ë©´, ìƒˆë¡œìš´ ì“°ë ˆë“œê°€ ìƒì„±ë˜ì–´ ì‘ì—…ì„ ìˆ˜í–‰í•˜ì§€ ì•Šê³ , `run()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ì“°ë ˆë“œê°€ ì‘ì—…ì„ ì´ì–´ì„œ ìˆ˜í–‰í•˜ê²Œ ëœë‹¤.\n\n```java\n@Test \nvoid ì“°ë ˆë“œë¥¼_êµ¬í˜„í•˜ëŠ”_ë‘_ë°©ë²•ì˜_ì°¨ì´() {\n    MyThread2 myThread2 = new MyThread2();\n    myThread2.run();\n}\n\n== Console ==\nTest worker\nTest worker\nTest worker\nTest worker\nTest worker\n```\n\n### start() ê´€ë ¨ ì°¸ê³  ì‚¬í•­\n\n1. **ì‚¬ì‹¤ì€ `start()` ë©”ì„œë“œê°€ í˜¸ì¶œëë‹¤ê³  ë°”ë¡œ ì“°ë ˆë“œì˜ ë™ì‘ì´ ì‹¤í–‰ë˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.**<br>\n   Runnable ìƒíƒœê°€ ë˜ê³  CPU ìŠ¤ì¼€ì¤„ë§ì— ì˜í•´ ìì‹ ì˜ ì°¨ë¡€ê°€ ë˜ì–´ì•¼ ë¹„ë¡œì†Œ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ë‹¤.\n   > ì“°ë ˆë“œì˜ ì‹¤í–‰ ìˆœì„œëŠ” OSì˜ CPU ìŠ¤ì¼€ì¥´ëŸ¬ì— ì˜í•´ ê²°ì •ëœë‹¤.\n\n   ì•„ë˜ ê·¸ë¦¼ì€ ì“°ë ˆë“œì˜ ìƒëª… ì£¼ê¸°ë¥¼ ë‚˜íƒ€ë‚¸ ê·¸ë¦¼ì´ë‹¤.\n   ![Thread Status](thread-status.png)\n\n2. **í•œë²ˆ ì‹¤í–‰ì´ ëœ ì“°ë ˆë“œëŠ” ì¬ì‹¤í–‰ í•  ìˆ˜ ì—†ë‹¤.**<br>\n   ì¦‰, í•˜ë‚˜ì˜ ì“°ë ˆë“œì— ëŒ€í•´ `start()`ê°€ ë‹¨ í•œ ë²ˆë§Œ í˜¸ì¶œë  ìˆ˜ ìˆë‹¤.<br>\n   ë§Œì•½, ë™ì¼í•œ ì‘ì—…ì„ í•œ ë²ˆ ë” ìˆ˜í–‰í•´ì•¼ í•œë‹¤ë©´ ìƒˆë¡œìš´ ì“°ë ˆë“œë¥¼ ìƒì„±í•´ì•¼ í•œë‹¤.\n   ```java\n   @Test\n   void ì“°ë ˆë“œëŠ”_ì¼íšŒìš©ì´ë‹¤() {\n       Thread myThread = new MyThread(); // Thread í´ë˜ìŠ¤ ìƒì†\n       myThread.start();\n       myThread.start();\n   }\n   \n   class MyThread extends Thread {\n   \n         @Override\n         public void run() {\n               for (int i = 0; i < 5; i++) {\n                     System.out.println(getName());\n               }\n         }\n   }\n   \n   == Console ==\n   Thread-3\n   Thread-3\n   Thread-3\n   Thread-3\n   Thread-3\n   \n   java.lang.IllegalThreadStateException\n   // ... (ìƒëµ)\n   \n   ---\n   \n   @Test\n   void ì“°ë ˆë“œëŠ”_ì¼íšŒìš©ì´ë‹¤() {\n       Thread myThread = new MyThread(); // Thread í´ë˜ìŠ¤ ìƒì†\n       myThread.start();\n       myThread = new MyThread();\n       myThread.start();\n   }\n   \n   == Console ==\n   Thread-3\n   Thread-3\n   Thread-3\n   Thread-3\n   Thread-3\n   Thread-4\n   Thread-4\n   Thread-4\n   Thread-4\n   Thread-4\n   ```\n\n### start()ì™€ run()ì˜ ì°¨ì´\n\n`start()`ì™€ `run()` ë‘ ë°©ë²• ëª¨ë‘ ì“°ë ˆë“œì˜ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë©”ì„œë“œì´ë‹¤.<br>\ní•˜ì§€ë§Œ í•œ ê°€ì§€ í° ì°¨ì´ì ì´ ìˆë‹¤ë©´, `start()`ëŠ” **ìƒˆë¡œìš´ ì“°ë ˆë“œë¥¼ ë§Œë“¤ê³ , í•´ë‹¹ ì“°ë ˆë“œë¡œ `run()`ì„ ìˆ˜í–‰í•œë‹¤ëŠ” ì **ì´ë‹¤.<br>\në°˜ë©´ `run()`ì€ ë‹¨ìˆœíˆ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒê³¼ ë™ì¼í•˜ë‹¤.\n\n### Main ì“°ë ˆë“œ\n\nJavaì—ëŠ” í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰ì‹œí‚¤ê¸° ìœ„í•œ ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ì˜ ê°œë…ìœ¼ë¡œ main ë©”ì„œë“œê°€ ìˆë‹¤.<br>\nì´ ë©”ì„œë“œê°€ ì‹¤í–‰ë˜ë©´ **main ì“°ë ˆë“œê°€ ìƒì„±**ë˜ê³  **main ì“°ë ˆë“œê°€ main ë©”ì„œë“œë¥¼ ìˆ˜í–‰**í•˜ëŠ” ê²ƒì´ë‹¤.\n\n```java\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(Thread.currentThread().getName());\n    }\n}\n\n== Console ==\nmain\n```\n\nmain ë©”ì„œë“œì˜ ì‘ì—…ì´ ëª¨ë‘ ìˆ˜í–‰ë˜ë©´ í”„ë¡œê·¸ë¨ì´ ì¢…ë£Œëœë‹¤.<br>\ní•˜ì§€ë§Œ main ë©”ì„œë“œê°€ ëª¨ë“  ì‘ì—…ì„ ë§ˆì³¤ë‹¤í•˜ë”ë¼ë„ ë‹¤ë¥¸ ì“°ë ˆë“œê°€ ì•„ì§ ì‘ì—…ì„ ë§ˆì¹˜ì§€ ì•Šì€ ìƒíƒœë¼ë©´ ì–´ë–»ê²Œ ë ê¹Œ?<br>\ní”„ë¡œê·¸ë¨ì´ ì¢…ë£Œë˜ì§€ ì•ŠëŠ”ë‹¤.\n\në”°ë¼ì„œ, **ì‹¤í–‰ ì¤‘ì¸ ìœ ì € ì“°ë ˆë“œ(ë°ëª¬ ì“°ë ˆë“œê°€ ì•„ë‹Œ ì“°ë ˆë“œ)ê°€ í•˜ë‚˜ë„ ì—†ì„ ë•Œ ë¹„ë¡œì†Œ í”„ë¡œê·¸ë¨ì€ ì¢…ë£Œ**ëœë‹¤.\n\n## 2. ì“°ë ˆë“œì˜ ìš°ì„ ìˆœìœ„\n\n`Thread` í´ë˜ìŠ¤ì—ëŠ” `int priority`ë¼ëŠ” ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¥¼ ê°€ì§„ë‹¤.<br>\nì´ ë³€ìˆ˜ë¡œ ì“°ë ˆë“œì˜ ì‘ì—… ìš°ì„ ìˆœìœ„ë¥¼ ì„¤ì •í•˜ì—¬ ì“°ë ˆë“œê°€ ì–»ëŠ” ì‹¤í–‰ì‹œê°„ì´ ë‹¬ë¼ì§„ë‹¤.\n\n`Thread` í´ë˜ìŠ¤ì˜ `public final void setPriority(int newPriority)` ë©”ì„œë“œë¥¼ í†µí•´ ì“°ë ˆë“œì˜ ìš°ì„ ìˆœìœ„ë¥¼ ê²°ì •í•  ìˆ˜ ìˆìœ¼ë©° ì„¤ì •í•  ìˆ˜ ìˆëŠ” ê°’ì˜ ë²”ìœ„ëŠ” 1ë¶€í„° 10ê¹Œì§€ì´ë‹¤.\në²”ìœ„ë¥¼ ë²—ì–´ë‚œ ê°’ìœ¼ë¡œ ì„¤ì •í•˜ë©´ `IllegalArgumentException`ì´ ë°œìƒí•œë‹¤.\nì•„ë˜ëŠ” `Thread` í´ë˜ìŠ¤ì˜ priority ê´€ë ¨ ì½”ë“œë¥¼ ìš”ì•½í•œ ì½”ë“œë‹¤.\n\n```java\npublic class Thread implements Runnable {\n\n    private int priority;\n\n    /**\n     * The minimum priority that a thread can have.\n     */\n    public static final int MIN_PRIORITY = 1;\n    \n    /**\n     * The default priority that is assigned to a thread.\n     */\n    public static final int NORM_PRIORITY = 5;\n    \n    /**\n     * The maximum priority that a thread can have.\n     */\n    public static final int MAX_PRIORITY = 10;\n        \n    public final void setPriority(int newPriority) {\n        ThreadGroup g;\n        checkAccess();\n        if (newPriority > MAX_PRIORITY || newPriority < MIN_PRIORITY) { // ë²”ìœ„ ì œí•œ\n            throw new IllegalArgumentException();\n        }\n        if((g = getThreadGroup()) != null) {\n            if (newPriority > g.getMaxPriority()) {\n                newPriority = g.getMaxPriority();\n            }\n            setPriority0(priority = newPriority);\n        }\n    }\n}\n```\n\npriority ê°’ì´ í´ìˆ˜ë¡ ìš°ì„ ìˆœìœ„ê°€ ë†’ì•„ì§„ë‹¤.<br>\në˜ ì•Œì•„ë‘ì–´ì•¼ í•  ê²ƒìœ¼ë¡œ, ì“°ë ˆë“œë¥¼ ìƒì„±í•œ ì“°ë ˆë“œë¡œë¶€í„° ìš°ì„ ìˆœìœ„ë¥¼ ìƒì†ë°›ëŠ”ë‹¤.<br>\nmain ë©”ì„œë“œë¥¼ ìˆ˜í–‰í•˜ëŠ” main ì“°ë ˆë“œëŠ” priority ê°’ì´ 5ì´ë¯€ë¡œ main ë©”ì„œë“œ ë‚´ì—ì„œ ìƒì„±í•˜ëŠ” ì“°ë ˆë“œì˜ priority ê°’ì€ ìë™ì ìœ¼ë¡œ 5ê°€ ëœë‹¤.\n\n```java\n@Test\nvoid ì“°ë ˆë“œì˜_ìš°ì„ ìˆœìœ„() {\n    MyThread1 myThread1 = new MyThread1();\n    MyThread2 myThread2 = new MyThread2();\n\n    myThread1.setPriority(7);\n\n    System.out.println(\"Priority of myThread1(-): \" + myThread1.getPriority());\n    System.out.println(\"Priority of myThread2(|): \" + myThread2.getPriority());\n\n    myThread1.start();\n    myThread2.start();\n}\n\nclass MyThread1 extends Thread {\n\n    @Override\n    public void run() {\n        for (int i = 0; i < 300; i++) {\n            System.out.print(\"-\");\n            for (int j = 0; j < 10000000; j++) {\n            }\n        }\n    }\n}\n\nclass MyThread2 extends Thread {\n\n    @Override\n    public void run() {\n        for (int i = 0; i < 300; i++) {\n            System.out.print(\"|\");\n            for (int j = 0; j < 10000000; j++) {\n            }\n        }\n    }\n}\n\n\n== Console ==\nPriority of myThread1(-): 7\nPriority of myThread2(|): 5 // Defaultë¡œ 5ê°€ ì„¤ì •ë˜ì–´ ìˆë‹¤.\n-|-|-------------------------------------------------------\n-----------------------------------------------------------\n-----------------------------------------------------------\n-----||||||||||||||||||||||||||||||||||||||||||||||||||||||\n||-----------------------------||||||||||||||||||||||||||||\n|||||||||||||||||||||||||||||||||||||||||||||||\n```\n\nìœ„ ì½˜ì†”ì— ì¶œë ¥ëœ ê²°ê³¼ë¬¼ì€ ë‘ ì“°ë ˆë“œì˜ ì‘ì—… ê²°ê³¼ì´ë‹¤.<br>\në§¤ë²ˆ ìˆ˜í–‰ ê²°ê³¼ëŠ” ë‹¬ë¼ì§€ì§€ë§Œ, ë§¤ë²ˆ \"-\" ê°€ ë” ë§ì´, ê·¸ë¦¬ê³  ìì£¼ ë‚˜ì˜¤ì§€ëŠ” ì•ŠëŠ”ë‹¤.<br>\nì´ìœ ë¡œëŠ” ë§¥ë¶ ì—ì–´ M1 (4ì½”ì–´) í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í–ˆê¸° ë•Œë¬¸ì¸ë°, 4ê°œì˜ ì½”ì–´ì—ì„œ ë™ì‹œì— 2ê°œì˜ ì“°ë ˆë“œë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ìš°ì„ ìˆœìœ„ëŠ” í¬ê²Œ ì‘ìš©ë˜ì§€ ì•ŠëŠ” ëª¨ìŠµì´ë‹¤.<br>\nìš°ì„ ìˆœìœ„ëŠ” ì‹±ê¸€ ì½”ì–´ì—ì„œ í° íš¨ê³¼ë¥¼ ë‚˜íƒ€ë‚¼ ê²ƒìœ¼ë¡œ ê¸°ëŒ€í•œë‹¤.\n\në©€í‹°ì½”ì–´ë¼ í•´ë„ ìš´ì˜ì²´ì œë§ˆë‹¤ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ìŠ¤ì¼€ì¥´ë§í•˜ê¸° ë•Œë¬¸ì—, ì–´ë–¤ ìš´ì˜ì²´ì œì—ì„œ ì‹¤í–‰í•˜ëŠëƒì— ë”°ë¼ ë‹¤ë¥¸ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.\nêµ³ì´ ìš°ì„ ìˆœìœ„ì— ì°¨ë“±ì„ ë‘ì–´ ì“°ë ˆë“œë¥¼ ì‹¤í–‰í•˜ë ¤ë©´, íŠ¹ì • ìš´ì˜ì²´ì œì—ì˜ ìŠ¤ì¼€ì¥´ë§ ì •ì±…ê³¼ JVMì˜ êµ¬í˜„ì„ ì§ì ‘ í™•ì¸í•´ì•¼ í•œë‹¤.<br>\nìë°”ëŠ” ì“°ë ˆë“œê°€ ìš°ì„ ìˆœìœ„ì— ë”°ë¼ ì–´ë–»ê²Œ ë‹¤ë¥´ê²Œ ì²˜ë¦¬ë˜ì–´ì•¼ í•˜ëŠ”ì§€ì— ëŒ€í•´ ê°•ì œí•˜ì§€ ì•Šê¸°ì— JVMì— ë”°ë¼ ìš°ì„ ìˆœìœ„ ê´€ë ¨ êµ¬í˜„ì´ ë‹¤ë¥¼ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.\n\në§Œì¼ í™•ì¸í•œë‹¤í•œë“¤, ìš´ì˜ì²´ì œì˜ ìŠ¤ì¼€ì¥´ëŸ¬ì— ì¢…ì†ì ì´ë¼ì„œ ì–´ëŠ ì •ë„ ì˜ˆì¸¡ë§Œ ê°€ëŠ¥í•˜ì§€ ì •í™•íˆ ì•Œ ìˆ˜ëŠ” ì—†ë‹¤.\nì°¨ë¼ë¦¬ **ì“°ë ˆë“œì— ìš°ì„ ìˆœìœ„ë¥¼ ë¶€ì—¬í•˜ëŠ” ëŒ€ì‹  ì‘ì—…ì— ìš°ì„ ìˆœìœ„ë¥¼ ë‘ì–´ `PriorityQueue`ì— ì €ì¥í•´ë†“ê³ , ìš°ì„ ìˆœìœ„ê°€ ë†’ì€ ì‘ì—…ì´ ë¨¼ì € ì²˜ë¦¬ë˜ë„ë¡ í•˜ëŠ” ê²ƒì´ ë‚˜ì„ ìˆ˜ ìˆë‹¤.**\n\n## 3. ì“°ë ˆë“œ ê·¸ë£¹\n\nì“°ë ˆë“œ ê·¸ë£¹ì€ **ì„œë¡œ ê´€ë ¨ëœ ì“°ë ˆë“œë¥¼ ê·¸ë£¹ìœ¼ë¡œ ë‹¤ë£¨ê¸° ìœ„í•œ ê²ƒ**ìœ¼ë¡œ, í´ë”ë¥¼ ìƒì„±í•´ ê´€ë ¨ëœ íŒŒì¼ë“¤ì„ í•¨ê»˜ ë„£ì–´ ê´€ë¦¬í•˜ëŠ” ê²ƒì²˜ëŸ¼ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.\në˜, í´ë” ì•ˆì— í´ë”ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë“¯ì´ ì“°ë ˆë“œ ê·¸ë£¹ì— ë‹¤ë¥¸ ì“°ë ˆë“œ ê·¸ë£¹ì„ í¬í•¨ì‹œí‚¬ ìˆ˜ ìˆë‹¤.\n\nì‚¬ì‹¤ ì“°ë ˆë“œ ê·¸ë£¹ì€ ë³´ì•ˆìƒì˜ ì´ìœ ë¡œ ë„ì…ëœ ê°œë…ìœ¼ë¡œ, **ì“°ë ˆë“œ ìì‹ ì´ ì†í•œ ì“°ë ˆë“œ ê·¸ë£¹ì´ë‚˜ í•˜ìœ„ ì“°ë ˆë“œ ê·¸ë£¹ì€ ë³€ê²½í•  ìˆ˜ ìˆì§€ë§Œ ë‹¤ë¥¸ ì“°ë ˆë“œ ê·¸ë£¹ì˜ ì“°ë ˆë“œëŠ” ë³€ê²½í•  ìˆ˜ ì—†ë‹¤.**\n\n**ëª¨ë“  ì“°ë ˆë“œëŠ” ë°˜ë“œì‹œ ì“°ë ˆë“œ ê·¸ë£¹ì— í¬í•¨ë˜ì–´ ìˆë‹¤.**\në”°ë¼ì„œ ì“°ë ˆë“œë¥¼ ìƒì„±í•  ë•Œ ë³„ë„ë¡œ ì“°ë ˆë“œ ê·¸ë£¹ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´, ì“°ë ˆë“œë¥¼ ìƒì„±í•œ ì“°ë ˆë“œì™€ ê°™ì€ ì“°ë ˆë“œ ê·¸ë£¹ì— ì†í•˜ê²Œ ëœë‹¤.\n\n```java\n@Test\nvoid ëª¨ë“ _ì“°ë ˆë“œëŠ”_ë°˜ë“œì‹œ_ì“°ë ˆë“œ_ê·¸ë£¹ì—_í¬í•¨ëœë‹¤() {\n    Thread currentThread = Thread.currentThread();\n    MyThread1 myThread1 = new MyThread1();\n\n    System.out.println(\"ThreadGroup of CurrentThread ==> \" + currentThread.getThreadGroup().getName());\n    System.out.println(\"ThreadGroup of MyThread1 ==> \" + myThread1.getThreadGroup().getName());\n\n    assertThat(currentThread.getThreadGroup()).isEqualTo(myThread1.getThreadGroup());\n}\n\n== Console ==\nThreadGroup of CurrentThread ==> main\nThreadGroup of MyThread1 ==> main\n```\n\nìë°” ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹¤í–‰ë˜ë©´, JVMì€ mainê³¼ systemì´ë¼ëŠ” ì“°ë ˆë“œ ê·¸ë£¹ì„ ë§Œë“ ë‹¤.<br>\nê·¸ë¦¬ê³  JVM ìš´ì˜ì— í•„ìš”í•œ ì“°ë ˆë“œë“¤ì„ ìƒì„±í•´ì„œ ì´ ì“°ë ˆë“œ ê·¸ë£¹ì— í¬í•¨í•œë‹¤.<br>\nì˜ˆë¥¼ ë“¤ì–´ main ë©”ì„œë“œë¥¼ ìˆ˜í–‰í•˜ëŠ” main ì“°ë ˆë“œëŠ” main ì“°ë ˆë“œ ê·¸ë£¹ì— ì†í•˜ê³ , ê°€ë¹„ì§€ì»¬ë ‰ì…˜ì„ ìˆ˜í–‰í•˜ëŠ” Finalizer ì“°ë ˆë“œëŠ” system ì“°ë ˆë“œ ê·¸ë£¹ì— ì†í•˜ê²Œ ëœë‹¤.\n\nìš°ë¦¬ê°€ ìƒì„±í•˜ëŠ” ëª¨ë“  ì“°ë ˆë“œ ê·¸ë£¹ì€ main ì“°ë ˆë“œ ê·¸ë£¹ì˜ í•˜ìœ„ ì“°ë ˆë“œ ê·¸ë£¹ì´ ë˜ë©°, ì“°ë ˆë“œ ê·¸ë£¹ì„ ì§€ì •í•˜ì§€ ì•Šê³  ìƒì„±í•œ ì“°ë ˆë“œëŠ” ìë™ì ìœ¼ë¡œ main ì“°ë ˆë“œ ê·¸ë£¹ì— ì†í•˜ê²Œ ëœë‹¤.\n\n## 4. ë°ëª¬ ì“°ë ˆë“œ\n\në°ëª¬ ì“°ë ˆë“œ(Daemon Thread)ëŠ” **ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰í•˜ëŠ” ì“°ë ˆë“œ**ë¡œ, **ì¼ë°˜ ì“°ë ˆë“œ(ë°ëª¬ ì“°ë ˆë“œê°€ ì•„ë‹Œ ì“°ë ˆë“œ)ì˜ ì‘ì—…ì„ ë•ê¸° ìœ„í•œ ì“°ë ˆë“œ**ì´ë‹¤.\nì¼ë°˜ ì“°ë ˆë“œê°€ ì¢…ë£Œë˜ë©´, ë°ëª¬ ì“°ë ˆë“œëŠ” ë”ì´ìƒ ì‘ì—…ì„ ìˆ˜í–‰í•  ì´ìœ ê°€ ì—†ì–´ì§€ê¸° ë•Œë¬¸ì— ê°•ì œì ìœ¼ë¡œ ìë™ ì¢…ë£Œë˜ëŠ” íŠ¹ì§•ì„ ê°€ì§„ë‹¤.\nì´ ì ì„ ì œì™¸í•˜ê³ ëŠ” ì¼ë°˜ ì“°ë ˆë“œì™€ ë‹¤ë¥´ì§€ ì•Šë‹¤.\n\në°ëª¬ ì“°ë ˆë“œëŠ” ë¬´í•œë£¨í”„ì™€ ì¡°ê±´ë¬¸ì„ ì´ìš©í•´ì„œ ë¬´í•œíˆ ì‹¤í–‰í•˜ë©° íŠ¹ì • ì¡°ê±´ì´ ë§Œì¡±ë˜ë©´ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê³  ë‹¤ì‹œ ëŒ€ê¸°í•˜ë„ë¡ ì‘ì„±í•œë‹¤.\nì•„ë˜ëŠ” ë°ëª¬ ì“°ë ˆë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ì˜ˆì‹œì´ë‹¤.\n\n```java\npublic class MyDaemonThread implements Runnable {\n\n    static boolean autoSave = false;\n\n    public static void main(String[] args) {\n        Thread thread = new Thread(new MyDaemonThread());\n        thread.setDaemon(true); // ì„¤ì •í•´ì£¼ì§€ ì•Šìœ¼ë©´ ë°ëª¬ ì“°ë ˆë“œê°€ ì¢…ë£Œë˜ì§€ ì•ŠëŠ”ë‹¤.\n        thread.start();\n\n        for (int i = 1; i <= 10; i++) {\n            try {\n                Thread.sleep(1000); // 1ì´ˆë§ˆë‹¤\n            } catch (InterruptedException e) {\n            }\n\n            System.out.println(i); // ië¥¼ ì¶œë ¥í•œë‹¤.\n\n            // iê°€ 5ê°€ ë˜ë©´ autoSave ê°’ì„ trueë¡œ ë³€ê²½í•œë‹¤.\n            if (i == 5) {\n                autoSave = true;\n            }\n        }\n    }\n\n    @Override\n    public void run() {\n        while (true) { // ì¼ë°˜ ì“°ë ˆë“œê°€ ì¢…ë£Œë  ë•Œê¹Œì§€ ê³„ì†í•´ì„œ ìˆ˜í–‰í•œë‹¤.\n            try {\n                Thread.sleep(3 * 1000); // 3ì´ˆë§ˆë‹¤ ì‹¤í–‰\n            } catch (InterruptedException e) {\n            }\n\n            // ì¡°ê±´ì´ ë§Œì¡±í•˜ë©´ ì •í•´ì§„ ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.\n            if (autoSave) {\n                autoSave();\n            }\n        }\n    }\n\n    public void autoSave() {\n        System.out.println(\"ì‘ì—… íŒŒì¼ì´ ìë™ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.\");\n    }\n}\n\n== Console ==\n1\n2\n3\n4\n5\nì‘ì—… íŒŒì¼ì´ ìë™ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.\n6\n7\n8\nì‘ì—… íŒŒì¼ì´ ìë™ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.\n9\n10\n```\n\në°ëª¬ ì“°ë ˆë“œê°€ 3ì´ˆë§ˆë‹¤ ì‘ì—…ì„ ìˆ˜í–‰í•˜ë„ë¡ ì„¤ì •í–ˆë‹¤.<br>\ní•˜ì§€ë§Œ ì‰¬ì§€ì•Šê³  `autoSave` ê°’ì„ ì²´í¬í•˜ë„ë¡ ì„¤ì •í•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œ?<br>\nì˜ˆìƒì»¨ë° iê°€ 5ê°€ ë˜ëŠ” ìˆœê°„ë¶€í„° ìë™ ì €ì¥ì´ ë¬´ìˆ˜íˆ ë§ì´ ìˆ˜í–‰ë  ê²ƒì´ë‹¤.<br>\nì´ëŠ” CPU ì‚¬ìš©ëŸ‰ì„ ê¸‰ê²©íˆ ë†’ì´ê³  ì‹¬í•˜ë©´ í”„ë¡œê·¸ë¨ì— ì¥ì• ê¹Œì§€ ìƒê¸¸ ê²ƒì´ë‹¤.<br>\në”°ë¼ì„œ ì ì ˆíˆ ì‹œê°„ ê³µë°±ì„ ë‘ì–´ ì£¼ê¸°ì ìœ¼ë¡œ í•œ ë²ˆì”© ì‹¤í–‰í•˜ë„ë¡ í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.\n\n## 5. getAllStackTraces()\n\n`getAllStackTraces()`ë¥¼ í˜¸ì¶œí•˜ë©´ Running ë˜ëŠ” Runnable ìƒíƒœì¸ ëª¨ë“  ì“°ë ˆë“œì˜ í˜¸ì¶œìŠ¤íƒì„ ì¶œë ¥í•  ìˆ˜ ìˆë‹¤.\n\n```java\nimport java.util.Map;\nimport org.junit.jupiter.api.Test;\n\nclass ThreadTest {\n\n    @Test\n    void getAllStackTraces() {\n        MyThread1 myThread1 = new MyThread1(\"Thread1\");\n        MyThread2 myThread2 = new MyThread2(\"Thread2\");\n        myThread1.start();\n        myThread2.start();\n    }\n}\n\nclass MyThread1 extends Thread {\n\n    public MyThread1(String name) {\n        super(name);\n    }\n\n    @Override\n    public void run() {\n        try {\n            sleep(5 * 1000); // 5ì´ˆ ëŒ€ê¸°í•œë‹¤.\n        } catch (InterruptedException e) {\n        }\n    }\n}\n\nclass MyThread2 extends Thread {\n\n    public MyThread2(String name) {\n        super(name);\n    }\n\n    @Override\n    public void run() {\n        Map<Thread, StackTraceElement[]> allStackTraces = getAllStackTraces();\n\n        int id = 0;\n        for (Map.Entry<Thread, StackTraceElement[]> entry : allStackTraces.entrySet()) {\n            Thread thread = entry.getKey();\n            StackTraceElement[] stackTraceElements = entry.getValue();\n\n            System.out.println(\"[\" + ++id + \"] name : \" + thread.getName() + \", group : \" + thread.getThreadGroup().getName() + \", daemon : \" + thread.isDaemon());\n\n            for (StackTraceElement stackTraceElement : stackTraceElements) {\n                System.out.println(stackTraceElement);\n            }\n\n            System.out.println();\n        }\n    }\n}\n\n== Console ==\n[1] name : Monitor Ctrl-Break, group : main, daemon : true\njava.base@17.0.11/sun.nio.ch.SocketDispatcher.read0(Native Method)\njava.base@17.0.11/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:47)\n...(ìƒëµ)\n\n[2] name : Notification Thread, group : system, daemon : true\n\n[3] name : Reference Handler, group : system, daemon : true\njava.base@17.0.11/java.lang.ref.Reference.waitForReferencePendingList(Native Method)\njava.base@17.0.11/java.lang.ref.Reference.processPendingReferences(Reference.java:253)\njava.base@17.0.11/java.lang.ref.Reference$ReferenceHandler.run(Reference.java:215)\n\n[4] name : Signal Dispatcher, group : system, daemon : true\n\n[5] name : Thread1, group : main, daemon : false\njava.base@17.0.11/java.lang.Thread.sleep(Native Method)\napp//MyThread1.run(ThreadTest.java:24)\n\n[6] name : main, group : main, daemon : false\njava.base@17.0.11/java.lang.StringLatin1.regionMatchesCI(StringLatin1.java:399)\njava.base@17.0.11/java.lang.String.regionMatches(String.java:2232)\n...(ìƒëµ)\n\n[7] name : Thread2, group : main, daemon : false\njava.base@17.0.11/java.lang.Thread.dumpThreads(Native Method)\njava.base@17.0.11/java.lang.Thread.getAllStackTraces(Thread.java:1671)\napp//MyThread2.run(ThreadTest.java:38)\n\n[8] name : Common-Cleaner, group : InnocuousThreadGroup, daemon : true\njava.base@17.0.11/java.lang.Object.wait(Native Method)\njava.base@17.0.11/java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:155)\njava.base@17.0.11/jdk.internal.ref.CleanerImpl.run(CleanerImpl.java:140)\njava.base@17.0.11/java.lang.Thread.run(Thread.java:840)\njava.base@17.0.11/jdk.internal.misc.InnocuousThread.run(InnocuousThread.java:162)\n\n[9] name : Finalizer, group : system, daemon : true\njava.base@17.0.11/java.lang.Object.wait(Native Method)\n\nProcess finished with exit code 0\n```\n\nì½˜ì†” ì°½ì— ì¶œë ¥ëœ ê²°ê³¼ë¥¼ ë³´ë©´, ë”°ë¡œ ìƒì„±í•œ `Thread1`, `Thread2`ë¥¼ ì œì™¸í•˜ê³  7ê°œì˜ ì“°ë ˆë“œê°€ ì‹¤í–‰ ì¤‘ì´ê±°ë‚˜ ëŒ€ê¸° ìƒíƒœì— ìˆë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.\n\nì¼ë¶€ëŠ” groupì´ systemì¸ ì“°ë ˆë“œ, daemonìœ¼ë¡œ ë™ì‘ ì¤‘ì¸ ì“°ë ˆë“œê°€ ìˆëŠ” ê²ƒë„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n\n## ë‹¤ìŒìœ¼ë¡œ\n\nì§€ê¸ˆê¹Œì§€ Javaì—ì„œ ì“°ë ˆë“œë¥¼ êµ¬í˜„í•˜ê³  ì‹¤í–‰í•˜ëŠ” ë°©ë²•, Main ì“°ë ˆë“œ, ì“°ë ˆë“œì˜ ìš°ì„ ìˆœìœ„, ì“°ë ˆë“œ ê·¸ë£¹, ë°ëª¬ ì“°ë ˆë“œì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ë‹¤.<br>\në‹¤ìŒìœ¼ë¡œ ì“°ë ˆë“œì˜ ìƒíƒœì™€ ì“°ë ˆë“œì˜ í–‰ë™ì„ ì œì–´í•˜ëŠ” ë©”ì„œë“œë“¤ì— ëŒ€í•´ ì•Œì•„ë³´ê² ë‹¤."},{"excerpt":"Note) \n6.17 ~ 6.30 ê¸°ê°„ì—ëŠ” ì´ ì„¸ êµ°ë°ì˜ ì½”ë”©í…ŒìŠ¤íŠ¸ë¥¼ ë³´ì•˜ë‹¤.\nê·¸ ì¤‘ì—ì„œ í•œ ê³³ì€, ì¼ì£¼ì¼ì— ê±¸ì¹œ ê³¼ì œí…ŒìŠ¤íŠ¸ë¼ì„œ í•™ìŠµì€ ì˜ í•˜ì§€ ëª»í–ˆë‹¤. What I Studied ì»¤í”¼ ëŠìœ¼ë‹ˆê¹Œ 2ì¼ê°„ì€ í‘¹ ìë„ í”¼ê³¤í•˜ë‹¤. ë‚˜ì¤‘ì— í”¼ê³¤í•´ë„ ë  ë•Œ ëŠì–´ì•¼ê² ë‹¤. ì˜ì–´ íšŒí™”ì˜ ìì‹ ê° ìŠ¤í”½ ì§± ì½”í…Œì˜ ìì‹ ê° Keep ì£¼, ì›” ë‹¨ìœ„ì˜ ëª©í‘œë¥¼ ì„¤ì •í•˜ê³  ëª©í‘œë¥¼ ë‹¬ì„±í•˜â€¦","fields":{"slug":"/june-4th-and-5th/"},"frontmatter":{"date":"June 30, 2024","title":"[íšŒê³ ] 06.17 ~ 06.30","tags":["retrospective"]},"rawMarkdownBody":"\n> Note) <br>\n> 6.17 ~ 6.30 ê¸°ê°„ì—ëŠ” ì´ ì„¸ êµ°ë°ì˜ ì½”ë”©í…ŒìŠ¤íŠ¸ë¥¼ ë³´ì•˜ë‹¤.<br>\n> ê·¸ ì¤‘ì—ì„œ í•œ ê³³ì€, ì¼ì£¼ì¼ì— ê±¸ì¹œ ê³¼ì œí…ŒìŠ¤íŠ¸ë¼ì„œ í•™ìŠµì€ ì˜ í•˜ì§€ ëª»í–ˆë‹¤.<br>\n\n## What I Studied\n\n- ì»¤í”¼ ëŠìœ¼ë‹ˆê¹Œ 2ì¼ê°„ì€ í‘¹ ìë„ í”¼ê³¤í•˜ë‹¤.<br>\n  - ë‚˜ì¤‘ì— í”¼ê³¤í•´ë„ ë  ë•Œ ëŠì–´ì•¼ê² ë‹¤.\n- ì˜ì–´ íšŒí™”ì˜ ìì‹ ê°\n  - ìŠ¤í”½ ì§±\n- ì½”í…Œì˜ ìì‹ ê°\n\n## Keep\n\n- ì£¼, ì›” ë‹¨ìœ„ì˜ ëª©í‘œë¥¼ ì„¤ì •í•˜ê³  ëª©í‘œë¥¼ ë‹¬ì„±í•˜ëŠ” ë° ì •ì§„í•˜ì.\n- ì¡°ê¸‰í•˜ì§€ë§ì.\n- ì™„ë²½í•˜ì§€ ì•Šì•„ë„ ë˜ëŠ” ë§ˆìŒì„ ê°€ì§€ì.\n  - ì²œ ë¦¬ ê¸¸ë„ í•œ ê±¸ìŒë¶€í„°\n\n## Problem & Try\n\n- ì½”í…Œ&ê³¼í…Œ ë³¸ë‹¤ê³  ì½”í…Œ ê³µë¶€ë¥¼ ê±°ì˜ ëª»í–ˆë‹¤.<br>\n  ì•ìœ¼ë¡œ ë©´ì ‘ì´ ìˆì–´ ë§ˆì°¬ê°€ì§€ë¡œ í•  ì‹œê°„ì´ ë¶€ì¡±í•˜ê² ì§€ë§Œ, ë†“ì§€ëŠ” ë§ì.<br>\n  í•˜ë£¨ì— í•œ ë¬¸ì œë¼ë„ í’€ì."},{"excerpt":"What I Studied í”„ë¡œë©”í…Œìš°ìŠ¤, ê·¸ë¼íŒŒë‚˜ë¥¼ ë„ì»¤ì—ì„œ ë„ìš°ê¸° ì»¨í…Œì´ë„ˆ-ì»¨í…Œì´ë„ˆ, ì»¨í…Œì´ë„ˆ-í˜¸ìŠ¤íŠ¸ ê°„ì˜ í†µì‹  ë„ì»¤ ë„¤íŠ¸ì›Œí¬ ì´ë¶„íƒìƒ‰ ëª©í‘œì˜ ì¤‘ìš”ì„± Keep ì£¼, ì›” ë‹¨ìœ„ì˜ ëª©í‘œë¥¼ ì„¤ì •í•˜ê³  ëª©í‘œë¥¼ ë‹¬ì„±í•˜ëŠ” ë° ì •ì§„í•˜ì. Problem & Try ì¡°ê¸‰í•˜ì§€ë§ì. ë™ê¸°ë¶€ì—¬ë¥¼ ë§Œë“¤ì–´ë³´ì.  ì™„ë²½í•˜ì§€ ì•Šì•„ë„ ë˜ëŠ” ë§ˆìŒì„ ê°€ì§€ì. ì´ˆì‹¬ì„ ìƒì§€ë§ì. ì²˜ìŒ ìë°”ë¥¼ â€¦","fields":{"slug":"/june-3rd/"},"frontmatter":{"date":"June 16, 2024","title":"[íšŒê³ ] 06.10 ~ 06.16","tags":["retrospective"]},"rawMarkdownBody":"\n## What I Studied\n\n- [í”„ë¡œë©”í…Œìš°ìŠ¤, ê·¸ë¼íŒŒë‚˜ë¥¼ ë„ì»¤ì—ì„œ ë„ìš°ê¸°](https://kdkdhoho.github.io/build-monitoring-system/)\n  - ì»¨í…Œì´ë„ˆ-ì»¨í…Œì´ë„ˆ, ì»¨í…Œì´ë„ˆ-í˜¸ìŠ¤íŠ¸ ê°„ì˜ í†µì‹ \n  - ë„ì»¤ ë„¤íŠ¸ì›Œí¬\n- ì´ë¶„íƒìƒ‰\n- ëª©í‘œì˜ ì¤‘ìš”ì„±\n\n## Keep\n\n- ì£¼, ì›” ë‹¨ìœ„ì˜ ëª©í‘œë¥¼ ì„¤ì •í•˜ê³  ëª©í‘œë¥¼ ë‹¬ì„±í•˜ëŠ” ë° ì •ì§„í•˜ì.\n\n## Problem & Try\n\n- ì¡°ê¸‰í•˜ì§€ë§ì.\n\n- ë™ê¸°ë¶€ì—¬ë¥¼ ë§Œë“¤ì–´ë³´ì. \n\n- ì™„ë²½í•˜ì§€ ì•Šì•„ë„ ë˜ëŠ” ë§ˆìŒì„ ê°€ì§€ì.\n\n- ì´ˆì‹¬ì„ ìƒì§€ë§ì. ì²˜ìŒ ìë°”ë¥¼ ê³µë¶€í–ˆì„ ë•Œ ë§ˆì¸ë“œë¥¼ ë– ì˜¬ë¦¬ì."},{"excerpt":"ë“¤ì–´ê°€ë©° ì„œë¹„ìŠ¤ë¥¼ ìš´ì˜í•˜ë©´ì„œ ë°œìƒí•œ ì¥ì• ë¥¼ ë¹ ë¥´ê²Œ ëŒ€ì‘í•˜ê³  ë³µêµ¬í•˜ëŠ” ê²ƒì€ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤.\nì´ë¥¼ ìœ„í•´ì„  ì¥ì• ì˜ ì›ì¸ì„ ë¹ ë¥´ê²Œ íŒŒì•…í•´ì•¼ í•œë‹¤. ë¬¸ì œì˜ ì›ì¸ì„ íŒŒì•…í•˜ëŠ” ë°©ë²•ì—ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìƒíƒœë¥¼ ì „ë°˜ì ìœ¼ë¡œ ê´€ì°° ê°€ëŠ¥í•œ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ, ì‚¬ìš©ìì˜ ìš”ì²­ì„ í•œ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë¬¶ì–´ íŒŒì•…í•˜ëŠ” APM, ë¬¸ì œì— ëŒ€í•œ ìƒì„¸í•œ ì„¤ëª…ì´ ì íŒ ë¡œê¹… ë“±ì´ ìˆë‹¤. ê·¸ ì¤‘ì—ì„œë„ ëª¨â€¦","fields":{"slug":"/build-monitoring-system/"},"frontmatter":{"date":"June 15, 2024","title":"[Infra] Prometheusì™€ Grafana, ê·¸ë¦¬ê³  Dockerë¥¼ ì´ìš©í•´ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ êµ¬ì¶•í•˜ê¸°","tags":["monitoring","infra"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©°\n\nì„œë¹„ìŠ¤ë¥¼ ìš´ì˜í•˜ë©´ì„œ ë°œìƒí•œ ì¥ì• ë¥¼ ë¹ ë¥´ê²Œ ëŒ€ì‘í•˜ê³  ë³µêµ¬í•˜ëŠ” ê²ƒì€ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤.<br>\nì´ë¥¼ ìœ„í•´ì„  **ì¥ì• ì˜ ì›ì¸ì„ ë¹ ë¥´ê²Œ íŒŒì•…**í•´ì•¼ í•œë‹¤.<br>\n\në¬¸ì œì˜ ì›ì¸ì„ íŒŒì•…í•˜ëŠ” ë°©ë²•ì—ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìƒíƒœë¥¼ ì „ë°˜ì ìœ¼ë¡œ ê´€ì°° ê°€ëŠ¥í•œ **ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ**, ì‚¬ìš©ìì˜ ìš”ì²­ì„ í•œ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë¬¶ì–´ íŒŒì•…í•˜ëŠ” **APM**, ë¬¸ì œì— ëŒ€í•œ ìƒì„¸í•œ ì„¤ëª…ì´ ì íŒ **ë¡œê¹…** ë“±ì´ ìˆë‹¤.\n\nê·¸ ì¤‘ì—ì„œë„ **ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œë¥¼ Docker, Prometheus, Grafanaë¥¼ ì´ìš©í•´ êµ¬ì¶•í•˜ëŠ” ê³¼ì •**ì— ëŒ€í•´ ì‘ì„±í•˜ê² ë‹¤.\n\nì„¤ì •í•  ê²ƒì´ ìƒë‹¹íˆ ë§ì§€ë§Œ ë‹¨ìˆœíˆ ì„¤ì •í•˜ê³  ì—°ê²°í•˜ê³  í™•ì¸í•˜ëŠ” ê²ƒì´ ëì´ë‹¤.<br>\ní•˜ë‚˜í•˜ë‚˜ ì°¨ê·¼ì°¨ê·¼ ì§„í–‰í•˜ë©´ í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.\n\nê°œë°œ í™˜ê²½ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\n- MacOS 14.5 (23F79)\n- Spring Boot 3\n- Docker 26.1.3\n- Nginx 1.18.0\n\n## ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜\n\nëª¨ë“  êµ¬ì¶•ì´ ì™„ë£Œë˜ë©´ ì•„ë˜ ê·¸ë¦¼ê³¼ ê°™ì€ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ë¥¼ ê°€ì§€ê²Œ ë  ê²ƒì´ë‹¤.\n\n![êµ¬ì¶• ì™„ë£Œëœ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](monitoring-system-architecture.png)\n\n- Spring Actuatorë¥¼ ì´ìš©í•´ Applicationì˜ ë©”íŠ¸ë¦­ì„ ì›¹ì— ë…¸ì¶œí•œë‹¤.<br>\nPrometheusëŠ” ì¼ì • ì£¼ê¸°ë§ˆë‹¤ Actuatorê°€ ë…¸ì¶œí•œ Endpointì—ì„œ ë©”íŠ¸ë¦­ì„ ìˆ˜ì§‘ & ì €ì¥í•œë‹¤.<br>\nGrafanaë¥¼ í†µí•´ Prometheusê°€ ìˆ˜ì§‘ & ì €ì¥í•œ ë°ì´í„°ë¥¼ í•œëˆˆì— ë³¸ë‹¤.\n\n- Dockerë¥¼ ì´ìš©í•´ Spring, Prometheus, Grafanaë¥¼ ë„ìš´ë‹¤.<br>\n  Prometheus, GrafanaëŠ” docker-composeë¥¼ ì´ìš©í•´ ë‘ ì»¨í…Œì´ë„ˆë¥¼ í•˜ë‚˜ì˜ ì„œë¹„ìŠ¤ì²˜ëŸ¼ ë™ì‘í•  ìˆ˜ ìˆê²Œ í•œë‹¤.\n\n- ì™¸ë¶€ì¸ì´ Spring Actuatorë‚˜ Prometheusì— ì ‘ê·¼í•˜ëŠ” ê²ƒì„ ë§‰ê¸° ìœ„í•´ Docker Networkë¥¼ êµ¬ì¶•í•œë‹¤.<br>\n  ì‚¬ìš©ìëŠ” 8080 í¬íŠ¸ë¥¼ í†µí•´ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©ë§Œ í•  ìˆ˜ ìˆê²Œ ëœë‹¤.<br>\n  Prometheusê°€ Spring Actuatorì˜ ë©”íŠ¸ë¦­ì„ ìˆ˜ì§‘í•˜ê³  Grafanaê°€ Prometheusë¥¼ Datasourceë¡œ ë“±ë¡í•˜ê¸° ìœ„í•œ í†µì‹ ì€ IP ì£¼ì†Œë¥¼ ì…ë ¥í•  í•„ìš”ì—†ì´ ì»¨í…Œì´ë„ˆ ì´ë¦„ìœ¼ë¡œë§Œ ì ‘ê·¼ ë° í†µì‹ í•œë‹¤.<br>\n  ê°œë°œìëŠ” Grafanaì— íŠ¹ì • í¬íŠ¸ë¥¼ í†µí•´ì„œë§Œ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤. ë¬¼ë¡  ì¸ë°”ìš´ë“œ ê·œì¹™ ë“±ìœ¼ë¡œ ì™¸ë¶€ì¸ì˜ ì ‘ê·¼ì„ ì°¨ë‹¨í•œë‹¤.\n\n## 1. Spring Actuator\n\nê°€ì¥ ë¨¼ì € [Spring Actuator](https://docs.spring.io/spring-boot/docs/3.0.5/reference/html/actuator.html)ë¥¼ ì„¤ì •í•´ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë©”íŠ¸ë¦­ì„ ë³¼ ìˆ˜ ìˆê²Œ í•´ì•¼ í•œë‹¤.<br>\në©”íŠ¸ë¦­ì€ **ì„œë²„ ìƒíƒœì™€ ê´€ë ¨ëœ ë°ì´í„°**ë¼ê³  ì´í•´í•˜ë©´ ëœë‹¤.\n\nbuild.gradleì— `spring-boot-starter-actuator` ì˜ì¡´ì„±ì„ ì¶”ê°€í•˜ë©´ Spring Actuator ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n\n```gradle\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n}\n```\n\nì˜ì¡´ì„±ì„ ì¶”ê°€í•˜ê³  `localhost:8080/actuator`ë¡œ ì ‘ê·¼í•˜ë©´ ì•„ë˜ ê·¸ë¦¼ì²˜ëŸ¼ Endpointë“¤ì´ ë…¸ì¶œëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.\n![](start-actuator.png)\n\n> ğŸ’¡ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì—”ë“œí¬ì¸íŠ¸ í™œì„±í™”, ì—”ë“œí¬ì¸íŠ¸ ë…¸ì¶œ ë‘ ê°€ì§€ ì‘ì—…ì„ ëª¨ë‘ ìˆ˜í–‰í•´ì•¼ í•œë‹¤.<br>\n> ê¸°ë³¸ì ìœ¼ë¡œ `shutdown`ì„ ì œì™¸í•˜ê³ ëŠ” ëŒ€ë¶€ë¶„ì˜ ì—”ë“œí¬ì¸íŠ¸ëŠ” í™œì„±í™”ëœ ìƒíƒœì¸ë°, ì´ë ‡ê²Œ í™œì„±í™”ëœ ì—”ë“œí¬ì¸íŠ¸ë¥¼ HTTPì— ë…¸ì¶œí•  ì§€ JMXì— ë…¸ì¶œí•  ì§€ ê²°ì • í›„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤.<br>\n\nì´ì œ ë” ë§ì€ Endpointë¥¼ ë…¸ì¶œí•˜ê¸° ìœ„í•´ `application.yml`ì— ì•„ë˜ ì½”ë“œë¥¼ ì¶”ê°€í•œë‹¤.\n```yaml\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: \"*\" # webì— ëª¨ë“  Endpointë¥¼ ë…¸ì¶œí•œë‹¤.\nserver:\n  tomcat:\n    mbeanregistry:\n      enabled: true # tomcatê³¼ ê´€ë ¨ëœ Endpointë¥¼ ë…¸ì¶œí•œë‹¤.\n```\n\nê·¸ë¦¬ê³  ë‹¤ì‹œ í™•ì¸í•´ë³´ë©´ í›¨ì”¬ ë§ì€ Endpointê°€ ë…¸ì¶œëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n![](various-endpoints.png)\n\ní•˜ì§€ë§Œ í° ë¬¸ì œê°€ í•˜ë‚˜ ìˆë‹¤.<br>\nëˆ„êµ¬ë“ ì§€ ë’¤ì— `/actuator` ë§Œ ë¶™ì—¬ ì ‘ê·¼í•˜ë©´ í˜„ì¬ ì„œë²„ì˜ ë©”íŠ¸ë¦­ì„ ë³¼ ìˆ˜ ìˆë‹¤ëŠ” ì ì´ë‹¤.<br>\në³´ì•ˆì„ ê°•í™”í•˜ê¸° ìœ„í•´ ì¼ë¶€ ì—”ë“œí¬ì¸íŠ¸ë§Œ ì—´ì–´ë‘˜ ìˆ˜ ìˆì§€ë§Œ, ê·¸ëŸ¼ì—ë„ ì•„ë¬´ë‚˜ ë³¼ ìˆ˜ ìˆëŠ” ê²ƒì€ ë™ì¼í•˜ë‹¤.<br>\në³´ì—¬ì ¸ë„ ìƒê´€ì—†ëŠ” ë©”íŠ¸ë¦­ì¼ì§€ë¼ë„ ëª¨ë‘ì—ê²Œ ì˜¤í”ˆí•˜ê³  ì‹¶ì§€ëŠ” ì•Šë‹¤.\n\nSpring BootëŠ” ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ _port_ì™€ _base-path_ë¥¼ ë”°ë¡œ ì„¤ì •í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.\n```yaml\n# application.yml\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: \"*\"\n  server:\n    port: 1111 # port ì„¤ì •\n    base-path: new/path # base-path ì„¤ì •\n```\nìœ„ì²˜ëŸ¼ ì„¤ì •ì„ ì¶”ê°€í•˜ë©´ `localhost:8080`ì´ ì•„ë‹Œ `localhost:1111/new/path/actuator`ë¡œ ì ‘ê·¼í•´ì•¼ ë³¼ ìˆ˜ ìˆë‹¤.\n![](add-port-and-path.png)\n\nì´ë ‡ê²Œ ì„¤ì •í•œ portì™€ base-pathëŠ” ë‚´ë¶€ë§ì—ì„œë§Œ ì ‘ê·¼í•˜ë„ë¡ ì„¤ì •í•˜ë©´ ëœë‹¤.\n\n## 2. Prometheus\n\në‹¤ìŒìœ¼ë¡œ Prometheusë¥¼ Docker Containerì— ë„ì–´ ì‹¤í–‰í•˜ê³  Spring Actuatorì˜ Endpointì— ì ‘ê·¼í•´ ë©”íŠ¸ë¦­ì„ ìˆ˜ì§‘í•´ë³´ì.\n> ğŸ’¡ PrometheusëŠ” ë©”íŠ¸ë¦­ì„ ì£¼ê¸°ì ìœ¼ë¡œ ìˆ˜ì§‘í•´ ì €ì¥í•˜ëŠ” ì˜¤í”ˆì†ŒìŠ¤ ì†Œí”„íŠ¸ì›¨ì–´ì´ë‹¤.<br>\n\nê·¸ ì „ì—, ë¯¸ë¦¬ ìˆ˜í–‰í•´ì•¼ í•˜ëŠ” ì‘ì—…ì´ ìˆë‹¤.<br>\nbuild.gradleì— `implementation 'io.micrometer:micrometer-registry-prometheus'` ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì´ë‹¤.\n\nì¶”ê°€í•˜ëŠ” ì´ìœ ëŠ” JDBCë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒìœ¼ë¡œ ì´í•´í•˜ë©´ ë˜ëŠ”ë°, DB ì¢…ë¥˜ë§ˆë‹¤ ì¿¼ë¦¬ë¥¼ ì½ê³  ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì´ ì•½ê°„ì”© ë‹¤ë¥´ì§€ë§Œ JDBCê°€ DB ê³„ì¸µì„ ì¶”ìƒí™”í•˜ì—¬ ê°œë°œìëŠ” DB ì¢…ë¥˜ì— ì¢…ì†ë˜ì§€ ì•ŠëŠ” ê²ƒê³¼ ê°™ë‹¤ê³  ì´í•´í•˜ë©´ ëœë‹¤.\n\nì¶”ìƒí™” ì‘ì—…ì€ ë°”ë¡œ [Micrometer](https://micrometer.io/)ê°€ ìˆ˜í–‰í•´ì£¼ëŠ”ë°, Micrometerê°€ Spring Actuatorì˜ ë©”íŠ¸ë¦­ì„<br>\nPrometheusê°€ ì½ì„ ìˆ˜ ìˆë„ë¡ ë³€í™˜í•´ì£¼ëŠ” ê²ƒì´ë‹¤.\n\nì˜ì¡´ì„± ì¶”ê°€ í›„ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì¬ì‹¤í–‰í•´ë³´ë©´ `~/actuator/prometheus` Endpointê°€ ë…¸ì¶œëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n![](actuator-prometheus.png)\n\n---\n<br>\n\nì´ì œ ì§„ì§œ Prometheusë¥¼ ì‹¤í–‰í•´ë³´ì.<br>\ní™˜ê²½ êµ¬ì„±ì˜ í¸ë¦¬í•¨ì„ ìœ„í•´ *docker-compose*ë¥¼ í†µí•´ êµ¬ì„±í•œë‹¤.<br>\n```yaml\n# docker-compose.yml\nname: monitoring\nservices:\n  prometheus:\n    image: prom/prometheus:latest\n    container_name: prometheus\n    ports:\n      - \"9090:9090\"\n```\nì´ì œ `docker compose up -d` ëª…ë ¹ì–´ë¥¼ í†µí•´ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ê³  `localhost:9090` ìœ¼ë¡œ ì ‘ì† í›„ í™•ì¸í•´ë³´ì.\n![](start-prometheus.png)\n\nì‹¤í–‰ì´ ì„±ê³µì ìœ¼ë¡œ ëœë‹¤ë©´, Status -> Targetsë¡œ ë“¤ì–´ê°€ë³´ì.<br>\ní˜„ì¬ Prometheus ìŠ¤ìŠ¤ë¡œì˜ ë©”íŠ¸ë¦­ì„ ì •ìƒì ìœ¼ë¡œ ìˆ˜ì§‘í•˜ê³  ìˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n![](targets.png)\n\nì´ì œ ì´ ìˆ˜ì§‘ ëŒ€ìƒì— Spring Actuatorë¥¼ ì¶”ê°€í•˜ì.<br>\nì¶”ê°€í•˜ê¸° ìœ„í•´ `prometheus.yml` íŒŒì¼ì„ ìƒì„± í›„ ë„ì»¤ ë§ˆìš´íŠ¸ë¥¼ ì´ìš©í•  ê²ƒì´ë‹¤.\n\n1. `prometheus.yml` íŒŒì¼ ì‘ì„±\n  ```yaml\n  # prometheus.yml\n  scrape_configs:\n    - job_name: \"spring application\"\n      metrics_path: \"/new/path/actuator/prometheus\"\n      scrape_interval: 5s\n      scrape_timeout: 5s\n      static_configs:\n        - targets: [\"localhost:1111\"]\n  ```\n\n2. `docker-compose.yml` ìˆ˜ì •\n  ```yaml\n  # docker-compose.yml\n  name: monitoring\n  services:\n    prometheus:\n      image: prom/prometheus:latest\n      container_name: prometheus\n      ports:\n        - \"9090:9090\"\n      user: \"65534:65534\"\n      volumes: # ì¶”ê°€\n        - \"./prometheus.yml:/etc/prometheus/prometheus.yml\"\n        - \"./prometheus-data:/prometheus\"\n  ```\n\nì´í›„ `docker compose down` -> `docker compose up -d` ëª…ë ¹ì–´ë¡œ ì»¨í…Œì´ë„ˆë¥¼ ë‹¤ì‹œ ë„ìš´ë‹¤.<br>\nê·¸ë¦¬ê³  ë‹¤ì‹œ Targets í™”ë©´ìœ¼ë¡œ ì´ë™ í›„ ì—°ê²° ìƒíƒœë¥¼ í™•ì¸í•œë‹¤.<br>\n\në§Œì•½ ì•„ë˜ì²˜ëŸ¼ `connection refused` ì—ëŸ¬ê°€ ë°œìƒí–ˆë‹¤ë©´ í†µì‹ ì— ì‹¤íŒ¨í•œ ê²ƒì´ë‹¤.<br>\n![](error-prometheus.png)\n\në³´í†µ ì˜¬ë°”ë¥´ì§€ ì•Šì€ Hostê±°ë‚˜, Hostë¥¼ ì°¾ì§€ ëª»í–ˆê±°ë‚˜, Hostì—ì„œ í†µì‹ ì„ ì°¨ë‹¨í•œ ê²½ìš°ì— ë°œìƒí•œë‹¤.\n\ní•„ìëŠ” Springì€ IDEë¥¼ ì´ìš©í•´ í˜¸ìŠ¤íŠ¸ ìì²´ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ë°, Containerë¡œ ì‹¤í–‰ ì¤‘ì¸ Prometheusê°€ Springì— HTTP GET ìš”ì²­ì„ ë³´ë‚´ë©´ì„œ í†µì‹ ì— ì‹¤íŒ¨í•œ ê²ƒì´ë‹¤.<br>\nContainerì—ì„œ í˜¸ìŠ¤íŠ¸ë¡œ ìš”ì²­í•˜ë ¤ë©´ `localhost` ëŒ€ì‹  `host.docker.internal`ë¡œ ì ‘ê·¼í•´ì•¼ í•œë‹¤.<br>\n([ì°¸ê³  - Docker ê³µì‹ë¬¸ì„œ](https://docs.docker.com/desktop/networking/#i-want-to-connect-from-a-container-to-a-service-on-the-host))\n> âš ï¸ ë§Œì•½ EC2 ì¸ìŠ¤í„´ìŠ¤ ë‚´ì—ì„œ ìˆ˜í–‰í•˜ê³  ìˆëŠ”ë° ì—°ê²°ì´ ì•ˆëœë‹¤ë©´, ì¸ë°”ìš´ë“œ ê·œì¹™ì„ ì—´ì–´ë‘ì—ˆëŠ”ì§€ í™•ì¸í•´ë³´ì.<br>\n\n`prometheus.yml`ì„ ì˜¬ë°”ë¥´ê²Œ ìˆ˜ì • í›„ ë‹¤ì‹œ ì‹¤í–‰í•˜ë©´ ì•„ë˜ ê·¸ë¦¼ì²˜ëŸ¼ ì„±ê³µí•  ê²ƒì´ë‹¤.\n![](connect-success.png)\n\n## 3. Grafana\n\nì§€ê¸ˆê¹Œì§€ Spring Actuatorë¥¼ í†µí•´ ë©”íŠ¸ë¦­ Endpointë¥¼ ë…¸ì¶œí–ˆê³  Prometheusë¥¼ í†µí•´ Endpointì— ì ‘ê·¼í•´ ë©”íŠ¸ë¦­ì„ ìˆ˜ì§‘í•˜ë„ë¡ ì„¤ì •í–ˆë‹¤.\n\nì´ì œëŠ” Grafanaë¥¼ ì´ìš©í•´ Prometheusê°€ ìˆ˜ì§‘í•œ ë©”íŠ¸ë¦­ì„ í•œëˆˆì— ê·¸ë¦¬ê³  ì´ì˜ê²Œ ë³¼ ìˆ˜ ìˆë„ë¡ ëŒ€ì‹œë³´ë“œë¥¼ êµ¬ì¶•í•´ë³´ì.\n\nGrafanaë„ Prometheusì™€ í•¨ê»˜ *docker-compose*ë¡œ êµ¬ì„± ë° ì‹¤í–‰í•œë‹¤.\n```yaml\n# docker-compose.yml\nname: monitoring\nservices:\n  prometheus:\n    image: prom/prometheus:latest\n    container_name: prometheus\n    ports:\n      - \"9090:9090\"\n    user: \"65534:65534\"\n    volumes:\n      - \"./prometheus.yml:/etc/prometheus/prometheus.yml\"\n      - \"./data:/prometheus\"\n  grafana: # ì¶”ê°€\n    image: grafana/grafana:latest\n    container_name: grafana\n    user: \"$UID:$GID\"\n    ports:\n      - \"3000:3000\"\n    volumes:\n      - \"./grafana-data:/var/lib/grafana\"\n      - \"./grafana-logs:/var/log/grafana\"\n    depends_on:\n      - prometheus\n```\n\nì´ë²ˆì—ë„ ë§ˆì°¬ê°€ì§€ë¡œ `docker compose down` -> `docker compose up -d`ë¡œ ì¬ì‹¤í–‰ í›„ `localhost:3000`ìœ¼ë¡œ ì ‘ì†í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ë¡œê·¸ì¸ ì°½ì´ ëœ° ê²ƒì´ë‹¤.\n![](start-grafana.png)\n\nadmin/adminì„ ì…ë ¥í•˜ë©´ íŒ¨ìŠ¤ì›Œë“œë¥¼ ì¬ì„¤ì •í•˜ë¼ê³  ëœ¨ëŠ”ë°, ì¼ë‹¨ skip í›„ ê³„ì† ì§„í–‰í•˜ì.\n\në¡œê·¸ì¸ì— ì„±ê³µí•˜ë©´, ì„¤ì •í•  ê²ƒì´ ë‘ ê°€ì§€ê°€ ìˆë‹¤.\n\nì²« ë²ˆì§¸ë¡œ, **Datasource ì„¤ì •**ì´ë‹¤.<br>\nDatasourceëŠ” í™”ë©´ì— ê·¸ë ¤ì¤„ ë°ì´í„°ë¥¼ ì–´ë””ì„œ ê°€ì ¸ì˜¬ ê±´ì§€ ì„¤ì •í•˜ëŠ” ê²ƒì´ë‹¤.\n\nì„¤ì •ì„ ìœ„í•´ í™”ë©´ ì¢Œì¸¡ì— ë©”ë‰´ë°”ì—ì„œ Connections - Data sources íƒ­ì— ë“¤ì–´ê°€ì„œ `Add data source` ë²„íŠ¼ì„ ëˆ„ë¥¸ë‹¤.<br>\nê·¸ë¦¬ê³  prometheusë¥¼ ì°¾ì•„ í´ë¦­í•˜ë©´ ì•„ë˜ ê·¸ë¦¼ì²˜ëŸ¼ ì„¤ì • í˜ì´ì§€ê°€ ëœ° ê²ƒì´ë‹¤.\n![](setting-datasource.png)\n\nì´ì œ ë¹¨ê°„ ê²½ê³ ì°½ì´ ë‚˜íƒ€ë‚´ëŠ” ê³³ì— Prometheusì˜ URLì„ ì…ë ¥í•˜ë©´ ëœë‹¤.<br>\nê·¸ë¦¬ê³  ë§¨ ì•„ë˜ì— `Save & test` ë²„íŠ¼ì„ ëˆŒëŸ¬ ì—°ê²°ì„ í™•ì¸í•˜ì.\n\n![ì—°ê²° ì„±ê³µ ì‹œ](setting-datasource-success.png)\n\në§Œì•½ ì—°ê²°ì´ ì•ˆëœë‹¤ë©´, URLì„ ì…ë ¥í•  ë•Œ _http í˜¹ì€ https ìŠ¤í‚¤ë§ˆë¥¼ ì¶”ê°€í–ˆëŠ”ì§€?_ í˜¹ì€ _hostê°€ ìœ íš¨í•œì§€?_ í˜¹ì€ _hostì— ìš”ì²­ì´ ê°€ëŠ¥í•œì§€?_ ë“±ì„ í™•ì¸í•´ë³´ì.\n\nì„±ê³µì ìœ¼ë¡œ ì—°ê²°ì´ ëë‹¤ë©´ Data sources í˜ì´ì§€ì— ì•„ë˜ì²˜ëŸ¼ ëœ° ê²ƒì´ë‹¤.\n![Datasource ì¶”ê°€ ì„±ê³µ](result-data-sources.png)\n\n---\n<br>\n\nì´ì œ ë‘ ë²ˆì§¸ë¡œ ì„¤ì •í•  ê²ƒì€, **ëŒ€ì‹œë³´ë“œ êµ¬ì¶•**ì´ë‹¤.<br>\nëŒ€ì‹œë³´ë“œë¥¼ ì§ì ‘ í•˜ë‚˜í•˜ë‚˜ êµ¬ì¶•í•´ë„ ë˜ì§€ë§Œ, ê°ì‚¬í•˜ê²Œë„ [Grafana Labs](https://grafana.com/grafana/dashboards/)ì—ì„œ ì œê³µë˜ëŠ” ëŒ€ì‹œë³´ë“œ í…œí”Œë¦¿ì´ ë§¤ìš° ë‹¤ì–‘í•˜ê²Œ ìˆë‹¤.<br>\nìš°ë¦¬ëŠ” ì—¬ê¸°ì„œ ì œê³µë˜ëŠ” í…œí”Œë¦¿ì„ ì´ìš©í•  ê²ƒì´ë‹¤.\n\nì™¼ìª½ ë©”ë‰´ì—ì„œ Dashboards í˜ì´ì§€ë¡œ ì´ë™ í›„ `Create Dashboard` ë²„íŠ¼ -> `Import dashboard` ë²„íŠ¼ì„ ëˆ„ë¥´ì.<br>\nê·¸ë¦¬ê³  ê°€ìš´ë° ë³´ì´ëŠ” ì¹¸ì— \"19004\"ë¥¼ ì…ë ¥ í›„ `Load` ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ í˜ì´ì§€ê°€ ì´ë™í•˜ëŠ”ë°<br>\nì´ë™í•œ í˜ì´ì§€ì—ì„œ Data sourceë¥¼ Prometheusë¡œ ì„¤ì • í›„ `Import` ë²„íŠ¼ì„ ëˆ„ë¥´ê³  ì•„ë˜ì²˜ëŸ¼ ëœ¨ë©´ ì„±ê³µì´ë‹¤!\n\n![](monitoring-dashboard.png)\n\nì¶”ê°€ì ìœ¼ë¡œ JVM ê´€ë ¨ ë©”íŠ¸ë¦­ë§Œì„ ë”°ë¡œ í™•ì¸í•  ìˆ˜ ìˆëŠ” ëŒ€ì‹œë³´ë“œë¥¼ ë§Œë“¤ì–´ë³´ì.<br>\nê³¼ì •ì€ ìœ„ì™€ ë™ì¼í•˜ì§€ë§Œ Import IDì— \"4701\" ë¥¼ ì…ë ¥í•˜ë©´ ëœë‹¤.\n\n## 4. Docker Network êµ¬ì„±\n\nì§€ê¸ˆê¹Œì§€ ì„±ê³µì ìœ¼ë¡œ ëŒ€ì‹œë³´ë“œ ëª¨ë‹ˆí„°ë§ì„ êµ¬ì¶•í–ˆë‹¤.<br>\ní•˜ì§€ë§Œ ì•„ì§ê¹Œì§€ `:111/new/path/actuator` ë¡œ ì ‘ì†í•˜ë©´ ë©”íŠ¸ë¦­ì„ ë³¼ ìˆ˜ ìˆì„ ë¿ë”ëŸ¬, `:9090`ë¡œ ì ‘ì†í•˜ë©´ Prometheusë¥¼ í†µí•´ì„œë„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n\nì´ì œ ì´ ë©”íŠ¸ë¦­ì„ Docker Networkë¥¼ ì´ìš©í•´ ë‚´ë¶€ë§ì„ í†µí•´ì„œë§Œ í™•ì¸í•  ìˆ˜ ìˆê²Œ í•˜ê³  Grafanaë§Œì„ ì™¸ë¶€ë¡œ í—ˆìš©í•˜ì.\n\nìš°ì„  `docker network ls` ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ë©´ *monitoring_default* ë„¤íŠ¸ì›Œí¬ê°€ ì¡´ì¬í•  ê²ƒì´ë‹¤.\n![](docker-network-ls.png)\n*docker-compose*ë¥¼ í†µí•´ ì»¨í…Œì´ë„ˆë¥¼ êµ¬ì¶•í•¨ê³¼ ë™ì‹œì— ë„¤íŠ¸ì›Œí¬ê°€ ìƒì„±ëœ ê²ƒì´ë‹¤.<br>\nìš°ë¦¬ëŠ” ì´ ë„¤íŠ¸ì›Œí¬ì— Spring, Prometheus, Grafana ì»¨í…Œì´ë„ˆë¥¼ í¬í•¨í•  ê²ƒì´ë‹¤.\n> ğŸ’¡ ì°¸ê³ ë¡œ ì´ ë„¤íŠ¸ì›Œí¬ëŠ” docker-composeê°€ ë‚´ë ¤ê°€ë©´ ì‚¬ë¼ì§„ë‹¤.\n\n`docker-compose.yml`ì„ ìˆ˜ì •í•˜ì. (Spring ContainerëŠ” ë”°ë¡œ ì¶”ê°€í•´ì£¼ì.)\n```yaml\n# docker-compose.yml\nname: monitoring\nservices:\n  prometheus:\n    image: prom/prometheus:latest\n    container_name: prometheus\n    networks: # network ì¶”ê°€\n      - \"monitoring_default\"\n    #ports: \n    #  - \"9090:9090\" # PrometheusëŠ” ë”ì´ìƒ ì™¸ë¶€ì—ì„œ ì ‘ê·¼í•˜ì§€ ëª»í•œë‹¤. \n    user: \"65534:65534\"\n    volumes:\n      - \"./prometheus.yml:/etc/prometheus/prometheus.yml\"\n      - \"./data:/prometheus\"\n  grafana:\n    image: grafana/grafana:latest\n    container_name: grafana\n    networks:  # network ì¶”ê°€\n      - \"monitoring_default\"\n    user: \"$UID:$GID\"\n    ports:\n      - \"3000:3000\"\n    volumes:\n      - \"./grafana/data:/var/lib/grafana\"\n      - \"./grafana/logs:/var/log/grafana\"\n    depends_on:\n      - prometheus\n\n# network ì„¤ì •\nnetworks:\n  monitoring_default:\n    external: true\n```\n\n*monitoring_default* ë¼ëŠ” Docker Networkì— Prometheusì™€ Grafanaê°€ ì¶”ê°€ë˜ì—ˆë‹¤.<br>\nì´ì œ IPê°€ ì•„ë‹Œ Container nameìœ¼ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.<br>\nPrometheusì™€ Grafana ì„¤ì •ë„ ë°”ê¿”ì£¼ì.\n\n1. `prometheus.yml`\n  ```yaml\n  # prometheus.yml\n  scrape_configs:\n    - job_name: \"spring application\"\n      metrics_path: \"/new/path/actuator/actuator\"\n      scrape_interval: 5s\n      scrape_timeout: 5s\n      static_configs:\n        - targets: [\"spring:1111\"] # ë³€ê²½\n  ```\n\n2. Grafana - Data sources\n![](new-setting-data-source.png)\n\n---\n<br>\n\nì´ì œ `:9090` ìœ¼ë¡œ ì ‘ì†ì´ ë¶ˆê°€ëŠ¥í•˜ë©° ê·¸ë¼íŒŒë‚˜ë¡œë§Œ ì ‘ì†ì´ ê°€ëŠ¥í•˜ê²Œ ë˜ì—ˆë‹¤.<br>\nì„±ê³µì ìœ¼ë¡œ ì—°ê²°ì´ ëœ ê²ƒë„ ê·¸ë¼íŒŒë‚˜ë¥¼ í†µí•´ í™•ì¸í•˜ì.\n\në¬¼ë¡  ê·¸ë¼íŒŒë‚˜ë¡œì˜ ì—°ê²°ë„ ì¸ë°”ìš´ë“œ ê·œì¹™ ë“±ì„ ì´ìš©í•´ íŠ¹ì • IPì—ì„œë§Œ ì ‘ì†í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•˜ì—¬ ë³´ì•ˆì„ ê°•í™”í•˜ì.\n\n## ë§ˆì¹˜ë©°\n\nì§€ê¸ˆê¹Œì§€ Docker, Prometheus, Grafanaë¥¼ ì´ìš©í•´ Spring Application ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ êµ¬ì¶•ì— ëŒ€í•´ ì‘ì„±í•´ë³´ì•˜ë‹¤.\n\nê½¤ ê¹Œë‹¤ë¡œìš´ ì‘ì—…ì´ì—ˆì§€ë§Œ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œë¥¼ í†µí•´ ì„œë¹„ìŠ¤ ìš´ì˜ì´ ì›í™œí•´ì§ˆ ê²ƒì„ ê¸°ëŒ€í•œë‹¤."},{"excerpt":"ë“¤ì–´ê°€ë©° ì„œë¹„ìŠ¤ë¥¼ ì§€ì†ì ìœ¼ë¡œ ë°œì „í•˜ê¸° ìœ„í•´ì„œëŠ” ë§ì€ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê±°ë‚˜ ì„±ëŠ¥ì„ ê°œì„ í•˜ëŠ” ë“± ë§ì€ ì‘ì—…ì´ í•„ì—°ì ìœ¼ë¡œ ì´ë¤„ì§„ë‹¤.\nì‘ì—…ì´ ì™„ë£Œë˜ë©´ ì´ë¥¼ ë°°í¬í•´ì•¼ í•˜ëŠ”ë°, ë°°í¬í•˜ëŠ” ê³¼ì •ì´ ê·€ì°®ê³  ê¸¸ì–´ì§€ë©´ ì„œë¹„ìŠ¤ë¥¼ ì§€ì†ì ìœ¼ë¡œ ë°œì „í•˜ëŠ” ë° ë¬¸ì œê°€ ìƒê¸´ë‹¤. ë”°ë¼ì„œ ë°°í¬ë¥¼ ìë™í™”í•˜ëŠ” ì‘ì—…ì€ ì„œë¹„ìŠ¤ë¥¼ ì§€ì†ì ìœ¼ë¡œ ìš´ì˜í•¨ì— ìˆì–´ ë§¤ìš° ì¤‘ìš”í•œ ì‘ì—…ì´ë‹¤. ë°°í¬ ìë™í™”ë¥¼ êµ¬ì¶•í•˜ëŠ” â€¦","fields":{"slug":"/continuous-deploy-using-github-actions-and-docker/"},"frontmatter":{"date":"May 29, 2024","title":"[Infra] Github Actionsì™€ Dockerë¥¼ ì´ìš©í•´ ë°°í¬ ìë™í™” êµ¬ì¶•í•˜ê¸°","tags":["infra","github actions","docker","continuous deploy"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©°\n\nì„œë¹„ìŠ¤ë¥¼ ì§€ì†ì ìœ¼ë¡œ ë°œì „í•˜ê¸° ìœ„í•´ì„œëŠ” ë§ì€ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê±°ë‚˜ ì„±ëŠ¥ì„ ê°œì„ í•˜ëŠ” ë“± ë§ì€ ì‘ì—…ì´ í•„ì—°ì ìœ¼ë¡œ ì´ë¤„ì§„ë‹¤.<br>\nì‘ì—…ì´ ì™„ë£Œë˜ë©´ ì´ë¥¼ ë°°í¬í•´ì•¼ í•˜ëŠ”ë°, ë°°í¬í•˜ëŠ” ê³¼ì •ì´ ê·€ì°®ê³  ê¸¸ì–´ì§€ë©´ ì„œë¹„ìŠ¤ë¥¼ ì§€ì†ì ìœ¼ë¡œ ë°œì „í•˜ëŠ” ë° ë¬¸ì œê°€ ìƒê¸´ë‹¤.\n\në”°ë¼ì„œ **ë°°í¬ë¥¼ ìë™í™”í•˜ëŠ” ì‘ì—…ì€ ì„œë¹„ìŠ¤ë¥¼ ì§€ì†ì ìœ¼ë¡œ ìš´ì˜í•¨ì— ìˆì–´ ë§¤ìš° ì¤‘ìš”í•œ ì‘ì—…**ì´ë‹¤.\n\në°°í¬ ìë™í™”ë¥¼ êµ¬ì¶•í•˜ëŠ” ë°©ë²•ê³¼ íˆ´ì€ ì—¬ëŸ¬ ê°€ì§€ê°€ ìˆì§€ë§Œ, ì´ë²ˆ ê¸€ì—ì„œëŠ” Github Actionsì™€ Dockerë¥¼ ì´ìš©í•´ êµ¬ì¶•í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì‘ì„±í•´ë³´ê² ë‹¤.\n\n## Architecture\n\në°°í¬ ìë™í™”ê°€ ìˆ˜í–‰ë˜ë©´ ì•„ë˜ ê·¸ë¦¼ê³¼ ê°™ì€ ìˆœì„œë¡œ ë™ì‘í•˜ê²Œ ë  ê²ƒì´ë‹¤.\n\n![ì „ì²´ ë™ì‘ íë¦„](architecture.png)\n\n1. íŠ¹ì • ë¸Œëœì¹˜ì— Push or Mergeê°€ ë°œìƒí•˜ë©´ Github Actionsë¥¼ í†µí•´ Deploy Workflowê°€ ìˆ˜í–‰í•œë‹¤.\n2. Docker Hubì—ì„œ Imageë¥¼ Pullí•˜ê¸° ìœ„í•´ Github Actions Hostì—ì„œ EC2 ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ì†í•´ì•¼ í•œë‹¤.<br>\nì´ë¥¼ ìœ„í•´ EC2 ë³´ì•ˆ ê·¸ë£¹ ì¸ë°”ìš´ë“œ ê·œì¹™ì— í˜„ì¬ ìˆ˜í–‰ ì¤‘ì¸ Github Actions Hostì˜ IPë¥¼ ì¶”ê°€í•´ì•¼ í•œë‹¤.\n3. Docker Imageë¥¼ ë§Œë“¤ê¸° ì „, í”„ë¡œì íŠ¸ ì„¤ì • íŒŒì¼ì„ ì¶”ê°€í•˜ê³  í”„ë¡œì íŠ¸ë¥¼ ë¹Œë“œí•œë‹¤.\n4. í”„ë¡œì íŠ¸ ë¹Œë“œì˜ ê²°ê³¼ë¬¼ì„ Dockerfileì„ ì´ìš©í•´ Imageë¡œ ë§Œë“¤ê³  Docker Hubì— Push í•œë‹¤.\n5. EC2 ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ì†í•´ Docker Hubì— ì˜¬ë ¤ë†“ì€ Imageë¥¼ Pull í•˜ê³  ì‹¤í–‰ì‹œí‚¨ë‹¤.\n\n<br>\n\nì´ì œ ìœ„ ì‘ì—…ì„ í•˜ë‚˜ì”© ìˆ˜í–‰í•´ë³´ì.\n\n## Docker Private Repository ë§Œë“¤ê¸°\n\nìš°ì„  [Docker Hub](https://hub.docker.com/)ì— ì ‘ì† í›„ ë¡œê·¸ì¸í•˜ì.<br>\n\në¡œê·¸ì¸ í›„ ìƒë‹¨ì— `Repository` íƒ­ì„ ëˆ„ë¥´ê³  `Create Repository` ë²„íŠ¼ì„ ëˆ„ë¥¸ë‹¤.\n\nê·¸ë¦¬ê³  *Repository Name*ì„ ë³¸ì¸ì— ë§ê²Œ ì‘ì„±í•˜ì.<br>\nì°¸ê³ ë¡œ `account/repository name` ìœ¼ë¡œ ìƒì„±ëœë‹¤.<br>\nì‘ì„±í–ˆë‹¤ë©´ ì•„ë˜ `Private`ì„ ì„ íƒí•´ ìƒì„±í•˜ì.\n\nìƒì„±í•˜ê³  ë‚˜ë©´ ì•„ë˜ ì‚¬ì§„ì²˜ëŸ¼ Private Repositoryê°€ ì¡´ì¬í•  ê²ƒì´ë‹¤.\n![](private-repository.png)\n\n## Docker Access Token ë°œê¸‰ë°›ê¸°\n\në’¤ì—ì„œ ì§„í–‰ë  Docker Loginê³¼ GitHub Actionsì—ì„œ Dockerì— Loginí•˜ê¸° ìœ„í•´ *Docker Access Token*ì´ í•„ìš”í•˜ë‹¤.\n\në¯¸ë¦¬ ë°œê¸‰ì„ ë°›ì•„ë†“ì.\n\nìš°ì¸¡ ìƒë‹¨ì— í”„ë¡œí•„ ë²„íŠ¼ì„ ëˆŒëŸ¬ `Account Settings` -> `Security`ë¡œ ë“¤ì–´ê°€ë©´ `Access Tokens`ê°€ ìˆì„ ê²ƒì´ë‹¤.<br>\n`New Access Token` ë²„íŠ¼ì„ ëˆŒëŸ¬ ë°œê¸‰ë°›ì.<br>\nê·¸ë¦¬ê³  Token ê°’ì€ ë³¸ì¸ë§Œ ì•Œê³  ìˆëŠ” ê³³ì— ê¸°ë¡í•´ë†“ìœ¼ë©´ ë˜ê² ë‹¤.\n\n## WASì— ì ‘ì†í•´ Docker Login í•´ë†“ê¸°\n\në‹¤ìŒ ë‹¨ê³„ë¡œ, WASì— ì ‘ì†í•´ ë¯¸ë¦¬ Dockerì— Login í•´ë†“ëŠ” ê²ƒì´ë‹¤.\n\nì „ì²´ ë™ì‘ íë¦„ì„ ë³´ë©´ Actions Hostì—ì„œ EC2 ì¸ìŠ¤í„´ìŠ¤ì—ì— SSHë¡œ ì ‘ì† í›„, ë¯¸ë¦¬ ì‘ì„±í•´ë†“ì€ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ìˆ˜í–‰í•œë‹¤.<br>\nì´ë•Œ, Docker Hubì—ì„œ Imageë¥¼ Pull ë°›ëŠ” ê³¼ì •ì€ ë¡œê·¸ì¸ì´ ëœ ìƒíƒœì—ì„œ ìˆ˜í–‰ë˜ì–´ì•¼ í•œë‹¤.<br>\n\nWASì— ì ‘ì† í›„ `docker login --username ... --password ...` ëª…ë ¹ì–´ë¡œ ë¡œê·¸ì¸ì„ í•´ë†“ì.\n\nì°¸ê³ ë¡œ êµ¬ê¸€ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ì„ í–ˆë‹¤ë©´ passwordì— ë¯¸ë¦¬ ë°œê¸‰ë°›ì•„ë†“ì€ `Docker Access Token` ê°’ì„ ì…ë ¥í•˜ë©´ ëœë‹¤. \n\n## Dockerfile\n\në‹¤ìŒìœ¼ë¡œ *Dockerfile*ì„ ì‘ì„±í•´ë³´ê² ë‹¤.<br>\nDockerfileì€ ìš°ë¦¬ê°€ ë§Œë“  í”„ë¡œì íŠ¸ë¥¼ ì´ë¯¸ì§€ë¡œ ë§Œë“¤ê¸° ìœ„í•´ í•„ìš”í•œ ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì´ë‹¤.<br>\n\nì‘ì„±í•œ Dockerfileì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\n\n```dockerfile\nFROM arm64v8/amazoncorretto:17-alpine-jdk\n\nCOPY ./build/libs/listywave.jar listywave.jar\n\nENV TZ=Asia/Seoul\n\nENTRYPOINT [\"java\", \"-jar\", \"listywave.jar\"]\n```\n\nì—¬ê¸°ì„œ ë”°ë¡œ ìˆ˜ì •ì´ í•„ìš”í•  ìˆ˜ ìˆëŠ” ë¶€ë¶„ì€ `FROM arm64v8/amazoncorretto:17-alpine-jdk` ì´ë¼ê³  ìƒê°í•œë‹¤.<br>\ní•„ìì˜ EC2 ì¸ìŠ¤í„´ìŠ¤ì˜ CPU ì•„í‚¤í…ì²˜ê°€  _arm64v8_ ë¼ì„œ ì•ì— `arm64v8`ì„ ì¶”ê°€í•´ì£¼ì—ˆë‹¤.<br>\në³¸ì¸ í™˜ê²½ì— ë§ê²Œ ìˆ˜ì •í•´ì£¼ë©´ ë˜ê² ë‹¤.\n\nDockerfileì€ í”„ë¡œì íŠ¸ ê²½ë¡œ ìµœìƒë‹¨ì— ìœ„ì¹˜ì‹œí‚¤ë©´ ëœë‹¤. \n\n## CD Workflow\n\nì´ì œ ì…‹íŒ…ì€ ëª¨ë‘ ëë‚¬ë‹¤. ë°°í¬ ìë™í™”ì˜ ì „ì²´ ë™ì‘ì„ ê¸°ìˆ í•œ Workflowë¥¼ ì‘ì„±í•´ë³´ì.<br>\n`/í”„ë¡œì íŠ¸ ìµœìƒë‹¨/.github/workflows/` ê²½ë¡œì— ì•„ë˜ yml íŒŒì¼ì„ ì‘ì„±í•˜ì. \n\nê° step ë³„ë¡œ nameì„ í•œê¸€ë¡œ ì ì—ˆìœ¼ë‹ˆ, ê°ê° ì–´ë–¤ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ”ì§€ íŒŒì•…í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.\n\n```yaml\n# prod-cd.yml\nname: Deploy to PROD\n\non:\n  workflow_dispatch:\n  push:\n    branches: [ \"prod\" ]\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Github Actions í˜¸ìŠ¤íŠ¸ IP ê°€ì ¸ì˜¤ê¸°\n        id: ip\n        uses: haythem/public-ip@bdddd92c198b0955f0b494a8ebeac529754262ff\n\n      - name: AWS ë¡œê·¸ì¸\n        uses: aws-actions/configure-aws-credentials@e3dd6a429d7300a6a4c196c26e071d42e0343502\n        with:\n          aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}\n          aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}\n          aws-region: ${{ secrets.AWS_DEFAULT_REGION }}\n\n      - name: IP í—ˆìš©\n        run: |\n          aws ec2 authorize-security-group-ingress --group-id ${{ secrets.AWS_SECURITY_GROUP_ID }} --protocol \"tcp\" --port \"${{ secrets.EC2_PORT }}\" --cidr \"${{ steps.ip.outputs.ipv4 }}/32\"\n        env:\n          AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}\n          AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}\n          AWS_DEFAULT_REGION: ${{ secrets.AWS_DEFAULT_REGION }}\n\n      - name: ì €ì¥ì†Œ Checkout\n        uses: actions/checkout@v4\n\n      - name: ì„¤ì • íŒŒì¼ ì¶”ê°€\n        run: |\n          cd ./src/main/resources/\n\n          cat <<EOF > application-prod.yml\n          ${{ secrets.APPLICATION_PROD_YML }}\n          EOF\n\n          cat <<EOF > application-oauth.yml\n          ${{ secrets.APPLICATION_OAUTH_YML }}\n          EOF\n\n          cat <<EOF > application-storage.yml\n          ${{ secrets.APPLICATION_STORAGE_YML }}\n          EOF\n\n      - name: ë””ë ‰í„°ë¦¬ ì´ë™\n        run: cd /home/runner/work/ListyWave-back/ListyWave-back/\n\n      - name: Gradle ì…‹ì—…, ë¹Œë“œ, ìºì‹±\n        uses: burrunan/gradle-cache-action@3bf23b8dd95e7d2bacf2470132454fe893a178a1\n        with:\n          arguments: bootJar\n\n      - name: ë„ì»¤ ì´ë¯¸ì§€ ë¹Œë“œ\n        run: docker build -t ${{ secrets.DOCKER_HUB_USERNAME }}/${{ secrets.IMAGE_NAME }}:${{ secrets.PROD_TAG }} ./\n\n      - name: ë„ì»¤ í—ˆë¸Œì— ë¡œê·¸ì¸\n        uses: docker/login-action@0d4c9c5ea7693da7b068278f7b52bda2a190a446\n        with:\n          username: ${{ secrets.DOCKER_HUB_USERNAME }}\n          password: ${{ secrets.DOCKER_HUB_TOKEN }}\n\n      - name: ë„ì»¤ í—ˆë¸Œì— Push\n        run: docker push ${{ secrets.DOCKER_HUB_USERNAME }}/${{ secrets.IMAGE_NAME }}:${{ secrets.PROD_TAG }}\n\n      - name: ì¸ìŠ¤í„´ìŠ¤ ì ‘ì† ë° ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰\n        uses: appleboy/ssh-action@029f5b4aeeeb58fdfe1410a5d17f967dacf36262\n        with:\n          host: ${{ secrets.PROD_EC2_HOST }}\n          username: ${{ secrets.EC2_USERNAME }}\n          key: ${{ secrets.PROD_EC2_PRIVATE_KEY }}\n          script: |\n            docker stop \"${{ secrets.CONTAINER_NAME }}\"\n            docker rm -f \"${{ secrets.CONTAINER_NAME }}\"\n            docker rmi \"${{ secrets.DOCKER_HUB_USERNAME }}/${{ secrets.IMAGE_NAME }}:${{ secrets.PROD_TAG }}\"\n            docker pull \"${{ secrets.DOCKER_HUB_USERNAME }}/${{ secrets.IMAGE_NAME }}:${{ secrets.PROD_TAG }}\"\n            docker run -d -p 8080:8080 --name \"${{ secrets.PROD_CONTAINER_NAME }}\" \"${{ secrets.DOCKER_HUB_USERNAME }}/${{ secrets.IMAGE_NAME }}:${{ secrets.PROD_TAG }}\"\n\n      - name: IP ì œê±°\n        if: ${{ always() }} # ë°˜ë“œì‹œ ì¶”ê°€í•´ì•¼ í•œë‹¤. ì¶”ê°€í•˜ì§€ ì•Šìœ¼ë©´ ë³´ì•ˆ ê·¸ë£¹ì— ì¶”ê°€í•œ IPê°€ ì‚­ì œë˜ì§€ ì•ŠëŠ”ë‹¤!!\n        run: |\n          aws ec2 revoke-security-group-ingress --group-id \"${{ secrets.AWS_SECURITY_GROUP_ID }}\" --protocol \"tcp\" --port \"${{ secrets.EC2_PORT }}\" --cidr \"${{ steps.ip.outputs.ipv4 }}/32\"\n        env:\n          AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}\n          AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}\n          AWS_DEFAULT_REGION: ${{ secrets.AWS_DEFAULT_REGION }}\n```\n\n## Github Repositoryì— Secret ê°’ ë„£ì–´ì£¼ê¸°\n\nì´ì œ ìœ„ workflowê°€ ì •ìƒì ìœ¼ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ *Secrets* ê°’ë“¤ì„ ë„£ì–´ì£¼ì.\n\ní”„ë¡œì íŠ¸ì˜ GitHub Repositoryì—ì„œ `Settings` - `Secrets and variables` - `Actions`ë¡œ ë“¤ì–´ê°€ì.\n\nê·¸ë¦¬ê³  `New Repository secret` ë²„íŠ¼ì„ ëˆŒëŸ¬ Secrets ê°’ë“¤ì„ ì €ì¥í•´ì£¼ë©´ ëœë‹¤.\n![Actions Secrets](actions-secrets.png)\n\nìœ„ Workflowë¥¼ ìœ„ì—ì„œë¶€í„° í•˜ë‚˜ì”© **ì²œì²œíˆ!** **ì°¨ê·¼ì°¨ê·¼!** ë³´ë©´ì„œ ì €ì¥í•´ì£¼ì.<br>\ní•„ìëŠ” ë‹¨ í•˜ë‚˜ë¥¼ ë¹ íŠ¸ë ¤ 2ì‹œê°„ì„ ë‚ ë ¸ë‹¤.. ğŸ˜­ğŸ˜­\n\n## ë™ì‘ í™•ì¸í•˜ê¸°\n\nì´ì œ ì„¤ì •í•œ ë¸Œëœì¹˜ì— ì½”ë“œë¥¼ pushí•´ì„œ ì œëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•˜ë©´ ëª¨ë“  ì‘ì—…ì€ ëì´ ë‚œë‹¤.\n\në§Œì•½ ì‘ì—…ì´ ì‹¤íŒ¨í•œë‹¤ë©´, `Actions` íƒ­ì—ì„œ í•´ë‹¹ workflowì˜ ë¡œê·¸ë¥¼ ì‚´í´ë³´ë©° ì–´ë””ì„œ ì‹¤íŒ¨í–ˆëŠ”ì§€ í™•ì¸í•˜ë©´ ëœë‹¤.<br>\nëŒ€ë¶€ë¶„ ì„¤ì • í•˜ë‚˜ë¥¼ ë¹ íŠ¸ë ¸ë‹¤ê±°ë‚˜, ê°’ì„ ì˜ëª» ì‘ì„±í–ˆë‹¤ê±°ë‚˜ í•˜ëŠ” ë¬¸ì œì¼ ê°€ëŠ¥ì„±ì´ í¬ê¸° ë•Œë¬¸ì—<br>\në¡œê·¸ë¥¼ ì½ê³  í•˜ë‚˜ì”© í•´ê²°í•˜ë©´ ëª¨ë‘ ì˜¬ë°”ë¥´ê²Œ ë™ì‘í•  ê²ƒì´ë‹¤.\n\n## ë§ˆë¬´ë¦¬\n\nì¸í”„ë¼ ì‘ì—…ì€ ë‹¤ì–‘í•œ ê³³ì—ì„œ ì„¤ì •í•´ì¤˜ì•¼ í•˜ê¸°ì— ì„¸ì‹¬í•¨ì´ í•„ìš”í•˜ë‹¤.<br>\nê¸‰í•˜ê²Œ í•˜ê¸°ë³´ë‹¨ í•˜ë‚˜ì”© ì‘ì—…ì„ ìˆ˜í–‰í•˜ê³  í™•ì¸í•˜ëŠ” ì‹ìœ¼ë¡œ ì§„í–‰í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•œë‹¤.\n\ní˜¹ì—¬ë‚˜ ì„¤ëª…ì´ ë¹ ì¡Œê±°ë‚˜ ë¶€ì¡±í•œ ë¶€ë¶„ì´ ìˆë‹¤ë©´ ì–¸ì œë“ ì§€ ëŒ“ê¸€ë¡œ ì•Œë ¤ì£¼ì„¸ìš”.<br>\nê°ì‚¬í•©ë‹ˆë‹¤."},{"excerpt":"ë“¤ì–´ê°€ë©° í˜„ì¬ ListyWave í”„ë¡œì íŠ¸ì—ì„œ ë°±ì—”ë“œëŠ” ì§€ì†ì  í†µí•©(ì´í•˜ CI)ì˜ íˆ´ë¡œ Github Actionsë¥¼ ì´ìš© ì¤‘ì´ë‹¤. CI ê³¼ì •ì—ì„œ ìˆ˜í–‰í•˜ëŠ” ì‘ì—…ì€ í¬ê²Œ ì•„ë˜ì™€ ê°™ë‹¤. ì €ì¥ì†Œ Checkout JDK ì¤€ë¹„ Gradle ì¤€ë¹„ Build í•˜ì§€ë§Œ 3, 4ë²ˆ ê³¼ì •ì—ì„œ ìµœì†Œ 1ë¶„ì´ ê±¸ë¦¬ê³  ìˆì—ˆë‹¤.  ì´ë¥¼ Github Actions Market Placeì—â€¦","fields":{"slug":"/enhance-speed-ci-workflow/"},"frontmatter":{"date":"May 23, 2024","title":"[Infra] Github Actionsë¥¼ ì´ìš©í•œ CI ì‘ì—… ì†ë„ë¥¼ ìºì‹±ìœ¼ë¡œ ê°œì„ í•˜ê¸°","tags":["infra","github actions","ci workflow"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©°\n\ní˜„ì¬ [ListyWave](https://listywave.com) í”„ë¡œì íŠ¸ì—ì„œ ë°±ì—”ë“œëŠ” ì§€ì†ì  í†µí•©(ì´í•˜ CI)ì˜ íˆ´ë¡œ [Github Actions](https://docs.github.com/ko/actions)ë¥¼ ì´ìš© ì¤‘ì´ë‹¤.\n\nCI ê³¼ì •ì—ì„œ ìˆ˜í–‰í•˜ëŠ” ì‘ì—…ì€ í¬ê²Œ ì•„ë˜ì™€ ê°™ë‹¤.\n\n1. ì €ì¥ì†Œ Checkout\n2. JDK ì¤€ë¹„\n3. Gradle ì¤€ë¹„\n4. Build\n\ní•˜ì§€ë§Œ 3, 4ë²ˆ ê³¼ì •ì—ì„œ ìµœì†Œ 1ë¶„ì´ ê±¸ë¦¬ê³  ìˆì—ˆë‹¤.\n\n![ê°œì„  ì „](not-enhanced.png)\n\nì´ë¥¼ Github Actions Market Placeì— ìˆëŠ” [actions/gradle-cache](https://github.com/marketplace/actions/gradle-cache)ë¥¼ ì´ìš©í•´ ì†ë„ë¥¼ ê°œì„ í•˜ë ¤ê³  í•œë‹¤.\n\n## 1. actions/gradle-cache\n\nìš°ì„  [actions/gradle-cache](https://github.com/marketplace/actions/gradle-cache)ì— ëŒ€í•´ ê°„ë‹¨í•˜ê²Œ ì´í•´í•´ë³´ì.\n\nGithub ActionsëŠ” ì‘ì—…ì´ ìˆ˜í–‰ë  ë•Œë§ˆë‹¤ ë§¤ë²ˆ ìƒˆë¡œìš´ í™˜ê²½ì˜ ê°€ìƒ í˜¸ìŠ¤íŠ¸ë¥¼ ìƒì„±í•˜ê³  ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.<br>\në”°ë¼ì„œ JDK ì…‹ì—…ì´ë‚˜ Gradle ì…‹ì—… ë° ë¹Œë“œ ê³¼ì •ì´ ë§¤ë²ˆ ë™ì¼í•˜ê²Œ ìˆ˜í–‰ëœë‹¤.\n\ní•˜ì§€ë§Œ ìœ„ ì‘ì—…ë“¤ì€ ë³€ê²½ë˜ì§€ ì•ŠëŠ” í•œ, **ìºì‹±ì„ ì´ìš©í•  ìˆ˜ ìˆëŠ” ì‘ì—…ë“¤**ì´ë‹¤.\n\n_actions/gradle-cache_ ëŠ” ê·¸ ì¤‘ì—ì„œë„, Gradleì„ ì…‹ì—…í•˜ê³  ë¹Œë“œí•˜ëŠ” ê³¼ì •ì„ ì „ë°˜ì ìœ¼ë¡œ ìˆ˜í–‰í•´ì£¼ë©° ë™ì‹œì— ì›ê²© í˜¹ì€ ë¡œì»¬ì— ìºì‹±ì„ ì§€ì›í•´ì£¼ëŠ” ê¸°ìˆ ì´ë‹¤.\n\n## 2. Gradleì„ ìºì‹±í•˜ë©´ ì†ë„ê°€ ë¹¨ë¼ì§€ëŠ” ì´ìœ \n\n[Gradle](https://docs.gradle.org/)ì€ Java, Android, Kotlinì„ **Build** í•´ì£¼ëŠ” ì˜¤í”ˆ ì†ŒìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ë‹¤.\n\nBuildë€ ìš°ë¦¬ê°€ ì™„ì„±í•œ í”„ë¡œì íŠ¸ë¥¼ ì‹¤í–‰ê°€ëŠ¥í•œ ë…ë¦½ì ì¸ í•˜ë‚˜ì˜ íŒŒì¼ë¡œ ë§Œë“œëŠ” ê³¼ì •ì„ ì˜ë¯¸í•œë‹¤.<br>\nJavaë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì„¤ëª…í•˜ë©´, Buildì˜ ì‚°ì¶œë¬¼ë¡œ _.jar_ ë˜ëŠ” _.war_ íŒŒì¼ì´ íƒ„ìƒí•œë‹¤.\n\nBuildë¥¼ í•˜ê¸° ìœ„í•´ì„œëŠ” ì»´íŒŒì¼ -> ë§í¬ -> íŒ¨í‚¤ì§• -> í…ŒìŠ¤íŠ¸ì˜ ê³¼ì •ì„ ê±°ì¹œë‹¤.<br>\nì´ ê³¼ì •ì—ì„œ **í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì¢…ì†ì„±ì„ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ë‹¤ìš´ë¡œë“œ** ë°›ì•„ì•¼ í•œë‹¤.<br>\në˜í•œ ì¤‘ìš”í•œ ì‚¬ì‹¤ì€, **Buildì˜ ì…ë ¥(ì†ŒìŠ¤ ì½”ë“œ, ì¢…ì†ì„±, ë¹Œë“œ ì˜µì…˜ ë“±)ì´ ë™ì¼í•˜ë©´ ì¶œë ¥ë„ ë™ì¼**í•˜ë‹¤.\n\në”°ë¼ì„œ **ì§ì „ Buildì˜ ê²°ê³¼ë¥¼ ì €ì¥í•˜ê³  ë‹¤ìŒ Build ì‘ì—…ì—ì„œ ì…ë ¥ì´ ë°”ë€Œì§€ ì•Šì•˜ë‹¤ë©´ í•´ë‹¹ ê²°ê³¼ë¬¼ì„ ì¬ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ì‹œê°„ì„ ì ˆì•½**í•  ìˆ˜ ìˆë‹¤.<br>\në˜í•œ **ì¢…ì†ì„±ì„ ìºì‹±í•œë‹¤ë©´ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ë‹¤ìš´ë¡œë“œ ë°›ëŠ” ë°˜ë³µ ì‘ì—…ì„ ìˆ˜í–‰í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤**.\n\n## 3. ì ìš©í•˜ê¸°\n\n[Gradle ê³µì‹ ë¬¸ì„œ](https://sejoung.github.io/2021/08/2021-08-04-gradle_build/)ì™€ [ê¸°ìˆ  ë¸”ë¡œê·¸](https://sejoung.github.io/2021/08/2021-08-04-gradle_build/)ë¥¼ í†µí•´ **Gradle ìì²´ì ìœ¼ë¡œ ì„±ëŠ¥ ê°œì„ ì„ ìœ„í•œ ì˜µì…˜ì„ ì§€ì›**í•˜ê³  ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n\nì—¬ëŸ¬ ì¢…ë¥˜ì˜ ì˜µì…˜ì´ ì§€ì›ë˜ê³  ìˆëŠ”ë°, ë‚˜ëŠ” ê·¸ ì¤‘ì—ì„œ **ë¹Œë“œë¥¼ ë³‘ë ¬ì ìœ¼ë¡œ ìˆ˜í–‰í•˜ê²Œ í•´ì£¼ëŠ” ì˜µì…˜**ê³¼ **ë¹Œë“œ ìºì‹œë¥¼ í™œì„±í™”í•´ì£¼ëŠ” ì˜µì…˜ì„ ì„¤ì •**í–ˆë‹¤.\n\nì˜µì…˜ì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…ì€ ê³µì‹ ë¬¸ì„œë‚˜ ë¸”ë¡œê·¸ ê¸€ì„ ì°¸ê³ í•´ë³´ë©´ ì¢‹ê² ë‹¤.\n\n### ê°œì„ ëœ CI Workflow\n\nGradle ìºì‹±ì„ ì ìš©í•œ CI WorkflowëŠ” ì•„ë˜ê³¼ ê°™ë‹¤.\n\n```yaml\nname: CI workflow\n\non:\n  pull_request:\n    branches: [ \"dev\", \"prod\" ]\n  workflow_dispatch:\n\njobs:\n  build:\n    runs-on: ubuntu-22.04\n\n    steps:\n      - name: ì²´í¬ì•„ì›ƒ\n        uses: actions/checkout@v4\n\n      - name: JDK ì…‹ì—…\n        uses: actions/setup-java@v4\n        with:\n          java-version: '17'\n          cache: 'gradle'\n          distribution: 'corretto'\n\n      - name: Gradle ì…‹ì—…, ë¹Œë“œ, ìºì‹œ\n        uses: burrunan/gradle-cache-action@3bf23b8dd95e7d2bacf2470132454fe893a178a1\n        with:\n          arguments: build # ê²½ìš°ì— ë”°ë¼ bootJar ë¡œë„ í•  ìˆ˜ ìˆë‹¤.\n          save-gradle-dependencies-cache: true\n          properties: |\n            --build-cache\n            --parallel\n```\n\nìœ„ Workflowë¡œ ìˆ˜í–‰í•œ ê²°ê³¼ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.\n\n![ê°œì„  í›„](enhanced.png)\n![Gradle ì…‹ì—…, ë¹Œë“œ, ìºì‹œ ì‘ì—… ë¡œê·¸](detail-of-gradle-job.png)\n\nGradleë¥¼ ì…‹ì—…í•˜ëŠ” ê³¼ì •ì—ì„œ ìºì‹œ ë°ì´í„°ë¥¼ í™œìš©í•œ ê²ƒì„ ë³¼ ìˆ˜ ìˆê³ , ë¹Œë“œ ê³¼ì • ì¤‘ì—ì„œ `Task :compileJava`, `Task :compileTestJava`, `Task :test ` ì‘ì—…ì´ ëª¨ë‘ ìºì‹œë¡œë¶€í„° ìˆ˜í–‰ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.<br>\nê·¸ ê²°ê³¼, í™•ì‹¤íˆ Gradleê³¼ ê´€ë ¨ëœ ì‘ì—…ì—ì„œ ìƒë‹¹í•œ ì„±ëŠ¥ ê°œì„ ì´ ì´ë£¨ì–´ì§„ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n\ní˜¹ì‹œë‚˜í•´ì„œ ê³ ì˜ë¡œ ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„± í›„ Workflowë¥¼ ì‹¤í–‰í•´ë³´ì•˜ë‹¤.\n![ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì‘ì„± í›„ ì‹¤í–‰ ê²°ê³¼](result-for-fail-test.png)\nBuildê°€ ì„±ê³µì ìœ¼ë¡œ ì‹¤íŒ¨í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.\n\n## ë§ˆì¹˜ë©°\n\nì´ ê¸€ì„ í†µí•´ Github Actionsë¥¼ ì´ìš©í•´ CIë¥¼ êµ¬ì¶•í•˜ë ¤ëŠ” ì‚¬ëŒë“¤ì´ ì¡°ê¸ˆ ë” ë¹ ë¥¸ ì†ë„ë¡œ ì²˜ë¦¬í–ˆìœ¼ë©´ ì¢‹ê² ë‹¤.\n"},{"excerpt":"ì´ë²ˆ ì¥ì—ì„œëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê³µê²©í•˜ëŠ” ê¸°ìˆ ë“¤ì— ëŒ€í•´ ì•Œì•„ë³¸ë‹¤. 1. ê³µê²© íŒ¨í„´ì˜ ì¢…ë¥˜ ê³µê²©ì˜ ì¢…ë¥˜ëŠ” í¬ê²Œ ë‘ ê°€ì§€ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤. 1-1. ëŠ¥ë™ì  ê³µê²© ëŠ¥ë™ì  ê³µê²©ì€ ê³µê²©ìê°€ ì§ì ‘ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ê³µê²©ì„ ì‹œë„í•˜ì—¬ ì„œë²„ì˜ ë¦¬ì†ŒìŠ¤ë¥¼ íƒˆì·¨í•˜ë ¤ëŠ” ë°©ì‹ì´ë‹¤. ëŒ€í‘œì ì¸ ì˜ˆë¡œ SQL ì¸ì ì…˜, OS ì»¤ë§¨ë“œ ì¸ì ì…˜, ë””ë„ìŠ¤ ë“±ì´ ìˆë‹¤. 1-2. ìˆ˜ë™ì  ê³µê²© ìˆ˜ë™ì â€¦","fields":{"slug":"/10-web-attacks/"},"frontmatter":{"date":"May 12, 2024","title":"11ì¥. ì›¹ ê³µê²© ê¸°ìˆ ","tags":["Network"]},"rawMarkdownBody":"\nì´ë²ˆ ì¥ì—ì„œëŠ” **ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê³µê²©í•˜ëŠ” ê¸°ìˆ **ë“¤ì— ëŒ€í•´ ì•Œì•„ë³¸ë‹¤.\n\n## 1. ê³µê²© íŒ¨í„´ì˜ ì¢…ë¥˜\n\nê³µê²©ì˜ ì¢…ë¥˜ëŠ” í¬ê²Œ ë‘ ê°€ì§€ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.\n\n### 1-1. ëŠ¥ë™ì  ê³µê²©\n\n**ëŠ¥ë™ì  ê³µê²©**ì€ **ê³µê²©ìê°€ ì§ì ‘ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ê³µê²©ì„ ì‹œë„í•˜ì—¬ ì„œë²„ì˜ ë¦¬ì†ŒìŠ¤ë¥¼ íƒˆì·¨í•˜ë ¤ëŠ” ë°©ì‹**ì´ë‹¤.\n\nëŒ€í‘œì ì¸ ì˜ˆë¡œ _SQL ì¸ì ì…˜_, _OS ì»¤ë§¨ë“œ ì¸ì ì…˜_, _ë””ë„ìŠ¤_ ë“±ì´ ìˆë‹¤.\n\n### 1-2. ìˆ˜ë™ì  ê³µê²©\n\n**ìˆ˜ë™ì  ê³µê²©**ì€ **ì¼ë°˜ ì‚¬ìš©ìì—ê²Œ ê³µê²© ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë„ë¡ ìœ ë„**í•˜ëŠ” ê³µê²© ë°©ì‹ì´ë‹¤.\n\nëŒ€í‘œì ì¸ ì˜ˆë¡œ _XSS(Cross-Site Scripting)_, _CSRF(Cross Site Request Forgery)_ ë“±ì´ ìˆë‹¤.\n\n## 2. ì—¬ëŸ¬ ê³µê²© íŒ¨í„´ ì´í•´í•˜ê¸°\n\n### 2-1. SQL ì¸ì ì…˜\n\n**SQL ì¸ì ì…˜**ì´ë€ **ë¹„ì •ìƒì ì¸ ìš”ì²­ì„ ë³´ëƒ„ìœ¼ë¡œì¨ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì˜ë„í•˜ì§€ ì•Šì€ SQLì„ ìš”ì²­í•˜ë„ë¡ ì˜ë„í•˜ëŠ” ëŠ¥ë™ì  ê³µê²©**ì´ë‹¤.\n\në°ì´í„°ë² ì´ìŠ¤ì— ì§ì ‘ ì ‘ê·¼í•˜ê¸° ë–„ë¬¸ì— ê°œì¸ ì •ë³´ ìœ ì¶œì´ë‚˜ í…Œì´ë¸” ì‚­ì œ ë“± ì„œë¹„ìŠ¤ ìš´ì˜ì— í¬ë¦¬í‹°ì»¬í•œ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆëŠ” ê³µê²© ì¤‘ í•˜ë‚˜ë‹¤.\n\nì˜ˆë¥¼ ë“¤ì–´, ì‚¬ìš©ìì˜ ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ìš”ì²­ìœ¼ë¡œë¶€í„° ì…ë ¥ë°›ì•„ DBì— ì¡´ì¬í•˜ëŠ”ì§€ íŒë³„í•˜ëŠ” SQLë¬¸ì„ ì‘ì„±í–ˆë‹¤ê³  ê°€ì •í•´ë³´ì.<br>\n```sql\nSELECT * FROM users WHERE id=${id} AND password=${password};\n```\nì´ë•Œ, passwordì— ëŒ€í•œ ì…ë ¥ê°’ìœ¼ë¡œ `' OR '1'='1;` ì´ ë“¤ì–´ì˜¤ë©´ ì¿¼ë¦¬ëŠ” ì•„ë˜ì™€ ê°™ì´ ì™„ì„±ë  ê²ƒì´ë‹¤.\n```sql\nSELECT * FROM users WHERE id='kdkdhoho' AND password='' OR '1'='1';\n```\n`OR '1'='1'` ì´ë¼ëŠ” ì¡°ê±´ë¬¸ ë•Œë¬¸ì— í•´ë‹¹ ì¿¼ë¦¬ëŠ” ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì§€ ì•Šì•„ë„ **kdkdhoho ê³„ì •ì— ëŒ€í•œ ë¡œê·¸ì¸ì´ ì„±ê³µ**í•˜ê²Œ ëœë‹¤.\n\nSQL ì¸ì ì…˜ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ **ì…ë ¥ê°’ì´ ì˜ë„í•œ ë°ì´í„° í˜•ì‹ì¸ì§€ ì²´í¬**í•˜ê±°ë‚˜ **ì…ë ¥ê°’ì„ DBì— í•´ì‹±í•˜ì—¬ ì•”í˜¸í™”í•œ ë‹¤ìŒ ì €ì¥**í•˜ëŠ” ë…¸ë ¥ ë“±ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.\n\n### 2-2. HTTP í—¤ë” ì¸ì ì…˜\n\nHTTP í—¤ë” ì¸ì ì…˜ì€ **ê³µê²©ìê°€ HTTP ì‘ë‹µ í—¤ë” í•„ë“œì— ê°œí–‰ ë¬¸ì ë“±ì„ ì‚½ì…í•¨ìœ¼ë¡œì¨ ì„ì˜ì˜ ì‘ë‹µ í—¤ë”ë‚˜ ë°”ë””ë¥¼ ì¶”ê°€í•˜ëŠ” ìˆ˜ë™ì  ê³µê²©**ì´ë‹¤.\n\në§Œì•½ ì•„ë˜ì™€ ê°™ì€ HTTP Responseê°€ ìˆë‹¤ê³  ê°€ì •í•´ë³´ì.\n```http request\nLocation: http://www.example.com/a.cgi?q=12345\nSet-Cookie: JSESSIONID=12345\n```\n\nìœ„ ì‘ë‹µì„ ì´ìš©í•´ ê³µê²©ìëŠ” ë‹¤ìŒ ìš”ì²­ì— ì•„ë˜ì™€ ê°™ì´ `Location` í—¤ë”ë¥¼ ê³ ì³ ìš”ì²­ì„ ë³´ë‚´ë©´\n```http request\nLocation: http://www.example.com/a.cgi?q=12345%0D%0ASet-Cookie:+SID=123456789\n```\n\nìš”ì²­ì— ëŒ€í•œ ì‘ë‹µìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì€ HTTP ë©”ì‹œì§€ê°€ ì‘ë‹µëœë‹¤.\n```http request\nLocation: http://www.example.com/a.cgi?q=12345%0D%0ASet-Cookie:+SID=123456789\nSet-Cookie: SID=123456789\n```\n\nì™œëƒí•˜ë©´ `%0D%0A`ëŠ” HTTP ë©”ì‹œì§€ì˜ ê°œí–‰ ë¬¸ìë¥¼ ì˜ë¯¸í•œë‹¤.<br>\në”°ë¼ì„œ `%0D%0A` ë’¤ì— ìˆëŠ” `Set-Cookie:+SID=123456789` ê°€ ì„œë²„ê°€ ë§Œë“¤ì–´ ë‚¸ `Set-Cookie` í—¤ë”ë¥¼ ë®ì–´ ì”Œì›Œ ì‘ë‹µìœ¼ ë³´ë‚´ê²Œ ëœë‹¤.<br>\nì´ëŸ° ë°©ì‹ì„ _ì„¸ì…˜ í”½ì„¸ì´ì…˜_ ì´ë¼ê³  í•œë‹¤.\n\nìœ„ ë°©ì‹ì²˜ëŸ¼ HTTP í—¤ë” ë˜ëŠ” ë°”ë””ì— ê³µê²©ìê°€ ë¶€ì ì ˆí•œ ê°’ì„ ì¶”ê°€í•˜ì—¬ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œì˜ ìš”ì²­ê³¼ ì‘ë‹µì„ ì˜ë„í•˜ëŠ” ëŒ€ë¡œ ë™ì‘í•  ìˆ˜ ìˆë‹¤.\n\n### 2-3. DoS ê³µê²©\n\nDoS (Denial of Service attack)ì€ ëŒ€ëŸ‰ì˜ ì•¡ì„¸ìŠ¤ë¥¼ íŠ¹ì • í˜¸ìŠ¤íŠ¸ì— ì§‘ì¤‘í•˜ì—¬ ë³´ë‚´ì–´ ì„œë¹„ìŠ¤ ì œê³µì„ ì •ì§€ ìƒíƒœë¡œ ë§Œë“œëŠ” ê³µê²©ì´ë‹¤.<br>\nDoS ê³µê²©ì€ ì›¹ ì„œë²„ ë¿ë§Œ ì•„ë‹ˆë¼, ë„¤íŠ¸ì›Œí¬ ê¸°ê¸°ë‚˜ ì„œë²„ ë“±ì„ ëŒ€ìƒìœ¼ë¡œ ê³µê²©í•˜ëŠ” ê²½ìš°ë„ ìˆë‹¤.\n\níŠ¹íˆ, DDoS ê³µê²©ì€ ì—¬ëŸ¬ ëŒ€ì˜ ì»´í“¨í„°ì—ì„œ ìš”ì²­ì„ ë³´ë‚´ëŠ” ë°©ì‹ì„ ì˜ë¯¸í•œë‹¤.\n\n### 2-4. XSS(Cross-Site Scripting)\n\nXSSëŠ” ë™ì ìœ¼ë¡œ HTMLì„ ìƒì„±í•˜ëŠ” ë¶€ë¶„ì—ì„œ ë°œìƒí•˜ëŠ” ì·¨ì•½ì ì„ ì´ìš©í•˜ëŠ” ê³µê²© ë°©ì‹ì´ë‹¤.<br>\nì¢…ë¥˜ë¡œëŠ” _Stored XSS_ ì™€ _Reflection XSS_ ê°€ ìˆë‹¤.<br>\në‘ XSS ëª¨ë‘ ê³µê²©ìê°€ ì‹¬ì–´ë†“ì€ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©ìê°€ ì˜ë„í•˜ì§€ ì•Šì•„ë„ ì‹¤í–‰ë˜ë„ë¡ ìœ ë„í•˜ëŠ” ë°©ì‹ì´ë‹¤.\n\n#### 2-4-1. Stored XSS\n\nëŒ“ê¸€ì´ë‚˜ ê²Œì‹œê¸€ì— ê¸€ì„ ì‘ì„±í•  ë–„, HTML íƒœê·¸ë¥¼ ë³¸ë¬¸ì— ë„£ì–´ ìš”ì²­ì„ ë³´ë‚´ë©´ ì„œë²„ëŠ” ë³¸ë¬¸ ìì²´ë¥¼ ì €ì¥í•œë‹¤.<br>\nì´ë•Œ, í•´ë‹¹ ê²Œì‹œê¸€ì„ ì¡°íšŒí•˜ëŠ” ëª¨ë“  ì‚¬ìš©ìëŠ” ê³µê²©ìê°€ ì‹¬ì–´ë†“ì€ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì½ê±°ë‚˜ ìˆ˜í–‰í•˜ê²Œ ëœë‹¤. \n\nì‹¤ì œë¡œ 2011ë…„ ë„¤ì´ë²„ ì›¹íˆ° ëŒ“ê¸€ì— `<img>` íƒœê·¸ë¥¼ ì‚½ì…í•¨ìœ¼ë¡œì¨ ì´ë¯¸ì§€ í…ŒëŸ¬ê°€ ë°œìƒí•œ ì‚¬ë¡€ê°€ ìˆë‹¤. [[^1]]\n[^1]: [ë„¤ì´ë²„ ì›¹íˆ° ëŒ“ê¸€ì—ì„œ ì´ë¯¸ì§€ ì²¨ë¶€ê°€ ì•ˆë˜ëŠ” ì´ìœ ](https://www.dogdrip.net/554409611)\n\n#### 2-4-2. Reflection XSS\n\nê³µê²©ìê°€ ì•…ì˜ì ì¸ ìŠ¤í¬ë¦½íŠ¸ë¥¼ URLì— ë‹´ì•„ ê³µìœ í•œë‹¤.<br>\ní•´ë‹¹ URLì„ ëˆ„ë¥´ê²Œ ë˜ë©´, ë¸Œë¼ìš°ì €ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¥¼ ìˆ˜í–‰í•˜ê²Œ ëœë‹¤.<br>\nURLì€ ì •ìƒì ì¸ ì‚¬ì´íŠ¸ì²˜ëŸ¼ ë³´ì´ëŠ” í”¼ì‹± ì‚¬ì´íŠ¸ì´ê±°ë‚˜ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ê³µê²©ìì—ê²Œ ì „ì†¡í•˜ëŠ” URL ì¼ ìˆ˜ ìˆë‹¤.\n\nXSSê°€ ì–´ë–¤ ì‹ìœ¼ë¡œ ìˆ˜í–‰ë˜ëŠ”ì§€ ì§ì ‘ ë³´ê³  ì‹¶ë‹¤ë©´ [10ë¶„ í…Œì½”í†¡ - ì•ŒíŠ¸ì˜ XSS](https://youtu.be/bSGqBoZd8WM?feature=shared) ì˜ìƒì„ ì°¸ê³ í•´ë³´ì.<br>\n\n#### 2-4-3. XSS ë°©ì–´í•˜ê¸°\n\n1. innerHTMLì„ ì‚¬ìš©í•˜ì§€ ëª»í•˜ë„ë¡ í•œë‹¤.\n2. ì…ë ¥ê°’ìœ¼ë¡œ íŠ¹ìˆ˜ë¬¸ìë¥¼ ì…ë ¥í•˜ì§€ ëª»í•˜ë„ë¡ í•œë‹¤. (ë˜ëŠ” ì •í•´ì§„ í˜•ì‹ìœ¼ë¡œë§Œ ì…ë ¥í•˜ë„ë¡ ê°•ì œí•œë‹¤.)\n3. ì…ë ¥ê°’ì˜ íŠ¹ìˆ˜ë¬¸ìë¥¼ ë¬¸ìì—´ë¡œ ì¹˜í™˜í•œë‹¤.\n4. Cookieì˜ _httpOnly_, _Secure_ ì†ì„±ì„ ì‚¬ìš©í•˜ì—¬ JSë¡œ Cookieì— ì ‘ê·¼í•˜ì§€ ëª»í•˜ë„ë¡ ë§‰ëŠ”ë‹¤.\n\n### 2-5. CSRF(Cross Site Request Forgery)\n\nCSRFëŠ” **íŠ¹ì • ì›¹ì‚¬ì´íŠ¸ì— ì¸ì¦ëœ ìƒíƒœì˜ ìœ ì €ê°€ ì˜ë„í•˜ì§€ ì•Šì€ ìš”ì²­ì„ ë³´ë‚´ë„ë¡ í•˜ëŠ” ìˆ˜ë™ì  ê³µê²©**ì´ë‹¤.\n\nì‹¤ì œ ì‚¬ë¡€ë¡œ, 2008ë…„ ì˜¥ì…˜ì—ì„œ CSRF ê³µê²©ìœ¼ë¡œ 1,800ë§Œ ëª…ì˜ ê°œì¸ì •ë³´ê°€ ìœ ì¶œëœ ì‚¬ë¡€ê°€ ìˆë‹¤.<br>\nê³µê²© ì‹œë‚˜ë¦¬ì˜¤ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\n\n1. í•´ì»¤ëŠ” `<img src=\"http://action.com/changeUserAccount?id=admin%password=admin width=\"0\" height=\"0\">` íƒœê·¸ê°€ ë“¤ì–´ê°„ ì´ë©”ì¼ì„ ë³´ë‚¸ë‹¤.\n2. ì˜¥ì…˜ ë‚´ë¶€ ê´€ë¦¬ìëŠ” ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ë¡œê·¸ì¸ì„ í•œ ìƒíƒœì—ì„œ í•´ë‹¹ ì´ë©”ì¼ì„ í´ë¦­í•œë‹¤.\n3. ì´ë•Œ, ì´ë¯¸ì§€ë¥¼ ë°›ì•„ì˜¤ê¸° ìœ„í•´ URLì´ ì—´ë¦¬ê²Œ ë˜ëŠ”ë° `src`ì— ë‹´ê¸´ ìš”ì²­ìœ¼ë¡œ ê´€ë¦¬ì ê³„ì •ì˜ ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ê°€ ëª¨ë‘ í•´ì»¤ê°€ ì˜ë„í•œ ê°’ìœ¼ë¡œ ë³€ê²½ëœë‹¤.\n\n#### 2-5-1. CSRF ë°©ì–´í•˜ê¸°\n\nì‚¬ìš©ìëŠ” ì´ìƒí•œ URLì„ í•¨ë¶€ë¡œ í´ë¦­í•˜ì§€ ì•ŠëŠ”ë‹¤.\n\nì„œë²„ëŠ” HTTP Requestì— ë‹´ê¸´ `Host`ì™€ `Referer` í—¤ë” ê°’ì„ ë¹„êµí•œë‹¤.<br>\në§Œì•½ ì •ìƒì ì¸ ìš”ì²­ì´ë¼ë©´ ë‘ í—¤ë”ì˜ ê°’ì€ ì¼ì¹˜í•  ê²ƒì´ë‹¤.<br>\ní•˜ì§€ë§Œ CSRFì— ì˜í•œ ìš”ì²­ì´ë¼ë©´ ë‘ ê°’ì€ ë‹¬ë¼ì§€ë¯€ë¡œ ì´ë¥¼ ë¹„êµí•˜ì—¬ ê²€ì¦í•˜ëŠ” ê²ƒë§Œìœ¼ë¡œë„ ëŒ€ë¶€ë¶„ì˜ CSRF ê³µê²©ì„ ë°©ì–´í•  ìˆ˜ ìˆë‹¤ê³  í•œë‹¤.\n\n### 2-6. ë¶€ì ì ˆí•œ ì—ëŸ¬ ë©”ì‹œì§€ ì²˜ë¦¬ë¡œ ì¸í•œ ê³µê²©\n\nì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì²˜ë¦¬í•œ ì—ëŸ¬ ë©”ì‹œì§€ë¡œ ì¸í•´ í˜„ì¬ ì ‘ê·¼ì´ ì–´ë–¤ ë¬¸ì œë¥¼ ê°€ì§€ê³  ìˆëŠ”ì§€ íŒíŠ¸ë¥¼ ì£¼ëŠ” ê²½ìš°ê°€ ìˆë‹¤.\n\nê°€ë ¹, ë¡œê·¸ì¸ì„ í–ˆëŠ”ë° ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì´ë©”ì¼ì´ë¼ê±°ë‚˜<br>\nì´ëŸ´ ì¼ì€ ì—†ê² ì§€ë§Œ ì…ë ¥í•œ ë¹„ë°€ë²ˆí˜¸ê°€ ëª‡ ê¸€ì í‹€ë ¸ëŠ”ì§€ ì•Œë ¤ì£¼ëŠ” ì‹ì˜ ì—ëŸ¬ ë©”ì‹œì§€ëŠ” ê³µê²©ìì—ê²Œ ë„ˆë¬´ ë§ì€ íŒíŠ¸ë¥¼ ì£¼ê²Œ ë˜ëŠ” ì…ˆì´ë‹¤.\n\në˜í•œ ë°ì´í„°ë² ì´ìŠ¤ ë“±ì˜ ì‹œìŠ¤í…œì— ì˜í•œ ì—ëŸ¬ ë©”ì‹œì§€ê°€ ê·¸ëŒ€ë¡œ ë…¸ì¶œë˜ëŠ” ê²½ìš°ì—ë„ ê³µê²©ìì—ê²Œ ì·¨ì•½ì„±ì„ ì•Œë ¤ì£¼ëŠ” ì…ˆê³¼ ê°™ë‹¤."},{"excerpt":"ì›¬ë§Œí•˜ë©´ ì²˜ëŸ¼, ë¥¼ í†µí•´ ë°”ë¡œ íŒŒì•…í•˜ê±°ë‚˜ ê³µì‹ ë¬¸ì„œë¥¼ í†µí•´ ìì„¸íˆ ì´í•´í•  ìˆ˜ ìˆë‹¤. ê·¸ë˜ë„ ë„ì»¤ë¥¼ ê³µë¶€í•˜ë©´ì„œ ìœ ìš©í•œ ëª…ë ¹ì–´ë“¤ì„ ì •ë¦¬í•  ê²¸ ì‘ì„±í•œë‹¤. ì¹˜íŠ¸ ì‹œíŠ¸ mysql ë„ìš°ê¸° ë²„ì „ ê´€ë ¨ : ë„ì»¤ì˜ ë²„ì „ì„ í™•ì¸í•œë‹¤. : ë„ì»¤ ë²„ì „ì„ ê°„ëµí•˜ê²Œ í™•ì¸í•œë‹¤. ì´ë¯¸ì§€ ê´€ë ¨ : ë„ì»¤ í—ˆë¸Œì—ì„œ ì´ë¯¸ì§€ë¥¼ ë°›ëŠ”ë‹¤. : ë„ì»¤ ì—”ì§„ì— ì¡´ì¬í•˜ëŠ” ì´ë¯¸ì§€ ëª©ë¡ì„ ì¶œë ¥í•œë‹¤. ì»¨í…Œì´â€¦","fields":{"slug":"/commands-of-docker/"},"frontmatter":{"date":"May 01, 2024","title":"[Docker] ë„ì»¤ì˜ ê¸°ë³¸ì ì¸ ëª…ë ¹ì–´ë“¤","tags":["docker"]},"rawMarkdownBody":"\nì›¬ë§Œí•˜ë©´ `docker command --help`ì²˜ëŸ¼, `--help`ë¥¼ í†µí•´ ë°”ë¡œ íŒŒì•…í•˜ê±°ë‚˜ ê³µì‹ ë¬¸ì„œë¥¼ í†µí•´ ìì„¸íˆ ì´í•´í•  ìˆ˜ ìˆë‹¤.\n\nê·¸ë˜ë„ ë„ì»¤ë¥¼ ê³µë¶€í•˜ë©´ì„œ ìœ ìš©í•œ ëª…ë ¹ì–´ë“¤ì„ ì •ë¦¬í•  ê²¸ ì‘ì„±í•œë‹¤.\n\n## ì¹˜íŠ¸ ì‹œíŠ¸\n\n- mysql ë„ìš°ê¸°\n  ```docker\n  docker run -d \\\n  --name mysql \\\n  -p 3306:3306 \\\n  -e MYSQL_ROOT_PASSWORD=root \\\n  -e MYSQL_USER=sa \\\n  -e MYSQL_ALLOW_EMPTY_PASSWORD=yes \\\n  -e MYSQL_DATABASE=listywave \\\n  -v /Users/dongho/mysql_container:/var/lib/mysql \\\n  mysql\n  ```\n\n## ë²„ì „ ê´€ë ¨\n\n- `docker version`: ë„ì»¤ì˜ ë²„ì „ì„ í™•ì¸í•œë‹¤.\n- `docker -v`: ë„ì»¤ ë²„ì „ì„ ê°„ëµí•˜ê²Œ í™•ì¸í•œë‹¤.\n\n## ì´ë¯¸ì§€ ê´€ë ¨\n\n- `docker pull NAME[:TAG]`: ë„ì»¤ í—ˆë¸Œì—ì„œ ì´ë¯¸ì§€ë¥¼ ë°›ëŠ”ë‹¤.\n- `docker images`: ë„ì»¤ ì—”ì§„ì— ì¡´ì¬í•˜ëŠ” ì´ë¯¸ì§€ ëª©ë¡ì„ ì¶œë ¥í•œë‹¤.\n\n## ì»¨í…Œì´ë„ˆ ê´€ë ¨\n\n- `docker run`: ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±ê³¼ ë™ì‹œì— ì‹¤í–‰í•œë‹¤. ë‚´ë¶€ë¡œ ë“¤ì–´ê°„ë‹¤.\n  - `-i`: ìƒí˜¸ ì…ì¶œë ¥ì„ ì„¤ì •í•œë‹¤.\n  - `-t`: ttyë¥¼ í™œì„±í•˜í•˜ì—¬ bash shellì„ ì‚¬ìš©í•œë‹¤.\n  - `--name NAME`: ì»¨í…Œì´ë„ˆ ì´ë¦„ì„ ì„¤ì •í•œë‹¤.\n  - `-p`: í˜¸ìŠ¤íŠ¸ì˜ í¬íŠ¸ì™€ ì»¨í…Œì´ë„ˆì˜ í¬íŠ¸ë¥¼ ë°”ì¸ë”©í•´ ì—°ê²°í•œë‹¤.\n      - `-p [í˜¸ìŠ¤íŠ¸ì˜ í¬íŠ¸]:[ì»¨í…Œì´ë„ˆì˜ í¬íŠ¸]`\n      - ì»¨í…Œì´ë„ˆì— ì ‘ì†í•  í˜¸ìŠ¤íŠ¸ì˜ í¬íŠ¸ë¥¼ ì„¤ì •í•˜ê³ , í•´ë‹¹ ì»¨í…Œì´ë„ˆì˜ í¬íŠ¸ì— í•´ë‹¹í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ë¡œ í†µì‹ í•˜ëŠ” ê²ƒì´ë‹¤.\n  - ex) `docker run -i -t --name myUbuntu -p 7777:80 ubuntu:14.04`\n  - `-d`: `-i`, `-t`ê°€ ì ‘ê·¼ ê°€ëŠ¥í•œ ìƒíƒœ, Attachë¡œ ì„¤ì •í–ˆë‹¤ë©´, `-d`ëŠ” Detached ëª¨ë“œë¡œ ì„¤ì •í•œë‹¤.\n  - `-e`: ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì˜ í™˜ê²½ë³€ìˆ˜ë¥¼ ì„¤ì •í•œë‹¤.\n  - `-v`: ì»¨í…Œì´ë„ˆì— ë³¼ë¥¨ì„ ì„¤ì •í•œë‹¤.\n      - `-v HOST_DIRECTORY:CONTAINER_DIRECTORY`: í˜¸ìŠ¤íŠ¸ ë³¼ë¥¨ ê³µìœ  ì„¤ì •\n      - `-v VOLUME_NAME:CONTAINER_DIRECTORY`: ë„ì»¤ ë³¼ë¥¨ ì„¤ì •\n  - `--net DRIVER_NAME`: ë„¤íŠ¸ì›Œí¬ ë“œë¼ì´ë²„ë¥¼ ì„¤ì •í•œë‹¤.\n  - `--net-alias HOST_NAME`: ì»¨í…Œì´ë„ˆì˜ Domain Nameì„ ì„¤ì •í•œë‹¤.\n  - `--log-opt max-size={} | max-file={}`: ì»¨í…Œì´ë„ˆê°€ ë‚¨ê¸°ëŠ” ë¡œê·¸ íŒŒì¼ì˜ ìµœëŒ€ ìš©ëŸ‰ê³¼ ê°œìˆ˜ë¥¼ ì„¤ì •í•œë‹¤.\n  - `--restart`: ì»¨í…Œì´ë„ˆì˜ ì¬ì‹œì‘ ì˜µì…˜ì„ ì„¤ì •í•œë‹¤.\n      - `no`: ì•„ë¬´ëŸ° ì¬ì‹œì‘ ë™ì‘ì„ í•˜ì§€ ì•ŠëŠ”ë‹¤. ê¸°ë³¸ê°’.\n      - `on-failure`: ì—ëŸ¬ë¡œ ì¢…ë£Œí•  ë•Œ ì¬ì‹œì‘í•œë‹¤.\n      - `always`: í•­ìƒ ì¬ì‹œì‘í•œë‹¤. ìˆ˜ë™ìœ¼ë¡œ ì¢…ë£Œí•œ ê²½ìš°, Dockerê°€ ì¬ì‹œì‘ë˜ë©´ í•¨ê»˜ ì¬ì‹œì‘ëœë‹¤.\n      - `unless-stopped`: ì»¨í…Œì´ë„ˆê°€ ì¢…ë£Œë˜ì§€ ì•ŠëŠ” í•œ, ë§¤ë²ˆ ì¬ì‹œì‘ëœë‹¤. ì§ì ‘ ì¢…ë£Œ í›„ ì¬ì‹œì‘ ì „ê¹Œì§€ëŠ”, Dockerê°€ ì¬ì‹œì‘ë¼ë„ ì»¨í…Œì´ë„ˆëŠ” ì¬ì‹œì‘í•˜ì§€ ì•ŠëŠ”ë‹¤.\n- `docker update`: ì»¨í…Œì´ë„ˆì˜ ì„¤ì •ì„ ë³€ê²½í•œë‹¤.\n- `docker create NAME|ID`: ì»¨í…Œì´ë„ˆë¥¼ ë‹¨ìˆœíˆ ìƒì„±ë§Œ í•œë‹¤. ë‚´ë¶€ë¡œ ë“¤ì–´ê°€ì§„ ì•ŠëŠ”ë‹¤.\n- `docker start NAME|ID`: ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•œë‹¤.\n- `docker attach NAME|ID`: ì»¨í…Œì´ë„ˆ ë‚´ë¶€ë¡œ ë“¤ì–´ê°„ë‹¤.\n- `docker exec [OPTIONS] CONTAINER COMMAND`: ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•œë‹¤.\n  - ex) `docker exec -it mysql /bin/bash`: mysql ì»¨í…Œì´ë„ˆì— bash shellì„ í†µí•´ ì ‘ê·¼í•œë‹¤.\n  \n- `exit`: ì»¨í…Œì´ë„ˆë¥¼ ì •ì§€ì‹œí‚´ê³¼ ë™ì‹œì— ë‚´ë¶€ì—ì„œ ë¹ ì ¸ë‚˜ì˜¨ë‹¤.\n- `Ctrl + P + Q`: ì»¨í…Œì´ë„ˆë¥¼ ì •ì§€ì‹œí‚¤ì§€ ì•Šê³  ë‚´ë¶€ì—ì„œ ë¹ ì ¸ë‚˜ì˜¨ë‹¤.\n- `Ctrl + D`: ë¹ ì ¸ë‚˜ì˜´ê³¼ ë™ì‹œì— ì»¨í…Œì´ë„ˆë¥¼ ì¢…ë£Œí•œë‹¤.\n\n- `docker inspect NAME|ID`: ë„ì»¤ ê°ì²´ì— ëŒ€í•´ ì €ìˆ˜ì¤€ì˜ ì •ë³´ê¹Œì§€ ì¶œë ¥í•œë‹¤.\n\n- `docker ps`: ì‹¤í–‰ì¤‘ì¸ ì»¨í…Œì´ë„ˆ ì •ë³´ ì¶œë ¥í•œë‹¤.\n  - `-a`: ì •ì§€ëœ ì»¨í…Œì´ë„ˆë„ ëª¨ë‘ ì¶œë ¥í•œë‹¤.\n\n- `docker rename NAME|ID NEW_NAME`: ì»¨í…Œì´ë„ˆì˜ ì´ë¦„ì„ ë³€ê²½í•œë‹¤.\n\n- `docker stop NAME|ID`: ì»¨í…Œì´ë„ˆë¥¼ ì¤‘ì§€í•œë‹¤.\n- `docker rm NAME|ID`: ì»¨í…Œì´ë„ˆë¥¼ ì‚­ì œí•œë‹¤.\n  - `-f`: ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆë¥¼ ê°•ì œë¡œ ì‚­ì œí•œë‹¤.\n- `docker container prune`: ëª¨ë“  ì»¨í…Œì´ë„ˆë¥¼ ì‚­ì œí•œë‹¤.\n\n- `docker volume creat NAME`: ë„ì»¤ ë³¼ë¥¨ì„ ìƒì„±í•œë‹¤.\n\n## ë„¤íŠ¸ì›Œí¬ ê´€ë ¨\n\n- `docker network create --driver DRIVER DRIVER_NAME`\n  - `docker run -it --net DRIVER_NAME`: NAMEì— í•´ë‹¹í•˜ëŠ” ë„¤íŠ¸ì›Œí¬ ë“œë¼ì´ë²„ë¥¼ í†µí•´ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•œë‹¤.\n- `docker network disconnect DRIVER_NAME CONTAINER_NAME`: ì»¨í…Œì´ë„ˆì— ë„¤íŠ¸ì›Œí¬ë¥¼ í• ë‹¹ í•´ì œí•œë‹¤. \n- `docker network connect DRIVER_NAME CONTAINER_NAME`: ì»¨í…Œì´ë„ˆì— ë„¤íŠ¸ì›Œí¬ë¥¼ í• ë‹¹í•œë‹¤.\n\n## ë¡œê¹… ê´€ë ¨\n\n- `docker logs CONTAINER`: ì»¨í…Œì´ë„ˆì˜ ë¡œê·¸ë¥¼ í™•ì¸í•œë‹¤.\n  - `--tail n`: ë’¤ì—ì„œë¶€í„° nì¤„ì„ ì¶œë ¥í•œë‹¤.\n  - `--since Unix_Time`: íŠ¹ì • ì‹œê°„ ì´í›„ì˜ ë¡œê·¸ë¥¼ í™•ì¸í•œë‹¤.\n  - `-t`: íƒ€ì„ ìŠ¤íƒ¬í”„ë¥¼ ì¶œë ¥í•œë‹¤.\n  - `-f`: ë¡œê·¸ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸í•œë‹¤.\n\n## ì´ë¯¸ì§€ ê´€ë ¨\n\n- `docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]`: ì»¨í…Œì´ë„ˆë¥¼ ì´ë¯¸ì§€ë¡œ ë§Œë“¤ì–´ ë„ì»¤ í—ˆë¸Œì— ì»¤ë°‹í•œë‹¤.\n  - `-a, --author`: ì‘ì„±ì\n  - `-m, --message`: ì»¤ë°‹ ë©”ì‹œì§€\n- `docker save [OPTIONS] IMAGE`: ì´ë¯¸ì§€ë¥¼ íŒŒì¼ë¡œ ì¶”ì¶œí•œë‹¤.\n  - `-o, --output NAME`: ì¶”ì¶œë  íŒŒì¼ëª…ì„ ì„¤ì •í•œë‹¤.\n- `docker load [OPTIONS]`: ì¶”ì¶œëœ ì´ë¯¸ì§€ë¥¼ ë„ì»¤ë¡œ ì—…ë¡œë“œí•œë‹¤.\n  - `-i, --input FILE`: ì—…ë¡œë“œ í•  íŒŒì¼ëª…ì„ ì„ ì–¸í•œë‹¤. \n- `docker tag SOURCE_IMAGE[:TAG] TARGET_IMAGE[:TAG]`: SOURCE_IMAGEì˜ ì´ë¦„ì— TARGET_IMAGEì„ ì¶”ê°€í•œë‹¤."},{"excerpt":"ë“¤ì–´ê°€ë©° ì œë„¤ë¦­ì„ ê³µë¶€í•˜ë‹¤ë³´ë©´ ë°°ì—´ê³¼ ì˜ ì–´ìš¸ë¦¬ê¸° ì–´ë µë‹¤ëŠ” ë‚´ìš©ê³¼ í•¨ê»˜ ìì£¼ ë“±ì¥í•˜ëŠ” ìš©ì–´ì¸, ê³µë³€ê³¼ ë¶ˆê³µë³€, ê·¸ë¦¬ê³  ì‹¤ì²´í™”ê°€ ìˆë‹¤. ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë‹¨ì–´ì¸, ê³µë³€ê³¼ ë¶ˆê³µë³€, ê·¸ë¦¬ê³  ì‹¤ì²´í™”ê°€ ê°ê° ì–´ë–¤ ì˜ë¯¸ë¥¼ ê°€ì§€ëŠ”ì§€ ì•Œì•„ë³´ê³ \nì™œ ì œë„¤ë¦­ê³¼ ë°°ì—´ì€ ì˜ ì–´ìš¸ë¦¬ì§€ ëª»í•˜ëŠ”ì§€ì— ëŒ€í•´ ì•Œì•„ë³´ì. ë˜í•œ, ì œë„¤ë¦­ì„ ì´ìš©í•´ ë²”ìš©ì„± ìˆëŠ” API(public ë©”ì„œë“œ)ë¥¼ ì‘â€¦","fields":{"slug":"/covariant-invariant-and-pecs/"},"frontmatter":{"date":"April 23, 2024","title":"[Java] ë°°ì—´ì˜ ê³µë³€, ì œë„¤ë¦­ì˜ ë¶ˆê³µë³€. ê·¸ë¦¬ê³  PECS","tags":["java","ê³µë³€, ë¶ˆê³µë³€","PECS"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©°\n\nì œë„¤ë¦­ì„ ê³µë¶€í•˜ë‹¤ë³´ë©´ ë°°ì—´ê³¼ ì˜ ì–´ìš¸ë¦¬ê¸° ì–´ë µë‹¤ëŠ” ë‚´ìš©ê³¼ í•¨ê»˜ ìì£¼ ë“±ì¥í•˜ëŠ” ìš©ì–´ì¸, **ê³µë³€**ê³¼ **ë¶ˆê³µë³€**, ê·¸ë¦¬ê³  **ì‹¤ì²´í™”**ê°€ ìˆë‹¤.\n\nì˜ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë‹¨ì–´ì¸, ê³µë³€ê³¼ ë¶ˆê³µë³€, ê·¸ë¦¬ê³  ì‹¤ì²´í™”ê°€ **ê°ê° ì–´ë–¤ ì˜ë¯¸**ë¥¼ ê°€ì§€ëŠ”ì§€ ì•Œì•„ë³´ê³ <br>\n**ì™œ ì œë„¤ë¦­ê³¼ ë°°ì—´ì€ ì˜ ì–´ìš¸ë¦¬ì§€ ëª»í•˜ëŠ”ì§€**ì— ëŒ€í•´ ì•Œì•„ë³´ì.\n\në˜í•œ, ì œë„¤ë¦­ì„ ì´ìš©í•´ ë²”ìš©ì„± ìˆëŠ” API(public ë©”ì„œë“œ)ë¥¼ ì‘ì„±í•˜ê¸° ìœ„í•´ ì•Œì•„ì•¼ í•˜ëŠ” **PECS**ì— ëŒ€í•´ì„œë„ ì•Œì•„ë³´ì.\n\n<br>\n<br>\n\n---\n\n## 1. ê³µë³€ê³¼ ë¶ˆê³µë³€, ê·¸ë¦¬ê³  ì‹¤ì²´í™”\n\n### 1-1. ê³µë³€ê³¼ ë¶ˆê³µë³€\n\n**ë°°ì—´ì€ ê³µë³€**ì´ë‹¤.<br>\nê³µë³€ì´ë¼ëŠ” ëœ»ì€, `Sub` í´ë˜ìŠ¤ê°€ `Super` í´ë˜ìŠ¤ì˜ í•˜ìœ„ íƒ€ì…ì´ë¼ë©´ `Sub[]`ëŠ” `Super[]`ì˜ í•˜ìœ„ íƒ€ì…ì´ ëœë‹¤ëŠ” ì˜ë¯¸ë‹¤.<br>\nì¦‰, **í•¨ê»˜ ë³€í•œë‹¤**ëŠ” ì˜ë¯¸ë¡œ í•´ì„ëœë‹¤.\n```java\nFruit fruit = new Apple();\nFruit[] fruits = new Apple[5]; // OK\n```\n\n<br>\n\në°˜ë©´, **ì œë„¤ë¦­ì€ ë¶ˆê³µë³€**ì´ë‹¤.<br>\në§ˆì°¬ê°€ì§€ë¡œ `Sub`ê°€ `Super`ì˜ í•˜ìœ„íƒ€ì…ì´ë¼ í•´ë„, `<Sub>`ëŠ” `<Super>`ì˜ í•˜ìœ„ íƒ€ì…ì´ ì•„ë‹ˆë‹¤.<br>\nì „í˜€ ë‹¤ë¥¸ íƒ€ì…ì´ ëœë‹¤.<br>\nì¦‰, **í•¨ê»˜ ë³€í•˜ì§€ ì•ŠëŠ”ë‹¤**ëŠ” ì˜ë¯¸ë¡œ í•´ì„ëœë‹¤.\n\n```java\nList<Object> list = new ArrayList<Long>(); // ì»´íŒŒì¼ ì—ëŸ¬. ì œë„¤ë¦­ íƒ€ì…ì´ ì„œë¡œ ë‹¤ë¥´ë‹¤.\n```\n\n### 1-2. ì‹¤ì²´í™”\n\në°°ì—´ê³¼ ì œë„¤ë¦­ì˜ ë˜ ë‹¤ë¥¸ ì°¨ì´ë¡œëŠ” **ëŸ°íƒ€ì„ ì‹œì— ì‹¤ì²´í™”**ê°€ ëœë‹¤ëŠ” ê²ƒì´ë‹¤.\n\në°°ì—´ì˜ ê²½ìš°, ëŸ°íƒ€ì„ì— íƒ€ì… ì •ë³´ê°€ ì¡´ì¬í•´ì•¼ í•œë‹¤. ì¦‰, ë°°ì—´ì€ ì–´ë–¤ íƒ€ì…ì¸ì§€ ì´ë¯¸ ì•Œê³  ìˆë‹¤.<br>\nì œë„¤ë¦­ì˜ ê²½ìš°, ëŸ°íƒ€ì„ì— íƒ€ì… ì •ë³´ê°€ ì—†ë‹¤. ì»´íŒŒì¼ ì‹œì— íƒ€ì…ì„ ê²€ì‚¬í•˜ê³  **ì†Œê±°**í•˜ì—¬ ëŸ°íƒ€ì„ì—ëŠ” íƒ€ì…ì— ëŒ€í•œ ì •ë³´ê°€ ì—†ë‹¤.\n\n## 2. íŒ¨ëŸ¬ë‹¤ì„ ì°¨ì´ \n\nì´ë ‡ê²Œ **ë°°ì—´ê³¼ ì œë„¤ë¦­ì€ íŒ¨ëŸ¬ë‹¤ì„ì˜ ì°¨ì´ê°€ ì¡´ì¬**í•œë‹¤.<br>\nì´ë¡œ ì¸í•´ ë‘˜ì„ ì–´ìš¸ë¦¬ê¸° ì‰½ì§€ ì•Šë‹¤.\n\ní•œ ì‚¬ë¡€ë¡œ, **ì œë„¤ë¦­ ë°°ì—´ì€ ìƒì„±í•˜ì§€ ëª»í•œë‹¤**.\n\n### 2-1. ë§Œì•½ ì œë„¤ë¦­ ë°°ì—´ì˜ ìƒì„±ì´ ê°€ëŠ¥í•˜ë‹¤ë©´\n\në§Œì•½ ì œë„¤ë¦­ ë°°ì—´ì´ ìƒì„± ê°€ëŠ¥í•œ ìƒí™©ì„ ê°€ì •í•´ë³´ì.\n\n```java\nList<String>[] stringList; // ë§¤ê°œë³€ìˆ˜í™” íƒ€ì…ì´ List<String>ì¸ ì œë„¤ë¦­ ë°°ì—´ ì„ ì–¸\nstringList = new ArrayList<String>[1]; // ì œë„¤ë¦­ ë°°ì—´ ìƒì„±\n\nList<Integer> intList = List.of(42); // ë§¤ê°œë³€ìˆ˜í™” íƒ€ì…ì´ List<Integer>ì¸ ë¦¬ìŠ¤íŠ¸ ì´ˆê¸°í™”\nObject[] arr = stringList; // stringList ë°°ì—´ì„ Object[]ë¡œ ì—…ìºìŠ¤íŒ…. ë°°ì—´ì˜ ê³µë³€ì„± ë•Œë¬¸ì— ê°€ëŠ¥.\nobject[0] = intList; // Object[]ì— List<Integer> íƒ€ì…ì˜ ë³€ìˆ˜ í• ë‹¹. ì œë„¤ë¦­ì˜ ì†Œê±° ë•Œë¬¸ì— ê°€ëŠ¥.\n\nString s = stringList[0].get(0); // ì œë„¤ë¦­ ì •ë³´ë¡œ ì¸í•´ ì»´íŒŒì¼ëŸ¬ëŠ” ìë™ìœ¼ë¡œ Stringìœ¼ë¡œ ìºìŠ¤íŒ…í•œë‹¤. ì´ë•Œ, ClassCastException ë°œìƒ\n```\n\nìœ„ì—ì„œ ì–¸ê¸‰í•œ ì œë„¤ë¦­ê³¼ ë°°ì—´ì˜ íŠ¹ì§•ì„ ë‹¤ì‹œ ìƒê¸°í•´ë³´ì.<br>\nì œë„¤ë¦­ì€ ì»´íŒŒì¼ íƒ€ì„ì— íƒ€ì„ ì²´í¬ì™€ ìºìŠ¤íŒ…ì„ ê°•ì œí•œë‹¤.<br>\në°˜ë©´, ë°°ì—´ì€ ê·¸ë ‡ì§€ ì•Šìœ¼ë©° ê³µë³€í•œë‹¤.<br>\n\n**ì œë„¤ë¦­ì´ ë°°ì—´ì— í¬í•¨ëœë‹¤ë©´, ì œë„¤ë¦­ì€ ê²°êµ­ ê¸°ëŠ¥ì„ ìƒì‹¤í•˜ê²Œ ë˜ê³  ëŸ°íƒ€ì„ì— `ClassCastException`ì´ ë°œìƒí•  ìˆ˜ ìˆê²Œ ë˜ëŠ” ê²ƒ**ì´ë‹¤.<br>\n\n### 2-2. ì œë„¤ë¦­ ë°°ì—´ì˜ ì„ ì–¸ì€ ê°€ëŠ¥í•˜ë‹¤?\n\nì œë„¤ë¦­ ë°°ì—´ì´ **ìƒì„±ì€ ë¶ˆê°€**í•˜ì§€ë§Œ, **ì„ ì–¸ì€ ê°€ëŠ¥**í•˜ë‹¤.<br>\nì˜ˆë¥¼ ë“¤ì–´, ê°€ë³€ì¸ì íƒ€ì…ìœ¼ë¡œ ì œë„¤ë¦­ì„ ë°›ì„ ìˆ˜ ìˆë‹¤.\n\n```java\npublic int firstValue(List<Integer>... ints) {} // ê°€ë³€ì¸ìì˜ íƒ€ì…ì´ List<Integer>ë¡œ, ì œë„¤ë¦­ íƒ€ì…ì´ë‹¤.\n```\n\ní•˜ì§€ë§Œ ì œë„¤ë¦­ ë°°ì—´ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ **Heap Pollution**ì„ ì¼ìœ¼í‚¬ ìˆ˜ ìˆë‹¤ê³  ì¹œì ˆí•˜ê²Œ ê²½ê³ ë¥¼ í•œë‹¤.<br>\nì•½ê°„ ëª¨ìˆœì²˜ëŸ¼ ëŠê»´ì§€ì§€ë§Œ ì´ë¥¼ í—ˆìš©í•˜ëŠ” ì´ìœ ëŠ” **í¸ë¦¬ì„±** ë•Œë¬¸ì´ë¼ê³  í•œë‹¤.<br>\nëŒ€ì‹  ë°˜ë“œì‹œ ì•ˆì •ì„±ë„ í•¨ê»˜ ì±™ê²¨ì•¼ í•œë‹¤!\n\nì œë„¤ë¦­ íƒ€ì… ë°°ì—´(ê°€ë³€ì¸ì)ë¥¼ ì„ ì–¸í•˜ê³  ì‚¬ìš©í•  ë•Œ, ì•ˆì •ì„±ì€ ì–´ë–»ê²Œ ì±™ê¸¸ ìˆ˜ ìˆì„ê¹Œ?\n\nìš°ì„  *Heap Pollution*ì— ëŒ€í•´ ì´í•´í•´ë³´ì.\n\nHeap Pollutionì€ **ë§¤ê°œë³€ìˆ˜í™”ëœ íƒ€ì…ì˜ ë³€ìˆ˜(ints)ê°€ íƒ€ì…ì´ ë‹¤ë¥¸ ê°ì²´(ex. List<String>)ë¥¼ ì°¸ì¡°í•˜ë©´ ë°œìƒ**í•˜ëŠ” ê²ƒì´ë‹¤.<br>\në§ì´ ì¡°ê¸ˆ ì–´ë ¤ìš´ë° ì½”ë“œë¡œ ì´í•´í•´ë³´ì.\n\n```java\npublic int firstValue(List<Integer>... intLists) {\n    Object[] arr = intLists;\n\n    List<String> strList = List.of(\"A\", \"b\");\n    arr[0] = strList; // í™ ì˜¤ì—¼ ë°œìƒ!\n\n    return intLists[0].get(0);\n}\n```\n\nìœ„ì—ì„œ ë´¤ë˜ ì œë„¤ë¦­ ë°°ì—´ì„ ìƒì„±í–ˆì„ ë•Œ ìƒê¸°ëŠ” ë¬¸ì œì™€ ë™ì¼í•˜ë‹¤.<br>\nê²°êµ­ ë°°ì—´ì˜ ê³µë³€ì„± ë•Œë¬¸ì— ì œë„¤ë¦­ì˜ íƒ€ì… ê°•ì œì„±ì´ ì‚¬ë¼ì§€ê²Œ ë˜ì–´ ëŸ°íƒ€ì„ ì‹œì— ì œë„¤ë¦­ íƒ€ì…ì´ ë‹¤ë¥¸ ë§¤ê°œë³€ìˆ˜í™”ëœ íƒ€ì…ì´ ë°°ì—´ì— í• ë‹¹ë˜ëŠ” ê²ƒì´ë‹¤.\n\në”°ë¼ì„œ ìœ„ ë¬¸ì œë§Œ ì‚¬ì „ì— ì™„ë²½íˆ ì°¨ë‹¨í•œë‹¤ë©´, ì•ˆì •ì„±ì„ ì±™ê¸°ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤.<br>\në©”ì„œë“œ ë‚´ë¶€ì—ì„œëŠ” ê°€ë³€ì¸ì ë°°ì—´ì— ìƒˆë¡œìš´ ê°’ì„ ì €ì¥í•˜ì§€ ë§ê³ , ë°°ì—´ì˜ ì°¸ì¡°ê°€ ë©”ì„œë“œ ì™¸ë¶€ë¡œ ìœ ì¶œë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì•ˆì •ì„±ì„ ë³´ì¥í•  ìˆ˜ ìˆë‹¤.<br>\nì•ˆì „í•˜ë‹¤ê³  íŒë‹¨ë˜ë©´ `@SafeVarargs` ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì—¬ì£¼ì–´ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ì½”ë“œ ìª½ì—ì„œë„ ë¶ˆí•„ìš”í•œ ê²½ê³ ë¥¼ ì œê±°í•´ì£¼ì.\n\n## 3. PECS\n\nPECSëŠ” _Producer-Extends, Consumer-Super_ ì˜ ì•½ìë¡œ, ì™€ì¼ë“œì¹´ë“œë¡œ ì œë„¤ë¦­ íƒ€ì…ì„ ì œí•œí•  ë•Œ ì‚¬ìš©í•˜ëŠ” ê³µì‹ì´ë‹¤.\n\nìƒì‚°ìëŠ” `extends`ë¥¼, ì†Œë¹„ìëŠ” `super`ë¥¼ ì‚¬ìš©í•˜ë¼ëŠ” ëœ»ì¸ë°, ìƒì‚°ìì™€ ì†Œë¹„ìëŠ” ê°ê° ë¬´ì—‡ì„ ì˜ë¯¸í•˜ëŠ” ê²ƒì´ë©° ì´ ê³µì‹ì´ ì™œ íƒ„ìƒí–ˆì„ê¹Œ?\n\n### 3-1. ì œë„¤ë¦­ì€ ë¶ˆê³µë³€í•˜ê¸° ë•Œë¬¸ì´ë‹¤\n\nìœ„ì—ì„œ ì–¸ê¸‰í–ˆë“¯ì´, ì œë„¤ë¦­ì€ ë¶ˆê³µë³€í•˜ë‹¤.<br>\në•Œë¬¸ì— ìœ ì—°ì„±ì´ ë‹¤ì†Œ ë¶€ì¡±í•  ìˆ˜ ìˆëŠ”ë°, ì´ë¥¼ ê°œì„ í•˜ê¸° ìœ„í•´ PECSê°€ íƒ„ìƒí–ˆë‹¤.<br>\nìœ ì—°ì„±ì´ ë¶€ì¡±í•œ ìƒí™©ì„ ì½”ë“œë¡œ ì‚´í´ë³´ì.\n\n```java\npublic class Stack<E> {\n\n    public Stack();\n    public void push(E e);\n    public E pop();\n    public boolean isEmpty();\n    \n    public void pushAll(Iterable<E> src) {\n        for (E e : src) {\n            push(e);\n        }\n    }\n}\n```\n\nìœ„ì™€ ê°™ì€ ì½”ë“œê°€ ìˆë‹¤.<br>\nì–¼í• ë³´ë©´, ë¬¸ì œëŠ” ì—†ì–´ë³´ì¸ë‹¤.\n\ní•˜ì§€ë§Œ `Stack<Number> stack`ì— `Iterable<Integer> ints`ë¥¼ ì¸ìë¡œ ë„˜ê¸°ë©´ ì»´íŒŒì¼ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.<br>\nê°€ëŠ¥í•  ê²ƒ ê°™ì€ë° ì™œ ì‹¤íŒ¨í• ê¹Œ?\n\n`Stack<Number> stack`ì˜ ë©”ì„œë“œ ì‹œê·¸ë‹ˆì²˜ëŠ” `pushAll(Iterable<Number> src)`ì™€ ê°™ì„ ê²ƒì´ë‹¤.<br>\nì´ë•Œ, ì œë„¤ë¦­ì˜ ë¶ˆê³µë³€ ë•Œë¬¸ì— `Iterable<Integer>`ê³¼ `Iterable<Number>`ëŠ” ë‹¤ë¥´ë‹¤.<br>\nì´ëŸ¬í•œ ìƒí™©ë“¤ ë•Œë¬¸ì— ì œë„¤ë¦­ì€ ìœ ì—°ì„±ì´ ë‹¤ì†Œ ë¶€ì¡±í•œ ê²ƒì´ë‹¤.\n\nìë°”ëŠ” ì´ëŸ° ìƒí™©ì„ ë³´ë‹¤ ìœ ì—°í•˜ê²Œ ë§Œë“¤ê¸° ìœ„í•´ ì™€ì¼ë“œì¹´ë“œë¥¼ ì§€ì›í•˜ëŠ” ê²ƒì´ë‹¤.\n\nê·¸ëŸ¼ ì´ì œ `pushAll(Iterable<E>)` ë©”ì„œë“œë¥¼ ì™€ì¼ë“œì¹´ë“œë¥¼ ì´ìš©í•´ ìœ ì—°í•˜ê²Œ ë§Œë“¤ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.\n```java\npublic void pushAll(Iterable<? extends E> src) {\n    for (E e : src) {\n        push(e);\n    }\n}\n```\në“œë””ì–´ `Iterable<Integer>` íƒ€ì…ë„ ì•ˆì „í•˜ê²Œ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.<br>\nì°¸ê³ ë¡œ ë§¤ê°œë³€ìˆ˜ê°€ í´ë˜ìŠ¤ì— ê°’ì„ **ìƒì‚°**í•˜ê³  ìˆë‹¤.\n\n<br>\n\nê·¸ëŸ¼ ë°˜ëŒ€ë¡œ ê°’ì„ ëª¨ë‘ ë½‘ì•„ ì˜®ê¸°ëŠ” `popAll()` ë©”ì„œë“œë„ ë§Œë“¤ì–´ë³´ì.\n\n```java\npublic void popAll(Collection<E> c) {\n    while (!this.isEmpty()) {\n        c.add(this.pop());\n    }\n}\n```\n\nìœ„ ë©”ì„œë“œë„ ì–¼í• ë³´ë©´ ë¬¸ì œ ì—†ì–´ë³´ì¸ë‹¤.<br>\ní•˜ì§€ë§Œ `Stack<Integer> stack`ì˜ ëª¨ë“  ì›ì†Œë¥¼ `Collection<Number>` ë¡œ ì˜®ê¸°ë ¤ê³  í•˜ë©´ ì»´íŒŒì¼ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.<br>\nì™œëƒí•˜ë©´, `Integer` íƒ€ì…ì„, `Collection<Number>`ì— ì¶”ê°€í•˜ë ¤ê³  í–ˆê¸° ë•Œë¬¸ì´ë‹¤.<br>\nì œë„¤ë¦­ì˜ ë¶ˆê³µë³€ ë•Œë¬¸ì— `Integer`ì™€ `Number`ëŠ” ë‹¤ë¥´ë‹¤.\n\nì´ì œ ì´ë¥¼ ì™€ì¼ë“œì¹´ë“œë¡œ í•´ê²°í•´ë³´ì.\n\n```java\npublic void popAll(Collection<? super E> c) {\n    while (!this.isEmpty()) {\n        c.add(this.pop());\n    }\n}\n```\n\në“œë””ì–´ `Collection<Number>` íƒ€ì…ë„ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆê²Œ ëë‹¤.<br>\nì°¸ê³ ë¡œ ë§¤ê°œë³€ìˆ˜ê°€ ì œë„¤ë¦­ í´ë˜ìŠ¤ì˜ ê°’ì„ **ì†Œë¹„**í•˜ê³  ìˆë‹¤.\n\n<br>\n\nì´ì²˜ëŸ¼ ì œë„¤ë¦­ ë©”ì„œë“œì˜ ìœ ì—°í•¨ì„ ê°•í™”í•˜ê¸° ìœ„í•´ PECSëŠ” íƒ„ìƒí–ˆë‹¤.<br>\nìƒì‚°ìëŠ” `extends`, ì†Œë¹„ìëŠ” `super`ë¥¼ ì‚¬ìš©í•œë‹¤.<br>\në©”ì„œë“œ **ë§¤ê°œë³€ìˆ˜ê°€ ì œë„¤ë¦­ í´ë˜ìŠ¤ì— ê°’ì„ ìƒì‚°í•˜ë©´ ìƒì‚°ì**.<br>\në©”ì„œë“œ **ë§¤ê°œë³€ìˆ˜ê°€ ì œë„¤ë¦­ í´ë˜ìŠ¤ì˜ ê°’ì„ ì†Œë¹„í•˜ë©´ ì†Œë¹„ì**ë¼ëŠ” ì˜ë¯¸ë¡œ ì´ë¦„ì„ ë¶™ì¸ë‹¤.\n\nì²˜ìŒ ìƒì‚°ì, ì†Œë¹„ì ë‹¨ì–´ë¥¼ ì ‘í•˜ë©´ í•œë²ˆì— ì´í•´ê°€ ì˜ ë˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.<br>\nì´ëŸ´ ë• íŒŒë¼ë¯¸í„° ê´€ì ì—ì„œ ì œë„¤ë¦­ í´ë˜ìŠ¤ì˜ ê°’ì„ ìƒì‚°í•˜ê±°ë‚˜ ì†Œë¹„í•˜ëŠ” ê´€ì ìœ¼ë¡œ ë³´ë©´ ì¡°ê¸ˆì€ ì™€ë‹¿ì„ ìˆ˜ ìˆë‹¤.   "},{"excerpt":"ì œë„¤ë¦­ ì œë„¤ë¦­ì€ ë‹¤ì–‘í•œ íƒ€ì…ì„ ë‹¤ë£° ìˆ˜ ìˆëŠ” í´ë˜ìŠ¤ë‚˜ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ë•Œ,\nëŸ°íƒ€ì„ì´ ì•„ë‹Œ ì»´íŒŒì¼ ë‹¨ê³„ì—ì„œ íƒ€ì… ì²´í¬ë¥¼ ê°•ì œí•˜ê³  ìë™ìœ¼ë¡œ í˜•ë³€í™˜ì„ í•´ì£¼ëŠ” ìë°”ì˜ ê¸°ëŠ¥ì´ë‹¤. ì œë„¤ë¦­ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ì„ ë•Œ ì œë„¤ë¦­ì´ ì—†ì—ˆì„ ì‹œì ˆ, ëŠ” ì•„ë˜ì™€ ê°™ì€ ì½”ë“œì˜€ì„ ê²ƒì´ë‹¤. ì €ì¥í•  ê°’ì´ ì–´ë–¤ íƒ€ì…ì´ë“  ìƒê´€ì—†ì´ ëª¨ë‘ ë‹´ê¸° ìœ„í•´  ì„ í•„ë“œë¡œ ê°€ì¡Œì„ ê²ƒì´ë‹¤. í•´ë‹¹ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜â€¦","fields":{"slug":"/understanding-generic/"},"frontmatter":{"date":"April 18, 2024","title":"[Java] ì œë„¤ë¦­ ì´í•´í•˜ê¸°","tags":["java","generic"]},"rawMarkdownBody":"\n## ì œë„¤ë¦­\n\nì œë„¤ë¦­ì€ **ë‹¤ì–‘í•œ íƒ€ì…ì„ ë‹¤ë£° ìˆ˜ ìˆëŠ”** **í´ë˜ìŠ¤ë‚˜ ë©”ì„œë“œ**ë¥¼ ì‚¬ìš©í•  ë•Œ,<br>\nëŸ°íƒ€ì„ì´ ì•„ë‹Œ **ì»´íŒŒì¼ ë‹¨ê³„ì—ì„œ íƒ€ì… ì²´í¬**ë¥¼ ê°•ì œí•˜ê³  **ìë™ìœ¼ë¡œ í˜•ë³€í™˜**ì„ í•´ì£¼ëŠ” ìë°”ì˜ ê¸°ëŠ¥ì´ë‹¤.\n\n### ì œë„¤ë¦­ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ì„ ë•Œ\n\nì œë„¤ë¦­ì´ ì—†ì—ˆì„ ì‹œì ˆ, `ArrayList`ëŠ” ì•„ë˜ì™€ ê°™ì€ ì½”ë“œì˜€ì„ ê²ƒì´ë‹¤.\n\n```java\npublic class ArrayList {\n\n    private Object[] elementData;\n    private int index;\n    private int size;\n    \n    ...\n\n    public boolean add(Object e) {\n        ...\n    }\n    \n    public Object get(int index) {\n        ...\n    }\n}\n```\n\nì €ì¥í•  ê°’ì´ ì–´ë–¤ íƒ€ì…ì´ë“  ìƒê´€ì—†ì´ ëª¨ë‘ ë‹´ê¸° ìœ„í•´ `Object[]` ì„ í•„ë“œë¡œ ê°€ì¡Œì„ ê²ƒì´ë‹¤.\n\ní•´ë‹¹ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê°œë°œìëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œë¥¼ ì‘ì„±í•´ì•¼ í•  ê²ƒì´ë‹¤.\n\n```java\npublic void foo() {\n    ArrayList list = new ArrayList();\n    list.add(\"1\");\n    list.add(\"2\");\n    list.add(\"3\");\n    list.add(\"4\");\n    list.add(1);\n    list.add(true):\n    \n    String first = (String) list.get(0);\n    String second = (String) list.get(1);\n    String third = (String) list.get(2);\n    String fourth = (String) list.get(3);\n}\n```\n\nì–´ë–¤ íƒ€ì…ì´ë“  `ArrayList`ì— í¬í•¨ë  ìˆ˜ ìˆëŠ” ì  ë•Œë¬¸ì—, ê°œë°œìëŠ” **ì–´ë–¤ íƒ€ì…ì˜ ê°’ì´ ë“¤ì–´ê°€ëŠ”ì§€ ì‹ ê²½ì“°ë©´ì„œ ì‚¬ìš©**í•´ì•¼ í•œë‹¤.<br>\në§Œì•½ ê°œë°œìê°€ ì‹¤ìˆ˜ë¡œ íƒ€ì… ìºìŠ¤íŒ…ì— ì‹¤ìˆ˜í•œë‹¤ë©´ **ëŸ°íƒ€ì„ì—** `ClassCastException`ì´ ë°œìƒí•  ê²ƒì´ë‹¤.<br>\n\në°”ë¡œ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì œë„¤ë¦­ì´ íƒ„ìƒë˜ì—ˆë‹¤.<br>\nì´ì œ, ìœ„ ì½”ë“œë¥¼ ì œë„¤ë¦­ì„ ì‚¬ìš©í•˜ì—¬ ê°œì„ í•´ë³´ì.\n\n```java\npublic class ArrayList<T> { // <T> ì¶”ê°€í•¨ìœ¼ë¡œì¨ ì œë„¤ë¦­ í´ë˜ìŠ¤ ì„ ì–¸\n\n    private Object[] elementData; // ë°°ì—´ì˜ ê³µë³€ì„±ê³¼ ì‹¤ì²´í™” ë•Œë¬¸ì— ì œë„¤ë¦­ íƒ€ì… ë°°ì—´ì€ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ë‹¤.\n    private int index;\n    private int size;\n    \n    ...\n\n    public boolean add(T e) {\n        ...\n    }\n\n    public T get(int index) {\n        ...\n    }\n}\n```\n\nê¸°ì¡´ì— `Object`ë¡œ ê°’ì„ ë°›ê³  ì €ì¥í•˜ë˜ `ArrayList`ì— `<T>`ë¥¼ ì¶”ê°€í•´ì£¼ì—ˆë‹¤.<br>\nê·¸ë¦¬ê³  ë©”ì„œë“œ íŒŒë¼ë¯¸í„°ì˜ íƒ€ì…ê³¼ ë©”ì„œë“œì˜ ë°˜í™˜ íƒ€ì… ë˜í•œ `T`ë¡œ ìˆ˜ì •í–ˆë‹¤.<br>\nì´ë ‡ê²Œë§Œ ì‘ì„±í•´ì£¼ë©´ `ArrayList`ëŠ” ì œë„¤ë¦­ í´ë˜ìŠ¤ë¡œì¨ ì œë„¤ë¦­ì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤.\n\nê·¸ëŸ¼ ì´ì œ ë‹¤ì‹œ, `ArrayList`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê°œë°œìì˜ ì½”ë“œë¥¼ ì‚´í´ë³´ì.\n\n```java\nArrayList<String> list = new ArrayList<>(); // Stringì„ ì œë„¤ë¦­ íƒ€ì…ìœ¼ë¡œ ì „ë‹¬í•œë‹¤. ì»´íŒŒì¼ëŸ¬ì—ê²Œ String íƒ€ì…ë§Œ ì‚¬ìš©í•  ê²ƒì„ ì•Œë ¤ì¤€ë‹¤.\nlist.add(\"1\");\nlist.add(\"2\");\nlist.add(\"3\");\nlist.add(\"4\");\nlist.add(1); // ì»´íŒŒì¼ ì—ëŸ¬. ì»´íŒŒì¼ëŸ¬ê°€ ArrayList íƒ€ì…ì˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ listì—ëŠ” String ë§Œì„ ì‚¬ìš©í•˜ëŠ” ê²ƒìœ¼ë¡œ ì•Œê³  ìˆê¸° ë•Œë¬¸ì´ë‹¤.\n\nString first = list.get(0); // í˜•ë³€í™˜ ë˜í•œ ì»´íŒŒì¼ëŸ¬ê°€ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•´ì¤€ë‹¤.\nString second = list.get(1);\nString third = list.get(2);\nString fourth = list.get(3);\n```\n\n`ArrayList` íƒ€ì…ì˜ ì¸ìŠ¤í„´ìŠ¤ _list_ ë¥¼ ìƒì„±í•  ë•Œ, Stringì„ ì œë„¤ë¦­ íƒ€ì…ìœ¼ë¡œ ìƒì„±í•œë‹¤.<br>\nì´ë¡œ ì¸í•´ ì»´íŒŒì¼ ë‹¨ê³„ì— ê°•ì œì ìœ¼ë¡œ `String` íƒ€ì…ë§Œ ì €ì¥í•˜ê³  ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëœë‹¤.\n\nì´ë ‡ê²Œ ì œë„¤ë¦­ì„ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ **ì»´íŒŒì¼ ë‹¨ê³„ì— íƒ€ì… ì²´í¬ë¥¼ ê°•ì œí•˜ê³  í˜•ë³€í™˜ì„ ìƒëµ**í•  ìˆ˜ ìˆê²Œ ë˜ì–´ í”„ë¡œê·¸ë¨ì„ ì•ˆì „í•˜ê²Œ ë§Œë“¤ì–´ì¤€ë‹¤.\n\n<br>\n\n---\n\n<br>\n<br>\n\nì œë„¤ë¦­ì€ í´ë˜ìŠ¤ì™€ ë©”ì„œë“œì— ì„ ì–¸í•  ìˆ˜ ìˆë‹¤.<br>\nì œë„¤ë¦­ í´ë˜ìŠ¤ì™€ ì œë„¤ë¦­ ë©”ì„œë“œì— ëŒ€í•´ ì•Œì•„ë³´ì.\n\n## ì œë„¤ë¦­ í´ë˜ìŠ¤\n\nì œë„¤ë¦­ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ëŠ” í´ë˜ìŠ¤ë¥¼ ì‘ì„±í•˜ë ¤ë©´ í´ë˜ìŠ¤ ëª… ë°”ë¡œ ì˜†ì— `<T>` ë¥¼ ì¶”ê°€í•´ì£¼ë©´ ëœë‹¤.\n\n```java\nclass MyClass<T> {}\n```\n\n### íƒ€ì… ë§¤ê°œë³€ìˆ˜\n\nì´ë•Œ, `T`ëŠ” _íƒ€ì… ë§¤ê°œë³€ìˆ˜_ ë¼ê³  ë¶€ë¥¸ë‹¤.<br>\nì´ íƒ€ì… ë§¤ê°œë³€ìˆ˜ëŠ” `T` ë¿ë§Œ ì•„ë‹ˆë¼, `K`, `U`, `V`, `E` ë“± ì–´ë–¤ ë¬¸ìë„ ìƒê´€ì—†ë‹¤.<br>\ní•˜ì§€ë§Œ ê¸°ë³¸ì ìœ¼ë¡œ **ë‹¨ì¼ ë¬¸ìì´ë©° ëŒ€ë¬¸ì**ë¡œ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì»¨ë²¤ì…˜ì´ë©°,<br>\n`T`ëŠ” Type, `E`ëŠ” Elementì˜ ì²« ê¸€ìë¡œì¨ **ì˜ë¯¸ìˆëŠ”** ì´ë¦„ìœ¼ë¡œ í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. [[^1]]\n\n[^1]: https://docs.oracle.com/javase/tutorial/java/generics/types.html\n\níƒ€ì… ë§¤ê°œë³€ìˆ˜ë¥¼ 1ê°œ ì´ìƒ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤. ì´ë•Œ, ì¤‘ë³µí•´ì„œ ì„ ì–¸í•  ìˆ˜ëŠ” ì—†ë‹¤.\n\n```java\nclass MyClass<T, U, V> {} // OK\nclass MyClass<T, T> {} // Fail\n```\n\n### ì œë„¤ë¦­ ê°ì²´ ìƒì„±ê³¼ ë§¤ê°œë³€ìˆ˜í™”ëœ íƒ€ì…\n\nì œë„¤ë¦­ í´ë˜ìŠ¤ë¥¼ ê°ì²´ë¡œ ìƒì„±í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•˜ë©´ ëœë‹¤.\n\n```java\nArrayList<String> stringList = new ArrayList<>();\nArrayList<Integer> intList = new ArrayList<>();\n```\n\nì œë„¤ë¦­ í´ë˜ìŠ¤ë¡œ ì„ ì–¸ëœ `ArrayList` í´ë˜ìŠ¤ì— `String` íƒ€ì…ê³¼ `Integer` íƒ€ì…ì„ íƒ€ì… ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í•œë‹¤.<br>\në”°ë¼ì„œ `ArrayList<String>`ê³¼ `ArrayList<Integer>` íƒ€ì…ì˜ ë‘ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë˜ëŠ”ë°, ì´ë“¤ì„ **ë§¤ê°œë³€ìˆ˜í™”ëœ íƒ€ì…**ì´ë¼ê³  ë¶€ë¥¸ë‹¤.\n\nì´ë•Œ **ë‘ ì¸ìŠ¤í„´ìŠ¤(`stringList`, `intList`)ëŠ” ì„œë¡œ ë‹¤ë¥¸ íƒ€ì…ì´ ì•„ë‹ˆë‹¤.**\n\nì´ë¥¼ ì˜ ì„¤ëª…í•˜ëŠ” ì˜ˆì‹œë¡œ, ë‹¤ìŒ ì½”ë“œê°€ ìˆë‹¤.\n\n```java\npublic void foo(List<String> strings) {\n    \n}\n\npublic void foo(List<Integer> ints) {\n    \n}\n```\n\nì–¼í• ë´¤ì„ ë•, ì œë„¤ë¦­ íƒ€ì…ì„ ë‹¤ë¥´ê²Œ í•˜ì—¬ ë©”ì„œë“œ ì˜¤ë²„ë¼ì´ë”©ì„ í•œ ê²ƒì²˜ëŸ¼ ë³´ì¸ë‹¤.<br>\ní•˜ì§€ë§Œ `List<String>`ê³¼ `List<Integer>`ëŠ” ì„œë¡œ ë‹¤ë¥¸ íƒ€ì…ì´ ì•„ë‹ˆë‹¤. ê°™ì€ íƒ€ì…ì´ë‹¤.\n\nì´ëŠ” ì œë„¤ë¦­ì´ ì»´íŒŒì¼ ë‹¨ê³„ì—ì„œ ì†Œê±°ë˜ëŠ” íŠ¹ì§• ë•Œë¬¸ì¸ë°, [ê³µë³€, ë¶ˆê³µë³€. ê·¸ë¦¬ê³  PECS ê´€ë ¨ ê¸€](https://kdkdhoho.github.io/covariant-invariant-and-pecs)ì—ì„œ ìì„¸íˆ ë‹¤ë£¬ë‹¤. \n\n### ì œë„¤ë¦­ì˜ ì‚¬ìš© ì œí•œ\n\n```java\npublic class Box<T> {\n\n    private T nonStaticElement; // OK\n    private static T staticElement; // ì»´íŒŒì¼ ì—ëŸ¬\n}\n```\n\nì œë„¤ë¦­ í´ë˜ìŠ¤ì— ì œë„¤ë¦­ íƒ€ì…ì„ ê°€ì§€ëŠ” í•„ë“œë¥¼ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤.<br>\ní•˜ì§€ë§Œ **`static` í‚¤ì›Œë“œë¥¼ ì¶”ê°€í•  ìˆ˜ ì—†ë‹¤.**\n\nì œë„¤ë¦­ì€ ì¼ì¢…ì˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ì™€ë„ ê°™ë‹¤.<br>\nìœ„ì—ì„œ `stringList`ì™€ `intList`ë¥¼ í†µí•´ ì‚´í´ë´¤ë“¯ì´, ë‘ ê°ì²´ê°€ ë™ì¼í•œ `ArrayList` íƒ€ì…ì¼ ë¿ì´ì§€<br>\nê°ê° ë‹¤ë¥¸ íƒ€ì…ì„ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ë°›ì•„ íƒ€ì…ì„ ê°•ì œí–ˆì„ ë¿ì´ë‹¤.\n\ní•˜ì§€ë§Œ `static`ì€ ëª¨ë“  ê°ì²´ì—ì„œ ê°’ì´ ë™ì¼í•´ì•¼ í•œë‹¤.<br>\nì´ëŠ” ì œë„¤ë¦­ì˜ ê·¼ë³¸ì ì¸ ëª©ì ì„ ë‹¬ì„±í•  ìˆ˜ ì—†ê²Œ ë§Œë“ ë‹¤.\n\në§Œì•½ `firstElement` í•„ë“œì— `static`ì´ ì¶”ê°€ëë‹¤ê³  ê°€ì •í•œë‹¤ë©´, `stringList`ì™€ `intList` ë‘ ê°ì²´ì—ì„œ ë™ì¼í•œ ê°’ì„ ê°€ì ¸ì•¼ í•œë‹¤.<br>\ní•˜ì§€ë§Œ ì´ëŠ” ì œë„¤ë¦­ì„ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ê¸°ëŒ€í•˜ëŠ” ë™ì‘ì´ ì „í˜€ ì•„ë‹ˆê²Œ ëœë‹¤.\n\n<br>\n<br>\n\në˜ ë‹¤ë¥¸ ì œì•½ì‚¬í•­ìœ¼ë¡œ, **ì œë„¤ë¦­ ë°°ì—´ì„ ìƒì„±í•  ìˆ˜ ì—†ë‹¤**.<br>\nì œë„¤ë¦­ íƒ€ì…ì˜ ë°°ì—´ì„ **ì„ ì–¸**í•  ìˆ˜ëŠ” ìˆì§€ë§Œ, **ìƒì„±**ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤.\n\n```java\npublic class ArrayList<T> {\n\n    private T[] elementData; // ì„ ì–¸ì€ OK\n\n    public ArrayList() {\n        elementData = new T[0]; // ì»´íŒŒì¼ ì—ëŸ¬. ìƒì„±ì€ ë¶ˆê°€.\n    }\n}\n```\n\nì´ìœ ëŠ” ë°”ë¡œ, `new` ì—°ì‚°ì ë•Œë¬¸ì´ë‹¤.<br>\n`new` ì—°ì‚°ìëŠ” ì»´íŒŒì¼ ì‹œì ì— íƒ€ì… `T`ë¥¼ ì •í™•íˆ ì•Œì•„ì•¼ í•œë‹¤. í•˜ì§€ë§Œ ìœ„ ì½”ë“œë§Œ ë´¤ì„ ë• ì–´ë–¤ íƒ€ì…ì´ ì„ ì–¸ë ì§€ ëª¨ë¥´ê¸° ë•Œë¬¸ì´ë‹¤.<br>\nì´ì™€ ë§ˆì°¬ê°€ì§€ì˜ ì´ìœ ë¡œ `instanceOf` í‚¤ì›Œë“œë„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.\n\nê¼­ ì œë„¤ë¦­ ë°°ì—´ì„ ìƒì„±í•´ì•¼ í•œë‹¤ë©´, `Reflection API`ì˜ `newInstance()`ì™€ ê°™ì´ ë™ì ìœ¼ë¡œ ê°ì²´ë¥¼ ìƒì„±í•˜ê±°ë‚˜<br>\n`Object[]`ì„ ìƒì„±í•´ì„œ ë³µì‚¬í•œ ë‹¤ìŒ, `T[]`ë¡œ í˜•ë³€í™˜ì„ í•˜ë©´ ìƒì„±í•  ìˆ˜ ìˆë‹¤.<br>\n\n```java\npublic ArrayList() {\n    elementData = (T[]) new Object[0]; // OK\n}\n```\n\nì‹¤ì œë¡œ `ArrayList`ì˜ `T[] toArray(T[] a)` ë©”ì„œë“œ êµ¬í˜„ì²´ë¥¼ ì‚´í´ë³´ë©´ `Arrays.copyOf()` ë©”ì„œë“œë¡œ `Object[]`ë¡œ ë³µì‚¬í•œë‹¤ìŒ, `T[]`ë¡œ í˜•ë³€í™˜í•˜ì—¬ ë°˜í™˜í•œë‹¤.\n\n```java\npublic <T> T[] toArray(T[] a) {\n    if (a.length < size)\n        // Make a new array of a's runtime type, but my contents:\n        // â¬‡ï¸ Object[] ë°°ì—´ë¡œ ë³µì‚¬í•œ ë‹¤ìŒ, T[] ë¡œ í˜•ë³€í™˜ì„ ìˆ˜í–‰í•œë‹¤. â¬‡ï¸\n        return (T[]) Arrays.copyOf(elementData, size, a.getClass()); \n    System.arraycopy(elementData, 0, a, 0, size);\n    if (a.length > size)\n        a[size] = null;\n    return a;\n}\n```\n\n<br>\n\n---\n\n## ì œí•œëœ íƒ€ì… ë§¤ê°œë³€ìˆ˜(Bounded Type Parameters)\n\nì œë„¤ë¦­ í´ë˜ìŠ¤ë¥¼ ì„ ì–¸í•  ë•Œ, ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì„ íƒ€ì…ì˜ ë²”ìœ„ë¥¼ ì œí•œí•  ìˆ˜ ìˆë‹¤.<br>\n**ì§€ì •í•œ íƒ€ì…ì„ í¬í•¨í•˜ì—¬ í•´ë‹¹ íƒ€ì…ì˜ ìì‹ íƒ€ì…ë§Œì´ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬ë˜ë„ë¡ ì œí•œ**í•œë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.\n\në°”ë¡œ ì½”ë“œë¡œ ì‚´í´ë³´ì.\n\në§Œì•½ `ArrayList`ë¥¼ ìˆ«ì íƒ€ì…ìœ¼ë¡œë§Œ ë°›ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ì²˜ëŸ¼ ì‘ì„±í•˜ë©´ ëœë‹¤.\n\n```java\npublic class ArrayList<T extends Number> {}\n```\n\nê·¸ëŸ¼ í•´ë‹¹ í´ë˜ìŠ¤ë¥¼ ê°ì²´ë¡œ ìƒì„±í•  ë•Œ, ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í•˜ëŠ” íƒ€ì…ì€ `Number` í´ë˜ìŠ¤ì˜ í•˜ìœ„ í´ë˜ìŠ¤ë§Œì´ ê°€ëŠ¥í•˜ë‹¤.\n\n```java\nArrayList<Integer> intList = new ArrayList<>();\nArrayList<Double> doubleList = new ArrayList<>();\nArrayList<String> stringList = new ArrayList<>(); // ì»´íŒŒì¼ ì—ëŸ¬\n```\n\në§Œì•½ ì œí•œí•˜ë ¤ëŠ” íƒ€ì…ì´ ì¸í„°í˜ì´ìŠ¤ë„ êµ¬í˜„í•´ì•¼ í•œë‹¤ë©´ `&` ë¡œ ì—°ê²°í•˜ë©´ ëœë‹¤.\n\n```java\npublic class ArrayList<T extends Number & Comparator> {}\n```\n\n<br>\n\n---\n\n## ì œë„¤ë¦­ ë©”ì„œë“œ\n\nì œë„¤ë¦­ì€ í´ë˜ìŠ¤ ë¿ë§Œ ì•„ë‹ˆë¼ ë©”ì„œë“œì—ë„ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤.<br>\nì œë„¤ë¦­ ì„ ì–¸ ìœ„ì¹˜ëŠ” ë°˜í™˜ íƒ€ì… ë°”ë¡œ ì™¼ìª½ì´ë‹¤.\n\n```java\npublic <T> void foo(T t) {}\n```\n\nì¤‘ìš”í•œ ì ì€, **ì œë„¤ë¦­ í´ë˜ìŠ¤ì— ì„ ì–¸ëœ íƒ€ì… ë§¤ê°œë³€ìˆ˜ì™€ ì œë„¤ë¦­ ë©”ì„œë“œì— ì„ ì–¸ëœ íƒ€ì… ë§¤ê°œë³€ìˆ˜ëŠ” ë³„ê°œë¼ëŠ” ê²ƒì´ë‹¤.**<br>\ní´ë˜ìŠ¤ì™€ ë©”ì„œë“œì— ë˜‘ê°™ì´ `T`ë¡œ íƒ€ì… ë§¤ê°œë³€ìˆ˜ë¥¼ ì„ ì–¸í•´ë„ ì´ ë‘˜ì€ ë‹¤ë¥´ë‹¤.\n\në˜í•œ ì œë„¤ë¦­ í´ë˜ìŠ¤ì—ì„œ í•„ë“œì—ëŠ” `static`ê³¼ ì œë„¤ë¦­ íƒ€ì…ì„ í•¨ê»˜ ì„ ì–¸í•  ìˆ˜ ì—†ì—ˆì§€ë§Œ, ë©”ì„œë“œì—ëŠ” ê°€ëŠ¥í•˜ë‹¤.\n\n> ì°¸ê³  1) í´ë˜ìŠ¤ì— ì„ ì–¸ëœ ì œë„¤ë¦­ ë§¤ê°œë³€ìˆ˜ì™€ `static` ë©”ì„œë“œì— ì„ ì–¸ëœ ì œë„¤ë¦­ ë§¤ê°œë³€ìˆ˜ê°€ ë™ì¼í•œ ê²½ìš° ì•„ë¬´ëŸ° ê²½ê³ ê°€ ìƒê¸°ì§€ ì•Šì§€ë§Œ,<br>\n> `static`ì´ ì•„ë‹Œ ë©”ì„œë“œì— ë™ì¼í•˜ê²Œ ì œë„¤ë¦­ ë§¤ê°œë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ë©´ ì•„ë˜ ì‚¬ì§„ê³¼ ê°™ì´ ê²½ê³ ê°€ ë°œìƒí•œë‹¤.<br>\n> ![](img.png)<br>\n> ë©”ì„œë“œì˜ ì œë„¤ë¦­ ë§¤ê°œë³€ìˆ˜ê°€ í´ë˜ìŠ¤ì˜ ì œë„¤ë¦­ ë§¤ê°œë³€ìˆ˜ë¥¼ ê°€ë¦°ë‹¤ëŠ” ëœ»ìœ¼ë¡œ í•´ì„ëœë‹¤.<br>\n> ì´ëŸ´ ë•, ìƒí™©ì— ë”°ë¼ ë©”ì„œë“œì— ì„ ì–¸í•œ ì œë„¤ë¦­ íƒ€ì… ë§¤ê°œë³€ìˆ˜ëª…ì„ ë³€ê²½í•˜ê±°ë‚˜ ì• ì´ˆì— í´ë˜ìŠ¤ì— ì„ ì–¸í•œ ì œë„¤ë¦­ íƒ€ì… ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì.\n\n> ì°¸ê³  2) static ë©”ì„œë“œì—ëŠ” í´ë˜ìŠ¤ ì œë„¤ë¦­ íƒ€ì… ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.\n> ![](img_1.png)<br>\n\n<br>\n\n---\n\n## ì™€ì¼ë“œì¹´ë“œ\n\nì œë„¤ë¦­ì˜ ì™€ì¼ë“œì¹´ë“œëŠ” ë©”ì„œë“œì˜ íŒŒë¼ë¯¸í„°ë¡œ ì œë„¤ë¦­ í´ë˜ìŠ¤ë¥¼ ë°›ì„ ë•Œ, í•´ë‹¹ í´ë˜ìŠ¤ì˜ íƒ€ì… ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬ ë°›ì„ íƒ€ì…ì˜ ë²”ìœ„ë¥¼ ì •í•˜ëŠ” ê¸°ëŠ¥ì´ë‹¤. \n\ní´ë˜ìŠ¤ì—ëŠ” íƒ€ì… ë§¤ê°œë³€ìˆ˜ì˜ ìƒí•œë§Œ ì •í•  ìˆ˜ ìˆì—ˆì§€ë§Œ, ì™€ì¼ë“œì¹´ë“œëŠ” í•˜í•œë„ ì •í•  ìˆ˜ ìˆë‹¤.\n\n```java\n<? extends T>: íƒ€ì… Tì™€ ìì† íƒ€ì…ë§Œ ê°€ëŠ¥í•˜ë‹¤.\n<? super T>: íƒ€ì… Tì™€ ê·¸ ì¡°ìƒ íƒ€ì…ë§Œ ê°€ëŠ¥í•˜ë‹¤. \n<?>: ëª¨ë“  íƒ€ì…ì´ ê°€ëŠ¥í•˜ë‹¤. <? extends Object>ì™€ ê°™ë‹¤.\n```\n\nì™€ì¼ë“œì¹´ë“œê°€ ì™œ í•„ìš”í•œì§€? ê·¸ë¦¬ê³  ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ”ì§€ ë” ì´í•´í•˜ê¸° ìœ„í•´<br>\n`List` íƒ€ì…ì„ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ í•´ë‹¹ ê°’ì˜ ì´í•©ì„ ë”í•˜ëŠ” ë©”ì„œë“œë¥¼ ì‘ì„±í•´ë³´ì.\n\nìš°ì„ , ê°’ì„ ë”í•˜ë ¤ë©´ `Integer`, `Double`ê³¼ ê°™ì€ íƒ€ì…ì„ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ì•¼ í•œë‹¤.<br>\ní•˜ì§€ë§Œ ë©”ì„œë“œ ë ˆë²¨ì—ì„œ ì´ë¥¼ ì œí•œí•˜ê¸° ìœ„í•´ ì œë„¤ë¦­ íƒ€ì…ì„ `Number`ë¡œ ì„¤ì •í•˜ë©´, `Number` íƒ€ì…ë§Œì´ íŒŒë¼ë¯¸í„°ë¡œ ë„˜ì–´ì˜¬ ìˆ˜ ìˆë‹¤.<br>\n\n```java\npublic static double getTotalSum(List<Number> list) {\n    double result = 0.0;\n    for (int i = 0; i < list.size(); i++) {\n        Number number = list.get(i);\n        result += number.doubleValue();\n    }\n    return result;\n}\n```\n\n```java\nList<Integer> intList = List.of(1, 2, 3);\nList<Double> doubleList = List.of(1.1, 2.2);\nMyArrayList.getTotalSum(intList); // ì»´íŒŒì¼ ì—ëŸ¬\nMyArrayList.getTotalSum(doubleList); // ì»´íŒŒì¼ ì—ëŸ¬\n```\n\nê·¸ëŸ¼ `Integer`, `Double` ê°™ì€ íƒ€ì…ì„ ëª¨ë‘ ì„ ì–¸í•´ë³´ë©´ ì–´ë–¨ê¹Œ?\n\n```java\npublic double getTotalSum(List<Integer> list) {\n    double result = 0.0;\n    for (int i = 0; i < list.size(); i++) {\n        int number = list.get(i);\n        result += number;\n    }\n    return result;\n}\n\npublic double getTotalSum(List<Double> list) {\n    double result = 0.0;\n    for (int i = 0; i < list.size(); i++) {\n        Double number = list.get(i);\n        result += number;\n    }\n    return result;\n}\n```\n\nì¼ë‹¨ ì½”ë“œì˜ ì¤‘ë³µì´ ë°œìƒí•  ë¿ë”ëŸ¬, **ì• ì´ˆì— ì»´íŒŒì¼ ìì²´ê°€ ì•ˆëœë‹¤**.<br>\nì™œëƒí•˜ë©´ **ì œë„¤ë¦­ì€ ì»´íŒŒì¼ ì´í›„ì— ì‚¬ë¼ì§€ê¸° ë•Œë¬¸ì—**, ê²°ê³¼ì ìœ¼ë¡œ ê¸°ëŒ€í–ˆë˜ ë©”ì„œë“œ ì˜¤ë²„ë¡œë”©ì´ ì•„ë‹Œ ë©”ì„œë“œë¥¼ ì¤‘ë³µìœ¼ë¡œ ì„ ì–¸í•œ ì…ˆì´ë‹¤.\n\nì´ì œ ì´ë¥¼ ì™€ì¼ë“œì¹´ë“œë¥¼ í†µí•´ í•´ê²°í•´ë³´ì.\n\n```java\npublic static double getTotalSum(List<? extends Number> list) {\n    double result = 0.0;\n    for (int i = 0; i < list.size(); i++) {\n        Number number = list.get(i);\n        result += number.doubleValue();\n    }\n    return result;\n}\n```\n\n`List<? extends Number>`ì„ í†µí•´ `Number` íƒ€ì…ì„ í¬í•¨í•œ ìì‹ íƒ€ì…ë§Œì´ ë“¤ì–´ì˜´ì„ **ë³´ì¥**í•œë‹¤.<br>\nì™€ì¼ë“œì¹´ë“œë¥¼ í†µí•´ íš¨ê³¼ì ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.\n\n> ì°¸ê³ )<br>\n> ë¬¼ë¡  ì•„ë˜ì™€ ê°™ì´ ì œí•œëœ íƒ€ì… íŒŒë¼ë¯¸í„°ë¡œë„ í•´ê²°í•  ìˆ˜ ìˆë‹¤.\n> ```java\n> public static <V extends Number> double getTotalSum(List<V> list) {\n>     double result = 0.0;\n>     for (int i = 0; i < list.size(); i++) {\n>         V v = list.get(i);\n>         result += v.doubleValue();\n>     }\n>     return result;\n> }\n> ```\n> í•˜ì§€ë§Œ ìœ„ì˜ ê²½ìš°, íƒ€ì…ì´ `V` ë¼ë©´ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ë°›ì€ listì— `add(v)`ë¥¼ í†µí•´ ê°’ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.<br>\n> ë°˜ë©´, ì™€ì¼ë“œì¹´ë“œì˜ ê²½ìš° `add(v)`ë¥¼ í˜¸ì¶œí•˜ë©´ íƒ€ì…ì´ ì¼ì¹˜í•˜ì§€ ì•ŠëŠ”ë‹¤ê³  ì»´íŒŒì¼ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.<br>\n> ì™€ì¼ë“œì¹´ë“œëŠ” ì£¼ì–´ì§€ëŠ” ê°’ì´ ì œí•œëœ íƒ€ì…ì„ì„ **ë³´ì¥í•  ë¿**ì´ë‹¤.\n\nì™€ì¼ë“œì¹´ë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ëŒ€í‘œì ì¸ ì˜ˆë¡œëŠ” `Collections.sort()`ì´ë‹¤.\n\n```java\npublic static <T> void sort(List<T> list, Comparator<? super T> c)\n```\n\nìœ„ ë©”ì„œë“œëŠ” ì œë„¤ë¦­ íƒ€ì… `<T>`ê°€ ì„ ì–¸ëœ ì œë„¤ë¦­ ë©”ì„œë“œì´ë‹¤.<br>\n`List<T>`ì™€ `Comparator<? super T>`ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ë°›ëŠ”ë‹¤.<br>\nì´ë•Œ, `Comparator<? super T>` ë¶€ë¶„ì— `T`ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìƒí•œ ì™€ì¼ë“œì¹´ë“œë¥¼ ì ìš©í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.\n\n> ì°¸ê³ )<br>\n> ê°œì¸ì ìœ¼ë¡œ ì œí•œëœ íƒ€ì… ë§¤ê°œë³€ìˆ˜ì™€ ì™€ì¼ë“œì¹´ë“œì˜ ì°¨ì´ë¥¼ ëŠë‚Œìœ¼ë¡œ í‘œí˜„í•˜ìë©´<br>\n> ì œí•œëœ íƒ€ì… ë§¤ê°œë³€ìˆ˜ëŠ” **ê°’ì„ ì‚½ì…í•  ë•Œ** ì‚¬ìš©ë˜ëŠ” ëŠë‚Œì´ê³ <br>\n> ì™€ì¼ë“œì¹´ë“œëŠ” **ê°’ì„ êº¼ë‚´ì–´ ì‚¬ìš©í•  ë•Œ** ì‚¬ìš©ë˜ëŠ” ëŠë‚Œì´ë‹¤.<br>\n> <br>\n> ì´ ë‘˜ì˜ ì°¨ì´ë¥¼ ëª…í™•íˆ ì´í•´í•˜ê¸°ë³´ë‹¨, íŠ¹ì§•ì„ ì˜ íŒŒì•…í•˜ê³  ìƒí™©ì— ë§ê²Œ ì ì ˆíˆ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ì•„ë³´ì¸ë‹¤.\n\n## ë§ˆì¹˜ë©°\n\nì§€ê¸ˆê¹Œì§€ ì œë„¤ë¦­ì´ ë¬´ì—‡ì¸ì§€ì™€ ì œë„¤ë¦­ í´ë˜ìŠ¤ì™€ ì œë„¤ë¦­ ë©”ì„œë“œ, ê·¸ë¦¬ê³  ì œí•œëœ íƒ€ì… ë§¤ê°œë³€ìˆ˜ì™€ ì™€ì¼ë“œì¹´ë“œì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ë‹¤.\n\në‹¤ìŒì—” ê³µë³€, ë¶ˆê³µë³€ê³¼ PECSì— ëŒ€í•´ ì•Œì•„ë³´ê² ë‹¤.\n"},{"excerpt":"ë“¤ì–´ê°€ë©° ì´ë²ˆì—” HTTP í‘œì¤€ì´ ì„¤ëª…í•˜ëŠ” ì—¬ëŸ¬ ê°€ì§€ ì¸ì¦ ë°©ì‹ì— ëŒ€í•´ ì•Œì•„ë³´ê² ë‹¤. Basic ì¸ì¦ ì´ë¦„ ê·¸ëŒ€ë¡œ ê°€ì¥ ê¸°ë³¸ì ì¸ ì¸ì¦ ë°©ì‹ì´ë‹¤. í´ë¼ì´ì–¸íŠ¸ê°€ Http Requestë¥¼ ë³´ë‚¼ ë•Œ  í—¤ë”ì— IDì™€ íŒ¨ìŠ¤ì›Œë“œë¥¼ Base64 í˜•ì‹ìœ¼ë¡œ ì¸ì½”ë”© í•œ ê°’ì„ ë‹´ì•„ ë³´ë‚´ëŠ” ë°©ì‹ì´ë‹¤.\nì´ë•Œ ê°’ ì•ì— ì„ Prefixë¡œ ë‹´ì•„ í•¨ê»˜ ë³´ë‚´ì–´ Basic ì¸ì¦ì„ì„ ë‚˜íƒ€ë‚¸ë‹¤. â€¦","fields":{"slug":"/08-authentication-of-http/"},"frontmatter":{"date":"April 10, 2024","title":"8ì¥. ëˆ„ê°€ ì•¡ì„¸ìŠ¤í•˜ê³  ìˆëŠ”ì§€ë¥¼ í™•ì¸í•˜ëŠ” ì¸ì¦","tags":["Network"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©° \n\nì´ë²ˆì—” HTTP í‘œì¤€ì´ ì„¤ëª…í•˜ëŠ” ì—¬ëŸ¬ ê°€ì§€ ì¸ì¦ ë°©ì‹ì— ëŒ€í•´ ì•Œì•„ë³´ê² ë‹¤.\n\n## Basic ì¸ì¦\n\nì´ë¦„ ê·¸ëŒ€ë¡œ ê°€ì¥ ê¸°ë³¸ì ì¸ ì¸ì¦ ë°©ì‹ì´ë‹¤.\n\ní´ë¼ì´ì–¸íŠ¸ê°€ Http Requestë¥¼ ë³´ë‚¼ ë•Œ `Authorization` í—¤ë”ì— IDì™€ íŒ¨ìŠ¤ì›Œë“œë¥¼ Base64 í˜•ì‹ìœ¼ë¡œ ì¸ì½”ë”© í•œ ê°’ì„ ë‹´ì•„ ë³´ë‚´ëŠ” ë°©ì‹ì´ë‹¤.<br>\nì´ë•Œ ê°’ ì•ì— `\"Basic \"`ì„ Prefixë¡œ ë‹´ì•„ í•¨ê»˜ ë³´ë‚´ì–´ Basic ì¸ì¦ì„ì„ ë‚˜íƒ€ë‚¸ë‹¤.\n\nBasic ì¸ì¦ì€ ì•„ë˜ì™€ ê°™ì€ ìš”ì²­ì´ ì„œë²„ë¡œ ì „ë‹¬ëœë‹¤. \n\n```http request\nGET /my HTTP/1.1\nAuthoization: Basic Z3Vlc3Q35wervc32= \n```\n\nê°€ì¥ ë‹¨ìˆœí•˜ë©° ê°„í¸í•œ ì¸ì¦ ë°©ì‹ì´ë‹¤.<br>\ní•˜ì§€ë§Œ Base64 í˜•ì‹ì€ [ì˜¨ë¼ì¸ ë””ì½”ë” ì‚¬ì´íŠ¸](https://www.base64decode.org/)ë„ ìˆëŠ”ë§Œí¼ ë§¤ìš° ìœ„í—˜í•œ ì¸ì¦ ë°©ì‹ì´ë‹¤.<br>\në”°ë¼ì„œ ì˜ ì‚¬ìš©í•˜ì§„ ì•ŠëŠ”ë‹¤.\n\n## DIGEST ì¸ì¦\n\ní¸ë¦¬í•˜ì§€ë§Œ ì•ˆì „í•˜ì§€ ì•Šì€ Basic ì¸ì¦ì„ ë³´ì™„í•˜ê¸° ìœ„í•´ íƒ„ìƒí•œ ê¸°ìˆ ì´ë‹¤.<br>\nDIGEST ì¸ì¦ì—ëŠ” _ì±Œë¦°ì§€ ë¦¬ìŠ¤í°ìŠ¤_ ë°©ì‹ì´ ì‚¬ìš©ë˜ê³  ìˆì–´ íŒ¨ìŠ¤ì›Œë“œë¥¼ ê·¸ëŒ€ë¡œ ë³´ë‚¼ ì¼ì€ ì—†ë‹¤.\n\nì±Œë¦°ì§€ ë¦¬ìŠ¤í°ìŠ¤ ë°©ì‹ì€ ìµœì´ˆì— ìƒëŒ€ë°©ì—ê²Œ ì¸ì¦ ìš”êµ¬ë¥¼ ë³´ë‚´ê³  ê·¸ ê²°ê³¼ë¡œ ë°›ì€ ì±Œë¦°ì§€ ì½”ë“œë¥¼ ì‚¬ìš©í•´ì„œ ë¦¬ìŠ¤í°ìŠ¤ ì½”ë“œë¥¼ ê³„ì‚°í•œë‹¤.<br>\nì´ ê°’ì„ ìƒëŒ€ì—ê²Œ ì†¡ì‹ í•˜ì—¬ ì¸ì¦í•˜ëŠ” ë°©ë²•ì´ë‹¤.<br>\në¦¬ìŠ¤í°ìŠ¤ ì½”ë“œëŠ” íŒ¨ìŠ¤ì›Œë“œì™€ ì±Œë¦°ì§€ ì½”ë“œë¥¼ ì´ìš©í•´ ê³„ì‚°í•œ ê²°ê³¼ì´ë‹¤. ì´ ê²°ê³¼ê°’ì„ ë³´ë‚´ê¸°ì— íŒ¨ìŠ¤ì›Œë“œê°€ í†µì‹ ë˜ëŠ” ì¼ì€ ì—†ë‹¤.\n\nì¢€ ë” ìì„¸íˆ ì‚´í´ë³´ë©´ ì¸ì¦ ìˆœì„œì— ë”°ë¥¸ ìš”ì²­ ë° ì‘ë‹µ ë‚´ìš©ì€ ì•„ë˜ì™€ ê°™ë‹¤.\n\n1. í´ë¼ì´ì–¸íŠ¸ê°€ ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼\n```http request\nGET /my HTTP/1.1\nHost: listywave.com\n```\n\n2. ì„œë²„ëŠ” ì¸ì¦ì´ í•„ìš”í•˜ë‹¤ëŠ” ìƒíƒœ ì½”ë“œì™€ í•¨ê»˜ íŒ¨ìŠ¤ì›Œë“œì™€ ì±Œë¦°ì§€ ì½”ë“œ(nonce)ë¥¼ ì†¡ì‹ \n```http request\nHTTP/1.1 401 Unauthorized\nWWW-Authenticate: Digest realm=\"my\", nonce=\"MoSq25=sddfAMi217wsnDS\", algorithm=MD5, qop=\"auth\n```\n\n3. í´ë¼ì´ì–¸íŠ¸ëŠ” íŒ¨ìŠ¤ì›Œë“œì™€ ì±Œë¦°ì§€ ì½”ë“œë¥¼ í†µí•´ ë¦¬ìŠ¤í°ìŠ¤ ì½”ë“œë¥¼ ê³„ì‚°í•´ì„œ ì†¡ì‹ \n```http request\nGET /my HTTP/1.1\nHost: listywave.com\nAuthorization: Digest username=\"kdkdhoho\", realm=\"my\", nonce=\"MoSq25=sddfAMi217wsnDS\", uri=\"/my\", algorithm=MD5, response=\"df563836bnfasf7acfasdfc78\", qop=\"auth\", nc=000000001, cnonce=\"0827c27c29c271\"\n```\n\n4. ì„œë²„ëŠ” ì¸ì¦ ì„±ê³µ ì‹œ `200 OK`ë¥¼ ì‘ë‹µí•˜ê³ , ì‹¤íŒ¨í–ˆì„ ê²½ìš° ë‹¤ì‹œ `401 Unauthorized`ë¥¼ ì‘ë‹µí•œë‹¤.\n```http request\nHTTP/1.1 200 OK\nAuthentication-Info: rspauth=\"fvacacwararact3c5ttcctyct7tcc4t7y\", cnonce=\"0827c27c29c271\", nc=000000001, qop=\"auth\"\n```\n\ní•˜ì§€ë§Œ Digest ë°©ì‹ë„ ì‚¬ìš©ìƒì˜ ë¬¸ì œì™€ ë¶€ì¡±í•œ ë³´ì•ˆì„± ë•Œë¬¸ì— ì˜ ì‚¬ìš©í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.\n\n## SSL í´ë¼ì´ì–¸íŠ¸ ì¸ì¦\n\nìœ„ ë‘ ë°©ì‹ì€ ì‚¬ìš©ì IDì™€ íŒ¨ìŠ¤ì›Œë“œë¥¼ í†µí•´ ì¸ì¦ì„ ì§„í–‰í•œë‹¤.<br>\nSSL í´ë¼ì´ì–¸íŠ¸ ì¸ì¦ì˜ ê²½ìš°ì—ëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ **í´ë¼ì´ì–¸íŠ¸ ì¸ì¦ì„œ**ë¥¼ ì„œë²„ë¡œ ì „ì†¡í•´ ì¸ì¦í•œë‹¤.\n\ní´ë¼ì´ì–¸íŠ¸ê°€ í´ë¼ì´ì–¸íŠ¸ ì¸ì¦ì„œë¥¼ ì„œë²„ë¡œ ì „ì†¡í•˜ê¸° ìœ„í•´ì„œëŠ” ì‚¬ì „ì— ë¯¸ë¦¬ ê°€ì§€ê³  ìˆì–´ì•¼ í•œë‹¤.<br>\nì´ë¥¼ ìœ„í•´ì„  ì„œë²„ê°€ ë¯¸ë¦¬ ì¦ëª…ì„œë¥¼ êµ¬ë§¤í•˜ì—¬ ì‚¬ìš©ìì—ê²Œ ë°°í¬ë¥¼ í•´ì•¼ í•œë‹¤.<br>\në‹¤ë¥¸ ë§ë¡œ ì¸ì¦ì„ ìœ„í•œ ë¹„ìš©ì´ ìƒë‹¹í•˜ë‹¤ëŠ” ê²ƒì´ë‹¤.<br>\në”°ë¼ì„œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì¸ì¦ë§Œì„ ìœ„í•œ ìš©ë„ë¡œëŠ” ì‚¬ìš©í•˜ì§€ ì•Šê³  í›„ìˆ í•  Form ë°©ì‹ê³¼ í•¨ê»˜ ì‚¬ìš©ë˜ì–´ 2-Factor ì¸ì¦ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.\n\n## Form ë°©ì‹\n\nForm ë°©ì‹ì€ HTTP í”„ë¡œí† ì½œë¡œ ìŠ¤í™ì´ ì •ì˜ë˜ì–´ ìˆì§€ëŠ” ì•Šë‹¤.<br>\ní•˜ì§€ë§Œ ë§ì€ ì›¹ì‚¬ì´íŠ¸ì—ì„œ ì±„íƒ ì¤‘ì´ë©° ëŒ€ë¶€ë¶„ì˜ ê²½ìš° ë¡œê·¸ì¸ í˜ì´ì§€ë¥¼ í†µí•´ ì‚¬ìš©ìì˜ ì¸ì¦ ì •ë³´ë¥¼ í¼ì— ì…ë ¥ í›„ ì„œë²„ë¡œ ì „ì†¡í•˜ë©´, ì„œë²„ëŠ” í•´ë‹¹ ê°’ì„ í† ëŒ€ë¡œ ì‚¬ìš©ìë¥¼ ì‹ë³„í•˜ê³  ê·¸ì— ë”°ë¥¸ ì¸ì¦ ì²˜ë¦¬ë¥¼ í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì±„íƒ ì¤‘ì´ë‹¤.\n\n![Form ë°©ì‹ì˜ ë¡œê·¸ì¸ í˜ì´ì§€ (ì¶œì²˜: https://gundogmuseray.medium.com/easy-way-to-stop-worry-about-client-side-auth-with-firebase-and-sveltekit-d17cdcccb663)](form-auth-example.png)\n\n## ì„¸ì…˜ ë° í† í°\n\nHTTP í”„ë¡œí† ì½œì€ Stateless í•˜ë‹¤.<br>\në°©ê¸ˆ ì „ì— ë¡œê·¸ì¸ì— ì„±ê³µí–ˆì§€ë§Œ ë‹¤ìŒ ìš”ì²­ë§ˆë‹¤ ë¡œê·¸ì¸ì„ ìƒˆë¡œ í•´ì•¼ í•œë‹¤.<br>\nì´ë¥¼ ê°œì„ í•˜ê¸° ìœ„í•´ ì¿ í‚¤[[^2]] ê°€ ë„ì…ë˜ì—ˆê³  ì—¬ê¸°ì— ì„¸ì…˜[[^3]]ì´ë‚˜ í† í°[[^4]] ì„ ì´ìš©í•´ ì‚¬ìš©ì ì¸ì¦ ì •ë³´ë¥¼ ìœ ì§€í•œë‹¤.\n\nì„¸ì…˜ê³¼ í† í°ì€ í˜„ì¬ ëŒ€ë¶€ë¶„ì˜ ê²½ìš° ì‚¬ìš© ì¤‘ì¸ ë°©ì‹ì´ë‹¤.<br>\nì´ ë‘˜ì„ ì˜ ì´í•´í•˜ê³  ì‚¬ìš©í•  ì¤„ ì•„ëŠ” ê²ƒì€ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤ëŠ” ì˜ë¯¸ì´ë©° ë‹¤ë¥¸ í¬ìŠ¤íŒ…ì—ì„œ ì§‘ì¤‘ì ìœ¼ë¡œ ì•Œì•„ë³¼ ì˜ˆì •ì´ë‹¤.\n\n<br>\n<br>\n<br>\n\n[^1]: [ê·¸ë¦¼ìœ¼ë¡œ ë°°ìš°ëŠ” Http & Network Basic](https://m.yes24.com/Goods/Detail/15894097)\n[^2]: [MDN - ì¿ í‚¤](https://developer.mozilla.org/ko/docs/Web/HTTP/Cookies)\n[^3]: [MDN - ì„¸ì…˜](https://developer.mozilla.org/ko/docs/Web/HTTP/Session)\n[^4]: [ì˜¤í”ˆíŠœí† ë¦¬ì–¼ìŠ¤ - AccessToken](https://opentutorials.org/course/3405/22008)"},{"excerpt":"ë“¤ì–´ê°€ë©° ì¸í„°ë„·ì´ ë³´ê¸‰ë˜ê³  ì›¹ ì‹œì¥ì´ ì»¤ì ¸ê°ì— ë”°ë¼ HTTP í”„ë¡œí† ì½œì´ ì •ë§ ë§ì´ ì‚¬ìš©ë˜ê³  ìˆë‹¤.\ní•˜ì§€ë§Œ ë³¸ë˜ HTML ë¬¸ì„œë¥¼ ì „ì†¡í•˜ê¸° ìœ„í•´ íƒ„ìƒí•œ HTTPëŠ” ë°œì „í•´ê°€ëŠ” ì›¹ ì‹œì¥ì— ë¹„í•˜ë©´ ë¶€ì¡±í•œ ê¸°ëŠ¥ë“¤ì´ ë‹¤ìˆ˜ ì¡´ì¬í–ˆë‹¤.\nê·¸ë˜ì„œ HTTPë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ì—¬ ìƒˆë¡œì´ ì¶”ê°€í•˜ëŠ” í˜•íƒœë¡œ ìƒˆë¡œìš´ í”„ë¡œí† ì½œì´ ëª‡ ê°€ì§€ êµ¬í˜„ë˜ì—ˆë‹¤.\nì´ í”„ë¡œí† ì½œì— ëŒ€í•´ ì•Œì•„ë³´ì. HTTPì˜ â€¦","fields":{"slug":"/09-advanced-http-protocol/"},"frontmatter":{"date":"April 10, 2024","title":"9ì¥. HTTPì— ê¸°ëŠ¥ì„ ì¶”ê°€í•œ í”„ë¡œí† ì½œ","tags":["Network"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©° \n\nì¸í„°ë„·ì´ ë³´ê¸‰ë˜ê³  ì›¹ ì‹œì¥ì´ ì»¤ì ¸ê°ì— ë”°ë¼ HTTP í”„ë¡œí† ì½œì´ ì •ë§ ë§ì´ ì‚¬ìš©ë˜ê³  ìˆë‹¤.<br>\ní•˜ì§€ë§Œ ë³¸ë˜ HTML ë¬¸ì„œë¥¼ ì „ì†¡í•˜ê¸° ìœ„í•´ íƒ„ìƒí•œ HTTPëŠ” ë°œì „í•´ê°€ëŠ” ì›¹ ì‹œì¥ì— ë¹„í•˜ë©´ ë¶€ì¡±í•œ ê¸°ëŠ¥ë“¤ì´ ë‹¤ìˆ˜ ì¡´ì¬í–ˆë‹¤.<br>\nê·¸ë˜ì„œ HTTPë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ì—¬ ìƒˆë¡œì´ ì¶”ê°€í•˜ëŠ” í˜•íƒœë¡œ ìƒˆë¡œìš´ í”„ë¡œí† ì½œì´ ëª‡ ê°€ì§€ êµ¬í˜„ë˜ì—ˆë‹¤.<br>\nì´ í”„ë¡œí† ì½œì— ëŒ€í•´ ì•Œì•„ë³´ì.\n\n---\n\n## HTTPì˜ ë³‘ëª© í˜„ìƒì„ í•´ì†Œí•˜ëŠ” SPDY\n\nGoogleì´ 2010ë…„ì— ë°œí‘œí•œ **SPDY**(ìŠ¤í”¼ë””)[[^2]]ëŠ” **HTTPì˜ ë³‘ëª© í˜„ìƒì„ í•´ì†Œí•˜ê³  ì›¹ í˜ì´ì§€ ë¡œë”© ì‹œê°„ì„ 50% ë‹¨ì¶•**í•œë‹¤ëŠ” ëª©í‘œë¡œ ì‹œì‘í•œ í”„ë¡œì íŠ¸ë‹¤.\n\n### HTTPì˜ ë³‘ëª© í˜„ìƒ\n\nHTTP ë³‘ëª© í˜„ìƒì€ ë§ì€ ìš”ì²­ ëŒ€ë¹„ ì²˜ë¦¬ëŸ‰ì´ ë‚®ì•„ ë°œìƒí•œë‹¤.\n\nëŒ€í‘œì ì¸ ì˜ˆì‹œë¡œ í˜ì´ìŠ¤ë¶ì´ë‚˜ íŠ¸ìœ„í„° ê°™ì€ SNSëŠ” ìˆ˜ì²œë§Œ ëª…ì˜ ì‚¬ëŒë“¤ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ì‘ì„±í•œ ë°ì´í„°ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ë³´ì—¬ì¤˜ì•¼ í•œë‹¤.<br>\ní•˜ì§€ë§Œ ê¸°ì¡´ HTTP í”„ë¡œí† ì½œ ìŠ¤í™ì´ ê°€ì§€ëŠ” í•œê³„ì  ë–„ë¬¸ì— ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œì ë“¤ì´ ë³‘ëª© í˜„ìƒì„ ì•¼ê¸°í•œë‹¤.\n\n1. í´ë¼ì´ì–¸íŠ¸(ë¸Œë¼ìš°ì €)ì— ìë™ìœ¼ë¡œ ê°±ì‹ ì„ í•œë‹¤ê±°ë‚˜ ê°±ì‹ ì´ ë˜ì—ˆë‹¤ëŠ” ê±¸ í‘œí˜„í•˜ëŠ” ë°©ë²•ì´ ì—†ë‹¤.\n2. ìƒˆë¡œìš´ ì •ë³´ë¥¼ ì–»ê¸° ìœ„í•´ ë§¤ë²ˆ ìƒˆë¡œìš´ ìš”ì²­ì„ ë³´ë‚´ì•¼ í•œë‹¤. ì‘ë‹µì€ í˜ì´ì§€ ì „ì²´ì— í•´ë‹¹í•˜ëŠ” ë°ì´í„°ê°€ ë‚´ë ¤ê°„ë‹¤.\n4. ìš”ì²­/ì‘ë‹µ í—¤ë”ë¥¼ ì••ì¶•í•˜ì§€ ì•Šìœ¼ë©° ë§¤ë²ˆ ê°™ì€ í—¤ë”ë¥¼ ë³´ë‚´ê²Œ ë  ìˆ˜ ìˆë‹¤.\n\n### Ajaxë¡œ í•´ê²°í•˜ê¸°\n\n2ë²ˆ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ Ajax[[^3]]ê°€ íƒ„ìƒí–ˆë‹¤.\n\nAjax(Asynchronous JavaScript+XML)ëŠ” JavaScriptë‚˜ DOM ì¡°ì‘ ë“±ì„ í™œìš©í•˜ì—¬ **ì›¹ í˜ì´ì§€ì˜ ì¼ë¶€ë§Œ ê³ ì³ì“¸ ìˆ˜ ìˆëŠ” ë¹„ë™ê¸° í†µì‹  ë°©ë²•**ì´ë‹¤.<br>\nê¸°ì¡´ì˜ ë™ê¸°ì‹ í†µì‹ ì— ë¹„í•´ì„œ í˜ì´ì§€ì˜ ì¼ë¶€ë¶„ë§Œ ê°±ì‹ ë˜ê¸° ë•Œë¬¸ì— ì‘ë‹µìœ¼ë¡œ ì „ì†¡ë˜ëŠ” ë°ì´í„° ì–‘ì€ ê°ì†Œí•œë‹¤.<br>\ní•˜ì§€ë§Œ ì‹¤ì‹œê°„ìœ¼ë¡œ ì„œë²„ì—ì„œ ì •ë³´ë¥¼ ì·¨ë“í•˜ë ¤ê³  í•˜ë©´ ëŒ€ëŸ‰ì˜ ìš”ì²­ì´ ë°œìƒí•˜ê²Œ ëœë‹¤.<br>\në˜, ê·¼ë³¸ì ìœ¼ë¡œ HTTP í”„ë¡œí† ì½œì´ ê°€ì§€ëŠ” ë¬¸ì œê°€ í•´ê²°ë˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.\n\n### Cometìœ¼ë¡œ í•´ê²°í•˜ê¸°\n\n1ë²ˆ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ Comet[[^4]]ì´ íƒ„ìƒí–ˆë‹¤.\n\nCometì€ **ì„œë²„ ìª½ì—ì„œ ë¦¬ì†ŒìŠ¤ì˜ ê°±ì‹ ì´ ìˆì„ ê²½ìš°, ìš”ì²­ì„ ë°›ì§€ ì•Šì•„ë„ í´ë¼ì´ì–¸íŠ¸ë¡œ ì‘ë‹µì„ ë³´ë‚´ê¸° ìœ„í•œ ë°©ë²•**ì´ë‹¤.<br>\nì‘ë‹µì„ ì—°ì¥ì‹œí‚´ìœ¼ë¡œì¨, ì„œë²„ì—ì„œ í†µì‹ ì„ ê°œì‹œí•˜ëŠ” ì„œë²„ í‘¸ì‹œ ê¸°ëŠ¥ê³¼ ìœ ì‚¬í•˜ë‹¤.\n\në³´í†µì€ ìš”ì²­ì´ ì˜¤ë©´ ì¦‰ì‹œ ì‘ë‹µì„ ì²˜ë¦¬í•´ ë°˜í™˜í•˜ì§€ë§Œ, Cometì˜ ê²½ìš° ì‘ë‹µì„ ë³´ë¥˜ ìƒíƒœë¡œ ë‘ê³  ë¦¬ì†ŒìŠ¤ì˜ ê°±ì‹ ì´ ìˆëŠ” ê²½ìš°ì—ë§Œ ì‘ë‹µì„ ë°˜í™˜í•œë‹¤.<br>\ní•˜ì§€ë§Œ ê·¸ë§Œí¼ Connectionì„ ìœ ì§€í•˜ëŠ” ì‹œê°„ì´ ê¸¸ì–´ì ¸ ë¦¬ì†ŒìŠ¤ë¥¼ ë§ì´ ì‚¬ìš©í•˜ê²Œ ëœë‹¤.\n\n### SPDYì˜ ëª©í‘œ, ê·¸ë¦¬ê³  ì„¤ê³„ì™€ ê¸°ëŠ¥\n\nAjaxì™€ Cometìœ¼ë¡œ HTTPì˜ ì‚¬ìš©ì„±ì´ ì–´ëŠì •ë„ ê°œì„ ë˜ì—ˆì§€ë§Œ ë‘˜ ë‹¤ í•œê³„ê°€ ì¡´ì¬í–ˆë‹¤.<br>\nHTTP í”„ë¡œí† ì½œ ë ˆë²¨ì—ì„œì˜ ë¬¸ì œëŠ” í•´ê²°ë˜ì§€ ì•Šì•˜ê¸°ì—, ê·¼ë³¸ì ìœ¼ë¡œ í”„ë¡œí† ì½œ ë ˆë²¨ì˜ ê°œì„ ì´ í•„ìš”í–ˆë‹¤.<br>\nì´ë¥¼ ìœ„í•´ SPDY í”„ë¡œì íŠ¸ê°€ ì‹œì‘ëë‹¤.\n\nSPDYëŠ” HTTP í”„ë¡œí† ì½œì„ ë°”ê¾¸ëŠ” ê²ƒì´ ì•„ë‹ˆë‹¤.<br>\nHTTP í”„ë¡œí† ì½œ ë°”ë¡œ ì•„ë˜, SSL(TLS) í”„ë¡œí† ì½œ ë°”ë¡œ ìœ„ì—ì„œ ë™ì‘í•˜ëŠ” ìƒˆë¡œìš´ í”„ë¡œí† ì½œì´ë‹¤.<br>\n![SPDY Protocol (ì¶œì²˜: https://d2.naver.com/helloworld/140351)](spdy.png)\n\nì´ë ‡ê²Œ SPDY í”„ë¡œí† ì½œì„ ì¶”ê°€í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê¸°ëŠ¥ë“¤ì„ ì–»ì„ ìˆ˜ ìˆë‹¤.\n\n1. ë‹¤ì¤‘í™” ìŠ¤íŠ¸ë¦¼<br>\n   í•˜ë‚˜ì˜ TCP ì—°ê²°ì„ í†µí•´ ë‹¤ìˆ˜ì˜ ìš”ì²­ì„ ë¬´ì œí•œìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.\n\n2. ìš”ì²­ì˜ ìš°ì„  ìˆœìœ„ ë¶€ì—¬<br>\n   ìš”ì²­ì„ ë¬´ì œí•œìœ¼ë¡œ ë³‘ë ¬ ì²˜ë¦¬í•  ìˆ˜ ìˆìœ¼ë©´ì„œë„ ê° ìš”ì²­ì— ìš°ì„  ìˆœìœ„ë¥¼ ë¶€ì—¬í•  ìˆ˜ ìˆë‹¤.\n\n3. HTTP í—¤ë” ì••ì¶•<br>\n   HTTP í—¤ë”ë¥¼ ì••ì¶•í•œë‹¤. ë”°ë¼ì„œ ì ì€ ìˆ˜ì˜ íŒ¨í‚·ìœ¼ë¡œ í†µì‹ í•  ìˆ˜ ìˆë‹¤.\n\n4. ì„œë²„ í‘¸ì‹œ ê¸°ëŠ¥<br>\n   ì„œë²„ì—ì„œ í´ë¼ì´ì–¸íŠ¸ë¡œ ë°ì´í„°ë¥¼ í‘¸ì‰¬í•˜ëŠ” ì„œë²„ í‘¸ì‹œ ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤.\n\n5. ì„œë²„ íŒíŠ¸ ê¸°ëŠ¥<br>\n   ì„œë²„ê°€ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ìš”ì²­í•´ì•¼ í•  ë¦¬ì†ŒìŠ¤ë¥¼ ì œì•ˆí•  ìˆ˜ë„ ìˆë‹¤.\n\n### í—¬ë¡œ HTTP/2, êµ¿ë°”ì´ SPDY[[^5]]\n\nHTTP/2ê°€ SPDYë¥¼ ê¸°ë³¸ì ìœ¼ë¡œ ìŠ¤í™ì— í¬í•¨í•˜ëŠ” ìˆ˜ì¤€ìœ¼ë¡œ ë°œí‘œë˜ì—ˆë‹¤.<br>\në”°ë¼ì„œ HTTP/2ë¥¼ ì‚¬ìš©í•˜ë©´ ìœ„ ê¸°ëŠ¥ë“¤ì„ ëª¨ë‘ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n\n---\n\n## WebSocket\n\nAjaxì™€ Cometì„ ì‚¬ìš©í•œ í†µì‹ ì€ ì›¹ ë¸Œë¼ìš°ì§•ì„ ê³ ì†í™”í•˜ì§€ë§Œ ê¸°ì €ê°€ HTTP í”„ë¡œí† ì½œì´ë¼ëŠ” ì ì—ì„œ ê·¼ë³¸ì ìœ¼ë¡œ ë³‘ëª© í˜„ìƒì„ í•´ê²°í•  ìˆ˜ ì—†ë‹¤.<br>\nWebSocket[[^6]]ì€ ìƒˆë¡œìš´ í”„ë¡œí† ì½œê³¼ APIë¡œ ë³‘ëª© í˜„ìƒì„ í•´ê²°í•˜ê¸° ìœ„í•´ íƒ„ìƒëë‹¤.\n\nWebSocketì€ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ê°€ Connectionì„ ë§ºëŠ”ë° ì„±ê³µí•˜ë©´, ì„œë²„ ë˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ëª¨ë‘ ì†¡ì‹ ì´ ê°€ëŠ¥í•˜ê²Œ ë˜ë©° ê·¸ ë’¤ í†µì‹ ì€ ëª¨ë‘ ì „ìš© í”„ë¡œí† ì½œë¡œ ìˆ˜í–‰í•˜ëŠ” ë°©ì‹ì´ë‹¤.\n![ì¶œì²˜: https://velog.io/@nhs075241/WebSocketì´ë€-Network](websocket.png)\n\në”°ë¼ì„œ **ì„œë²„ í‘¸ì‹œ ê¸°ëŠ¥ì´ í¬í•¨**ë˜ê³ , **í†µì‹ ëŸ‰ì´ ëŒ€í­ ê°ì†Œ**í•œë‹¤.\n\nWebSocketìœ¼ë¡œ í†µì‹ í•˜ë ¤ë©´ **HTTPì˜ Upgrade í—¤ë” í•„ë“œ**ë¥¼ ì‚¬ìš©í•´ì„œ í”„ë¡œí† ì½œì„ ë³€ê²½í•˜ì—¬<br>\n3-Way HandShake ë¥¼ ì‹¤ì‹œí•œë‹¤.\n```http request\nGET /chat HTTP/1.1\nHost: listywave.com\nUpgrade: websocket\nConnection: Upgrade\nSec-WebSocket-Key: sdkjhfgasdkjfghascjfh==\nOrigin: https://listywave.com\nSec-WebSocket-Protocol: chat, superchat\nSec-WebSocket-Version: 13\n```\n\n`Sec-WebSocket-Key` ì—ëŠ” í•¸ë“œì‰ì´í¬ì— í•„ìš”í•œ í‚¤ê°€ ì €ì¥ëœë‹¤.<br>\n`Sec-WebSocket-Protocol`ì—ëŠ” ì‚¬ìš©í•˜ëŠ” ì„œë¸Œ í”„ë¡œí† ì½œì´ ì €ì¥ëœë‹¤.\n\nìœ„ ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µ ìƒíƒœ ì½”ë“œëŠ” `101 Switching Protocols`[[^7]] ì´ë‹¤.<br>\n```http request\nHTTP/1.1 101 Switching Protocols\nUpgrade: websocket\nConnection: Upgrade\nSec-WebSocket-Accept: aasvfcert43devca==\nSec-WebSocket-Protocol: chat\n```\n\n`Sec-WebSocket-Accept`ì—ëŠ” `Sec-WebSocket-Key`ì˜ ê°’ì—ì„œ ìƒì„±ëœ ê°’ì´ ì €ì¥ëœë‹¤.\n\n## HTTP/2.0\n\nìœ„ì—ì„œ HTTP/1.1 ì˜ ì„±ëŠ¥ì„ ê°œì„ í•˜ê¸° ìœ„í•´ ë‹¤ì–‘í•œ ê¸°ìˆ ì´ íƒ„ìƒí–ˆë‹¤.<br>\nHTTP/2.0ì€ ì„±ëŠ¥ ê°œì„ ì´ ì£¼ëœ ëª©í‘œì´ë‹¤. ë”°ë¼ì„œ *SPDY* ì™€ ê°™ì€ í”„ë¡œí† ì½œì´ ìì²´ì ì¸ ìŠ¤í™ìœ¼ë¡œ íƒ‘ì¬ë˜ì–´ ìˆë‹¤.\n\n<br>\n<br>\n<br>\n<br>\n\n[^1]: [ê·¸ë¦¼ìœ¼ë¡œ ë°°ìš°ëŠ” Http & Network Basic](https://m.yes24.com/Goods/Detail/15894097)\n[^2]: [SPDY - The Chromium Projects](https://www.chromium.org/spdy/)\n[^3]: [Ajax - Wikipedia](https://ko.wikipedia.org/wiki/Ajax)\n[^4]: [Comet - Wikipedia](https://ko.wikipedia.org/wiki/%EC%BD%94%EB%A9%A7_(%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D))\n[^5]: [í—¬ë¡œ HTTP/2, êµ¿ë°”ì´ SPDY - Google for Developers KR](https://developers-kr.googleblog.com/2015/02/hellohttp2.html)\n[^6]: [WebSocket - Wikipedia](https://ko.wikipedia.org/wiki/%EC%9B%B9%EC%86%8C%EC%BC%93)\n[^7]: [101 Switching Protocols - MDN](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/101)"},{"excerpt":"ë“¤ì–´ê°€ë©° ë©°ì¹  ì „, ë¦¬ìŠ¤í‹°ì›¨ì´ë¸Œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©° íŠ¹ì • ì¡°ê±´ì˜ ë°ì´í„°ë¥¼ ëª¨ë‘ ì‚­ì œ í•  ì¼ì´ ìˆì—ˆìŠµë‹ˆë‹¤.\ní•˜ì§€ë§Œ ì‹¤ìˆ˜ë¡œ í•´ë‹¹ í…Œì´ë¸”ì˜ ë°ì´í„°ê°€ ëª¨ë‘ ì‚­ì œë˜ëŠ” ì¼ì´ ìˆì—ˆëŠ”ë°ìš”..!\nì´ë¥¼ ë³µì›í•˜ê¸° ìœ„í•´ MySQLì´ ì§€ì›í•˜ëŠ” ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ì´ìš©í•´ë´¤ìŠµë‹ˆë‹¤. ì´ë²ˆ ê¸€ì—ì„œëŠ” ìœ„ ê³¼ì •ì„ ì •ë¦¬í•˜ê³  ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ í†µí•´ ë³µì›í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì •ë¦¬í•´ë³´ê² ìŠµë‹ˆë‹¤. MySQLâ€¦","fields":{"slug":"/restore-using-binarylog/"},"frontmatter":{"date":"April 05, 2024","title":"[MySQL] ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¡œ ë°ì´í„° ë³µêµ¬í•˜ê¸°","tags":["MySQL","ë°”ì´ë„ˆë¦¬ ë¡œê·¸","ë³µêµ¬"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©°\n\në©°ì¹  ì „, [ë¦¬ìŠ¤í‹°ì›¨ì´ë¸Œ](https://listywave.com) í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©° íŠ¹ì • ì¡°ê±´ì˜ ë°ì´í„°ë¥¼ ëª¨ë‘ ì‚­ì œ í•  ì¼ì´ ìˆì—ˆìŠµë‹ˆë‹¤.<br>\ní•˜ì§€ë§Œ ì‹¤ìˆ˜ë¡œ í•´ë‹¹ í…Œì´ë¸”ì˜ ë°ì´í„°ê°€ ëª¨ë‘ ì‚­ì œë˜ëŠ” ì¼ì´ ìˆì—ˆëŠ”ë°ìš”..!<br>\nì´ë¥¼ ë³µì›í•˜ê¸° ìœ„í•´ MySQLì´ ì§€ì›í•˜ëŠ” ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ì´ìš©í•´ë´¤ìŠµë‹ˆë‹¤.\n\nì´ë²ˆ ê¸€ì—ì„œëŠ” ìœ„ ê³¼ì •ì„ ì •ë¦¬í•˜ê³  ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ í†µí•´ ë³µì›í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì •ë¦¬í•´ë³´ê² ìŠµë‹ˆë‹¤.\n\n> MySQL ë²„ì „ì€ 8.3.0ì´ë©° Homebrewë¡œ ì„¤ì¹˜í•´ ë¡œì»¬ì—ì„œ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.\n\n## ë°”ì´ë„ˆë¦¬ ë¡œê·¸\n\nìš°ì„  ë³µêµ¬ë¥¼ ì§„í–‰í•¨ì— ì•ì„œ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ì´í•´í•´ì•¼ í•©ë‹ˆë‹¤.\n\në°”ì´ë„ˆë¦¬ ë¡œê·¸ëŠ” í…Œì´ë¸” ìƒì„±ì´ë‚˜ ë°ì´í„° ë³€ê²½ê³¼ ê°™ì€ DB ë³€ê²½ ì‚¬í•­ì„ ì„¤ëª…í•˜ëŠ” *ì´ë²¤íŠ¸* ê°€ ê¸°ë¡ë˜ëŠ” ë¡œê·¸ì…ë‹ˆë‹¤.<br>\në°ì´í„°ì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ” SELECT ë‚˜ SHOW ê°™ì€ ì²˜ë¦¬ëŠ” ê¸°ë¡ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br>\nì´ëŸ¬í•œ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ í†µí•´ **DB ë³µì œ(ë ˆí”Œë¦¬ì¼€ì´ì…˜)** ì´ë‚˜ **ë°ì´í„° ë³µêµ¬ ì‘ì—…**ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nMySQL ì„œë²„ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ê¸°ë¡í•©ë‹ˆë‹¤.<br>\nì„œë²„ê°€ ì‹œì‘ë˜ê±°ë‚˜ ì¢…ë£Œë  ë•Œ, ì„œë²„ê°€ ë¡œê·¸ë¥¼ flush í•  ë•Œ, í˜¹ì€ ë¡œê·¸ íŒŒì¼ì˜ í¬ê¸°ê°€ `max_binlog_size`ì— ë„ë‹¬í•  ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ ë¡œê·¸ íŒŒì¼ì„ ìë™ìœ¼ë¡œ ë§Œë“¤ë©° ê¸°ë¡í•©ë‹ˆë‹¤.\n\nê¸°ë¡ëœ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ì„ ë³´ê³  ì‹¶ë‹¤ë©´ MySQL ì„œë²„ì— ì ‘ì†í•´ì„œ `SHOW BINARY LOGS;` ë¥¼ ì…ë ¥í•˜ë©´ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n![](show-binary-logs.png)\n\ní˜„ì¬ ê¸°ë¡ì¤‘ì¸ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ì„ í™•ì¸í•˜ê³  ì‹¶ë‹¤ë©´ `SHOW MASTER STATUS;` ë¥¼ ì…ë ¥í•˜ë©´ ë©ë‹ˆë‹¤.\n![](show-master-status.png)\n\në¡œê·¸ íŒŒì¼ì´ ì €ì¥ë˜ëŠ” ìœ„ì¹˜ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ `datadir` ì— ì €ì¥ë©ë‹ˆë‹¤.<br>\n`--log-bin` ì‹œìŠ¤í…œ ì˜µì…˜ì„ í†µí•´ ì ˆëŒ€ ê²½ë¡œë¥¼ ì§€ì •í•˜ì—¬ ìœ„ì¹˜ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>\nì €ëŠ” ë”°ë¡œ ì„¤ì •í•´ì£¼ì§€ ì•Šì•„ _/var/mysql_ ì•„ë˜ì— ì €ì¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n![](binary-log-files.png)\n\n## mysqlbinlog\n\në°”ì´ë„ˆë¦¬ ë¡œê·¸ëŠ” ì´ë¦„ ê·¸ëŒ€ë¡œ **ì´ì§„ ë°ì´í„°ë¥¼ ê¸°ë¡í•˜ëŠ” ë¡œê·¸ íŒŒì¼**ì…ë‹ˆë‹¤.<br>\nì¦‰, ì‚¬ëŒì´ ë¡œê·¸ íŒŒì¼ì„ ì½ê³  ì“¸ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.<br>\ní•˜ì§€ë§Œ MySQLì´ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ëŠ” **_mysqlbinlog_ ë¥¼ ì´ìš©í•˜ë©´ ì‚¬ëŒì´ ì½ì„ ìˆ˜ ìˆëŠ” í˜•ì‹ìœ¼ë¡œ ì¶œë ¥**í•´ì¤ë‹ˆë‹¤.<br>\në˜í•œ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ `.txt`, `.sql`ê³¼ ê°™ì€ í™•ì¥ìë¥¼ ê°€ì§„ íŒŒì¼ë¡œ ë³€í™˜ë„ ê°€ëŠ¥í•˜ê²Œ í•´ì¤ë‹ˆë‹¤.\n\nì‚¬ìš©ë²•ì€ ì–´ë µì§€ ì•ŠìŠµë‹ˆë‹¤.<br>\në¡œê·¸ íŒŒì¼ì´ ìˆëŠ” í´ë”ì—ì„œ `mysqlbinlog [options] {log_files}` ë¥¼ ì…ë ¥í•˜ë©´ í•´ë‹¹ íŒŒì¼ì„ ì¶œë ¥í•´ì¤ë‹ˆë‹¤.\n![mysqlbinlog ì‚¬ìš©](read-log-file.png)\n\në¡œê·¸ í˜•ì‹ì€ STATEMENT ê¸°ë°˜ì¸ì§€ Row ê¸°ë°˜ì¸ì§€ì— ë”°ë¼ ë‹¬ë¼ì§‘ë‹ˆë‹¤.<br>\nê¸°ë³¸ì ìœ¼ë¡œ Row ê¸°ë°˜ ì¶œë ¥ì´ë©° ì´ë•Œì˜ ì¶œë ¥ í˜•ì‹ì€ SQL ë¬¸ì´ ì•„ë‹Œ, í–‰ ë³€ê²½ì˜ ê³¼ì •ì´ ê¸°ë¡ë©ë‹ˆë‹¤.\n\nì½ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\nê° ì´ë²¤íŠ¸ ì•ì—ëŠ” ì¶”ê°€ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” ì£¼ì„ì´ ì¡´ì¬í•©ë‹ˆë‹¤.\n![Header Comment](log-format.png)\n\n- ì²« ë²ˆì§¸ ì¤„ (# at 2374386)\n  - at ë’¤ì— ì˜¤ëŠ” ìˆ«ìëŠ” ë°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ì—ì„œ ì´ë²¤íŠ¸ì˜ ì˜¤í”„ì…‹ ë˜ëŠ” ì‹œì‘ ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.\n\n- ë‘ ë²ˆì§¸ ì¤„ (#240316 21:21:54 server id 1 end_log_pos 2374462)\n  - ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ ë‚ ì§œì™€ ì‹œê°„, ì„œë²„ì˜ id, ë‹¤ìŒ ì´ë²¤íŠ¸ê°€ ì‹œì‘ë˜ëŠ” ìœ„ì¹˜ ê°’ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.\n  - end_log_pos 2374462: ë‹¤ìŒ ì´ë²¤íŠ¸ì˜ ì˜¤í”„ì…‹ì˜ ë²ˆí˜¸ê°€ 2374462 ë¼ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.\n\në˜í•œ Row Based ì¶œë ¥ í˜•ì‹ì´ë¼ë©´ optionsì— `-v`, `-vv`ë¥¼ ì…ë ¥í•¨ìœ¼ë¡œì¨ ì¢€ ë” ìì„¸í•œ ë‚´ìš©ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>\n![-v ì˜µì…˜](when-v.png)\n![-vv ì˜µì…˜](when-vv.png)\n\n## ì´ì œ ì§„ì§œ ë³µêµ¬í•´ë³´ê¸°\n\nìš°ì„  ì‹¤ì œë¡œ ë³µêµ¬í–ˆë˜ í™˜ê²½ê³¼ ìµœëŒ€í•œ ë¹„ìŠ·í•˜ê²Œ ì„¸íŒ…ì„ í•˜ê² ìŠµë‹ˆë‹¤.<br>\n(~~ì‚¬ì‹¤ ë’¤ì— ë‚˜ì˜¬ ë‚´ìš©ì€ ì„¸íŒ… í™˜ê²½ì´ ì¤‘ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.~~)\n\n![](table-users.png)\n![](table-list.png)\n![](table-collaborator.png)\n\nê¶ê¸ˆí•´ì„œ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ì¶œë ¥í•´ë³´ë‹ˆ ëª¨ë‘ ì˜ ê¸°ë¡ë˜ì–´ ìˆë„¤ìš” ğŸ‘\n![](confirm-binary-log.png)\n\nì´ì œ ì‹¤ìˆ˜ë¥¼ ê°€ì •í•˜ê³  collaboratorì˜ ëª¨ë“  ë°ì´í„°ë¥¼ ì‚­ì œí•´ë³´ê² ìŠµë‹ˆë‹¤.<br>\n![](delete-all-collaborator.png)\n\në³µêµ¬ë¥¼ ì‹œì‘í•˜ê¸°ì— ì•ì„œ ê°€ì¥ ë¨¼ì € **í˜„ì¬ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ì˜ ì´ë¦„**ì„ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤.<br>\n`mysql> SHOW MASTER STATUS;` ì„ í†µí•´ í˜„ì¬ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ì˜ ì´ë¦„ì„ í™•ì¸í•©ë‹ˆë‹¤.<br>\në³µêµ¬ì— ì´ìš©ë  ë¡œê·¸ íŒŒì¼ ì´ë¦„ì€ _binlog.002564_ ì´ë„¤ìš”.\n![](current-binary-log.png)\n\nê·¸ë¦¬ê³  ìœ„ íŒŒì¼ì„ í™•ì‹¤í•˜ê²Œ ê¸°ë¡í•˜ê³  ì €ì¥í•˜ê¸° ìœ„í•´ `mysql> FLUSH LOGS;` ëª…ë ¹ì–´ë¥¼ í†µí•´ í˜„ì¬ ë¡œê·¸ë¥¼ ê¸°ë¡í•´ì¤ë‹ˆë‹¤.<br>\nìƒˆë¡œìš´ ë¡œê·¸ íŒŒì¼ì´ ìƒê¸°ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ì œ `local> mysqlbinlog binglog.002564 | mysql -u root -p` ëª…ë ¹ì–´ë¥¼ í†µí•´ ë³µêµ¬ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>\nì´ë•Œ, ì¤‘ìš”í•œ ì ì€ _binglog.002564_ íŒŒì¼ì— ìˆëŠ” ëª¨ë“  ì´ë²¤íŠ¸ë“¤ì´ mysql ì„œë²„ì—ì„œ ì¬ì‹¤í–‰ì´ ë˜ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤.<br>\në”°ë¼ì„œ ê²½ìš°ì— ë”°ë¼ ì•„ë˜ê°™ì´ ì—ëŸ¬ê°€ ë°œìƒí•´ ì‹¤íŒ¨í•˜ëŠ” ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤.<br>\n`test` ë°ì´í„°ë² ì´ìŠ¤ì— `item` ì´ë¼ëŠ” í…Œì´ë¸”ì´ ì—†ëŠ”ë° `DROP` í•˜ë ¤ëŠ” ëª…ë ¹ì–´ë•Œë¬¸ì— ë°œìƒí•œ ì˜¤ë¥˜ì´ë„¤ìš”.\n\n![ë³µêµ¬ ê²°ê³¼ ì—ëŸ¬ ë°œìƒ](occurs-error.png)\n![ì‹¤ì œ ì¿¼ë¦¬ ê²°ê³¼](check-by-query.png)\n![vimìœ¼ë¡œ í™•ì¸ ê²°ê³¼](check-by-vim.png)\n\nì´ëŸ´ ë• **ì´ë²¤íŠ¸ ë²ˆí˜¸ë¥¼ í†µí•´ ì›í•˜ëŠ” ê³³ì„ ì§€ì •**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>\nê°„ë‹¨í•œ ì˜ˆì‹œë¡œ `fruits` í…Œì´ë¸”ì„ ë§Œë“¤ê³  `fruit`ë¡œ ì´ë¦„ì„ ìˆ˜ì •í•˜ê³  í…Œì´ë¸”ì„ ì‚­ì œí•˜ëŠ” ì¼€ì´ìŠ¤ê°€ ìˆë‹¤ê³  ê°€ì •í•˜ê² ìŠµë‹ˆë‹¤.<br> \nì´ì œ `mysqlbinlog` ëª…ë ¹ì–´ë¡œ ì•„ë˜ ê·¸ë¦¼ì²˜ëŸ¼ ë³µêµ¬ë¥¼ í¬ë§í•˜ëŠ” ì‹œì‘ ì§€ì ì˜ ì´ë²¤íŠ¸ ë²ˆí˜¸ (237) ê³¼ ì¢…ë£Œ ì‹œì ì˜ ì´ë²¤íŠ¸ ë²ˆí˜¸ (681)ì„ í™•ì¸í•©ë‹ˆë‹¤.\n![ì´ë²¤íŠ¸ ë²ˆí˜¸ í™•ì¸](restore-fruit.png)\n\nê·¸ë¦¬ê³  `--start-point`, `--end-point` ì˜µì…˜ì„ í†µí•´ ì›í•˜ëŠ” êµ¬ê°„ì˜ ì´ë²¤íŠ¸ë§Œ ì¬ì‹¤í–‰í•˜ë„ë¡ í•©ë‹ˆë‹¤.\n![ë³µêµ¬ ì‹œë„](restore-fruti-command.png)\n\nê·¸ ê²°ê³¼ fruit í…Œì´ë¸”ì´ ë³µêµ¬ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>\n![ë³µêµ¬ ì„±ê³µ](result-of-restore-fruit-table.png)\n\nê·¸ëŸ¼ ì´ì œ ì›ë˜ ëª©ì ì¸ collaborator ë°ì´í„°ë¥¼ ë³µêµ¬í•´ë³´ê² ìŠµë‹ˆë‹¤.<br>\në°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ì´ìš©í•œ ë³µêµ¬ ë°©ë²•ì—ëŠ” ë‹¤ì–‘í•œ ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤.<br>\nìœ„ì—ì„œ í•´ë´¤ë˜ positionì„ ì´ìš©í•´ ì›í•˜ëŠ” ë¶€ë¶„ë§Œ ì¬ì‹¤í–‰í•˜ëŠ” ë°©ë²•, ê·¸ë¦¬ê³  **ëª¨ë“  ë°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ì„ sql íŒŒì¼ë¡œ ì €ì¥í•˜ê³  í•´ë‹¹ íŒŒì¼ì„ ìˆ˜ì •í•œ ë’¤ mysql ì„œë²„ì— ì‹¤í–‰í•˜ëŠ” ë°©ë²•**\n\npositionì„ ì´ìš©í•œ ë°©ë²•ì€ ìœ„ì—ì„œ í•´ë´¤ìœ¼ë‹ˆ ì´ë²ˆì—” sql íŒŒì¼ì„ í†µí•´ ë³µêµ¬ë¥¼ í•´ë³´ê² ìŠµë‹ˆë‹¤.\n\nìš°ì„  ì§€ê¸ˆê¹Œì§€ì˜ ëª¨ë“  ë°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ì„ í•˜ë‚˜ì˜ sql íŒŒì¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤.<br>\n`local> mysqlbinlog binlog.00* > binlog.sql`\n\nê·¸ë¦¬ê³  vimì„ í†µí•´ íŒŒì¼ì„ ìˆ˜ì •í•´ì¤ë‹ˆë‹¤.<br>\n> ì°¸ê³ ë¡œ vim í¸ì§‘ê¸°ì—ì„œ `Shift + g` ë¥¼ ëˆ„ë¥´ë©´ ë§¨ ë§ˆì§€ë§‰ ì¤„ë¡œ ì»¤ì„œê°€ ì´ë™í•©ë‹ˆë‹¤.\n\n![ì£¼ì„ ì²˜ë¦¬](apply-comment.png)\në¬¸ì œê°€ ë˜ëŠ” ë¶€ë¶„ì„ ì°¾ì•„ ì£¼ì„ì²˜ë¦¬ í•´ì¤ë‹ˆë‹¤.\n\nì´ì œ `$> mysql -u root -p -f < binlog.sql` ì„ ì…ë ¥í•˜ë©´ ê·¸ë™ì•ˆ ìˆ˜í–‰ëœ ëª¨ë“  ë¡œê·¸ë“¤ì´ ì¬ì‹¤í–‰ë¨ìœ¼ë¡œì¨ ë³µêµ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n![ë³µêµ¬ ì‹œë„](restore-using-sql-file.png)\n![ë³µêµ¬ ì„±ê³µ!](result-of-restore.png)\n\n> `-f` ì˜µì…˜ì€ ë¡œê·¸ ì¬ì‹¤í–‰ ì¤‘ì— ë°œìƒí•˜ëŠ” ì—ëŸ¬ë¥¼ ì¶œë ¥ë§Œí•˜ê³  ë¬´ì‹œí•˜ê³  ê³„ì†í•´ì„œ ì§„í–‰í•˜ëŠ” ì˜µì…˜ì…ë‹ˆë‹¤.\n\nì‚¬ì‹¤ ìœ„ ë°©ë²•ì€ ëª¨ë“  ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ì¬ì‹¤í–‰í•œë‹¤ëŠ” ì ì—ì„œ ìš´ìš©ì¤‘ì¸ DBì— ì‚¬ìš©í•˜ë©´ ì„œë¹„ìŠ¤ ì¥ì• ë¥¼ ì´ˆë˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>\në”°ë¼ì„œ ì‚¬ìš©ìê°€ ë§ì´ ì—†ëŠ” ì‹œê°„ì„ ì´ìš©í•˜ê±°ë‚˜ ì´ë²¤íŠ¸ positionì„ í†µí•´ ì •ë§ í•„ìš”í•œ ë¶€ë¶„ë§Œ ì¬ì‹¤í–‰ í•  í•„ìš”ê°€ ìˆê² ìŠµë‹ˆë‹¤.<br>\ní˜¹ì€ ë³µêµ¬ìš© ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë§Œë“¤ê³  ë³µêµ¬ë¥¼ ë§ˆì¹œ ë‹¤ìŒ, ì„œë²„ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë³µêµ¬ëœ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë°”ë¡œë³´ë„ë¡ í•˜ëŠ” ë“±ì˜ ë°©ì‹ì´ ì•ˆì „í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.<br>\n\në°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ì´ìš©í•´ ë³µêµ¬í•˜ëŠ” ë°©ë²•ì—ëŠ” ì—¬ëŸ¬ ë°©ë²•ì´ ìˆìœ¼ë‹ˆ ì·¨ì‚¬ ì„ íƒí•˜ì‹œë©´ ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤.\n\n## ë§ˆì¹˜ë©°\n\nì§€ê¸ˆê¹Œì§€ MySQLì´ ì œê³µí•˜ëŠ” ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ì´ìš©í•´ ë°ì´í„° ë³µêµ¬ í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤.<br>\në§‰ìƒ ì–´ë µì§€ëŠ” ì•Šì§€ë§Œ ì‹¤ì œ ìƒí™©ì—ì„œ ì˜ëª» ë°ì´í„°ë¥¼ ë‚ ë ¤ ë³µêµ¬í•´ì•¼ í•˜ëŠ” ìƒí™©ì´ë¼ë©´ ë‡Œê°€ í•˜ì–˜ì§€ê³  ì†ë°œì´ ë‹¬ë‹¬ ë–¨ë¦´ ê²ƒ ê°™ìŠµë‹ˆë‹¤..<br>\nê·¸ëŸ´ ì¼ì´ ì—†ê¸¸ ë°”ë¼ë©° ë§ˆì¹˜ê² ìŠµë‹ˆë‹¤.\n\nê°ì‚¬í•©ë‹ˆë‹¤.\n\n## Reference\n> - https://dev.mysql.com/doc/refman/8.0/en/mysqlbinlog.html#option_mysqlbinlog_start-datetime\n> - https://dev.mysql.com/doc/refman/8.0/en/point-in-time-recovery-positions.html\n> - https://dev.mysql.com/doc/refman/8.0/en/binary-log.html\n"},{"excerpt":"ë“¤ì–´ê°€ë©° ì´ ê¸€ì€ ê·¸ë¦¼ìœ¼ë¡œ ë°°ìš°ëŠ” Http & Network Basicì„ ì½ê³  í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤. ì´ë²ˆ ì¥ì—ì„œëŠ” HTTPSì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. HTTPS ë“±ì¥ ë°°ê²½ ì§€ê¸ˆê¹Œì§€ ì‚´í´ë³¸ HTTP í”„ë¡œí† ì½œì€ í´ë¼ì´ì–¸íŠ¸ í˜¹ì€ ì„œë²„ê°€ ë‹¨ìˆœíˆ ë¬¸ìì—´ ë°ì´í„°ë¥¼ í†µí•´ ìš”ì²­í•˜ê³  ì‘ë‹µí•˜ëŠ” êµ¬ì¡°ì˜€ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°€ í†µì‹ ì„ í•  ë•Œ ì¤‘ê°„ì— ë§ì€ í˜¸â€¦","fields":{"slug":"/07-https/"},"frontmatter":{"date":"March 28, 2024","title":"7ì¥. ì›¹ì„ ì•ˆì „í•˜ê²Œ ì§€ì¼œì£¼ëŠ” HTTPS","tags":["Network"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©° \n\nì´ ê¸€ì€ [ê·¸ë¦¼ìœ¼ë¡œ ë°°ìš°ëŠ” Http & Network Basic](https://m.yes24.com/Goods/Detail/15894097)ì„ ì½ê³  í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.\n\nì´ë²ˆ ì¥ì—ì„œëŠ” HTTPSì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.\n\n## HTTPS ë“±ì¥ ë°°ê²½\n\nì§€ê¸ˆê¹Œì§€ ì‚´í´ë³¸ HTTP í”„ë¡œí† ì½œì€ í´ë¼ì´ì–¸íŠ¸ í˜¹ì€ ì„œë²„ê°€ ë‹¨ìˆœíˆ ë¬¸ìì—´ ë°ì´í„°ë¥¼ í†µí•´ ìš”ì²­í•˜ê³  ì‘ë‹µí•˜ëŠ” êµ¬ì¡°ì˜€ìŠµë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°€ í†µì‹ ì„ í•  ë•Œ ì¤‘ê°„ì— ë§ì€ í˜¸ìŠ¤íŠ¸ë¥¼ ê±°ì¹˜ê²Œ ë˜ëŠ”ë°, ì´ë•Œ ì „ì†¡ë˜ëŠ” íŒ¨í‚·ë“¤ì„ ìˆ˜ì§‘í•˜ì—¬ HTTP ë©”ì‹œì§€ë¥¼ ë„ì²­í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.<br>\nì†¡ì‹ í•œ HTTP ë©”ì‹œì§€ê°€ ë‚´ê°€ ì›í•˜ëŠ” í˜¸ìŠ¤íŠ¸ì—ê²Œ ì˜ ê°”ëŠ”ì§€? í˜¹ì€ ìˆ˜ì‹ í•œ HTTP ë©”ì‹œì§€ê°€ ì¤‘ê°„ì— ì¡°ì‘ëëŠ”ì§€ëŠ” ì„œë²„ë‚˜ í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„  ì•Œ ë°©ë²•ì´ ì „í˜€ ì—†ìŠµë‹ˆë‹¤.<br>\n\në”°ë¼ì„œ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ HTTPSê°€ íƒ„ìƒí•˜ê²Œ ëìŠµë‹ˆë‹¤.\n\n## HTTPS\n\nHTTPSëŠ” HTTP í”„ë¡œí† ì½œì— SSL/TLS í”„ë¡œí† ì½œì„ ì ìš©í•œ í”„ë¡œí† ì½œì…ë‹ˆë‹¤.<br>\në‹¨ìˆœ HTTP í”„ë¡œí† ì½œì€ HTTP -> TCP -> IP í”„ë¡œí† ì½œ ê³„ì¸µ ìˆœì„œë¡œ í†µì‹ í•˜ëŠ” ë°˜ë©´<br>\nHTTPS í”„ë¡œí† ì½œì€ HTTP -> SSL/TLS -> TCP -> IP ìˆœì„œë¡œ í†µì‹ í•˜ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤.\n\nHTTPS í”„ë¡œí† ì½œì„ í†µí•´ í†µì‹ ì„ í•˜ë©´, <u>í†µì‹ ì„ ì•”í˜¸í™”í•˜ê³ </u> <u>í†µì‹  ìƒëŒ€ë¥¼ ì‹ ë¢°í•  ìˆ˜ ìˆê²Œ ë˜ê³ </u> <u>HTTP ë©”ì‹œì§€ê°€ ì¤‘ê°„ì— ì¡°ì‘ë˜ì§€ ì•ŠìŒì„ ë³´ì¥</u>í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## SSL/TLS\n\nê·¸ë ‡ë‹¤ë©´ SSL/TLSëŠ” ë¬´ì—‡ì¼ê¹Œìš”?\n\n> SSLì€ êµ¬ë²„ì „ TLSëŠ” ì‹ ë²„ì „ì…ë‹ˆë‹¤.<br>\n> í•˜ì§€ë§Œ ì¼ë°˜ì ìœ¼ë¡œ SSLì´ë¼ê³  ì§€ì¹­í•©ë‹ˆë‹¤. \n\nSSL/TLSëŠ” ë°ì´í„°ë¥¼ ì•”í˜¸í™”í•˜ëŠ” í†µì‹  í”„ë¡œí† ì½œì…ë‹ˆë‹¤.<br>\n\ní†µì‹ ì„ ì•”í˜¸í™”í•  ë•ŒëŠ” <u>ëŒ€ì¹­í‚¤ ë°©ì‹ ì•”í˜¸í™”</u>ì™€ <u>ë¹„ëŒ€ì¹­í‚¤ ë°©ì‹ ì•”í˜¸í™”</u>ë¥¼ ëª¨ë‘ ì ìš©í•©ë‹ˆë‹¤.\n\n### ëŒ€ì¹­í‚¤ ë°©ì‹ ì•”í˜¸í™”\n\ní‰ë¬¸(PlainText)ì„ ì•”í˜¸í™” í˜¹ì€ ë³µí˜¸í™”í•  ë•Œ <u>ê³µí†µë˜ëŠ” í‚¤ í•˜ë‚˜ë¡œë§Œ ìˆ˜í–‰</u>í•˜ëŠ” ë°©ì‹ì˜ ì•”í˜¸í™”ì…ë‹ˆë‹¤.<br>\nì´ ê³µí†µë˜ëŠ” í‚¤ë¥¼ *ëŒ€ì¹­í‚¤* ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.<br>\nì„œë²„ë‚˜ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì•”í˜¸í™”í•  ë•Œ ëŒ€ì¹­í‚¤ë¥¼ í†µí•´ ì•”í˜¸í™”í•˜ê³  ì•”í˜¸í™”í•œ ë°ì´í„°ì™€ ëŒ€ì¹­í‚¤ë¥¼ í•¨ê»˜ ìƒëŒ€ì—ê²Œ ì „ì†¡í•˜ê³ , ìˆ˜ì‹ í•œ ëŒ€ì¹­í‚¤ë¥¼ ì´ìš©í•´ ë³µí˜¸í™”í•˜ëŠ” ê³¼ì •ì„ ìˆ˜í–‰í•˜ê²Œ ë©ë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ ì¤‘ê°„ì— ê³µí†µí‚¤ê°€ ìœ ì¶œë˜ë©´ ì œ 3ìë„ ë³µí˜¸í™”í•  ìˆ˜ ìˆê²Œ ë˜ëŠ” ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.\n\n### ë¹„ëŒ€ì¹­í‚¤ ë°©ì‹ ì•”í˜¸í™”\n\në¹„ëŒ€ì¹­í‚¤ ë°©ì‹ ì•”í˜¸í™”ëŠ” ê³µê°œí‚¤ì™€ ê°œì¸í‚¤ë¥¼ í†µí•´ ìˆ˜í–‰ë©ë‹ˆë‹¤.\n\nëŒ€ì¹­í‚¤ ë°©ì‹ ì•”í˜¸í™”ì²˜ëŸ¼ ì•”í˜¸í™”í•  ë• ê³µê°œí‚¤ë¡œ ìˆ˜í–‰ì„ í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ <u>ë³µí˜¸í™”ëŠ” ê°œì¸í‚¤ë¡œë§Œ ê°€ëŠ¥</u>í•œ êµ¬ì¡°ì…ë‹ˆë‹¤.<br>\nê³µê°œí‚¤ê°€ ì•„ë¬´ë¦¬ ìœ ì¶œë˜ë”ë¼ë„ ê°œì¸í‚¤ë§Œ ìœ ì¶œë˜ì§€ ì•Šìœ¼ë©´ ì•”í˜¸í™”í•œ ë°ì´í„°ë¥¼ ì§€í‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>\në”°ë¼ì„œ ëŒ€ì¹­í‚¤ ë°©ì‹ ì•”í˜¸í™”ì˜ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## SSL/TLS í†µì‹  ê³¼ì •\n\n![ì¶œì²˜: https://brunch.co.kr/@growthminder/79](img.png)\n\nìœ„ ì‚¬ì§„ì€ SSL í•¸ë“œì…°ì´í¬ ê³¼ì •ì…ë‹ˆë‹¤.\n\nì•„ê¹Œ ìœ„ì—ì„œ SSL í”„ë¡œí† ì½œì„ ì´ìš©í•˜ë©´ í†µì‹ ì„ ì•”í˜¸í™”í•  ìˆ˜ ìˆê³ , ìƒëŒ€ë¥¼ ì‹ ë¢°í•  ìˆ˜ ìˆê³ , ë©”ì‹œì§€ê°€ ì¤‘ê°„ì— ì¡°ì‘ë˜ì§€ ì•Šì•˜ìŒì„ ë³´ì¥í•  ìˆ˜ ìˆë‹¤ê³  í–ˆìŠµë‹ˆë‹¤.<br>\në˜, <u>ëŒ€ì¹­í‚¤ ë°©ì‹ê³¼ ë¹„ëŒ€ì¹­í‚¤ ë°©ì‹ì„ ëª¨ë‘ ì‚¬ìš©</u>í•œë‹¤ê³  í–ˆìŠµë‹ˆë‹¤.\n\nì´ë¥¼ ì¢€ ë” ìì„¸íˆ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.\n\n### í†µì‹  ì•”í˜¸í™”\n\nSSL í”„ë¡œí† ì½œì€ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ëŒ€ì¹­í‚¤ ë°©ì‹ê³¼ ë¹„ëŒ€ì¹­í‚¤ ë°©ì‹ì„ ëª¨ë‘ ì‚¬ìš©í•˜ê³  ìˆì„ê¹Œìš”?<br>\në™ì‘ ìˆœì„œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n1. í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ë¡œ í†µì‹  ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤.\n2. ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ê³µê°œí‚¤ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.\n3. í´ë¼ì´ì–¸íŠ¸ëŠ” ìì‹ ì˜ ëŒ€ì¹­í‚¤ë¥¼ ê³µê°œí‚¤ë¥¼ í†µí•´ ì•”í˜¸í™”í•˜ì—¬ ì„œë²„ë¡œ ì „ì†¡í•©ë‹ˆë‹¤.\n4. ìˆ˜ì‹ í•œ ë°ì´í„°ë¥¼ ì„œë²„ê°€ ê°€ì§€ëŠ” ê°œì¸í‚¤ë¥¼ í†µí•´ ë³µí˜¸í™”í•˜ì—¬ ëŒ€ì¹­í‚¤ë¥¼ íšë“í•©ë‹ˆë‹¤.\n5. ì´í›„ë¡œëŠ” ëŒ€ì¹­í‚¤ë¥¼ í†µí•´ ì•”í˜¸í™”í•˜ì—¬ ì „ì†¡í•¨ìœ¼ë¡œì¨ ë¹ ë¥¸ í†µì‹ ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.\n\në‘ ë°©ì‹ì„ í•¨ê»˜ ì ìš©í•˜ëŠ” ì´ìœ ëŠ”, ë§¤ë²ˆ ì•ˆì „í•œ ë¹„ëŒ€ì¹­í‚¤ ë°©ì‹ ì•”í˜¸í™”ë¥¼ ì‚¬ìš©í•˜ë©´ ë  ê²ƒ ê°™ì§€ë§Œ ì‚¬ì‹¤ ëŒ€ì¹­í‚¤ ë°©ì‹ë³´ë‹¤ ì†ë„ê°€ ëŠë¦¬ê¸° ë•Œë¬¸ì— ê°ê°ì˜ ì¥ì ë§Œì„ ì‚´ë¦¬ëŠ” ë°©ì‹ì„ ì±„íƒí–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\n### ìƒëŒ€ë¥¼ ì‹ ë¢°í•˜ëŠ” ë°©ë²•\n\në§Œì•½ ìœ„ 1ë²ˆ ê³¼ì •ì—ì„œ í´ë¼ì´ì–¸íŠ¸ê°€ ë³´ë‚¸ í†µì‹  ìš”ì²­ì´ ê³µê²©ìì— ì˜í•´ ì¡°ì‘ë˜ì–´ ì‹ ë¢°í•  ìˆ˜ ì—†ëŠ” ì‚¬ì´íŠ¸ì˜ ê³µìºê¸°ê°€ ì˜¤ê²Œ ë˜ëŠ” ê²½ìš°ëŠ” ì–´ë–»ê²Œ ë§‰ì„ ìˆ˜ ìˆì„ê¹Œìš”?<br>\në°”ë¡œ <u>ì¸ì¦ ê¸°ê´€</u>ê³¼ ê·¸ ê¸°ê´€ì´ ë°œí–‰í•˜ëŠ” <u>ê³µê°œí‚¤ ì¸ì¦ì„œ</u>ë¥¼ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>\në°”ë¡œ ì´ ê³µê°œí‚¤ ì¸ì¦ì„œë¥¼ í†µí•´ í´ë¼ì´ì–¸íŠ¸ê°€ ìˆ˜ì‹ í•œ ê³µê°œí‚¤ê°€ ì–´ë–¤ ì‚¬ì´íŠ¸ë¡œë¶€í„° ë°›ì€ ê³µê°œí‚¤ì¸ì§€ ì‹ë³„í•  ìˆ˜ ìˆê²Œ ë˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\nê³µê°œí‚¤ ì¦ëª…ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ìˆœì„œë¡œ ë°œê¸‰í•˜ê²Œ ë©ë‹ˆë‹¤. \n\n1. ë°œê¸‰ë°›ìœ¼ë ¤ëŠ” ì„œë²„ëŠ” ì¸ì¦ ê¸°ê´€ì—ê²Œ ì„œë²„ ì •ë³´ì™€ ì„œë²„ ê³µê°œí‚¤ë¥¼ ì „ì†¡í•©ë‹ˆë‹¤.\n2. ì¸ì¦ ê¸°ê´€ì€ ë°›ì€ ë°ì´í„°ë¥¼ ë¨¼ì € ê²€ì¦ì„ í•œ ë’¤, ê²€ì¦ì— ì„±ê³µí•˜ë©´ ì¸ì¦ ê¸°ê´€ì˜ ê°œì¸í‚¤ë¡œ ì„œëª…í•©ë‹ˆë‹¤.\n3. ê·¸ ê²°ê³¼ ë§Œë“¤ì–´ì§„ ê³µê°œí‚¤ ì¸ì¦ì„œëŠ” ì„œë²„ë¡œ ì „ì†¡ë©ë‹ˆë‹¤.\n\nê·¸ë¦¬ê³  ì´ ê³µê°œí‚¤ ì¸ì¦ì„œë¥¼ ë°›ì€ í´ë¼ì´ì–¸íŠ¸ëŠ” ë¯¸ë¦¬ ë¸Œë¼ìš°ì €ì— ë‚´ì¥í•´ë†“ì€ ì¸ì¦ ê¸°ê´€ì˜ ê³µê°œí‚¤ë¥¼ í†µí•´ ì¸ì¦ì„œê°€ ì •ë§ ì¸ì¦ ê¸°ê´€ì´ ì¸ì¦í•œ ê²ƒì¸ì§€ ì‹ë³„í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.\n\n### ì¡°ì‘ì´ ë˜ì§€ ì•Šì•˜ìŒì„ ë³´ì¥í•˜ëŠ” ë²•\n\ní´ë¼ì´ì–¸íŠ¸ëŠ” ì•”í˜¸í™”ì— ì‚¬ìš©í•  ëŒ€ì¹­í‚¤ì¸ _Pre Master Secret_ ì„ ë§Œë“­ë‹ˆë‹¤.<br>\nì—¬ê¸°ì— _MAC Key_ ì™€ _Session Key_ ê°€ í¬í•¨ë©ë‹ˆë‹¤.\n\ní´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì˜ ê³µê°œí‚¤ë¥¼ í†µí•´ Pre Master Secretì„ ì•”í˜¸í™”í•˜ì—¬ ì„œë²„ë¡œ ì „ì†¡í•˜ë©´ ì„œë²„ëŠ” ë¹„ë°€í‚¤ë¥¼ í†µí•´ Pre Master Secretì„ íšë“í•˜ê²Œ ë©ë‹ˆë‹¤.<br>\nê·¸ë¦¬ê³  ì´ì „ì— ì£¼ê³  ë°›ì•˜ë˜ random ê°’ì„ í†µí•´ _Master Secret_ì„ ìƒì„±í•˜ê²Œ ë˜ê³ , ì´ë¥¼ í†µí•´ Session í‚¤ì™€ MAC í‚¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.<br>\nì´ì œë¶€í„°ëŠ” ì´ ëŒ€ì¹­í‚¤ë¥¼ ì‚¬ìš©í•˜ìê³  ìƒí˜¸ ê°„ì˜ í™•ì¸ì„ í•©ë‹ˆë‹¤.\n\nì´í›„ í´ë¼ì´ì–¸íŠ¸ëŠ” íŒ¨í‚·ì„ ë³´ë‚¼ ë–„ MAC Keyì™€ Session Keyë¥¼ í†µí•´ ì•”í˜¸í™”ë¥¼ í•˜ê³ , ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•œ ì„œë²„ëŠ” ìš°ì„  ëŒ€ì¹­í‚¤ë¡œ ë³µí˜¸í™”ë¥¼ í•œë‹¤.<br>\nê·¸ ê²°ê³¼ë¡œ ë§Œë“¤ì–´ì§„ Mac Keyì™€ Session Keyë¥¼ ì´ì „ì— ì„œë²„ì— ì €ì¥í•´ë†“ì€ MAC Keyì™€ Session Keyë¥¼ ë¹„êµí•˜ì—¬ ë°ì´í„°ê°€ ì¤‘ê°„ì— ì¡°ì‘ë˜ì§„ ì•Šì•˜ëŠ”ì§€ ê²€ì¦í•˜ëŠ” êµ¬ì¡°ì´ë‹¤.\n\n### Reference\n> - [ê·¸ë¦¼ìœ¼ë¡œ ë°°ìš°ëŠ” Http & Network Basic](https://m.yes24.com/Goods/Detail/15894097)\n> - [í…Œì½”í†¡ - ë‹¤ë‹ˆì˜ HTTPS](https://youtu.be/wPdH7lJ8jf0?feature=shared)\n> - [í…Œì½”í†¡ - í—¤ë‚˜ì˜ HTTPS](https://youtu.be/KpyzbEFYE_E?feature=shared)\n> - [HTTPS ì›ë¦¬ ì´í•´í•˜ê¸°](https://brunch.co.kr/@growthminder/79)"},{"excerpt":"ë“¤ì–´ê°€ë©° ListyWave í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©° ì²˜ìŒìœ¼ë¡œ ë™ì‹œì„± ì´ìŠˆë¥¼ ë§ì´í–ˆìŠµë‹ˆë‹¤.\në™ì‹œì„± ì´ìŠˆ ë¬¸ì œë¥¼ í•´ê²°í•˜ë©° ê¸°ë¡í–ˆë˜ ë‚´ìš©ì„ ì €ì¥í•˜ê¸° ìœ„í•´ ì‘ì„±í•´ë³´ì•˜ìŠµë‹ˆë‹¤.\në¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ê³¼ì •ì—ì„œ ì‹œê°„ì˜ íë¦„ëŒ€ë¡œ, ì˜ì‹ì˜ íë¦„ëŒ€ë¡œ ì‘ì„±í•˜ë‹¤ë³´ë‹ˆ ë¬¸ì¥ì´ ë‹¤ì†Œ ì •ì œë˜ì§€ ì•Šì•˜ìŒì„ ì–‘í•´ë¶€íƒë“œë¦½ë‹ˆë‹¤.  ê°œìš” ListyWaveëŠ” ìì‹ ì˜ ì·¨í–¥ì„ ë‹´ì€ ë¦¬ìŠ¤íŠ¸ë¥¼ íë ˆì´íŒ…í•˜ê³  ê³µìœ í•˜ëŠ”â€¦","fields":{"slug":"/sovle-concurrency-problem/"},"frontmatter":{"date":"March 17, 2024","title":"[ListyWave] ë¦¬ìŠ¤íŠ¸ ìˆ˜ì • ì‹œ, ë™ì‹œì„± ì´ìŠˆ ë°œìƒ í™•ì¸ ë° í•´ê²°ê¸°","tags":["ListyWave","concurrency problem","MySQL"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©°\n\n[ListyWave](https://listywave.com/intro) í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©° ì²˜ìŒìœ¼ë¡œ ë™ì‹œì„± ì´ìŠˆë¥¼ ë§ì´í–ˆìŠµë‹ˆë‹¤.<br>\në™ì‹œì„± ì´ìŠˆ ë¬¸ì œë¥¼ í•´ê²°í•˜ë©° ê¸°ë¡í–ˆë˜ ë‚´ìš©ì„ ì €ì¥í•˜ê¸° ìœ„í•´ ì‘ì„±í•´ë³´ì•˜ìŠµë‹ˆë‹¤.<br>\në¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ê³¼ì •ì—ì„œ ì‹œê°„ì˜ íë¦„ëŒ€ë¡œ, ì˜ì‹ì˜ íë¦„ëŒ€ë¡œ ì‘ì„±í•˜ë‹¤ë³´ë‹ˆ ë¬¸ì¥ì´ ë‹¤ì†Œ ì •ì œë˜ì§€ ì•Šì•˜ìŒì„ ì–‘í•´ë¶€íƒë“œë¦½ë‹ˆë‹¤. \n\n## ê°œìš”\n\nListyWaveëŠ” ìì‹ ì˜ ì·¨í–¥ì„ ë‹´ì€ ë¦¬ìŠ¤íŠ¸ë¥¼ íë ˆì´íŒ…í•˜ê³  ê³µìœ í•˜ëŠ” SNS ì„œë¹„ìŠ¤ì´ë‹¤.\n\në³¸ ì„œë¹„ìŠ¤ì˜ ìš”êµ¬ ì‚¬í•­ ì¤‘ ì¼ë¶€ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\n\n1. ë¦¬ìŠ¤íŠ¸ì—ëŠ” ì½œë¼ë³´ë ˆì´í„°ê°€ ì¡´ì¬í•œë‹¤.\n2. ì½œë¼ë³´ë ˆì´í„°ëŠ” ë¦¬ìŠ¤íŠ¸ë¥¼ í•¨ê»˜ ë§Œë“¤ì–´ ê°ˆ ìˆ˜ ìˆëŠ” íšŒì›ì„ ì˜ë¯¸í•œë‹¤.\n3. ì‘ì„±ìê°€ ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ ë•Œ íƒ€ íšŒì›ì„ ì½œë¼ë³´ë ˆì´í„°ë¡œ ì§€ì •í•˜ë©´, ì§€ì •ë‹¹í•œ íšŒì›ì€ í•´ë‹¹ ë¦¬ìŠ¤íŠ¸ì˜ ì½œë¼ë³´ë ˆì´í„°ë¡œ ë“±ë¡ëœë‹¤. ì´ë•Œ ì½œë¼ë³´ë ˆì´í„°ëŠ” ìµœëŒ€ 20ëª…ê¹Œì§€ ë“±ë¡ì´ ê°€ëŠ¥í•˜ë‹¤.\n4. **ë¦¬ìŠ¤íŠ¸ì˜ ìˆ˜ì • ê¶Œí•œì€ ì‘ì„±ì ë˜ëŠ” ì½œë¼ë³´ë ˆì´í„°ì—ê²Œë§Œ ìˆë‹¤.**\n\në°”ë¡œ ì´ 4ë²ˆì— í•´ë‹¹í•˜ëŠ” ìš”êµ¬ ì‚¬í•­ ë•Œë¬¸ì— ë™ì‹œì„± ì´ìŠˆê°€ ë°œìƒí–ˆë‹¤!\n\n![ë™ì‹œì„± ì´ìŠˆ ë¬¸ì œ ë°œìƒ íŒŒì•…](concurrency-problem-occur.png)\n\n## ë¬¸ì œ íŒŒì•…\n\ní…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤\n\n```java\n@Test\nvoid ë¦¬ìŠ¤íŠ¸_ì‘ì„±ìì™€_20ëª…ì˜_ì½œë¼ë³´ë ˆì´í„°ê°€_ë™ì‹œì—_ë¦¬ìŠ¤íŠ¸ë¥¼_ìˆ˜ì •í•œë‹¤() throws InterruptedException {\n    // given: ë™í˜¸ë¼ëŠ” íšŒì›ì´ ë¦¬ìŠ¤íŠ¸ë¥¼ ì‘ì„±í•œë‹¤. ì´ë•Œ 20ëª…ì˜ íšŒì›ì„ ì½œë¼ë³´ë ˆì´í„°ë¡œ ì§€ì •í•œë‹¤.\n    var ë™í˜¸ = íšŒì›ì„_ì €ì¥í•œë‹¤(ë™í˜¸());\n    var ë™í˜¸_ì•¡ì„¸ìŠ¤_í† í° = ì•¡ì„¸ìŠ¤_í† í°ì„_ë°œê¸‰í•œë‹¤(ë™í˜¸);\n    var ì½œë¼ë³´ë ˆì´í„° = ì—¬ëŸ¬_ëª…ì˜_íšŒì›ì„_ì €ì¥í•œë‹¤(nëª…ì˜_íšŒì›(20));\n    var ì½œë¼ë³´ë ˆì´í„°_ID = ì½œë¼ë³´ë ˆì´í„°.stream().map(User::getId).toList();\n    ë¦¬ìŠ¤íŠ¸_ì €ì¥_API_í˜¸ì¶œ(ì¢‹ì•„í•˜ëŠ”_ê²¬ì¢…_TOP3_ìƒì„±_ìš”ì²­_ë°ì´í„°(ì½œë¼ë³´ë ˆì´í„°_ID), ë™í˜¸_ì•¡ì„¸ìŠ¤_í† í°).as(ListCreateResponse.class);\n\n    // when: ì‘ì„±ìì¸ ë™í˜¸ì™€ 20ëª…ì˜ ì½œë¼ë³´ë ˆì´í„°ê°€ ë™ì‹œì— ë¦¬ìŠ¤íŠ¸ ìˆ˜ì •ì„ ìš”ì²­í•œë‹¤.\n    int executeCount = 21;\n    ExecutorService executorService = Executors.newFixedThreadPool(200); // Tomcatì˜ default Max-Threads ìˆ˜ëŠ” 200ì´ë‹¤.\n    CountDownLatch latch = new CountDownLatch(executeCount);\n\n    for (int i = 0; i < executeCount; i++) {\n        int index = i;\n\n        executorService.execute(() -> {\n            try {\n                var ì½œë¼ë³´ë ˆì´í„°_ID = new ArrayList<>(ì½œë¼ë³´ë ˆì´í„°_ID);\n                ì½œë¼ë³´ë ˆì´í„°_ID.add(ë™í˜¸.getId());\n                var ìˆ˜ì •_ìš”ì²­_ë°ì´í„° = new ListCreateRequest(\n                        CategoryType.codeOf(String.valueOf(index % CategoryType.values().length)),\n                        List.of(String.valueOf(index)),\n                        ì½œë¼ë³´ë ˆì´í„°_ID,\n                        String.valueOf(index),\n                        String.valueOf(index),\n                        new Random().nextBoolean(),\n                        String.valueOf(index),\n                        List.of(\n                                new ItemCreateRequest(1, String.valueOf(index), \"\", \"\", \"\"),\n                                new ItemCreateRequest(2, String.valueOf(index), \"\", \"\", \"\"),\n                                new ItemCreateRequest(3, String.valueOf(index), \"\", \"\", \"\")\n                        )\n                );\n\n                ë¦¬ìŠ¤íŠ¸_ìˆ˜ì •_API_í˜¸ì¶œ(ìˆ˜ì •_ìš”ì²­_ë°ì´í„°, ì•¡ì„¸ìŠ¤_í† í°ì„_ë°œê¸‰í•œë‹¤(ì½œë¼ë³´ë ˆì´í„°.get(index)), 1L);\n            } catch (Exception e) {\n                fail();\n            } finally {\n                latch.countDown();\n            }\n        });\n    }\n\n    latch.await(); // í…ŒìŠ¤íŠ¸ ìŠ¤ë ˆë“œëŠ” CountDownLatchì˜ ìˆ˜ê°€ 0ì´ ë  ë•Œê¹Œì§€ ëŒ€ê¸°í•œë‹¤.\n    executorService.shutdown();\n\n    // then: ìƒì„±ëœ íˆìŠ¤í† ë¦¬ëŠ” ì´ 20ê°œì—¬ì•¼ í•œë‹¤.\n    List<HistorySearchResponse> result = íˆìŠ¤í† ë¦¬_ì¡°íšŒ(1L).as(new TypeRef<>() {\n    });\n    assertThat(result).hasSize(20);\n}\n```\n\nì—ëŸ¬ ë¡œê·¸ë¥¼ ë³´ì.\n\n![ì—ëŸ¬ ë¡œê·¸ 1](error-log.png)\n\n`org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [com.listywave.list.application.domain.item.Item#55]` ë¼ê³  í•œë‹¤.\n\nì—ëŸ¬ì˜ ë‚´ìš©ì€ ëŒ€ì¶©, **ê°’ì„ ìˆ˜ì •í•´ì„œ ë°˜ì˜í•˜ë ¤ê³  í•˜ëŠ”ë° ì´ë¯¸ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ ìˆ˜ì •ì´ ë¨¼ì € ì´ë£¨ì–´ì§„ ìƒíƒœ**ë¼ê³  í•œë‹¤.<br>\nê·¸ë¦¬ê³  ì• ì´ˆì— Exception ì´ë¦„ì—ì„œ **ë¹„ê´€ì  ë½ì— ì‹¤íŒ¨**í–ˆë‹¤ê³  ì¹œì ˆíˆ ì•Œë ¤ì¤€ë‹¤.\n\nê·¸ëŸ¼ ì™œ ì´ëŸ° ë¬¸ì œê°€ ë°œìƒí–ˆëŠ”ì§€ ë¶„ì„í•´ë³´ì.\n\nì¼ë‹¨ í•œ ê±´ì˜ ë¦¬ìŠ¤íŠ¸ ìˆ˜ì • ìš”ì²­ì„ ì²˜ë¦¬í•  ë•Œ, mysqlì˜ general_logë¥¼ ì´ìš©í•´ ì–´ë–¤ ì¿¼ë¦¬ê°€ í˜¸ì¶œë˜ëŠ”ì§€ ë”°ë¼ê°€ë³´ì.\n\n![MySQL ì œë„¤ëŸ´ ë¡œê·¸](general-log.png)\n\në¡œê·¸ì¸í•œ ìœ ì € ë°ì´í„° ì¡°íšŒ â†’ ìˆ˜ì •í•˜ë ¤ëŠ” ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ â†’ í•´ë‹¹ ë¦¬ìŠ¤íŠ¸ì˜ ì½œë¼ë³´ë ˆì´í„° ì¡°íšŒ â†’ (ìƒˆ íŠ¸ëœì­ì…˜ ìƒì„±) ì½œë¼ë³´ë ˆì´í„°ì˜ ìœ ì € ì •ë³´ ì¡°íšŒ (ì½œë¼ë³´ë ˆì´í„° ìˆ˜ë§Œí¼ ë‚˜ê°„ë‹¤) â†’ ê¸°ì¡´ ì½œë¼ë³´ë ˆì´í„° ì‚­ì œ â†’ ìƒˆ ì½œë¼ë³´ë ˆì´í„° ì €ì¥ (ì½œë¼ë³´ë ˆì´í„°ì— ë³€ê²½ì´ ì—†ì–´ë„ ì‚­ì œ, ì €ì¥ì´ ì¼ì–´ë‚œë‹¤. ê°ì²´ ë™ë“±ì„± ë¹„êµì— ì‹¤íŒ¨í•´ì„œ ë°œìƒí•œ ë¬¸ì œê°™ì€ë° ì´ ë¶€ë¶„ë„ í•´ê²°í•´ì•¼ê² ë‹¤) â†’ ë¦¬ìŠ¤íŠ¸ì˜ ì•„ì´í…œ ì¡°íšŒ â†’ (ì•„ì´í…œ ìˆœìœ„ì— ë³€ê²½ì´ ìƒê²¼ì„ ê²½ìš°) íˆìŠ¤í† ë¦¬ ì €ì¥ â†’ íˆìŠ¤í† ë¦¬ ì•„ì´í…œ ì €ì¥ â†’ (ë¼ë²¨ì— ë³€ê²½ì´ ìƒê²¼ì„ ê²½ìš°) ìƒˆë¡œìš´ ë¼ë²¨ ì €ì¥ â†’ ë¦¬ìŠ¤íŠ¸ ìˆ˜ì • â†’ ê¸°ì¡´ ì•„ì´í…œ ì‚­ì œ â†’ ê¸°ì¡´ ë¼ë²¨ ì‚­ì œ\n\nì¼ë‹¨ ëŒì•„ê°€ê²Œë”ë§Œ êµ¬í˜„í–ˆëŠ”ë° ì¿¼ë¦¬ë¥¼ ë³´ë‹ˆ ì¤„ì¼ ìˆ˜ ìˆëŠ” ë¶€ë¶„ë“¤ì´ ê½¤ ë³´ì¸ë‹¤.<br>\nê·¼ë° ì´ê±´ ê½¤ë‚˜ í° ê³µì‚¬ê°€ ë  ê²ƒ ê°™ìœ¼ë‹ˆ ì´ë²ˆì—ëŠ” ë‚´ìš©ì„ í¬í•¨í•˜ì§€ ì•Šê² ë‹¤.<br>\nê·¸ëŸ¼ ë¬¸ì œë¥¼ ë¶„ì„í•˜ê¸° ìœ„í•´ ì¼ë‹¨ 2ê°œì˜ íŠ¸ëœì­ì…˜ì„ ë™ì‹œì— ì‹¤í–‰ì‹œì¼œë³´ì.<br>\nê·¼ë° ì›¬ê±¸..? ì´ë²ˆì—” ë°ë“œë½ì´ ë°œìƒí–ˆë‹¤.\n\n![ë°ë“œë½ ë°œìƒ ë¡œê·¸](deadlock-log.png)\n\në‹¤ì‹œ í•œë²ˆ ë¡œê·¸ë¡œ ë¶„ì„ì„ í•´ë³´ì.\n\n![MySQL ì œë„¤ëŸ´ ë¡œê·¸ 2](general-log-2.png)\n\n324ë²ˆê³¼ 325ë²ˆ íŠ¸ëœì­ì…˜ì´ ë™ì‹œì— ë¦¬ìŠ¤íŠ¸ ìˆ˜ì • ì‘ì—…ì„ ì§„í–‰í•œë‹¤.<br>\nê·¸ëŸ¬ë‹¤ê°€ 325ë²ˆì´ rollback í–ˆë‹¤.<br>\nìœ„ ë¡œê·¸ëŠ” ë³´ê¸° í˜ë“¤ë‹¤. ì–´ë””ì„œ ë¬¸ì œê°€ ìƒê²¼ëŠ”ì§€ ì§ì ‘ ë”°ë¼ê°€ê¸°ì—” ë§ì´ ë³µì¡í•´ë³´ì¸ë‹¤.<br>\n`SHOW ENGINE INNODB STATUS\\G;` ëª…ë ¹ì–´ë¡œ ë°ë“œë½ì˜ ì›ì¸ì„ ìì„¸íˆ íŒŒì•…í•´ë³´ì.<br>\n\n```text\n------------------------\nLATEST DETECTED DEADLOCK\n------------------------\n2024-03-15 15:02:43 0x16b957000\n*** (1) TRANSACTION: <-- 1ë²ˆ íŠ¸ëœì­ì…˜\nTRANSACTION 1340503, ACTIVE 0 sec starting index read\nmysql tables in use 1, locked 1\nLOCK WAIT 12 lock struct(s), heap size 1128, 4 row lock(s), undo log entries 9\nMySQL thread id 149, OS thread handle 6122909696, query id 7363 localhost 127.0.0.1 root updating\nupdate list set background_color='1',category_code='1',collect_count=0,description='1',has_collaboration='true',is_public='false',title='1',updated_date='2024-03-15 15:02:43.820187',owner_id=1,view_count=0 where id=1\n\n*** (1) HOLDS THE LOCK(S): <-- 1ë²ˆ íŠ¸ëœì­ì…˜ì´ space id 655ì— S-Lock ê±¸ì—ˆë‹¤.\nRECORD LOCKS space id 655 page no 4 n bits 72 index PRIMARY of table '***'.`list` trx id 1340503 lock mode S locks rec but not gap\n\n*** (1) WAITING FOR THIS LOCK TO BE GRANTED: <-- 1ë²ˆ íŠ¸ëœì­ì…˜ì´ space id 655ì— X-Lockì„ ê±¸ê¸° ìœ„í•´ ëŒ€ê¸°í•œë‹¤.\nRECORD LOCKS space id 655 page no 4 n bits 72 index PRIMARY of table '***'.`list` trx id 1340503 lock_mode X locks rec but not gap waiting\n\n*** (2) TRANSACTION: <-- 2ë²ˆ íŠ¸ëœì­ì…˜\nTRANSACTION 1340504, ACTIVE 0 sec starting index read\nmysql tables in use 1, locked 1\nLOCK WAIT 12 lock struct(s), heap size 1128, 4 row lock(s), undo log entries 9\nMySQL thread id 150, OS thread handle 6125137920, query id 7364 localhost 127.0.0.1 root updating\nupdate list set background_color='0',category_code='0',collect_count=0,description='0',has_collaboration='true',is_public='false',title='0',updated_date='2024-03-15 15:02:43.820188',owner_id=1,view_count=0 where id=1\n\n*** (2) HOLDS THE LOCK(S): <-- 2ë²ˆ íŠ¸ëœì­ì…˜ì´ space id 655ì— S-Lockì„ ê±¸ì—ˆë‹¤.\nRECORD LOCKS space id 655 page no 4 n bits 72 index PRIMARY of table '***'.`list` trx id 1340504 lock mode S locks rec but not gap\n\n*** (2) WAITING FOR THIS LOCK TO BE GRANTED: <-- 2ë²ˆ íŠ¸ëœì­ì…˜ì´ space id 655ì— X-Lockì„ ê±¸ê¸° ìœ„í•´ ëŒ€ê¸° ì¤‘ì´ë‹¤.\nRECORD LOCKS space id 655 page no 4 n bits 72 index PRIMARY of table '***'.`list` trx id 1340504 lock_mode X locks rec but not gap waiting\n\n*** WE ROLL BACK TRANSACTION (2) <-- 2ë²ˆ íŠ¸ëœì­ì…˜ ë¡¤ë°± !\n```\n\n1ë²ˆì´ list ì¸ë±ìŠ¤ ë ˆì½”ë“œì— S-Lockì„ ê°€ì§€ê³ , ë™ì¼í•œ ë ˆì½”ë“œì— ëŒ€í•´ X-Lockì„ ì·¨ë“í•˜ê¸° ìœ„í•´ ëŒ€ê¸° ì¤‘ì´ë‹¤.<br>\në˜ íŠ¸ëœì­ì…˜ 2ë²ˆì´ ë™ì¼í•œ ë ˆì½”ë“œì— S-Lockì„ ê°€ì§€ê³  ìˆê³ , ë™ì¼í•œ ë ˆì½”ë“œì— ëŒ€í•´ X-Lockì„ ì·¨ë“í•˜ê¸° ìœ„í•´ ëŒ€ê¸° ì¤‘ì´ë‹¤.\n\n[MySQL ê³µì‹ ë¬¸ì„œ](https://dev.mysql.com/doc/refman/8.0/en/innodb-locks-set.html)ì— ë”°ë¥´ë©´,\ní…Œì´ë¸”ì— ì™¸ë˜ í‚¤ ì œì•½ ì¡°ê±´ì´ ì •ì˜ë˜ì–´ ìˆëŠ” ê²½ìš°ì—” ì œì•½ ì¡°ê±´ì„ í™•ì¸í•´ì•¼ í•˜ëŠ” ëª¨ë“  ì“°ê¸° ì‘ì—… (INSERT, UPDATE ë˜ëŠ” DELETE)ì€ ì œì•½ ì¡°ê±´ì„ í™•ì¸í•˜ê¸° ìœ„í•´ ì ‘ê·¼í•˜ë ¤ëŠ” ë ˆì½”ë“œì— S-Lock ì„ ê±´ë‹¤.<br>\nìœ„ ì •ë³´ë¥¼ í† ëŒ€ë¡œ ë‹¤ì‹œ *ë¦¬ìŠ¤íŠ¸ ìˆ˜ì • flow*ë¥¼ ë³´ì. íŠ¹íˆ ì“°ê¸° ì‘ì—…ë§Œ ë”°ë¡œ ë‚˜ì—´í•˜ì—¬ í…Œì´ë¸”ì— ì ‘ê·¼í•˜ëŠ” ìˆœì„œë¥¼ ì‚´í´ë³´ì.\n\n1. `collaborator` í…Œì´ë¸”ì— insert â†’ list_idë¥¼ ì™¸ë˜í‚¤ë¡œ ê°€ì§\n2. `history` í…Œì´ë¸”ì— insert â†’ list_idë¥¼ ì™¸ë˜í‚¤ë¡œ ê°€ì§\n3. `history_item` í…Œì´ë¸”ì— insert â†’ history_idë¥¼ ì™¸ë˜í‚¤ë¡œ ê°€ì§\n4. `item` í…Œì´ë¸”ì— insert â†’ list_idë¥¼ ì™¸ë˜í‚¤ë¡œ ê°€ì§\n5. `label` í…Œì´ë¸”ì— insert â†’ list_idë¥¼ ì™¸ë˜í‚¤ë¡œ ê°€ì§\n6. `list` í…Œì´ë¸”ì— update\n\n   ì´ ì‚¬ì´ì— 325 íŠ¸ëœì­ì…˜ì´ rollback !!\n\n7. `item` í…Œì´ë¸”ì— delete â†’ list_idë¥¼ ì™¸ë˜í‚¤ë¡œ ê°€ì§\n8. `label` í…Œì´ë¸”ì— delete â†’ list_idë¥¼ ì™¸ë˜í‚¤ë¡œ ê°€ì§\n\n`collaborator`, `history` , `item` , `label` í…Œì´ë¸”ì— ì“°ê¸° ì‘ì—…ì„ í•œë‹¤.<br>\nì´ë•Œ, ì´ í…Œì´ë¸”ë“¤ì€ list_idë¥¼ ì™¸ë˜í‚¤ë¡œ ê°€ì§„ë‹¤.<br>\nì¦‰, íŠ¸ëœì­ì…˜ì€ list_idì— í•´ë‹¹í•˜ëŠ” list í…Œì´ë¸”ì˜ ë ˆì½”ë“œì— S-Lockì„ ê°€ì§„ë‹¤.\n\nì´í›„ `list` í…Œì´ë¸”ì— update ì¿¼ë¦¬ë¥¼ ë‚ ë¦°ë‹¤. ì´ë•Œ íŠ¹ì • ë ˆì½”ë“œì— X-Lockì„ ê±´ë‹¤.<br>\ní•˜ì§€ë§Œ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ S-Lockì„ ë³´ìœ  ì¤‘ì´ë¯€ë¡œ ëŒ€ê¸°í•œë‹¤.\n\n**ìœ„ ê³¼ì •ì„ ë˜ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì´ ë™ì¼í•˜ê²Œ ìˆ˜í–‰í•œë‹¤.**\n\nì´ë¥¼ ê·¸ë¦¼ìœ¼ë¡œ ê·¸ë ¤ë³´ë©´ ì•„ë˜ì™€ ê°™ì„ ê²ƒì´ë‹¤.\n\n![ë°ë“œë½ì„ ê·¸ë¦¼ìœ¼ë¡œ](drawing-deadlock.png)\n\n## í•´ê²°\n\n`ObjectOptimisticLockingFailureException` ì´ì „ì— ì¼ë‹¨ ë‹¹ì¥ ë°ë“œë½ë¶€í„° í•´ê²°í•´ë³´ì.<br>\në°ë“œë½ì„ í•´ê²°í•˜ê¸° ìœ„í•´ì„  í…Œì´ë¸” ì ‘ê·¼ ìˆœì„œë¥¼ ì¼ê´€ë˜ê²Œ í•˜ê±°ë‚˜(ì›í˜• ëŒ€ê¸° ë°©ì§€) ë°ë“œë½ì— ë¹ ì§„ íŠ¸ëœì­ì…˜ ì¤‘ í•˜ë‚˜ë¥¼ ì‘ì—…ì„ ì¤‘ë‹¨í•˜ê³  ì¬ì‹œë„(ë³µêµ¬)í•˜ëŠ” ë°©ë²•ì´ ìˆê² ë‹¤.<br>\ní•˜ë‚˜ì”© í•´ë³´ì.\n\n### í…Œì´ë¸” ì ‘ê·¼ ìˆœì„œ ì¼ê´€ì„±ìˆê²Œ ê°€ì ¸ê°€ê¸°\n\níŠ¸ëœì­ì…˜ì´ í…Œì´ë¸”ì„ ì ‘ê·¼í•˜ëŠ” ìˆœì„œë¥¼ ì¼ê´€ì„±ìˆê²Œ í•´ë³´ì.\n\ní˜„ì¬ëŠ” collaborator â†’ item â†’ label â†’ list ìˆœìœ¼ë¡œ í…Œì´ë¸”ì— ì ‘ê·¼í•˜ë©° ì“°ê¸° ì‘ì—…ì„ ì§„í–‰í•œë‹¤.\ní˜„ì¬ ë°ë“œë½ì´ ë°œìƒí•˜ëŠ” ì´ìœ ê°€,  ìœ„ ê³¼ì •ì—ì„œ listë¥¼ ì™¸ë˜í‚¤ë¡œ ê°€ì§€ë¯€ë¡œ í•´ë‹¹ ë¦¬ìŠ¤íŠ¸ ë ˆì½”ë“œì— S-lockì„ ê°€ì§€ë‹¤ê°€ ë§ˆì§€ë§‰ì— list í…Œì´ë¸”ì— ì ‘ê·¼í•  ë•Œ X-Lockì„ ê±¸ë©´ì„œ ìƒê¸°ëŠ” ë¬¸ì œë‹ˆê¹Œ,\nê°€ì¥ ë¨¼ì € list í…Œì´ë¸”ì— ë¨¼ì € X-Lockì„ ê±¸ì–´ë²„ë¦¬ë©´ ë¬¸ì œëŠ” í•´ê²°ë  ê²ƒìœ¼ë¡œ ì˜ˆìƒëœë‹¤.\n\ní•œë²ˆ í…ŒìŠ¤íŠ¸ í•´ë³´ì.<br>\në©”ì„œë“œë¥¼ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í–ˆë‹¤.\n\n```java\n@Transactional\npublic void update(Long listId, Long loginUserId, ListUpdateRequest request) {\n    validateDuplicateCollaboratorIds(request.collaboratorIds());\n\n    User loginUser = userRepository.getById(loginUserId);\n    ListEntity list = listRepository.getById(listId);\n    Collaborators beforeCollaborators = collaboratorService.findAllByList(list);\n    list.validateUpdateAuthority(loginUser, beforeCollaborators);\n\n    boolean hasCollaborator = !request.collaboratorIds().isEmpty();\n    LocalDateTime updatedDate = LocalDateTime.now();\n\n    Labels newLabels = createLabels(request.labels());\n    Items newItems = createItems(request.items());\n    list.update(request.category(), new ListTitle(request.title()), new ListDescription(request.description()), request.isPublic(), request.backgroundColor(), hasCollaborator, updatedDate); // list í…Œì´ë¸”ì— upate\n    listRepository.saveAndFlush(list);\n    list.updateLabels(newLabels); // labels í…Œì´ë¸” update\n    list.updateItems(newItems); // items í…Œì´ë¸” update\n\n    Collaborators newCollaborators = collaboratorService.createCollaborators(request.collaboratorIds(), list);\n    updateCollaborators(beforeCollaborators, newCollaborators); // collaborators í…Œì´ë¸” update\n\n    if (list.canCreateHistory(newItems)) {\n        historyService.saveHistory(list, updatedDate, request.isPublic()); // history, history_item í…Œì´ë¸” insert\n    }\n}\n```\n\ní…ŒìŠ¤íŠ¸ ê²°ê³¼, ê¸°ëŒ€í–ˆë˜ ëŒ€ë¡œ ë°ë“œë½ì€ ê±¸ë¦¬ì§€ ì•Šì•˜ë‹¤.<br>\ní•˜ì§€ë§Œ ë§¨ ì²˜ìŒ 21ëª…ì´ ë™ì‹œì— ìˆ˜ì • ìš”ì²­ì„ ë³´ëƒˆì„ ë•Œì™€ ë˜‘ê°™ì´ `ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction` ì„ ë±‰ëŠ”ë‹¤.\n\n![ObjectOptimisticLockingFailureException ë°œìƒ](object-optimistic-locking-failure-exception.png)\n\ní™•ì‹¤íˆ í…Œì´ë¸” ì ‘ê·¼ ìˆœì„œë¥¼ ì¡°ì •í•˜ë‹ˆ ë°ë“œë½ì€ ê±¸ë¦¬ì§€ ì•ŠëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.<br>\ní•˜ì§€ë§Œ í˜„ì¬ ë¬¸ì œëŠ” ë°ë“œë½ì´ ì•„ë‹Œ, ë™ì‹œì„± ë¬¸ì œë‹¤! ê·¼ë³¸ì ì¸ í•´ê²°ì±…ì´ ì•„ë‹ˆë‹¤.<br>\nê²Œë‹¤ê°€ ìœ„ ì½”ë“œëŠ” ê¸°ì¡´ ì½”ë“œì— ë¹„í•´ ë³µì¡ì„±ì´ ë†’ì•„ì¡Œë‹¤. ë”°ë¼ì„œ ì ìš©í•˜ì§„ ì•Šê² ë‹¤.\n\n`ObjectOptimisticLockingFailureException`ì€ `net.sf.hibernate.StaleObjectStateException.class` ê°€ ì¶”ìƒí™”ëœ ì˜ˆì™¸ì´ë‹¤.<br>\nhibernateê°€ ë±‰ëŠ” ê±¸ë¡œ ë´ì„œ JPA ê´€ë ¨ ë¬¸ì œì¸ ê²ƒ ê°™ì€ë°, ê·¸ë ‡ë‹¤ë©´ `StaleObjectStateException`ëŠ” ì–´ë–¨ ë•Œ ë°œìƒí• ê¹Œ?<br>\në°”ë¡œ EntityManagerì—ì„œ DBì— ì¿¼ë¦¬ë¥¼ Flushí•  ë•Œ, ê°’ì´ ë³€ê²½ë˜ëŠ” Rowì˜ Version ë˜ëŠ” íƒ€ì„ìŠ¤íƒ¬í”„ê°€ ë¶ˆì¼ì¹˜í•˜ê±°ë‚˜, delete or update ì¿¼ë¦¬ë¥¼ ë‚ ë ¸ì§€ë§Œ DBì— ì¡´ì¬í•˜ì§€ ì•Šì„ ë•Œ ë°œìƒí•œë‹¤ê³  í•œë‹¤.\n\në”°ë¼ì„œ DBì—ì„œ ë°ë“œë½ì€ í•´ê²°í–ˆì§€ë§Œ, JPA ë ˆë²¨ì—ì„œ ë™ì‹œì„± ë¬¸ì œëŠ” ì—¬ì „íˆ ìœ íš¨í•˜ë‹¤.<br>\nì´ì œ ì´ë¥¼ í•´ê²°í•´ë³´ì.\n\n## ì–´ë–»ê²Œ í•´ê²°í• ê¹Œ?\n\ní•´ê²°í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ ìë£Œë¥¼ ì°¾ì•„ë³¸ ê²°ê³¼ ë¹„ê´€ì  ë½, ë‚™ê´€ì  ë½, ë„¤ì„ë“œ ë½ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆê² ë‹¤.\n\n### ë¹„ê´€ì  ë½?\n\në¹„ê´€ì  ë½ì€ ì‹¤ì œ DB Rowì— X-Lockì„ ê±¸ì–´ì¤Œìœ¼ë¡œì¨ í•´ê²°í•˜ëŠ” ë°©ì‹ì´ë‹¤.<br>\nì´ ë°©ì‹ì„ ì ìš©í•˜ë ¤ë©´ í…Œì´ë¸” ì ‘ê·¼ ìˆœì„œë¥¼ List í…Œì´ë¸”ë¶€í„° X-Lockì„ ê±¸ë„ë¡ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ë©´ ëœë‹¤.\nJPAë¥¼ ì´ìš©í•´ì„œ ë¹„ê´€ì  ë½ì„ ì ìš©í•˜ë ¤ë©´ `@Lock`ì„ ì¶”ê°€í•´ì£¼ê³  `@Query`ë¡œ ì§ì ‘ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•´ì¤˜ì•¼ í•œë‹¤.<br>\ní•˜ì§€ë§Œ íŠ¹ì • ë¦¬ìŠ¤íŠ¸ë§Œ ìˆ˜ì •í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆê³  í¬í•¨ë˜ì–´ ìˆëŠ” ë§ì€ ë°ì´í„°ë„ í•¨ê»˜ ìˆ˜ì •í•˜ëŠ” ê²ƒì´ë¯€ë¡œ ì˜¤íˆë ¤ ì½”ë“œ ë³µì¡ì„±ì´ ë” ì¦ê°€í•  ê²ƒì´ë‹¤.\n\n### ë„¤ì„ë“œ ë½?\n\në„¤ì„ë“œ ë½ì€ MySQLì˜ `GET_LOCK()` í•¨ìˆ˜ë¥¼ ì´ìš©í•´ ì„ì˜ì˜ ë¬¸ìì—´ì— ëŒ€í•´ ë½ì„ ì„¤ì •í•˜ëŠ” ë°©ì‹ì´ë‹¤.<br>\nì£¼ë¡œ ë¶„ì‚°í™˜ê²½ì—ì„œ NëŒ€ì˜ WASê°€ 1ëŒ€ì˜ DB ì„œë²„ì— ëŒ€í•œ ë¡œì§ì„ ë™ê¸°í™”í•  ë•Œ ìœ ìš©í•˜ê²Œ ì‚¬ìš©ë˜ëŠ” ë°©ì‹ì´ë¼ê³  í•œë‹¤.<br>\në˜í•œ, ë³µì¡í•œ ë¡œì§ ìì²´ë¥¼ í•˜ë‚˜ì˜ ë¡œì§ìœ¼ë¡œ ë¬¶ì„ ë•Œì—ë„ ìœ ìš©í•˜ë‹¤. ì´ ì ì—ì„œëŠ” ë„¤ì„ë“œ ë½ë„ ê´œì°®ì€ ë°©ì‹ì¸ ê²ƒ ê°™ë‹¤.<br>\n\n### ë‚™ê´€ì  ë½?\n\në‚™ê´€ì  ë½ì€ DBì— ë½ì„ ê±¸ì§€ ì•Šê³  ë¡¤ë°±ì´ë‚˜ ì˜ˆì™¸ê°€ ë°œìƒí•  ê²½ìš° ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨ì—ì„œ ì¬ì‹œë„ ë˜ëŠ” ì‚¬ìš©ìì—ê²Œ ì‹¤íŒ¨ë¥¼ ì‘ë‹µí•˜ëŠ” ì‹ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì´ë‹¤.<br>\nJPAë¥¼ ì´ìš©í•´ì„œëŠ” `@Version`ì„ ì´ìš©í•˜ì—¬ ë°ì´í„° ìˆ˜ì • ì‹œì ì—, ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•œ ì‹œì ê³¼ ìˆ˜ì •í•˜ëŠ” ì‹œì ì˜ ë²„ì „ì¼ ì¼ì¹˜í•˜ëŠ” ì§€ë¥¼ ë¹„êµí•˜ê³  ë‹¤ë¥¼ ê²½ìš° ì˜ˆì™¸ë¥¼ ë±‰ëŠ” ë°©ì‹ì´ë‹¤.<br>\nê·¸ëŸ¬ë©´ ê°œë°œìëŠ” í•´ë‹¹ ì˜ˆì™¸ë¥¼ ì¡ì•„ì„œ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì´ë‹¤.\n\n### @Version ì—†ëŠ” ë‚™ê´€ì  ë½ ë°©ì‹ ì„ íƒ!\n\ní˜„ì¬ ìƒí™©ì„ ë‹¤ì‹œ ë˜ëŒì•„ ë´¤ì„ ë•Œ, ë¬¸ì œì˜ ì‹œì‘ì€ ì‘ì„±ìì™€ ì½œë¼ë³´ë ˆì´í„°ì˜ ë¦¬ìŠ¤íŠ¸ ë™ì‹œ ìˆ˜ì • í–‰ìœ„ì´ë‹¤.<br>\nì´ í–‰ìœ„ê°€ ë¹ˆë²ˆíˆ ì¼ì–´ë‚  ê²ƒì¸ì§€ë¥¼ ìƒê°í•´ë´¤ì„ ë• ê·¸ë ‡ì§€ ì•Šë‹¤ê³  ìƒê°í•œë‹¤.<br>\ní˜„ì¬ ì„œë¹„ìŠ¤ í™ë³´ë¥¼ í•˜ì§€ ì•Šì€ ìƒíƒœì¸ë°ë‹¤ê°€ ì½œë¼ë³´ë ˆì´í„° ê¸°ëŠ¥ì´ í™œë°œíˆ ì‚¬ìš©ë˜ì§„ ì•ŠëŠ”ë‹¤.<br>\nê²Œë‹¤ê°€ ë¦¬ìŠ¤íŠ¸ ìˆ˜ì • ìš”ì²­ ìˆœì„œëŠ” ì§€ì¼œì§ˆ í•„ìš”ëŠ” ì—†ë‹¤.\n\në˜í•œ í˜„ì¬ WASì™€ DBë¥¼ 1ëŒ€ì˜ ì„œë²„ë¡œë§Œ ìš´ì˜í•˜ê³  ìˆê³  ì•ìœ¼ë¡œ ì¦ì¶•í•  ê³„íšì€ ì—†ë‹¤. ë¶„ì‚° ì„œë²„ í™˜ê²½ì´ë¼ë©´ ë„¤ì„ë“œë½ì„ ì‚¬ìš©í•˜ë©´ ì¢‹ì„ ê²ƒ ê°™ë‹¤.<br>\nì´ëŸ¬í•œ ìƒí™©ì„ í† ëŒ€ë¡œ **ë‚™ê´€ì  ë½ì„ ì ìš©í•¨ìœ¼ë¡œì¨ êµ¬í˜„ì— ì†Œëª¨í•˜ëŠ” ì‹œê°„ ëŒ€ë¹„ ê°€ì¥ íš¨ìœ¨ì ì¸ ë°©ë²•ìœ¼ë¡œ í•´ê²°í•˜ëŠ” ê²ƒ**ì´ë¼ê³  ìƒê°í•œë‹¤.<br>\nì´ì œ ë‚™ê´€ì  ë½ ë°©ì‹ìœ¼ë¡œ ì´ë¥¼ í•´ê²°í•´ë³´ì.\n\nJPAì—ì„œ ë‚™ê´€ì  ë½ì„ ì ìš©í•˜ê¸° ìœ„í•´ì„  `@Version` ì–´ë…¸í…Œì´ì…˜ì„ ì¶”ê°€í•˜ë©´ ëœë‹¤ê³  í•œë‹¤.<br>\ní•˜ì§€ë§Œ êµ³ì´ `@Version`ì„ ì¶”ê°€í•˜ì§€ ì•Šê³ , `CannotAcquireLockException`ì„  try-catchë¡œ ì¡ì•„ì„œ 0.3ì´ˆ í›„ì— ì¬ìš”ì²­ì„ ë³´ë‚´ë„ë¡ í–ˆë‹¤.<br>\nì™œëƒí•˜ë©´ `@Version` ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì—¬ë„ ë™ì¼í•˜ê²Œ ì˜ˆì™¸ê°€ ë°œìƒí•˜ê¸° ë•Œë¬¸ì—, ì–´ì°Œëê±´ ì˜ˆì™¸ë§Œ ì¡ì•„ì„œ ë‹¤ì‹œ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ì‹ìœ¼ë¡œ í•´ë„ ë™ì¼í•˜ë‹¤ê³  íŒë‹¨í–ˆê¸° ë•Œë¬¸ì´ë‹¤.\n\nì‘ì„±í•œ ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ë‹¤.\n\n```java\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Retry {\n}\n```\n\n```java\n@Aspect\n@Component\n@Order(Ordered.LOWEST_PRECEDENCE - 1)\npublic class OptimisticLockRetryAspect {\n\n    private static final int MAX_RETRIES = 50; // ìµœëŒ€ 50ë²ˆ ì¬ìš”ì²­\n    private static final int RETRY_DELAY_MS = 300; // 0.3ì´ˆ ì¬ìš”ì²­ ë”œë ˆì´\n\n    @Pointcut(\"@annotation(com.listywave.common.annotation.Retry)\")\n    public void retry() {\n    }\n\n    @Around(\"retry()\")\n    public Object retryOptimisticLock(ProceedingJoinPoint joinPoint) throws Throwable {\n        Exception exceptionHolder = null;\n        for (int attempt = 0; attempt < MAX_RETRIES; attempt++) {\n            try {\n                return joinPoint.proceed();\n            } catch (CannotAcquireLockException e) {\n                exceptionHolder = e;\n                Thread.sleep(RETRY_DELAY_MS);\n            }\n        }\n        throw exceptionHolder;\n    }\n}.\n```\n\n![í…ŒìŠ¤íŠ¸ ì„±ê³µ!](test-success.png)\n\nê²°ê³¼ëŠ” ì„±ê³µì´ë‹¤!<br>\níˆìŠ¤í† ë¦¬ ë°ì´í„°ì— 2ê°œê°€ ë“¤ì–´ê°€ìˆëŠ” ê±¸ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n\nê·¸ëŸ¼ ì´ì œ ìµœëŒ€ ì¸ì›ì¸ 21ëª…ìœ¼ë¡œ ì‹œë„í•´ë³´ì.<br>\nê²°ê³¼ëŠ” í†µê³¼ë‹¤!\n\n![í…ŒìŠ¤íŠ¸ ìµœì¢… í†µê³¼!](test-success-2.png)\n\n## ë§ˆì¹˜ë©°\n\në™ì‹œì„± ë¬¸ì œë¥¼ ì²˜ìŒ ê²ªê³  í•´ê²°í•˜ëŠ” ê³¼ì •ì—ì„œ êµ‰ì¥íˆ ì–´ë ¤ì› ë‹¤. ê·¸ë§Œí¼ ê³µë¶€ë„ ë§ì´ í–ˆì§€ë§Œ ì•„ë¬´ë˜ë„ ì“°ë ˆë“œ, íŠ¸ëœì­ì…˜ì€ ë‚¯ì„¤ê¸°ë„ í•˜ê³  ë””ë²„ê¹…ì„ ì°ì–´ë³´ë©° ì§ì ‘ ì‹¤í–‰ ìˆœì„œë¥¼ ë³¼ ìˆ˜ ì—†ë‹¤ëŠ” ì ì—ì„œ ë¬¸ì œì— ì ‘ê·¼í•˜ê³  í•´ê²°í•˜ëŠ” ê³¼ì •ì´ ì–´ë ¤ì› ë‹¤.\n\nê·¸ë¦¬ê³  ë™ì‹œì„± ë¬¸ì œëŠ” ë°°ê²½ ì§€ì‹ê³¼ ê¸°ë³¸ê¸°ê°€ íƒ„íƒ„í•  ìˆ˜ë¡ ì˜ í•´ê²°ë  ê²ƒ ê°™ë‹¤.<br>\në•ë¶„ì— ë§ì€ ê±¸ ê³µë¶€í•˜ê¸´ í–ˆì§€ë§Œ.. ì•„ì§ ìŠ¤ìŠ¤ë¡œ íƒ„íƒ„í•˜ë‹¤ê³ ëŠ” ë§ì„ ëª»í•˜ê² ë‹¤.<br>\nê·¸ë˜ë„ ë¬¸ì œë¥¼ êµ¬í˜„í•˜ê³  ì´ë¥¼ ë¡œê·¸ë¡œ ë¶„ì„í•˜ë©° í•´ê²°í•´ë³¸ ê²½í—˜ì´ ì§„ì§œ ê°’ì§„ ê²½í—˜ì´ë¼ê³  ìƒê°í•œë‹¤.<br>\në¬¼ë¡  ì§„ì§œ ì´ë²ˆ ì£¼ ë‚´ë‚´ ë™ì‹œì„± ë¬¸ì œ í•´ê²°í•œë‹¤ê³  ì• ì¨ì„œ í”¼ë¡œë„ë„ ë§ì´ ìŒ“ì´ê³  ë„ˆë¬´ë„ˆë¬´ í˜ë“¤ì—ˆì§€ë§Œ..!\n\në˜ í…Œì´ë¸” ì ‘ê·¼ ìˆœì„œë¥¼ ë³€ê²½í–ˆì„ ë•Œì™€, ì‹¤ì œë¡œ ë‚™ê´€ì  ë½ì„ ê±¸ì—ˆì„ ë•Œ, ê·¸ë¦¬ê³  ë¹„ê´€ì  ë½ìœ¼ë¡œ ì²˜ë¦¬ë¥¼ í–ˆì„ ë•Œì˜ ì„±ëŠ¥ ë¹„êµë¥¼ í•˜ì§€ ëª»í•œ ì ì´ ì•„ì‰½ë‹¤.<br>\në‹¤ìŒì— ì—¬ìœ ê°€ ëœë‹¤ë©´ í•œë²ˆ ë„ì „í•´ë³´ê³  ì‹¶ë‹¤.\n\nì—¬ë‹´ìœ¼ë¡œ ì²˜ìŒ ë¬¸ì œì— ì ‘ê·¼í•  ë•Œ ë¨¸ë¦¬ê°€ ë„ˆë¬´ ë³µì¡í•˜ê³  ì–´ë””ì„œë¶€í„° ì ‘ê·¼í•´ì•¼í•  ì§€ ëª¨ë¥´ê² ì–´ì„œ<br>\nì„œë¸Œ ëª¨ë‹ˆí„°ì— í¬ìŠ¤íŠ¸ì‡ìœ¼ë¡œ í•˜ë‚˜ì”© ë¶™ì—¬ê°€ë©° Divide and Conquare ë°©ì‹ìœ¼ë¡œ ë°‘ì—ì„œë¶€í„° í•˜ë‚˜ì”© ì ‘ê·¼í–ˆë‹¤.<br>\nìŠ¤ìŠ¤ë¡œ ë¿Œë“¯í•˜ê³  ìë‘í•˜ê³  ì‹¶ì–´ ì‚¬ì§„ìœ¼ë¡œ ë‚¨ê¸´ë‹¤. ğŸ¤­\n\n![ê¸°ë… ì‚¬ì§„](self-celebrate.png)"},{"excerpt":"ë“¤ì–´ê°€ë©° ì´ë²ˆ ê¸€ì—ì„œëŠ” DB ë ˆë²¨ì—ì„œ ë°œìƒí•˜ëŠ” ë™ì‹œì„± ë¬¸ì œë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ ë¨¼ì € íŠ¸ëœì­ì…˜ê³¼ íŠ¸ëœì­ì…˜ ê²©ë¦¬ìˆ˜ì¤€ì— ëŒ€í•´ì„œ ë³µìŠµ ê²¸ ì½”ë“œë¡œ ì‹¤ìŠµí•˜ëŠ” ì‹œê°„ì„ ê°€ì ¸ë³´ê² ìŠµë‹ˆë‹¤. DBMSëŠ” MySQL 8.0ì´ë©° InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ê¸°ì¤€ìœ¼ë¡œ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤. 1. ë™ì‹œì„± ë¬¸ì œ? 2ê°œ ì´ìƒì˜ ì‘ì—…ì´ ê³µìœ  ìì›ì— ì ‘ê·¼í•´ ê°’ì„ ë³€ê²½í•  ë•Œ ìƒê¸¸ ìˆ˜ ìˆëŠ” ë¬¸ì œì…ë‹ˆë‹¤. ì•„â€¦","fields":{"slug":"/understanding-transaction-and-concurrency-problem/"},"frontmatter":{"date":"March 13, 2024","title":"[MySQL] íŠ¸ëœì­ì…˜ê³¼ íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€","tags":["mysql","transaction","isolation-level"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©°\n\nì´ë²ˆ ê¸€ì—ì„œëŠ” DB ë ˆë²¨ì—ì„œ ë°œìƒí•˜ëŠ” ë™ì‹œì„± ë¬¸ì œë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ ë¨¼ì € íŠ¸ëœì­ì…˜ê³¼ íŠ¸ëœì­ì…˜ ê²©ë¦¬ìˆ˜ì¤€ì— ëŒ€í•´ì„œ ë³µìŠµ ê²¸ ì½”ë“œë¡œ ì‹¤ìŠµí•˜ëŠ” ì‹œê°„ì„ ê°€ì ¸ë³´ê² ìŠµë‹ˆë‹¤.\n\nDBMSëŠ” MySQL 8.0ì´ë©° InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ê¸°ì¤€ìœ¼ë¡œ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.\n\n## 1. ë™ì‹œì„± ë¬¸ì œ?\n\n2ê°œ ì´ìƒì˜ ì‘ì—…ì´ **ê³µìœ  ìì›**ì— ì ‘ê·¼í•´ **ê°’ì„ ë³€ê²½**í•  ë•Œ ìƒê¸¸ ìˆ˜ ìˆëŠ” ë¬¸ì œì…ë‹ˆë‹¤.\n\nì•„ë˜ëŠ” ë™ì‹œì„± ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆëŠ” ìƒí™© ì¤‘ í•œ ê°€ì§€ë¥¼ ê·¸ë ¤ë³¸ ê·¸ë¦¼ì…ë‹ˆë‹¤.\n![ë™ì‹œì„± ë¬¸ì œ ì˜ˆì‹œ](concurrency-example.png)\níŠ¸ëœì­ì…˜ A (TxA) ì˜ ê²½ìš° ìˆ˜ì •ì˜ ê²°ê³¼ê°€ `(1, 'poo')` ê°€ ë‚˜ì˜¤ê¸¸ ê¸°ëŒ€í–ˆê² ì§€ë§Œ, ë™ì‹œì— ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ê³¼ ë™ì‹œì— ì²˜ë¦¬ë˜ë‹¤ë³´ë‹ˆ ê¸°ëŒ€í–ˆë˜ ê²°ê³¼ì™€ ë‹¤ë¥¸ ê²°ê³¼ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\n\nê¼­ ìœ„ì˜ ìƒí™©ì´ ì•„ë‹Œ ê°ê° íŠ¸ëœì­ì…˜ì˜ ì¡°íšŒ, ê°±ì‹ , ê·¸ë¦¬ê³  commit í˜¹ì€ rollback ì²˜ë¦¬ ìˆœì„œì— ë”°ë¼ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë™ì‹œì„± ë¬¸ì œëŠ” ìƒí™©ë§ˆë‹¤ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\níŠ¸ëœì­ì…˜ì˜ ìˆœì„œë¥¼ ë³´ì¥í•˜ê±°ë‚˜ LOCKê³¼ ê°™ì€ ê·œì¹™ì„ ì •í•´ë†“ì§€ ì•Šì€ ì´ìƒ, ê° íŠ¸ëœì­ì…˜ì˜ ì²˜ë¦¬ ìˆœì„œëŠ” ê°œë°œìê°€ ì œì–´í•  ìˆ˜ ì—†ëŠ” ì˜ì—­ì— ì†í•©ë‹ˆë‹¤.<br>\në”°ë¼ì„œ ì¤‘ìš”í•œ ê²ƒì€ **ë™ì‹œì„± ë¬¸ì œê°€ ë°œìƒí•œ ìƒí™©ì„ íŒŒì•…**í•˜ê³  ì´ë¥¼ í•´ê²°í•˜ëŠ” ê²ƒì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤.<br>\n\nDB ë ˆë²¨ì—ì„œ ë°œìƒí•˜ëŠ” ë™ì‹œì„± ë¬¸ì œë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ì„œëŠ” _íŠ¸ëœì­ì…˜_ ê³¼ _íŠ¸ëœì­ì…˜ ê²©ë¦¬ìˆ˜ì¤€_ ì„ ì´í•´í•´ì•¼ í•©ë‹ˆë‹¤.\n\n## 2. Transaction\n\níŠ¸ëœì­ì…˜ì€ ì‘ì—…ì˜ ë…¼ë¦¬ì ì¸ ìµœì†Œ ë‹¨ìœ„ì…ë‹ˆë‹¤.<br>\nInnoDBì—ì„œ ì‚¬ìš©ìì— ì˜í•´ ì¼ì–´ë‚˜ëŠ” ëª¨ë“  í™œë™ì€ **íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤**.<br>\nì¿¼ë¦¬ê°€ 1ê°œë“  2ê°œ ì´ìƒì´ë“  ìƒê´€ì—†ì´ MySQL ì„œë²„ë¡œ ìš”ì²­í•˜ëŠ” SQL ë¬¸ì€ ëª¨ë‘ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë¬¶ì—¬ ì²˜ë¦¬ë©ë‹ˆë‹¤.\n\níŠ¸ëœì­ì…˜ì€ **ë°ì´í„° ì •í•©ì„±**ì„ ìœ„í•œ ê¸°ìˆ ì…ë‹ˆë‹¤.<br>\nì‚¬ìš©ìì˜ ìš”ì²­ì´ ì²˜ë¦¬ë˜ëŠ” ì¤‘ê°„ì— ë¬¸ì œê°€ ë°œìƒí–ˆì„ ë•Œ, ì¼ë¶€ë§Œ ë°˜ì˜ë˜ëŠ” ë¬¸ì œë¥¼ ë°ì´í„°ë² ì´ìŠ¤ê°€ íŠ¸ëœì­ì…˜ì´ë¼ëŠ” ê¸°ëŠ¥ì„ í†µí•´ ê°„í¸í•˜ê²Œ í•´ê²°í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\nì´ íŠ¸ëœì­ì…˜ì—ëŠ” 4ê°€ì§€ ì›ì¹™ì´ ìˆìŠµë‹ˆë‹¤.<br>\níŠ¸ëœì­ì…˜ì— ëŒ€í•´ í•œë²ˆì´ë¼ë„ ê³µë¶€ë¥¼ í•´ë³¸ ì‚¬ëŒì€ ê¼­ ë“¤ì–´ë´¤ì„ë§Œí•œ ACID ì…ë‹ˆë‹¤.\n\n### 2-1. Atomic, ì›ìì„±\n\nAll or Nothing.<br>\níŠ¸ëœì­ì…˜ìœ¼ë¡œ ë¬¶ì¸ ì¿¼ë¦¬ë“¤ ì¤‘ í•˜ë‚˜ë¼ë„ ì²˜ë¦¬ì— ì‹¤íŒ¨í•˜ë©´, ì „ì²´ ì‘ì—…ì´ ì‹¤íŒ¨í•©ë‹ˆë‹¤.<br>\níŠ¸ëœì­ì…˜ ê¸°ìˆ ì˜ ê·¼ë³¸ì ì¸ ëª©ì ì…ë‹ˆë‹¤.\n\n### 2-2. Consistency, ì¼ê´€ì„±\n\nê¸°ë³¸ í‚¤, ì™¸ë˜ í‚¤ ì œì•½ê³¼ ê°™ì€ **ëª…ì‹œì ì¸ ë¬´ê²°ì„± ì œì•½ ì¡°ê±´**ë“¤ë¿ë§Œ ì•„ë‹ˆë¼<br>\nìê¸ˆ ì´ì²´ ì˜ˆì—ì„œ ë‘ ê³„ì¢Œ ì”ê³ ì˜ í•©ì€ ì´ì²´ ì „í›„ê°€ ê°™ì•„ì•¼ í•œë‹¤ëŠ” ì‚¬í•­ê³¼ ê°™ì€ **ë¹„ëª…ì‹œì ì¸ ì¼ê´€ì„± ì¡°ê±´**ë“¤ì„ ë§Œì¡±í•©ë‹ˆë‹¤.\n\níŠ¸ëœì­ì…˜ì´ ì»¤ë°‹, ë¡¤ë°± í˜¹ì€ ì§„í–‰ ì¤‘ì¼ ë•Œ í•­ìƒ ì¼ê´€ëœ ìƒíƒœë¥¼ ìœ ì§€í•©ë‹ˆë‹¤.<br>\nì—¬ëŸ¬ í…Œì´ë¸”ì—ì„œ ê´€ë ¨ ë°ì´í„°ê°€ ì—…ë°ì´íŠ¸ ë˜ëŠ” ê²½ìš° ì¿¼ë¦¬ì—ëŠ” ì´ì „ ê°’ê³¼ ìƒˆ ê°’ì´ í˜¼í•©ëœ ê²ƒì´ ì•„ë‹Œ, ì´ì „ ê°’ í˜¹ì€ ìƒˆ ê°’ë§Œ í‘œì‹œë©ë‹ˆë‹¤.\n\n### 2-3. Isolation, ê²©ë¦¬ì„±\n\nê°ê°ì˜ íŠ¸ëœì­ì…˜ì€ ì§„í–‰ë˜ëŠ” ë™ì•ˆ ì„œë¡œ ê²©ë¦¬ë©ë‹ˆë‹¤.<br>\níŠ¹ì • íŠ¸ëœì­ì…˜ì´ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì˜ ì‘ì—…ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë˜í•œ ì•„ì§ ì»¤ë°‹ë˜ì§€ ì•Šì€ ë³€ê²½ì‚¬í•­ë„ ë³¼ ìˆ˜ ì—†ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>\nì´ëŠ” *íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€* ì— ë”°ë¼ ê²°ê³¼ê°€ ë‹¬ë¼ì§‘ë‹ˆë‹¤.\n\n### 2-4. Durability, ì§€ì†ì„±\n\níŠ¸ëœì­ì…˜ ì‘ì—…ì´ ëª¨ë‘ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆë‹¤ë©´ ì‘ì—… ê²°ê³¼ëŠ” ì˜êµ¬ì ìœ¼ë¡œ ë””ìŠ¤í¬ì— ë°˜ì˜ë©ë‹ˆë‹¤.<br>\nì´ ì›ì¹™ì€ ì‹œìŠ¤í…œì— ì´ìƒì´ ìƒê²¼ì„ ë•Œì—ë„ ë°˜ë“œì‹œ ì§€ì¼œì ¸ì•¼ í•©ë‹ˆë‹¤.<br>\nInnoDBëŠ” ë¦¬ë‘ ë¡œê·¸ì™€ double write bufferë¥¼ ì´ìš©í•´ ì§€ì†ì„±ì„ ì§€í‚µë‹ˆë‹¤.\n\n## 3. Transaction Isolation Level\n\nê·¸ëŸ¼ ì´ì œ Transactionì˜ ê²©ë¦¬ ìˆ˜ì¤€ ì •ë„ë¥¼ ì¡°ì ˆí•˜ëŠ” _íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€_ ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.\n\níŠ¸ëœì­ì…˜ ê²©ë¦¬ìˆ˜ì¤€ì€, *ì—¬ëŸ¬ íŠ¸ëœì­ì…˜ì´ ë™ì‹œì— ì²˜ë¦¬ë  ë•Œ íŠ¹ì • íŠ¸ëœì­ì…˜ì´ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ ë³€ê²½í•˜ê±°ë‚˜ ì¡°íšŒí•˜ëŠ” ë°ì´í„°ë¥¼ ë³¼ ìˆ˜ ìˆê²Œ í—ˆìš©í• ì§€ ë§ì§€ë¥¼ ê²°ì •í•˜ëŠ” ê²ƒ* ì…ë‹ˆë‹¤.<br>\n\nê²©ë¦¬ ìˆ˜ì¤€ì—ëŠ” ì´ 4ê°€ì§€ì˜ ì„ íƒì§€ê°€ ìˆìŠµë‹ˆë‹¤.<br>\nê° ì„ íƒì§€ì— ë”°ë¼ ë°œìƒí•˜ëŠ” í˜„ìƒì„ ì§ì ‘ ì‹¤í—˜ì„ í•´ë³´ë©° ì´í•´í•´ë³´ê² ìŠµë‹ˆë‹¤.\n\n### 3-1. Read Uncommitted\n\nìš°ì„  `mysql> SET GLOBAL transaction_isolation = 'READ-UNCOMMITTED';` ëª…ë ¹ì–´ë¡œ ê²©ë¦¬ ìˆ˜ì¤€ì„ ë³€ê²½í•´ì¤ë‹ˆë‹¤.\n\n![](img.png)\n\n![](img_1.png)\n\n![](img_2.png)\n\në³´ì‹œë©´ TxAê°€ íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•˜ê³  ê°’ì„ ë³€ê²½í–ˆì§€ë§Œ ì•„ì§ ì»¤ë°‹ì´ë‚˜ ë¡¤ë°± í•˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ<br>\nTxBê°€ ì¡°íšŒí•˜ë©´ ë°”ë€ ìƒíƒœì˜ ê°’ì´ ê²°ê³¼ë¡œ ë°˜í™˜ë©ë‹ˆë‹¤.\n\nì´ëŸ¬í•œ ë¬¸ì œë¥¼ *ë”í‹° ë¦¬ë“œ (Dirty Read)* ë¼ê³  í•©ë‹ˆë‹¤.<br>\në”í‹° ë¦¬ë“œ ë¬¸ì œëŠ” ì•„ì§ ê°’ì˜ ë³€ê²½ì´ í™•ì‹¤í•˜ê²Œ ë°˜ì˜ë˜ì§€ ì•Šì•˜ìŒì—ë„, ì¡°íšŒê°€ ëœë‹¤ëŠ” ì  ë•Œë¬¸ì— ì •í•©ì„±ì— í° ë¬¸ì œë¥¼ ì´ˆë˜í•  ìˆ˜ ìˆë‹¤.<br>\n\n### 3-2. Read Committed\n\në”í‹° ë¦¬ë“œ ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ” ê²©ë¦¬ ìˆ˜ì¤€ì…ë‹ˆë‹¤.<br>\nì´ë¦„ ê·¸ëŒ€ë¡œ ì»¤ë°‹ëœ ê²°ê³¼ë§Œ ì¡°íšŒí•©ë‹ˆë‹¤.<br>\në§ˆì°¬ê°€ì§€ë¡œ `mysql> SET GLOBAL transaction_isolation = 'READ-COMMITTED';` ëª…ë ¹ì–´ë¡œ ê²©ë¦¬ ìˆ˜ì¤€ì„ ë³€ê²½í•´ì¤ë‹ˆë‹¤.\n\n![](img_3.png)\n\n![](img_4.png)\n\ní™•ì‹¤íˆ ë³€ê²½ ì‚¬í•­ì´ Commit ë˜ì–´ì•¼ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ë„ ì¡°íšŒ ê²°ê³¼ì— í¬í•¨ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nê·¸ëŸ°ë° í•œ ê°€ì§€ ë¬¸ì œê°€ ë  ìˆ˜ ìˆëŠ” ì ì´ ìˆìŠµë‹ˆë‹¤.<br>\nTransaction B ê´€ì ì—ì„œ ë´¤ì„ ë•Œ í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ ì•ˆì—ì„œ ì¡°íšŒê°€ ì´ 3ë²ˆ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.<br>\ní•˜ì§€ë§Œ, ì„¸ ë²ˆì§¸ì™€ ë‹¤ì„¯ ë²ˆì§¸ ì¡°íšŒ ê²°ê³¼ì™€ ì—¬ëŸ ë²ˆì§¸ ì¡°íšŒ ê²°ê³¼ê°€ ë‹¬ë¼ì§‘ë‹ˆë‹¤.\n\nì´ëŠ” íŠ¸ëœì­ì…˜ì˜ ë‘ ë²ˆì§¸ ì›ì¹™ì¸ Consistency, ì¦‰ ì¼ê´€ì„±ì„ í•´ì¹˜ê²Œ ë©ë‹ˆë‹¤.\n\nê·¸ëŸ°ë° MySQLì€ ì–´ë–»ê²Œ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ ê°’ì„ ë³€ê²½í•˜ë”ë¼ë„ commit ë˜ê¸° ì „ì´ë¼ë©´, ë³€ê²½í•˜ê¸° ì „ì˜ ë°ì´í„°ë¥¼ ì½ì–´ì˜¬ ìˆ˜ ìˆì„ê¹Œìš”?<br>\në°”ë¡œ InnoDBê°€ ì§€ì›í•˜ëŠ” MVCC ë•ë¶„ì…ë‹ˆë‹¤.<br>\nInnoDBì—ëŠ” _InnoDB ë²„í¼ í’€_ ê³¼ _ì–¸ë‘ ë¡œê·¸_ ë¥¼ í†µí•´ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ”ë°ìš”.\n\në””ìŠ¤í¬ì—ì„œ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ë©´ InnoDB ë²„í¼ í’€ì— í•´ë‹¹ ê²°ê³¼ë¥¼ ëª¨ë‘ ì €ì¥í•©ë‹ˆë‹¤.<br>\nê·¸ë¦¬ê³  ë°ì´í„° ìˆ˜ì • ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´, í˜„ì¬ ë²„ì „ì„ ì–¸ë‘ ë¡œê·¸ë¡œ ë³µì‚¬í•˜ê³  InnoDB ë²„í¼ í’€ì— ì¡´ì¬í•˜ëŠ” ë°ì´í„°ë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤.<br>\nì´ëŸ° ìƒí™©ì—ì„œ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì´ ë™ì¼ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ë©´ **ì–¸ë‘ ë¡œê·¸ì— ìˆëŠ” ë°ì´í„°**ë¥¼ ë°˜í™˜í•¨ìœ¼ë¡œì¨ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ê²ƒì´ì£ .<br>\nì‚¬ì‹¤ ì´ëŸ¬í•œ ë™ì‘ ë°©ì‹ì€ _Read Committed_ ì´ìƒì˜ ê²©ë¦¬ ìˆ˜ì¤€ì´ë©´ ëª¨ë‘ ì´ì™€ ê°™ì´ ìˆ˜í–‰ë©ë‹ˆë‹¤. \n\n> ì°¸ê³ ë¡œ ë°ì´í„° ìˆ˜ì • ìš”ì²­ íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ë˜ë©´ ë‹¹ì‹œ ìƒíƒœë¥¼ ì˜êµ¬ì ìœ¼ë¡œ ì €ì¥í•˜ê³ <br>\n> ë¡¤ë°±ë˜ë©´ ì–¸ë‘ ë¡œê·¸ì— ì €ì¥í•œ ê°’ë“¤ì„ ê·¸ëŒ€ë¡œ InnoDB ë²„í¼ í’€ë¡œ ë³µêµ¬í•˜ê³  ì–¸ë‘ ë¡œê·¸ì— ìˆëŠ” ë°ì´í„°ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤.<br>\n> ì–¸ë‘ ë¡œê·¸ì˜ ë°ì´í„°ëŠ” ë”ì´ìƒ í•´ë‹¹ ë°ì´í„°ë¥¼ í•„ìš”ë¡œ í•˜ëŠ” íŠ¸ëœì­ì…˜ì´ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ì‚­ì œë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\n### 3-3. Repeatable Read\n\nMySQLì´ ì±„íƒí•˜ëŠ” Default ì„¤ì •ê°’ì…ë‹ˆë‹¤.<br>\n`mysql> SET GLOBAL transaction_isolation = 'REPEATABLE-READ';` ë¡œ ì„¤ì •í•˜ê³  í…ŒìŠ¤íŠ¸ë¥¼ í•´ë´…ì‹œë‹¤.\n\n![img_5.png](img_5.png)\n\n![img_6.png](img_6.png)\n\nTransaction B ì…ì¥ì—ì„œ ë´¤ì„ ë•Œ í™•ì‹¤íˆ íŠ¸ëœì­ì…˜ ì•ˆì˜ ëª¨ë“  SELECT ë¬¸ì€, Transaction Aê°€ ê°’ì„ ìˆ˜ì •í•´ì„œ ì»¤ë°‹ì„ í•´ë„ ë§¤ë²ˆ ë™ì¼í•˜ê²Œ ë‚˜ì˜¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì–¼í•ë³´ë©´ Read Committedì™€ ë™ì¼í•˜ë‹¤ê³  ìƒê°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>\ní•˜ì§€ë§Œ **í˜„ì¬ ì¡´ì¬í•˜ëŠ” íŠ¸ëœì­ì…˜ ì¤‘, ê°€ì¥ ë‚®ì€ ë²ˆí˜¸ì˜ (ì˜¤ë˜ëœ) íŠ¸ëœì­ì…˜ë³´ë‹¤ ì´ì „ì— ê°±ì‹ ëœ ì–¸ë‘ ë¡œê·¸ì— ìˆëŠ” ë°ì´í„°ëŠ” ì‚­ì œí•˜ì§€ ì•ŠëŠ”ë‹¤**ëŠ” íŠ¹ì§• ë•ë¶„ì— í•­ìƒ ë™ì¼í•œ ê²°ê³¼ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆê²Œ ë˜ëŠ” ê²ƒì…ë‹ˆë‹¤.<br>\nê·¸ëŸ¼ ë°˜ëŒ€ë¡œ Read CommittedëŠ” ìœ„ ê·œì¹™ì„ ì§€í‚¤ì§€ ì•ŠëŠ” ê²ƒì¸ì§€? í˜¹ì€ ë¬´ì‹œí•˜ëŠ” ê²ƒì¸ì§€ëŠ” ë” ê³µë¶€ë¥¼ í•´ë´ì•¼ê² ìŠµë‹ˆë‹¤ ã…ã…..\n\nRepeatable Readë„ ë°œìƒí•˜ëŠ” ë¬¸ì œê°€ í•œ ê°€ì§€ ìˆìŠµë‹ˆë‹¤.<br>\nìœ„ ì‚¬ì§„ì—ì„œ 10ë²ˆ ì¡°íšŒê¹Œì§€ëŠ” TxAê°€ ê°’ì„ ìˆ˜ì • ë° ì‚½ì… í›„ ì»¤ë°‹ì„ í•´ë„ í•­ìƒ ë™ì¼í•œ ê²°ê³¼ê°€ ì¡°íšŒë˜ê³  ìˆìŠµë‹ˆë‹¤.<br>\ní•˜ì§€ë§Œ 11ë²ˆ ì¡°íšŒë¥¼ ë³´ì‹œë©´ TxAê°€ ì‚½ì…í•œ ë°ì´í„°ê°€ í¬í•¨ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>\nì´ëŸ¬í•œ ë¬¸ì œë¥¼ _Phantom Read_ ë¼ê³  í•©ë‹ˆë‹¤. \n\nì´ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” ì›ì¸ì€ ë°”ë¡œ **ì–¸ë‘ ë¡œê·¸ì—ëŠ” ë½ì„ ê±¸ì§€ ëª»í•œë‹¤**ëŠ” ì¡°ê±´ ë–„ë¬¸ì…ë‹ˆë‹¤.<br>\nì˜ ë³´ì‹œë©´ 10ë²ˆ ì¡°íšŒëŠ” ì ê¸ˆ ì—†ëŠ” ë‹¨ìˆœ ì¡°íšŒì…ë‹ˆë‹¤. (`SELECT FOR`)<br>\ní•˜ì§€ë§Œ 11ë²ˆ ì¡°íšŒëŠ” ì“°ê¸° ì ê¸ˆì„ ê±°ëŠ” `SELECT FOR UPDATE` ë¬¸ ì…ë‹ˆë‹¤.<br>\nìœ„ì—ì„œ ì–¸ê¸‰í–ˆë“¯ì´ ì–¸ë‘ ë¡œê·¸ì—ëŠ” ì ê¸ˆì„ ê±¸ì§€ ëª»í•˜ê¸°ì— ì ê¸ˆì„ ê±°ëŠ” ì½ê¸°ì˜ ê²½ìš° InnoDB ë²„í¼ í’€ì— ì €ì¥ëœ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ê²Œ ë©ë‹ˆë‹¤.\n\n### 3-4. Serializable\n\nê°€ì¥ ë‹¨ìˆœí•˜ë©´ì„œ ì—„ê²©í•˜ê²Œ ê´€ë¦¬í•©ë‹ˆë‹¤.<br>\nì ê¸ˆì„ ê±°ëŠ” `SELECT FOR UPDATE` ë¿ë§Œ ì•„ë‹ˆë¼ ìˆœìˆ˜ ì¡°íšŒì¸ `SELECT` ë¬¸ì—ì„œë„ í•´ë‹¹ ë ˆì½”ë“œì— ì ê¸ˆì„ ê±¸ê²Œ ë©ë‹ˆë‹¤.<br>\nê²°êµ­ ê° ë ˆì½”ë“œì—ëŠ” í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ë§Œì´ ì½ê³  ì“¸ ìˆ˜ ìˆëŠ” ê²ƒì…ë‹ˆë‹¤.\n\në¡œì»¬ì—ì„œ CLIë¡œ Serializableì„ í…ŒìŠ¤íŠ¸í•˜ê¸°ëŠ” ì–´ë ¤ì›€ì´ ìˆì–´ ì§ì ‘ í…ŒìŠ¤íŠ¸ëŠ” íŒ¨ìŠ¤í•˜ê² ìŠµë‹ˆë‹¤ ğŸ˜‰\n\n## ë§ˆì¹˜ë©°\n\nì§€ê¸ˆê¹Œì§€ íŠ¸ëœì­ì…˜ê³¼ íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€ì— ëŒ€í•´ ì´í•´í•´ë´¤ìŠµë‹ˆë‹¤.<br>\në‹¤ìŒì—” LOCKì— ëŒ€í•´ ì´í•´í•´ë³´ëŠ” ì‹œê°„ì„ ê°€ì§€ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.\n\nê°ì‚¬í•©ë‹ˆë‹¤.\n\n### References\n> - Real MySQL 8.0\n> - https://dev.mysql.com/doc/\n> - ë°ì´í„°ë² ì´ìŠ¤ ì²«ê±¸ìŒ"},{"excerpt":"JPA, JDBCTemplate ë“± ìë°” í”„ë¡œê·¸ë¨ì—ì„œ DBì— ì—°ê²°í•˜ê¸° ìœ„í•´ì„  JDBCë¥¼ ë°˜ë“œì‹œ ì‚¬ìš©í•˜ê²Œ ëœë‹¤.\nì•„ë¬´ë¦¬ JPA ê°™ì€ ê¸°ìˆ ì´ ì¶”ìƒí™”ë¥¼ ì˜í•´ì£¼ì–´ í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•œë‹¤í•´ë„ ê¸°ë°˜ì´ ë˜ëŠ” ê¸°ìˆ ì„ ì•Œì•„ì•¼ ë” ë‚˜ì€ ì½”ë“œì™€ í”„ë¡œê·¸ë¨ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ì´ë²ˆì—ëŠ” ìë°”ì˜ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì„ ì±…ì„ì§€ëŠ” JDBC(Java DataBase Connectivity)ì— ëŒ€í•´â€¦","fields":{"slug":"/what-is-jdbc/"},"frontmatter":{"date":"March 12, 2024","title":"[Java] JDBC íŒŒí—¤ì³ë³´ê¸°","tags":["java","jdbc","connection pool","datasource"]},"rawMarkdownBody":"\nJPA, JDBCTemplate ë“± ìë°” í”„ë¡œê·¸ë¨ì—ì„œ DBì— ì—°ê²°í•˜ê¸° ìœ„í•´ì„  **JDBC**ë¥¼ ë°˜ë“œì‹œ ì‚¬ìš©í•˜ê²Œ ëœë‹¤.<br>\nì•„ë¬´ë¦¬ JPA ê°™ì€ ê¸°ìˆ ì´ ì¶”ìƒí™”ë¥¼ ì˜í•´ì£¼ì–´ í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•œë‹¤í•´ë„ ê¸°ë°˜ì´ ë˜ëŠ” ê¸°ìˆ ì„ ì•Œì•„ì•¼ ë” ë‚˜ì€ ì½”ë“œì™€ í”„ë¡œê·¸ë¨ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.<br>\n\nì´ë²ˆì—ëŠ” **ìë°”ì˜ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì„ ì±…ì„ì§€ëŠ” JDBC(Java DataBase Connectivity)**ì— ëŒ€í•´ ì•Œì•„ë³´ê² ë‹¤.\n\n## 1. JDBCë€?\n\nJDBCëŠ” ìë°” ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ DBë¥¼ ì—°ê²°í•˜ê³  í†µì‹ í•  ìˆ˜ ìˆë„ë¡ ì œê³µí•˜ëŠ” APIì´ë‹¤.<br>\nJDBC ë•ë¶„ì— ìš°ë¦¬ëŠ” ì–´ë– í•œ DB Driverë¥¼ ì‚¬ìš©í•˜ë”ë¼ë„ JDBCë§Œ ì‚¬ìš©í•´ DBì™€ í†µì‹ í•  ìˆ˜ ìˆë‹¤.<br>\nì¼ì¢…ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ DB ì‚¬ì´ì—ì„œ ì—°ê²°ì„ ì¶”ìƒí™”í•œ ê³„ì¸µì¸ ê²ƒì´ë‹¤.\n\n![JDBC ì•„í‚¤í…ì²˜](jdbc-architecture.png)\n\nJDBCëŠ” Connection, `Statement`, `ResultSet`ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤.\n\n## 2. Connection\n\n[Oracle ê³µì‹ë¬¸ì„œ](https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html)ì—ì„œëŠ” Connection ê°ì²´ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ëª…í•˜ê³  ìˆë‹¤.<br>\n> \"_A connection (session) with a specific database. SQL statements are executed and results are returned within the context of a connection._\"<br>\n> \"íŠ¹ì • DBì™€ì˜ ì—°ê²°(ì„¸ì…˜)ì´ë‹¤. ì—°ê²° ì»¨í…ìŠ¤íŠ¸ ë‚´ì—ì„œ SQL ë¬¸ì´ ì‹¤í–‰ë˜ê³  ê²°ê³¼ê°€ ë°˜í™˜ëœë‹¤.\"\n\nê²°êµ­, DBì— ì¿¼ë¦¬ë¥¼ ë‚ ë¦¬ê³  ê²°ê³¼ë¥¼ ë°˜í™˜ë°›ê¸° ìœ„í•´ì„  ì´ Connection ê°ì²´ê°€ ìµœìš°ì„ ì ìœ¼ë¡œ ìƒì„±ë˜ì–´ì•¼ í•œë‹¤.\n\nConnectionì´ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\n\n- `setAutoCommit(boolean)`: Auto Commit ëª¨ë“œ ì œì–´\n- `setTransactionIsolation(int)`: íŠ¸ëœì­ì…˜ ê²©ë¦¬ ë ˆë²¨ ì„¤ì •\n- `setReadOnly(boolean)`: ReadOnly ì„¤ì •\n  > ReadOnlyë¥¼ trueë¡œ ì„¤ì •í•˜ë©´ **Connectionì„ ì½ê¸° ì „ìš© ëª¨ë“œ**ë¡œ ì„¤ì •í•˜ë©° `Driver`ì—ê²Œ ì¿¼ë¦¬ íŒíŠ¸ë¡œ ì œê³µí•˜ê²Œ ë˜ì–´ ì¿¼ë¦¬ ì‹¤í–‰ì„ ìµœì í™”í•  ìˆ˜ ìˆë‹¤. [^1]\n    ![ReadOnly ì„¤ëª…](explain-of-readonly.png)<br>\n\n<br>\n\nê·¸ë ‡ë‹¤ë©´ Connection ê°ì²´ëŠ” ì–´ë–»ê²Œ ìƒì„±í• ê¹Œ?<br>\nìƒì„±í•˜ëŠ” ë°ì—ëŠ” ì´ 2ê°€ì§€ ë°©ë²•ì´ ì¡´ì¬í•œë‹¤.\n \n### 2-1. DriverManager\n\nLegacyí•œ ë°©ë²•ìœ¼ë¡œ, `DriverManager` ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤.<br>\nì•„ë˜ëŠ” DriverManagerë¥¼ ì´ìš©í•´ Connection ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ì˜ˆì‹œì´ë‹¤.\n\n```java\npublic Connection getConnection(String url, String username, String password) {\n    return DriverManager.getConnection(url, username, password);\n}\n```\n\nì°¸ê³ ë¡œ JDBC 4.0 ì´ì „ì—ëŠ” `Class.forName` ë©”ì„œë“œë¥¼ í†µí•´ JDBC ë“œë¼ì´ë²„ë¥¼ ì§ì ‘ ë“±ë¡í•´ì¤˜ì•¼ í–ˆë‹¤.<br>\ní•˜ì§€ë§Œ ì´í›„ë¶€í„° `DriverManager`ê°€ ì£¼ì–´ì§„ url ê°’ì„ ì´ìš©í•´ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ë“±ë¡ëœ Driverì™€ ë¹„êµí•´ ì ì ˆí•œ JDBC Driverë¥¼ ì°¾ì•„ ì œê³µí•œë‹¤.\n\ní•˜ì§€ë§Œ DataSourceì˜ ë“±ì¥ìœ¼ë¡œ ì˜ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ë°©ë²•ì´ ë˜ì—ˆë‹¤.\n\n### 2-2. DataSource\n\nDataSourceëŠ” `DriverManager`ë¥¼ ë°œì „í•œ ëª¨ë¸ì´ë‹¤.<br>\nDB ì—°ê²° ì •ë³´ë¥¼ **ì½”ë“œê°€ ì•„ë‹Œ propertiesë¡œ ê°’ì„ ì£¼ì…í•  ìˆ˜ ìˆìœ¼ë©°**<br>\n**[Connection Pool](https://kdkdhoho.github.io/dbcp/), ë¶„ì‚° íŠ¸ëœì­ì…˜ ê¸°ëŠ¥**ì„ ì§€ì›í•œë‹¤.\n\n```java\npublic Connection getConnection(String url, String username, String password) {\n    return DataSourceBuilder.create()\n                .url(url)\n                .username(username)\n                .password(password)\n                .build();\n```\n\nDataSource êµ¬í˜„ì²´ëŠ” ê° ë²¤ë”ê°€ ì œê³µí•˜ê³  ìˆë‹¤.\n![DataSource êµ¬í˜„ì²´ë“¤](implements-datasource.png)\n\n### Connection Pool\n\nDataSourceì˜ ì¥ì  ì¤‘ í•˜ë‚˜ì¸, _Connection Pool_ ì— ëŒ€í•´ ì•Œì•„ë³´ê³  ë‚´ë¶€ ì½”ë“œë¥¼ ì‚´í´ë³´ê² ë‹¤.<br>\n(ì´ ë¶€ë¶„ì€ JDBCë¥¼ ì´í•´í•˜ëŠ” ë° ë°˜ë“œì‹œ í•„ìš”í•œ ë¶€ë¶„ì€ ì•„ë‹ˆë‹¤. ê°œì¸ì ì¸ ì§€ì  í˜¸ê¸°ì‹¬ìœ¼ë¡œ ì½”ë“œë¥¼ ëœ¯ì–´ë³¸ ê²ƒì´ë‹ˆ ê´€ì‹¬ì—†ìœ¼ë©´ ì•ˆë´ë„ ì¢‹ë‹¤.)\n\nConnection Poolì€, ì§€ì •ëœ ê°œìˆ˜ë§Œí¼ ë¯¸ë¦¬ Connection ê°ì²´ë“¤ì„ ë§Œë“¤ì–´ë†“ê³  í•´ë‹¹ ê°ì²´ë¥¼ ì¬ì‚¬ìš©í•˜ê¸° ìœ„í•´ ë§Œë“¤ì–´ë†“ì€ ì €ì¥ ê³µê°„ì„ ì˜ë¯¸í•œë‹¤.<br>\nConnection ê°ì²´ë¥¼ ì¬ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” **Connection ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ì‚­ì œí•˜ëŠ” ë¹„ìš©ì´ ë¹„ì‹¸ê¸° ë•Œë¬¸**ì´ë‹¤.<br>\nê¸°ë³¸ì ìœ¼ë¡œ DBì™€ TCP/IPë¥¼ í†µí•œ ë„¤íŠ¸ì›Œí¬ í†µì‹ ì´ ì´ë£¨ì–´ì ¸ì•¼ í•˜ë©°, ì¿¼ë¦¬ê°€ ëª¨ë‘ ì²˜ë¦¬ë˜ë©´ í•´ë‹¹ Connection ê°ì²´ëŠ” í•„ìš”ì—†ì–´ì§€ê¸°ì— GCì— ì˜í•´ ì²˜ë¦¬ë˜ëŠ”ë° ì´ë•Œë„ GC ë¹„ìš©ë„ ìƒê°í•´ì•¼ í•œë‹¤.<br>\në•Œë¬¸ì— ì´ ê°’ë¹„ì‹¼ Connection ê°ì²´ë¥¼ ì¬ì‚¬ìš©í•˜ë©´ ì„±ëŠ¥ìƒ ë§ì€ ì´ì ì„ ì–»ì„ ìˆ˜ ìˆë‹¤.\n\nH2ì—ì„œ ì œê³µí•˜ëŠ” JdbcConnectionPoolì„ ì§ì ‘ ì‚´í´ë³´ë©° ì¡°ê¸ˆ ë” ì´í•´í•´ë³´ê² ìŠµë‹ˆë‹¤.\n\n```java\n@Test\nvoid testJdbcConnectionPool() throws SQLException {\n    JdbcConnectionPool jdbcConnectionPool = JdbcConnectionPool.create(H2_URL, USER, PASSWORD);\n\n    assertThat(jdbcConnectionPool.getActiveConnections()).isZero();\n\n    try (var connection = jdbcConnectionPool.getConnection()) {\n        assertThat(connection.isValid(1)).isTrue();\n        assertThat(jdbcConnectionPool.getActiveConnections()).isEqualTo(1);\n    }\n    assertThat(jdbcConnectionPool.getActiveConnections()).isZero();\n\n    jdbcConnectionPool.dispose();\n}\n```\n\n1. `JdbcConnectionPool#create(String, String, String)`\n    : ì£¼ì–´ì§„ DB ì—°ê²° ì •ë³´ë¥¼ í†µí•´ DataSource ê°ì²´ë¥¼ ë§Œë“¤ê³  JdbcConnectionPool ê°ì²´ë¥¼ ì´ˆê¸°í™”í•œë‹¤.\n    ![JdbcConnectionPool ê°ì²´ ì´ˆê¸°í™”](jdbcconnectionpool-create.png)\n\n2. `assertThat(jdbcConnectionPool.getActiveConnections()).isZero();`\n    : ì´ˆê¸° ìƒì„±ëœ ConnectionPoolì€ Active ìƒíƒœì¸ Connectionì´ 0ê°œë‹¤.\n\n3. `jdbcConnectionPool.getConnection()`\n    : `JdbcConnectionPool` ê°ì²´ ë‚´ë¶€ì— ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¡œ `AtomicInteger activeConnections`ë¥¼ ê°€ì§„ë‹¤.<br>\n    ì´ ë³€ìˆ˜ì˜ ê°’ì„ 1 ì¦ê°€í•˜ê³ , `volatile int maxConnections` ê°’ê³¼ ë¹„êµí•´ ì´í•˜ì¸ ê²½ìš°ì— Connection ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.<br>\n    JDBCConnectionPoolê°€ ê°€ì§€ëŠ” `maxConnections`ì˜ default ê°’ì€ 10 ì´ë‹¤.<br>\n    Connection ê°ì²´ë¥¼ ë°˜í™˜í•  ë•ŒëŠ” ìš°ì„ ì ìœ¼ë¡œ `Queue<PooledConnection> recycledConnections = new ConcurrentLinkedQueue()` `recycledConnections.poll()` í•˜ê³ ,<br>\n    ì•„ë¬´ ê°’ì´ ì¡´ì¬í•˜ì§€ ì•Šì„ ê²½ìš°ì—” DataSourceì—ì„œ PooledConnection ê°ì²´ë¥¼ ë§Œë“¤ì–´ ë°˜í™˜í•œë‹¤.<br>\n    í•´ë‹¹ Connectionì´ close ë˜ë©´ `recycledConnections`ì— Connection ê°ì²´ë¥¼ `add()` í•œë‹¤.<br>\n    ë§Œì•½ `recycledConnections`ì— ì¬ì‚¬ìš©í•  Connectionì´ ì¡´ì¬í•œë‹¤ë©´ Connectionì„ ì¬ì‚¬ìš©í•˜ë‹¤.\n    ![](jdbcconnectionpool-getConnection.png)\n    ![](jdbcconnectionpool-getConnectionNow.png)\n\nì•„ë˜ ì‚¬ì§„ì„ í†µí•´ `Queue<PooledConnection> recycledConnections`ì— Connection ê°ì²´ê°€ ì¡´ì¬í•˜ëŠ” ëª¨ìŠµì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n![](result-of-recycledConnections.png)\n\n### HikariCP\n\nSpring Boot 2.0 ë¶€í„° DataSourceì™€ ê·¸ì— ìƒì‘í•˜ëŠ” `Connection Pool`ì„ ê¸°ë³¸ì ìœ¼ë¡œ `HikariCP` êµ¬í˜„ì²´ë¥¼ ì‚¬ìš©í•œë‹¤.<br>\n[HikariCP](https://github.com/brettwooldridge/HikariCP)ëŠ” ë‹¤ë¥¸ DataSource êµ¬í˜„ì²´ë“¤ì— ë¹„í•´ ë§¤ìš° ë¹ ë¥¸ ì†ë„ì™€ ì„±ëŠ¥ì„ ê°€ì§€ëŠ” Connection Pool êµ¬í˜„ì²´ ì¤‘ í•˜ë‚˜ë‹¤.\n\nìœ„ ì½”ë“œ ìƒìœ¼ë¡œëŠ” `ConnectionPool`ì„ ì§ì ‘ ë§Œë“¤ê³ , ê·¸ ì•ˆì—ì„œ DataSource ê°ì²´ë¥¼ ë§Œë“¤ê³ , Connection ê°ì²´ë¥¼ ë§Œë“¤ì–´ ë°˜í™˜í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.<br>\ní•˜ì§€ë§Œ ê¸°ë³¸ì ìœ¼ë¡œ DB ì—°ê²° ì •ë³´ë§Œ ì œê³µí•´ì„œ DataSource ê°ì²´ë§Œ ë§Œë“¤ë©´ ì•„ë˜ì™€ ê°™ì´ `HikariDataSource` ê°ì²´ê°€ ë§Œë“¤ì–´ì§„ë‹¤.\n![Hikari DataSource ê°ì²´ ì´ˆê¸°í™”](init-hikari-datasource.png)\n\nìœ„ ì‚¬ì§„ì„ ì˜ ë³´ë©´, Connection Poolì´ nullë¡œ ì´ˆê¸°í™”ë˜ì–´ ìˆëŠ”ë° ì´ ê°ì²´ê°€ ë°”ë¡œ ì»¤ë„¥ì…˜ í’€ ê°ì²´ì´ë‹¤.<br>\nê·¸ë¦¬ê³  ì²˜ìŒ `getConnection()`ì„ í˜¸ì¶œí•˜ë©´ ì•„ë˜ ë©”ì„œë“œë¥¼ í†µí•´ `pool` ì´ ì´ˆê¸°í™”ë˜ê³  í•´ë‹¹ `HikariPool` ê°ì²´ì—ì„œ `getConnection()` ë©”ì„œë“œê°€ í˜¸ì¶œë˜ì–´ ìµœì¢…ì ìœ¼ë¡œ Connection ê°ì²´ê°€ ë°˜í™˜ë˜ëŠ” ê²ƒì´ë‹¤.\n![HikariPool ê°ì²´ ì´ˆê¸°í™”](init-hikariPool-object.png)\n\nì‹¤ì œë¡œ ë””ë²„ê¹…ì„ í†µí•´ HikariPool ë‚´ì— ì¡´ì¬í•˜ëŠ” Poolì— ë“±ë¡ëœ Connection ê°ì²´ì™€ ë°˜í™˜ëœ Connection ê°ì²´ê°€ ë™ì¼í•œ ê°ì²´ì„ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n![ë™ì¼í•œ Connection í™•ì¸ ê²°ê³¼](same-connection.png)\n\nê·¸ëŸ°ë° ì‹ ê¸°í•œ ì‚¬ì‹¤ì„ ë°œê²¬í•  ìˆ˜ ìˆì—ˆë‹¤. í…ŒìŠ¤íŠ¸ ë©”ì„œë“œê°€ ëë‚˜ê¸° ì „ì—, Connection ê°ì²´ê°€ ì´ 10ê°œê°€ ë§Œë“¤ì–´ì§€ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.\n![ê°‘ìê¸° ì•Œì•„ì„œ ë§Œë“¤ì–´ì§„ Connnection ê°ì²´ë“¤](auto-create-connections.png)\n\nì´ë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ ì¡°ê¸ˆ ë” ê¹Šì´ íŒŒë³´ì•˜ì§€ë§Œ `DataSourceConfig` ê°ì²´ì— ì„ ì–¸ëœ `maxPoolSize`ê°€ 10ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆë‹¤ëŠ” ì •ë³´ ë§ê³ ëŠ” `maxPoolSize` ìˆ˜ ë§Œí¼ Connection ê°ì²´ë¥¼ ë§Œë“¤ì–´ ì €ì¥í•˜ëŠ” ë¶€ë¶„ì„ ì°¾ì§€ ëª»í–ˆë‹¤..<br>\n(ì´ ë¶€ë¶„ ì–´ë””ì„œ í™•ì¸í•  ìˆ˜ ìˆëŠ”ì§€ ì•„ì‹œëŠ” ë¶„ì€ ëŒ“ê¸€ ë‚¨ê²¨ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤ ğŸ˜­)\n\nê²°ê³¼ì ìœ¼ë¡œ Spring Bootë¥¼ ì‚¬ìš©í•´ì„œ propertiesì— DB ì—°ê²° ì •ë³´ë¥¼ ì…ë ¥í•˜ë©´ `HikariDataSource` êµ¬í˜„ì²´ê°€ ì‚¬ìš©ë˜ê³ , ê·¸ì— ë”°ë¼ _maxPoolSize_ ë¡œ ì„¤ì •ëœ ì‚¬ì´ì¦ˆë§Œí¼ Connection Poolì— Connection ê°ì²´ë¥¼ ë¯¸ë¦¬ ë§Œë“¤ì–´ ë†“ì€ ë‹¤ìŒ Connection ê°ì²´ë¥¼ ì¬ì‚¬ìš©í•˜ëŠ” ê²ƒê¹Œì§€ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.\n\n### 2-4. ë¶„ì‚° íŠ¸ëœì­ì…˜\n\nConnection Pool ì²˜ëŸ¼ DataSource ê°ì²´ë¡œ ë§Œë“¤ì–´ì§„ Connection ê°ì²´ëŠ” ë¶„ì‚° íŠ¸ëœì­ì…˜ì— ì°¸ì—¬í•  ìˆ˜ ìˆë‹¤.\n\në¶„ì‚° íŠ¸ëœì­ì…˜ì€ MSAì—ì„œ ì‚¬ìš©ë˜ëŠ” ê°œë…ì´ë¯€ë¡œ ì—¬ê¸°ì„  íŒ¨ìŠ¤í•˜ê² ë‹¤..!\n\n## 3. Statements\n\nConnection ê°ì²´ë¥¼ í†µí•´ DBì™€ ì„¸ì…˜ì„ ë§ºì—ˆìœ¼ë©´, ì´ì œ ì¿¼ë¦¬ë¥¼ ë‚ ë¦´ ì°¨ë¡€ë‹¤<br>\nJDBCëŠ” ê° DB ì¢…ë¥˜ì— ìƒê´€ì—†ì´ SQL ë¬¸ì„ ì‘ì„±í•  ìˆ˜ ìˆë„ë¡ `Statement` ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•œë‹¤.<br>\n\n`Statement`ì—ëŠ” ì„¸ ì¢…ë¥˜ê°€ ì¡´ì¬í•œë‹¤.<br>\n\n- `Statement`: ìˆœìˆ˜ ë¬¸ìì—´ë¡œ ì´ë£¨ì–´ì§„ SQL ë¬¸ì´ë‹¤. íŒŒë¼ë¯¸í„°ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤.\n- `PreparedStatement`: SQL ë¬¸ì— íŒŒë¼ë¯¸í„°ê°€ ì¡´ì¬í•  ë•Œ ì‚¬ìš©í•œë‹¤. `Statement` ê°ì²´ë¥¼ ìƒì†í•œë‹¤.\n- `CallableStatement`: ì…ë ¥ê³¼ ì¶œë ¥ì— íŒŒë¼ë¯¸í„°ë¥¼ í¬í•¨í•  ìˆ˜ ìˆëŠ” ìŠ¤í† ì–´ë“œ í”„ë¡œì‹œì €ë¥¼ ì‹¤í–‰í•  ë•Œ ì‚¬ìš©ëœë‹¤. `PreparedStatement`ë¥¼ ìƒì†í•œë‹¤.\n\nì•„ë˜ ì‚¬ì§„ì€ `Statement`ì™€ `PreparedStatement`ë¥¼ ì‚¬ìš©í•˜ëŠ” ì˜ˆì‹œ ì½”ë“œì´ë‹¤.<br>\n(`CallableStatment`ëŠ” ì‚¬ìš©í•´ë³¸ ì ì´ ì—†ê³  ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒ ê°™ì•„ ì œì™¸í–ˆë‹¤.)\n\n![Statementì™€ PreparedStatement](statements.png)\n\n`Statement` ì¸í„°í˜ì´ìŠ¤ì—ëŠ” ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ëŠ” ë©”ì„œë“œë“¤ì´ ì•„ë˜ì™€ ê°™ì´ ì¡´ì¬í•œë‹¤.\n\n- `execute`: ì¿¼ë¦¬ë¥¼ ìˆ˜í–‰í•˜ê³  ê·¸ ê²°ê³¼ê°€ `ResultSet`ì´ë©´ trueë¥¼, ê·¸ë ‡ì§€ ì•Šê³  ê²°ê³¼ê°’ì´ ì—†ê±°ë‚˜ update count ì¸ ê²½ìš° falseë¥¼ ë°˜í™˜í•œë‹¤.\n- `executeQuery`: ì¿¼ë¦¬ë¥¼ ìˆ˜í–‰í•˜ê³  `ResultSet` ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.\n- `executeUpdate`: ì¿¼ë¦¬ë¥¼ ìˆ˜í–‰ë˜ê³  ì¿¼ë¦¬ê°€ ì ìš©ëœ Row ìˆ˜ë¥¼ ë°˜í™˜í•œë‹¤.\n\n## 4. ResultSet\n\nì§€ê¸ˆê¹Œì§€ DBì™€ Connectionì„ ë§ºê³ , ì¿¼ë¦¬ë¥¼ ìˆ˜í–‰í–ˆìœ¼ë©´, ì¿¼ë¦¬ì˜ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¬ ì°¨ë¡€ë‹¤.<br>\n`ResultSet`ëŠ” DBì—ì„œ ì¡°íšŒí•´ì˜¨ ê²°ê³¼(ë°ì´í„°)ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê°ì²´ì´ë‹¤.<br>\n\n`ResultSet`ì—ëŠ” **ì»¤ì„œ ê°œë…**ì´ ì ìš©ëœë‹¤.<br>\nì¿¼ë¦¬ ê²°ê³¼ë¥¼ ì¡°íšŒí•´ì˜¤ë©´ ì²˜ìŒ ì»¤ì„œì˜ ìœ„ì¹˜ëŠ” -1ì´ë‹¤. ê·¸ë¦¬ê³  `ResultSet#next()` ë©”ì„œë“œë¥¼ í†µí•´ ë‹¤ìŒ í–‰ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.<br>\nì ‘ê·¼í•  í–‰ì´ ì¡´ì¬í•œë‹¤ë©´ `ResultSet#get???()` ë©”ì„œë“œë¥¼ í†µí•´ ê°’ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.<br>\n![ResultSetì— ìˆëŠ” ë§ì€ get ë©”ì„œë“œë“¤](get-methods.png)\në§Œì•½ id ì¹¼ëŸ¼ì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ë ¤ë©´ `resultSet.getLong(1);`ì„ í˜¸ì¶œí•˜ê±°ë‚˜ `resultSet.getObject(1, Long.class);`ë¥¼ í˜¸ì¶œí•˜ë©´ ë©ë‹ˆë‹¤.<br>\nì´ë•Œ **ì²« ë²ˆì§¸ íŒŒë¼ë¯¸í„°ë¡œ `columnIndex` ê°’ì´ ë“¤ì–´ê°€ê²Œ ë˜ëŠ”ë° ì´ ê°’ì€ `SELECT` ì ˆì— ìˆëŠ” ì¹¼ëŸ¼ ìˆœì„œ**ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. ì´ë•Œ ì£¼ì˜í•  ì ì€ ì²« ë²ˆì§¸ ê°’ì´ 0ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ì¼ë°˜ì ì¸ indexì™€ ë‹¤ë¥´ê²Œ 1ë¶€í„° ì‹œì‘í•œë‹¤ëŠ” ì ì´ë‹¤.\n\nì§ì ‘ ì½”ë“œë¡œ ì´í•´í•´ë³´ì.\n\n## 5. Connection ë¶€í„° ResultSet ê¹Œì§€ ì§ì ‘ ì½”ë“œë¡œ í™•ì¸í•´ë³´ê¸°\n\n`id`, `name` ì¹¼ëŸ¼ì„ ê°€ì§€ëŠ” `Member` í…Œì´ë¸”ì„ ë§Œë“¤ì.<br>\nê·¸ë¦¬ê³  `Statement`ë¥¼ ì´ìš©í•´ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ëŠ” ì½”ë“œì™€ `PreparedStatement`ë¥¼ í†µí•´ ì¿¼ë¦¬ì— íŒŒë¼ë¯¸í„°ë¥¼ ì‚½ì…í•˜ì—¬ ì¡°íšŒí•˜ëŠ” ìƒí™©ì„ ì½”ë“œë¡œ ì‘ì„±í•˜ê³  í…ŒìŠ¤íŠ¸ë¡œ ê²€ì¦í•´ë³´ê² ë‹¤.\n\n### 5-1. `Statement`ë¥¼ ì´ìš©í•´ ê²°ê³¼ ì¡°íšŒ \n\n![](using-statement.png)\n\nê°’ì´ ì˜ ë“¤ì–´ê°€ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n\n### 5-2. `PreparedStatement`ë¥¼ ì´ìš©í•´ ê²°ê³¼ ì¡°íšŒ\n\nì´ë²ˆì—” ì„±ì´ 'ê°•' ì”¨ì¸ memberë¥¼ ì¡°íšŒí•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.\n\n![](using-preparedstatement.png)\n\n## ë§ˆì¹˜ë©°\n\nì§€ê¸ˆê¹Œì§€ JDBCë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ `Connection`, `DriverManager`, `DataSource`, `ConnectionPool`, `Statement`, `ResultSet`ì— ëŒ€í•´ ì•Œì•„ë³´ë‹¤.\n\ní•­ìƒ JPA, Spring Data JPAë¥¼ ì‚¬ìš©í•˜ë‹¤ê°€ JDBCë¥¼ ì§ì ‘ ì‚¬ìš©í•´ë³´ë‹ˆ, ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ê³  ê²°ê³¼ë¥¼ ë°›ì•„ì˜¤ê¸°ê¹Œì§€ ë§ì€ ë¦¬ì†ŒìŠ¤ê°€ ë“¤ì–´ê°€ì§€ë§Œ DB ì—°ê²°ë¶€í„° ì¿¼ë¦¬ ì‘ì„±, ê²°ê³¼ë¥¼ ì¶”ì¶œí•˜ê¸°ê¹Œì§€ ì§ì ‘ í•´ë³´ë‹ˆ JPAê°€ ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ ê°€ì ¸ì˜¬ ì§€ ê·¸ë¦¼ì´ ê·¸ë ¤ì§€ëŠ” ê²ƒ ê°™ë‹¤.<br>\nJDBCëŠ” ë°ì´í„° ì ‘ê·¼ ê¸°ìˆ ì˜ ê°€ì¥ ê·¼ë³¸ì´ë©° ê¸°ë³¸ì´ë¯€ë¡œ í—·ê°ˆë¦´ ë•Œë§ˆë‹¤ ë‹¤ì‹œ ë³´ë©° ê³µë¶€í•´ì•¼ë‹¤.\n\n### References  \n> - https://www.geeksforgeeks.org/introduction-to-jdbc/\n> - https://docs.oracle.com/javase/tutorial/jdbc/basics/processingsqlstatements.html\n> - https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/javax/sql/package-summary.html\n \n---\n\n[^1]: [Optimizing InnoDB Read-Only Transactions - MySQL](https://dev.mysql.com/doc/refman/8.0/en/innodb-performance-ro-txn.html)"},{"excerpt":"ë“¤ì–´ê°€ë©° ì´ë²ˆì—ëŠ” ìŠ¤í”„ë§ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í•µì‹¬ì¸ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì™€ ìŠ¤í”„ë§ì˜ í•µì‹¬ í”„ë¡œê·¸ë˜ë° ëª¨ë¸ ì¤‘ í•˜ë‚˜ì¸ IoC/DIì— ëŒ€í•´ í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•´ë³´ê² ìŠµë‹ˆë‹¤. ì°¸ê³ ë¡œ í† ë¹„ì˜ ìŠ¤í”„ë§ 3.1ì„ í†µí•´ í•™ìŠµì„ ì§„í–‰í–ˆìŠµë‹ˆë‹¤. 1. IoC ì»¨í…Œì´ë„ˆ: Bean Factoryì™€ Application Context ìŠ¤í”„ë§ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ëŠ” ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ì¡´ì¬í•©ë‹ˆë‹¤.\nìŠ¤í”„â€¦","fields":{"slug":"/ioc-container-and-di/"},"frontmatter":{"date":"March 07, 2024","title":"[Spring] ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ, ê·¸ë¦¬ê³  IoC/DI","tags":["Spring","Spring Container","IoC/DI"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©°\n\nì´ë²ˆì—ëŠ” ìŠ¤í”„ë§ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í•µì‹¬ì¸ <u>ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ</u>ì™€ ìŠ¤í”„ë§ì˜ í•µì‹¬ í”„ë¡œê·¸ë˜ë° ëª¨ë¸ ì¤‘ í•˜ë‚˜ì¸ <u>IoC/DI</u>ì— ëŒ€í•´ í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•´ë³´ê² ìŠµë‹ˆë‹¤.\n\nì°¸ê³ ë¡œ [í† ë¹„ì˜ ìŠ¤í”„ë§ 3.1](https://m.yes24.com/Goods/Detail/75738556)ì„ í†µí•´ í•™ìŠµì„ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.\n\n## 1. IoC ì»¨í…Œì´ë„ˆ: Bean Factoryì™€ Application Context\n\nìŠ¤í”„ë§ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ëŠ” ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ì¡´ì¬í•©ë‹ˆë‹¤.<br>\nìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” ê°ì²´ ìƒì„±, ì˜ì¡´ì„± ì£¼ì…(DI), ê°ì²´ ì†Œë©¸ì„ ê°œë°œì ëŒ€ì‹  ìˆ˜í–‰í•©ë‹ˆë‹¤.<br>\nì´ ë•Œë¬¸ì— ì œì–´ì˜ ì—­ì „, Inversion of Control. ì¦‰, **ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆë¥¼ IoC ì»¨í…Œì´ë„ˆë¼ê³ ë„ ë¶€ë¦…ë‹ˆë‹¤.**<br>\në˜ëŠ” ê²½ìš°ì— ë”°ë¼ **Bean Factory**ë‚˜ **Application Context** ë¼ê³  ë¶€ë¥´ê¸°ë„ í•©ë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ Bean Factoryì™€ Application ContextëŠ” ëŠë‚Œì´ ì•½ê°„ ë‹¤ë¦…ë‹ˆë‹¤.<br>\nê°ì²´ì˜ ìƒì„±ê³¼ ì†Œë©¸, DIë¥¼ ìˆ˜í–‰í•˜ëŠ” ê´€ì ì—ì„œëŠ” Bean Factory ë¼ê³  í•  ìˆ˜ ìˆì§€ë§Œ, ì‚¬ì‹¤ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” ë” ë§ì€ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.<br>\nì´ëŸ¬í•œ ì‘ì—…ë“¤ì„ ëª¨ë‘ í¬í•¨í•´ì„œ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆë¥¼ ë´¤ì„ ë• Application Context ë¼ê³  ë¶€ë¥´ëŠ” ê²ƒì´ í•©ë‹¹í•  ìˆ˜ ìˆê² ìŠµë‹ˆë‹¤.<br>\në”°ë¼ì„œ ì¼ë°˜ì ìœ¼ë¡œ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆë¥¼ **Application Context**ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.\n\nì‹¤ì œë¡œ ì•„ë˜ ì‚¬ì§„ì„ ë³´ì‹œë©´ `ApplicationContext`ê°€ `BeanFactory`ë¥¼ ìƒì†ë°›ì•„ ê¸°ëŠ¥ì„ í™•ì¥í•˜ê³  ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>\n(í´ë¦­í•˜ë©´ í¬ê²Œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤!) \n\n![ì‹¤ì œ ìƒì† êµ¬ì¡°](inherit.png)\n\n> #### ìš”ì•½<br>\n> 1. ìŠ¤í”„ë§ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ëŠ” ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ì¡´ì¬í•œë‹¤.<br>\n> 2. ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” ê°ì²´ì˜ ìƒëª…ì£¼ê¸°ì™€ ì˜ì¡´ì„± ì£¼ì…ì„ ìˆ˜í–‰í•œë‹¤.<br>\n> 3. ê²½ìš°ì— ë”°ë¼ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” IoC ì»¨í…Œì´ë„ˆ, Bean Factory, Application Context ë¼ê³  ë¶ˆë¦°ë‹¤.<br>\n> 4. í•˜ì§€ë§Œ BeanFactoryì™€ ApplicationContextì˜ ì—­í• ì„ ë”°ì¡Œì„ ë•Œ, ì¼ë°˜ì ìœ¼ë¡œ Application Context ë¡œ ë¶ˆë¦°ë‹¤.\n\n## 2. IoC ì»¨í…Œì´ë„ˆì˜ ë™ì‘ì›ë¦¬\n\nê·¸ëŸ¼ IoC ì»¨í…Œì´ë„ˆëŠ” ì–´ë–»ê²Œ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ì†Œë©¸í•˜ë©°, í•„ìš”í•œ ì˜ì¡´ì„±ì„ ì£¼ì…í•˜ê²Œ ë˜ëŠ” ê²ƒì¼ê¹Œìš”?<br>\në°”ë¡œ <u>POJO í´ë˜ìŠ¤ì™€ ì„¤ì • ë©”íƒ€ì •ë³´ë¥¼ ì´ìš©í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</u><br>\n\n### POJO í´ë˜ìŠ¤\n\nPOJO(Plain Old Java Object)ëŠ” <u>Javaë¡œë§Œ ë§Œë“¤ì–´ì§„ ìˆœìˆ˜ í´ë˜ìŠ¤ íŒŒì¼ì…ë‹ˆë‹¤.</u><br>\në°”ë¡œ ì´ POJO í´ë˜ìŠ¤ê°€ ê°œë°œìê°€ ì‘ì„±í•œ ì½”ë“œê°€ ë˜ëŠ” ê²ƒì´ì£ .<br>\nRepository ê°ì²´ê°€ ë  ìˆ˜ ìˆê³ , Service ê°ì²´ê°€ ë  ìˆ˜ ìˆìœ¼ë©°, ìˆœìˆ˜í•œ Domain ê°ì²´ê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n#### ì„¤ì • ë©”íƒ€ì •ë³´\n\nì„¤ì • ë©”íƒ€ì •ë³´ëŠ” <u>ìŠ¤í”„ë§ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ê²Œ ëŸ°íƒ€ì„ì— ì‚¬ìš©í•  POJO ê°ì²´ì„ì„ ì„ ì–¸í•˜ê³ , ì´ë¡œ ì¸í•´ IoC ì»¨í…Œì´ë„ˆê°€ ì œì–´í•  ìˆ˜ ìˆë„ë¡ ì•Œë ¤ì£¼ëŠ” ë©”íƒ€ì •ë³´ì…ë‹ˆë‹¤.</u><br>\nì¦‰, ìŠ¤í”„ë§ì—ê²Œ Beanìœ¼ë¡œ ë“±ë¡í•  ê°ì²´ë¥¼ ì•Œë¦¬ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.<br>\n(ì—¬ê¸°ì„œ Beanì´ë€, ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì— ìƒì„±ë˜ì–´ ê´€ë¦¬ë˜ëŠ” ê°ì²´ë¥¼ ì¼ì»«ëŠ” ìš©ì–´ì…ë‹ˆë‹¤.)\n\nê²°êµ­ <u>ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” POJOì™€ ì„¤ì • ë©”íƒ€ì •ë³´ë¥¼ ê°€ì§€ê³  IoC/DI ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</u>\n\n![ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ](spring-container.png)\n\nì„¤ì • ë©”íƒ€ì •ë³´ëŠ” `BeanDefinition` ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ìˆœìˆ˜í•œ ì¶”ìƒ ì •ë³´ì´ê³ , ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” ë°”ë¡œ ì´ `BeanDefinition`ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ê°ì²´ë¥¼ ì‚¬ìš©í•´ IoC/DI ì‘ì—…ì„ ìˆ˜í–‰í•˜ê²Œ ë˜ëŠ” ê²ƒì…ë‹ˆë‹¤.<br>\në”°ë¼ì„œ ì œê³µí•˜ë ¤ëŠ” ë©”íƒ€ì •ë³´ë¥¼ ì½ì–´ì„œ `BeanDefinition` ê°ì²´ë¡œ ë§Œë“¤ì–´ ë“±ë¡í•˜ëŠ” `BeanDefinitionReader`ë§Œ ìˆë‹¤ë©´ ì–´ë–¤ ë°©ë²•ìœ¼ë¡œë“  ëª¨ë‘ ê°€ëŠ¥í•©ë‹ˆë‹¤.<br>\nì£¼ë¡œ XML, ì–´ë…¸í…Œì´ì…˜ ë“±ê³¼ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ë©”íƒ€ì •ë³´ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.<br>\n\n<u>ê²°ê³¼ì ìœ¼ë¡œ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” ê° ê°ì²´ì— ëŒ€í•œ ì •ë³´ë¥¼ ë‹´ì€ ì„¤ì • ë©”íƒ€ì •ë³´ë¥¼ ì½ê³ , ì´ë¥¼ í™œìš©í•´ IoC/DI ì‘ì—…ì„ ìˆ˜í–‰í•˜ê²Œ ë©ë‹ˆë‹¤.</u><br>\n<u>ì´ ì‘ì—…ë“¤ì„ í†µí•´ ë§Œë“¤ì–´ì§„ ê°ì²´ë“¤ì´ ëª¨ì—¬ í•˜ë‚˜ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì„±í•˜ê³  ë™ì‘í•˜ê²Œ ë˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</u>\n\n> #### ìš”ì•½<br>\n> 1. IoC ì»¨í…Œì´ë„ˆëŠ” POJO í´ë˜ìŠ¤ì™€ ì„¤ì • ë©”íƒ€ì •ë³´ë¥¼ ì´ìš©í•´ IoC/DI ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.<br>\n> 2. POJO í´ë˜ìŠ¤ëŠ” ê°œë°œìê°€ ì‘ì„±í•œ ìˆœìˆ˜ Java ì½”ë“œì´ë‹¤.<br>\n> 3. ì„¤ì • ë©”íƒ€ì •ë³´ëŠ” Beanìœ¼ë¡œ ë“±ë¡í•  ê°ì²´ì„ì„ ìŠ¤í”„ë§ì—ê²Œ ì•Œë¦¬ëŠ” ë°©ë²•ì´ë‹¤.<br>\n> 4. IoC ì»¨í…Œì´ë„ˆëŠ” ë©”íƒ€ì •ë³´ë¥¼ í†µí•´ ê°ì²´ë“¤ì„ ìƒì„±í•˜ë©° DI ì‘ì—…ì„ ìˆ˜í–‰í•˜ê³  ë§ˆì¹¨ë‚´ ìŠ¤í”„ë§ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë™ì‘í•˜ê²Œ ëœë‹¤.<br>\n\n### ì§ì ‘ IoC ì»¨í…Œì´ë„ˆ ë§Œë“¤ì–´ë³´ê¸°\n\nì´ì œëŠ” ì§ì ‘ ì½”ë“œë¥¼ í†µí•´ IoC ì»¨í…Œì´ë„ˆë¥¼ ë§Œë“¤ì–´ë³´ê³  ëˆˆìœ¼ë¡œ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤.<br>\në‹¤ì‹œ í•œë²ˆ ìƒê¸°ì‹œí‚¤ìë©´ IoC ì»¨í…Œì´ë„ˆëŠ” **POJO**ì™€ **ì„¤ì • ë©”íƒ€ì •ë³´**ê°€ í•„ìš”í•©ë‹ˆë‹¤.\n\nìš°ì„  POJO ë§Œìœ¼ë¡œ IoC ì»¨í…Œì´ë„ˆì— Beanìœ¼ë¡œ ë“±ë¡í•´ë³´ê² ìŠµë‹ˆë‹¤.\n\n```java\nclass Hello {\n\n    private String name;\n    private Printer printer;\n\n    public String sayHello() {\n        return \"Hello \" + name;\n    }\n\n    public void print() {\n        printer.print(sayHello());\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void setPrinter(Printer printer) {\n        this.printer = printer;\n    }\n}\n\ninterface Printer {\n    \n    void print(String message);\n}\n\nclass StringPrinter implements Printer {\n\n    private final StringBuffer buffer = new StringBuffer();\n\n    @Override\n    public void print(String message) {\n        buffer.append(message);\n    }\n\n    public String toString() {\n        return buffer.toString();\n    }\n}\n\nclass ConsolePrinter implements Printer {\n\n    @Override\n    public void print(String message) {\n        System.out.println(message);\n    }\n}\n```\n\n![í…ŒìŠ¤íŠ¸1 ê²°ê³¼](test1-result.png)\n\ní…ŒìŠ¤íŠ¸ ìˆ˜í–‰ ê²°ê³¼, ê°œë°œìê°€ ë”°ë¡œ `Hello` ê°ì²´ë¥¼ ë§Œë“¤ì–´ì£¼ì§€ ì•Šì•„ë„ IoC ì»¨í…Œì´ë„ˆì— ê°ì²´ë¡œ ë§Œë“¤ì–´ì ¸ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>\nì´ì œëŠ” ì§ì ‘ `BeanDefinition`ì„ í™œìš©í•´ ì„¤ì • ë©”íƒ€ì •ë³´ë¥¼ ë§Œë“¤ê³  `Printer`ì— ëŒ€í•œ ì˜ì¡´ì„± ì£¼ì…ê¹Œì§€ í•´ë³´ê² ìŠµë‹ˆë‹¤.<br>\n> ì˜ì¡´ì„± ì£¼ì…ì„ ë°›ëŠ” ë°©ë²•ìœ¼ë¡œëŠ” setter ì£¼ì…, í•„ë“œ ì£¼ì…, ìƒì„±ì ì£¼ì…ì´ ìˆìŠµë‹ˆë‹¤.<br>\n> ë³¸ ê¸€ì—ì„œëŠ” í¸ì˜ë¥¼ ìœ„í•´ setter ì£¼ì…ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.\n\n```java\n@Test\nvoid test2() {\n    // given\n    StaticApplicationContext applicationContext = new StaticApplicationContext();\n\n    RootBeanDefinition printerBeanDefinition = new RootBeanDefinition(StringPrinter.class);\n    applicationContext.registerBeanDefinition(\"printer\", stringPrinterBeanDefinition);\n\n    // when\n    BeanDefinition helloBeanDefinition = new RootBeanDefinition(Hello.class);\n    MutablePropertyValues propertyValues = helloBeanDefinition.getPropertyValues();\n    propertyValues.addPropertyValue(\"name\", \"World!\");\n    propertyValues.addPropertyValue(\"printer\", new RuntimeBeanReference(\"printer\"));\n    applicationContext.registerBeanDefinition(\"hello\", helloBeanDefinition);\n\n    // then\n    Hello hello = applicationContext.getBean(\"hello\", Hello.class);\n    hello.print();\n\n    assertThat(applicationContext.getBean(\"printer\").toString()).isEqualTo(\"Hello World!\");\n}\n```\n\nìœ„ í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œëŠ” `StringPrinter`ë¥¼ IoC ì»¨í…Œì´ë„ˆì— Beanìœ¼ë¡œ ë“±ë¡í•˜ê³  `Hello` ê°ì²´ì— `addPropertyValue` ë©”ì„œë“œë¥¼ í†µí•´ ì£¼ì…í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.<br>\në§Œì•½ ìƒì„±ì ì£¼ì…ì´ë¼ë©´ ì•„ë˜ì™€ ê°™ì´ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ ë©ë‹ˆë‹¤.\n\n```java\nBeanDefinition helloBeanDefinition = new RootBeanDefinition(Hello.class);\nConstructorArgumentValues constructorArgumentValues = helloBeanDefinition.getConstructorArgumentValues();\nconstructorArgumentValues.addIndexedArgumentValue(0, \"World!\");\nconstructorArgumentValues.addIndexedArgumentValue(1, new RuntimeBeanReference(\"printer\"));\n```\n\nì´ë²ˆì—ëŠ” ì½”ë“œ í•œ ì¤„ë§Œ ë°”ê¿” `ConsolePrinter`ê°€ ì£¼ì…ë˜ë„ë¡ ìˆ˜ì •í•´ë³´ê² ìŠµë‹ˆë‹¤.\n\n![ConsolePrinter ì£¼ì…](console-printer-injection.png)\n\ní…ŒìŠ¤íŠ¸ë¥¼ ëŒë ¤ë³´ë©´ ì‹¤ì œë¡œ `Hello World!` ê°€ ì½˜ì†”ì°½ì— ì¶œë ¥ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në§ˆì§€ë§‰ìœ¼ë¡œ IoC ì»¨í…Œì´ë„ˆì—ì„œ Beanì„ ì‚­ì œí•˜ëŠ” ê²ƒë„ í…ŒìŠ¤íŠ¸í•´ë³´ê² ìŠµë‹ˆë‹¤.\n\n```java\n@Test\nvoid test4() {\n    // given\n    StaticApplicationContext applicationContext = new StaticApplicationContext();\n\n    RootBeanDefinition printerBeanDefinition = new RootBeanDefinition(ConsolePrinter.class);\n    applicationContext.registerBeanDefinition(\"printer\", printerBeanDefinition);\n\n    // when\n    applicationContext.removeBeanDefinition(\"printer\");\n\n    // then\n    assertThatThrownBy(() -> applicationContext.getBean(\"printer\"))\n            .isInstanceOf(NoSuchBeanDefinitionException.class);\n}\n```\n\n![Bean ì‚­ì œ í…ŒìŠ¤íŠ¸ ê²°ê³¼](result-test4.png)\n\nBean ì‚­ì œ ë˜í•œ ê°€ëŠ¥í•œ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì§€ê¸ˆê¹Œì§€ POJOì™€ `BeanDefinition`ì„ ì´ìš©í•œ ì„¤ì • ë©”íƒ€ì •ë³´ë¥¼ í†µí•´ IoC ì»¨í…Œì´ë„ˆë¥¼ ë§Œë“¤ì–´ë³´ì•˜ìŠµë‹ˆë‹¤.<br>\nì½”ë“œë¡œ ì§ì ‘ í…ŒìŠ¤íŠ¸í•´ë³´ë‹ˆ ê°ì²´ ìƒì„±, ì˜ì¡´ì„± ì£¼ì…, ê°ì²´ ì‚­ì œê¹Œì§€ ê°ì²´ì˜ ëª¨ë“  ìƒëª… ì£¼ê¸°ë¥¼ ê´€ë¦¬í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.\n\n## ë§ˆì¹˜ë©°\n\nìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì™€ IoC/DIì— ëŒ€í•´ ì–´ëŠì •ë„ ì•Œê³  ìˆë‹¤ê³  ìƒê°í–ˆì§€ë§Œ ë§‰ìƒ ë‹¤ì‹œ ê³µë¶€í•´ë³´ë‹ˆ ìƒˆë¡œìš´ ëŠë‚Œì´ì—ˆìŠµë‹ˆë‹¤.<br>\nê²Œë‹¤ê°€ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ í†µí•´ ì§ì ‘ ëˆˆìœ¼ë¡œ í™•ì¸í•´ë³´ë‹ˆ ì¡°ê¸ˆ ë” ì˜ ì™€ë‹¿ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.\n\në‹¤ìŒìœ¼ë¡œëŠ” IoC ì»¨í…Œì´ë„ˆì˜ ì¢…ë¥˜ ì¤‘ í•˜ë‚˜ì¸ `WebApplicationContext`ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤."},{"excerpt":"ë“¤ì–´ê°€ë©° ì´ ê¸€ì€ ê·¸ë¦¼ìœ¼ë¡œ ë°°ìš°ëŠ” Http & Network Basicì„ ì½ê³  í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤. ì´ë²ˆ ì¥ì—ì„œëŠ” HTTP í—¤ë”ì— ëŒ€í•´ í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•´ë³´ê² ìŠµë‹ˆë‹¤. ì¶”ê°€ë¡œ HTTP Entityì— ëŒ€í•´ì„œë„ í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•´ë³´ê² ìŠµë‹ˆë‹¤. HTTP í—¤ë”ë€ HTTP í—¤ë”ëŠ” HTTP ìš”ì²­ê³¼ ì‘ë‹µì— ëª¨ë‘ í¬í•¨ë˜ëŠ” ê°œë…ì…ë‹ˆë‹¤.   ìœ„ ì‚¬ì§„ì—ì„œ ë³´ì‹œë‹¤ì‹¶â€¦","fields":{"slug":"/06-http-header/"},"frontmatter":{"date":"March 06, 2024","title":"6ì¥. HTTP í—¤ë”","tags":["Network"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©°\n\nì´ ê¸€ì€ [ê·¸ë¦¼ìœ¼ë¡œ ë°°ìš°ëŠ” Http & Network Basic](https://m.yes24.com/Goods/Detail/15894097)ì„ ì½ê³  í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.\n\nì´ë²ˆ ì¥ì—ì„œëŠ” HTTP í—¤ë”ì— ëŒ€í•´ í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•´ë³´ê² ìŠµë‹ˆë‹¤. ì¶”ê°€ë¡œ HTTP Entityì— ëŒ€í•´ì„œë„ í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•´ë³´ê² ìŠµë‹ˆë‹¤.\n\n## HTTP í—¤ë”ë€\n\nHTTP í—¤ë”ëŠ” HTTP ìš”ì²­ê³¼ ì‘ë‹µì— ëª¨ë‘ í¬í•¨ë˜ëŠ” ê°œë…ì…ë‹ˆë‹¤.<br>\n\n![ì‹¤ì œ HTTP ìš”ì²­ê³¼ ì‘ë‹µì— í¬í•¨ë˜ì–´ ìˆëŠ” í—¤ë”ë“¤](example.png)\n\n![Springìœ¼ë¡œ Http Responseë¥¼ Loggingí•œ ê²°ê³¼](header-example.png)\n\nìœ„ ì‚¬ì§„ì—ì„œ ë³´ì‹œë‹¤ì‹¶ì´ ê°ê°ì˜ í—¤ë”ëŠ” `{Header Name}: {Header Value}` ë¡œ ì´ë£¨ì–´ì ¸ ìˆìŠµë‹ˆë‹¤.\n\n`:` ì „í›„ë¡œ ê³µë°±ì´ Optionalí•˜ê²Œ í¬í•¨ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në°”ë¡œ ì´ í—¤ë”ë¥¼ í†µí•´ ìš”ì²­ê³¼ ì‘ë‹µì— í•„ìš”í•œ ì •ë³´ë“¤ì„ ë‹´ì•„ ì „ë‹¬í•˜ê²Œ ë˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\në˜ ì¤‘ìš”í•œ ì ì€ í•˜ë‚˜ì˜ í—¤ë”ê°€ 2ê°œ ì´ìƒì˜ ê°’ì´ í¬í•¨ë  ìˆ˜ ìˆë‹¤ëŠ” ì ì¸ë°ìš”. `Set-Cookie` ì²˜ëŸ¼ `;`ë¥¼ êµ¬ë¶„ìë¡œ í•  ìˆ˜ë„ ìˆê³  í˜¹ì€ `Accept-CH`ì²˜ëŸ¼ `,`ë¥¼ êµ¬ë¶„ìë¡œ í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì…ë‹ˆë‹¤.\n\nì¶”ê°€ë¡œ í—¤ë”ì˜ Nameì€ ëŒ€ì†Œë¬¸ìë¥¼ êµ¬ë¶„í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n## HTTP í—¤ë”ì˜ ì¢…ë¥˜\n\nHTTP í—¤ë”ëŠ” ì‚¬ìš©ë˜ëŠ” ìš©ë„ì— ë”°ë¼ 4ê°€ì§€ë¡œ ë¶„ë¥˜ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n### ì¼ë°˜ì ì¸ í—¤ë” í•„ë“œ (General Header Fields)\n\nìš”ì²­ê³¼ ì‘ë‹µ ëª¨ë‘ ì‚¬ìš©ë˜ëŠ” í—¤ë”ê°€ ì—¬ê¸°ì— ì†í•©ë‹ˆë‹¤.\n\n`Cache-Control`, `Connection`, `Date`, `Pragma`, `Transfer-Encoding`, `Via` ë“±ì´ ì†í•©ë‹ˆë‹¤.\n\n> Via: í”„ë¡ì‹œ ì„œë²„ì— ê´€í•œ ì •ë³´\n\n### ìš”ì²­ í—¤ë” í•„ë“œ (Request Header Fields)\n\nìš”ì²­ê³¼ ê´€ë ¨ëœ ì •ë³´ë¥¼ í¬í•¨í•˜ëŠ” í—¤ë”ê°€ ì—¬ê¸°ì— ì†í•©ë‹ˆë‹¤.\n\n`Accept`, `Accept-Charset`, `Accept-Encoding`, `Accept-Language`, `Host`, `If-Match`, `If-Modified-Since`, `Proxy-Authorization`, `Referer`, `TE`, `User-Agent` ë“±ì´ ì†í•©ë‹ˆë‹¤.\n\n> `Accept`: í´ë¼ì´ì–¸íŠ¸ê°€ ì²˜ë¦¬ ê°€ëŠ¥í•œ ë¯¸ë””ì–´ íƒ€ì…<br>\n> `If-Match`: ì—”í‹°í‹° íƒœê·¸ì˜ ë¹„êµ<br>\n> `If-Modifed-Since`: ë¦¬ì†ŒìŠ¤ì˜ ê°±ì‹  ì‹œê°„ ë¹„êµ<br>\n> `User-Agent`: HTTP í´ë¼ì´ì–¸íŠ¸ì˜ ì •ë³´\n\n### ì‘ë‹µ í—¤ë” í•„ë“œ (Response Header Fields)\n\nì‘ë‹µê³¼ ê´€ë ¨ëœ ì •ë³´ë¥¼ í¬í•¨í•˜ëŠ” í—¤ë”ê°€ ì—¬ê¸°ì— ì†í•©ë‹ˆë‹¤.\n\n`Accept-Ranges`, `Age`, `Etag`, `Location`, `Server`, `Vary` ë“±ì´ ì†í•©ë‹ˆë‹¤.\n\n> `Accept-Ranges`: ë°”ì´íŠ¸ ë‹¨ìœ„ì˜ ìš”êµ¬ë¥¼ ìˆ˜ì‹ í•  ìˆ˜ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ ì—¬ë¶€<br>\n> `Age`: ë¦¬ì†ŒìŠ¤ì˜ ì§€ì • ê²½ê³¼ ì‹œê°„<br>\n> `Etag`: ë¦¬ì†ŒìŠ¤ë¥¼ íŠ¹ì •í•˜ê¸° ìœ„í•œ ì •ë³´<br>\n> `Location`: í´ë¼ì´ì–¸íŠ¸ë¥¼ íŠ¹ì • URIì— ë¦¬ë‹¤ì´ë ‰íŠ¸ ì‹œí‚¤ê¸° ìœ„í•œ ì£¼ì†Œ<br>\n> `Server`: ì„œë²„ ì •ë³´<br>\n> `Vary`: í”„ë¡ì‹œ ì„œë²„ì— ëŒ€í•œ ìºì‹œ ê´€ë¦¬ ì •ë³´\n\n### ì—”í‹°í‹° í—¤ë” í•„ë“œ (Entity Header Fields)\n\nHTTP Requestì— í¬í•¨ëœ Entityì™€ ê´€ë ¨ëœ í—¤ë”ê°€ ì—¬ê¸°ì— ì†í•©ë‹ˆë‹¤.\n\n`Allow`, `Content-Encoding`, `Content-Language`, `Content-Length`, `Content-Location`, `Content-Type`, `Expries`, `Last-Modifed` ë“±ì´ ì†í•©ë‹ˆë‹¤.\n\n> `Allow`: ë¦¬ì†ŒìŠ¤ê°€ ì œê³µí•˜ëŠ” HTTP Method<br>\n> `Expires`: ë©”ì‹œì§€ ë°”ë””ì˜ ìœ íš¨ê¸°í•œ ë‚ ì§œ<br>\n> `Last-Modified`: ë¦¬ì†ŒìŠ¤ì˜ ìµœì¢… ê°±ì‹  ë‚ ì§œ\n\n### í—¤ë” í•„ë“œì˜ ìˆœì„œ\n\nì¼ë°˜ì ìœ¼ë¡œ _General - Request or Response - Entity_ ìˆœìœ¼ë¡œ Headerë¥¼ ë³´ë‚´ëŠ” ê²ƒì´ ì¢‹ì€ ê´€í–‰ì´ë¼ê³  í•©ë‹ˆë‹¤.\n\n### HTTP Entity? Entity Header? Entity Body? Message Body?\n\nì—¬ê¸°ì„œ ì ê¹, HTTP ëª…ì„¸ì™€ ê´€ë ¨ëœ ë¬¸ì„œë¥¼ ì½ë‹¤ë³´ë©´ HTTP Entity, Entity Header, Entity Body, Message Bodyì— ëŒ€í•œ ë‚´ìš©ì´ ì¢…ì¢… ë‚˜íƒ€ë‚©ë‹ˆë‹¤.\n\nHTTP EntityëŠ” Status Lineì„ ì œì™¸í•œ ëª¨ë“  Lineì„ ì˜ë¯¸í•˜ëŠ” ê²ƒìœ¼ë¡œ ì´í•´í–ˆìœ¼ë©°<br>\nEntity HeaderëŠ” HTTP Header Fields, Entity BodyëŠ” Message Bodyë¥¼ ì˜ë¯¸í•˜ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.\n\n[ìŠ¤íƒ ì˜¤ë²„í”Œë¡œìš°](https://stackoverflow.com/questions/9197745/what-exactly-is-an-http-entity)ì— ë”°ë¥´ë©´ ì˜›ë‚  ë¬¸ì„œì—ëŠ” Entityë¼ëŠ” ê°œë…ì´ í¬í•¨ë˜ì—ˆì§€ë§Œ í˜„ì¬ëŠ” `Header Fields`, `Message Body` ë§Œìœ¼ë¡œ í‘œí˜„í•œë‹¤ê³  í•©ë‹ˆë‹¤.<br>\nì‹¤ì œë¡œ 1999ë…„ì— ë‚˜ì˜¨ [RFC 2616](https://datatracker.ietf.org/doc/html/rfc2616)ì—ì„œëŠ” Entityì™€ ê´€ë ¨ëœ ì •ë³´ë“¤ì´ ë§ì´ í¬í•¨ë˜ì–´ ìˆì§€ë§Œ 2024ë…„ì— ë‚˜ì˜¨ [RFC 9112](https://datatracker.ietf.org/doc/rfc9112/)ì—ì„œëŠ” Entityì™€ ê´€ë ¨ëœ ë‚´ìš©ì€ ì°¾ì•„ë³¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\n## Cookie í—¤ë”ì— ëŒ€í•´ ì•Œì•„ë³´ì\n\në‹¤ë¥¸ ë§ì€ í—¤ë”ë“¤ì— ëŒ€í•´ì„œë„ ì•Œì•„ë³´ë©´ ì¢‹ê² ì§€ë§Œ, ì•„ë¬´ë˜ë„ ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ì§€ë§Œ ìƒê°ë³´ë‹¤ ì‚¬ìš©í•˜ê¸° ê¹Œë‹¤ë¡œìš´ í—¤ë”ì¸ Cookieì— ëŒ€í•´ì„œ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.\n\n### ì¿ í‚¤?\n\në¹„ìƒíƒœì„± í”„ë¡œí† ì½œì¸ HTTPì—ì„œ í´ë¼ì´ì–¸íŠ¸ì˜ ìƒíƒœë¥¼ ì €ì¥í•˜ê¸° ìœ„í•´ ì¿ í‚¤ê°€ ë„ì…ë˜ì—ˆìŠµë‹ˆë‹¤.<br>\nì£¼ë¡œ ì„¸ì…˜ì´ë‚˜ í† í°ê³¼ ê°™ì€ ì¸ì¦ ì •ë³´ë¥¼ ë‹´ëŠ” ê²ƒìœ¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤. \n\ní•˜ì§€ë§Œ ì´ ì¿ í‚¤ëŠ” ì—¬ëŸ¬ ê°€ì§€ ì†ì„±ë“¤ì´ ìˆê³  ë³´ì•ˆì„ ìœ„í•œ ì—¬ëŸ¬ ì œì•½ ì‚¬í•­ë“¤ì´ ìˆìŠµë‹ˆë‹¤.<br>\nì´ë¡œ ì¸í•´ ë¡œê·¸ì¸ ê¸°ëŠ¥ì„ êµ¬í˜„í•  ë•Œ, `Set-Cookie`ì—ëŠ” ì˜ ë‹´ê¸°ì§€ë§Œ ìš”ì²­ì„ ë³´ë‚¼ ë•Œ `Cookie`ê°€ ì•ˆë‹´ê²¨ì ¸ ê°€ëŠ” ë¬¸ì œë“¤ì´ ë§ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n### Set-Cookie ë§Œë“¤ê¸°\n\nì¿ í‚¤ë¥¼ í™œìš©í•˜ë ¤ë©´ ê°€ì¥ ë¨¼ì € ì„œë²„ê°€ `Set-Cookie` í—¤ë”ê°€ ê°’ì„ ë‹´ì•„ì„œ ì‘ë‹µí•´ì•¼ í•©ë‹ˆë‹¤.\n\nSpring Boot 3ì„ ê¸°ì¤€ìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì´ Cookie ê°ì²´ë¥¼ ë§Œë“¤ê³  `ResponseEntity#header()`ì— ê°’ì„ ë„£ì–´ `Set-Cookie` í—¤ë”ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n![ì¿ í‚¤ ë§Œë“¤ê¸°](create-cookie-in-spring.png)\n\n### Cookie\n\n`Set-Cookie`ë¥¼ ìˆ˜ì‹ í•œ í´ë¼ì´ì–¸íŠ¸ëŠ” ë¸Œë¼ìš°ì €ì— ì¿ í‚¤ ì •ë³´ë¥¼ ë³´ê´€í•˜ê³  ìˆë‹¤ê°€, `Cookie`ë¥¼ ë§Œë“¤ì–´ì¤€ ì„œë²„ë¡œ ìš”ì²­ì„ ë³´ë‚¼ ë•Œ `Cookie` í—¤ë”ì— ë³´ê´€í•´ë’€ë˜ ì¿ í‚¤ ì •ë³´ë¥¼ í¬í•¨í•˜ì—¬ ì „ì†¡í•©ë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ Expires(or Max-Age), Domain, Path, HttpOnly, SameSite ì™€ ê°™ì€ ì†ì„±ë“¤ ë•Œë¬¸ì— ìš”ì²­ì— ì¿ í‚¤ê°€ ë‹´ê²¨ì§€ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì§€ê¸ˆë¶€í„´ ì´ ì†ì„±ë“¤ì— ëŒ€í•´ ìì„¸íˆ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.\n\n### Secure, HttpOnly\n\nSecure ì†ì„±ì€ HTTPS í”„ë¡œí† ì½œë¡œ ì „ì†¡ë˜ëŠ” ìš”ì²­ì¼ ë•Œë§Œ ì „ì†¡ë©ë‹ˆë‹¤.\n\nHttpOnly ì†ì„±ì€ XSS ê³µê²©ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ JavaScriptì˜ `Document.cookie`ë¡œ Cookieì— ì ‘ê·¼í•  ìˆ˜ ì—†ë„ë¡ ë§‰ìŠµë‹ˆë‹¤.\n\nì´ ë‘ ì†ì„±ì´ ë‹´ê¸°ë©´ `Set-Cookie: JSESSIONID=abcde; Secure; HttpOnly` ì™€ ê°™ì´ ì¿ í‚¤ ê°’ì— í¬í•¨ë©ë‹ˆë‹¤.\n\n### Domain, Path\n\nDomain ì†ì„±ì€ ì¿ í‚¤ê°€ ì „ì†¡ë  í˜¸ìŠ¤íŠ¸ë¥¼ ëª…ì‹œí•©ë‹ˆë‹¤. ë§Œì•½ ëª…ì‹œë˜ì§€ ì•ŠëŠ”ë‹¤ë©´, ì¿ í‚¤ë¥¼ ìƒì„±í•œ ì„œë²„ì˜ í˜¸ìŠ¤íŠ¸ê°€ ìë™ìœ¼ë¡œ í• ë‹¹ë©ë‹ˆë‹¤.<br>\nê·¸ë ‡ë‹¤ê³  ì›í•˜ëŠ” í˜¸ìŠ¤íŠ¸ë¥¼ ëª¨ë‘ ì„¤ì •í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì„¤ì •í•  ìˆ˜ ìˆëŠ” ê°’ìœ¼ë¡œëŠ” í˜„ì¬ ì„œë²„ì˜ ë„ë©”ì¸ í˜¹ì€ ì„œë¸Œ ë„ë©”ì¸ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.<br>\n(ì˜ˆë¥¼ ë“¤ì–´ listywave.com ì—ì„œ ì¿ í‚¤ë¥¼ ë§Œë“¤ì—ˆë‹¤ë©´, listywave.com í˜¹ì€ www.listywave.comìœ¼ë¡œë§Œ ì„¤ì • ê°€ëŠ¥í•©ë‹ˆë‹¤.)<br>\në§Œì•½ ë‹¤ë¥¸ ë„ë©”ì¸ìœ¼ë¡œ ì„¤ì •í–ˆë‹¤ë©´ ë¬´ì‹œë©ë‹ˆë‹¤.\n\nPath ì†ì„±ì€ ì¿ í‚¤ë¥¼ ì „ì†¡í•˜ê¸° ìœ„í•´ URL ë‚´ì— ë°˜ë“œì‹œ ì¡´ì¬í•´ì•¼ í•˜ëŠ” URL ê²½ë¡œì…ë‹ˆë‹¤.<br>\në§Œì•½ `Path=/docs` ë¡œ ì„¤ì •ë˜ì—ˆë‹¤ë©´ `/docs` ë¡œ ì‹œì‘í•˜ëŠ” URL Pathì—ë§Œ ì¿ í‚¤ê°€ ì „ì†¡ë©ë‹ˆë‹¤. \n\n### SameSite\n\nì¿ í‚¤ê°€ [CSRF](https://nordvpn.com/ko/blog/csrf/)ë¥¼ ë°©ì–´í•˜ê¸° ìœ„í•œ ì†ì„±ì…ë‹ˆë‹¤.\n\nSameSite ì†ì„±ì„ ë”ìš± ì´í•´í•˜ë ¤ë©´ *ì„œë“œ íŒŒí‹° ì¿ í‚¤*ì™€ *í¼ìŠ¤íŠ¸ íŒŒí‹° ì¿ í‚¤*ë¥¼ ì´í•´í•´ì•¼ í•©ë‹ˆë‹¤.\n\n#### ì„œë“œ íŒŒí‹° ì¿ í‚¤\n\në¸Œë¼ìš°ì €ê°€ ì ‘ì†í•œ ì‚¬ì´íŠ¸ì™€ ë‹¤ë¥¸ ì‚¬ì´íŠ¸ë¡œ ì „ì†¡í•˜ëŠ” ì¿ í‚¤ë¥¼ *ì„œë“œ íŒŒí‹° ì¿ í‚¤*ë¼ê³  í•©ë‹ˆë‹¤.<br>\nì˜ˆë¥¼ ë“¤ì–´ ë‚˜ëŠ” í˜„ì¬ naver.com ì— ì ‘ì†í•´ ìˆëŠ”ë°, í•œ ì´ë¯¸ì§€ê°€ `musinsa.com/pants.jpg` ë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤ê³  ê°€ì •í–ˆì„ ë•Œ<br>\në¸Œë¼ìš°ì €ì— `musinsa.com` ì—ì„œ ë°œí–‰í•œ ì¿ í‚¤ë¥¼ ê°€ì§€ê³  ìˆë‹¤ë©´ í•´ë‹¹ ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ ìš”ì²­ì„ ë³´ë‚¼ ë•Œ ì¿ í‚¤ê°€ ë‹´ê²¨ì§ˆ ê²ƒì…ë‹ˆë‹¤. ì´ ì¿ í‚¤ë¥¼ ì„œë“œ íŒŒí‹° ì¿ í‚¤ë¼ê³  í•©ë‹ˆë‹¤.\n\n#### í¼ìŠ¤íŠ¸ íŒŒí‹° ì¿ í‚¤\n\nì„œë“œ íŒŒí‹° ì¿ í‚¤ì™€ ë°˜ëŒ€ë¡œ ìƒê°í•˜ì‹œë©´ ë©ë‹ˆë‹¤.<br>\ní¼ìŠ¤íŠ¸ íŒŒí‹° ì¿ í‚¤ëŠ” ë¸Œë¼ìš°ì €ê°€ ì ‘ì†í•œ í˜ì´ì§€ì™€ ê°™ì€ ë„ë©”ì¸ìœ¼ë¡œ ì „ì†¡ë˜ëŠ” ì¿ í‚¤ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.<br>\ní˜„ì¬ naver.comì— ì ‘ì†í•´ìˆëŠ”ë°, naver.comìœ¼ë¡œ ì¿ í‚¤ê°€ ì „ì†¡ëœë‹¤ë©´ í¼ìŠ¤íŠ¸ íŒŒí‹° ì¿ í‚¤ê°€ ë˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\nê·¸ë ‡ë‹¤ë©´ ì™œ ì„œë“œ íŒŒí‹° ì¿ í‚¤ì™€ í¼ìŠ¤íŠ¸ íŒŒí‹° ì¿ í‚¤ë¥¼ ì•Œì•„ë´¤ì„ê¹Œìš”?\n\nì¿ í‚¤ì— ë³„ë„ë¡œ ì„¤ì •ì„ í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ <u>í¬ë¡¬ì„ ì œì™¸í•œ ë¸Œë¼ìš°ì €ëŠ” ëª¨ë“  HTTP ìš”ì²­ì— ì¿ í‚¤ë¥¼ ë‹´ì•„ ì „ì†¡í•˜ê¸° ë•Œë¬¸</u>ì…ë‹ˆë‹¤.<br>\nCSRFëŠ” ì´ë¥¼ ë…¸ë¦° ê³µê²©ì´ê³  ì´ë¥¼ ì•…ìš©í•˜ì—¬ ê³µê²©ìëŠ” ì¿ í‚¤ë¡œ ì‚¬ìš©ì ì¸ì¦ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆê²Œ ë˜ëŠ” ê²ƒì…ë‹ˆë‹¤.<br>\n<u>ì´ë¥¼ ë§‰ê¸° ìœ„í•´ íƒ„ìƒí•œ ì†ì„±ì´ ë°”ë¡œ `SameSite`</u>ì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\n`SameSite` ì˜µì…˜ì„ í†µí•´ Cross-Siteë¡œ ì „ì†¡í•˜ëŠ” ìš”ì²­ì— ì¿ í‚¤, ì¦‰ ì„œë“œ íŒŒí‹° ì¿ í‚¤ë¥¼ ë‹´ì„ ê²ƒì¸ì§€ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n- `None`: í¼ìŠ¤íŠ¸ íŒŒí‹° ì¿ í‚¤, ì„œë“œ íŒŒí‹° ì¿ í‚¤ë¥¼ ëª¨ë‘ í—ˆìš©í•©ë‹ˆë‹¤.\n- `Strict`: í¼ìŠ¤íŠ¸ íŒŒí‹° ì¿ í‚¤ë§Œ í—ˆìš©í•©ë‹ˆë‹¤.\n- `Lax`: a íƒœê·¸ë¥¼ í†µí•œ ì´ë™ì´ë‚˜, `window.location`ê³¼ ê°™ì€ ì§ì ‘ ì´ë™ì—ì„œë§Œ ì„œë“œ íŒŒí‹° ì¿ í‚¤ê°€ ì „ë‹¬ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n## ë²ˆì™¸: ë™ì¼í•œ í—¤ë” Nameì„ ê°€ì§„ HTTP í—¤ë”ê°€ ìˆë‹¤ë©´?\n\në§Œì•½ `Set-Cookie` ë¼ëŠ” í—¤ë”ê°€ HTTP ì‘ë‹µì— 2ê°œê°€ ë‹´ê¸´ë‹¤ë©´ ì‘ë‹µì„ ìˆ˜ì‹ í•˜ëŠ” ìˆ˜ì‹ ìëŠ” ì–´ë–»ê²Œ ì²˜ë¦¬ë¥¼ í• ê¹Œìš”?\n\në°”ë¡œ, ìˆ˜ì‹ ìê°€ í—¤ë”ë¥¼ ì½ëŠ” ì •ì±…ì— ë”°ë¼ ë‹¬ë¼ì§‘ë‹ˆë‹¤.\n\nê°€ì¥ ë¨¼ì € ì½ì€ `Set-Cookie` í—¤ë”ì˜ Valueë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ìƒìœ„ì— ìœ„ì¹˜í•˜ëŠ” í—¤ë”ë¥¼ ì½ì„ ê²ƒì´ê³ <br>\në§ˆì§€ë§‰ìœ¼ë¡œ ì½ì€ `Set-Cookie` í—¤ë”ì˜ Valueë¥¼ ì‚¬ìš©í•œë‹¤ë©´ í•˜ìœ„ì— ìœ„ì¹˜í•˜ëŠ” í—¤ë”ë¥¼ ì½ì„ ê²ƒì…ë‹ˆë‹¤.<br>\ní˜¹ì€ ë‘˜ ë‹¤ ì½ê¸´ í•˜ì§€ë§Œ, ë§ˆì§€ë§‰ìœ¼ë¡œ ì½ì€ ê°’ì„ ë®ì–´ ì”Œìš´ë‹¤ê±°ë‚˜ ê°’ì„ append í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ë„ ìˆê² ìŠµë‹ˆë‹¤.\n\në”°ë¼ì„œ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ì‚¬ì´ì— ìˆëŠ” í”„ë¡ì‹œ ê°™ì€ ì¤‘ê³„ìë“¤ì€ Http Headerì˜ ìœ„ì¹˜ë¥¼ ë°”ê¾¸ë©´ ì•ˆë˜ëŠ” ì´ìœ ê°€ ë˜ê² ìŠµë‹ˆë‹¤.\n\n## ë²ˆì™¸: \"X-\" ì ‘ë‘ì‚¬ëŠ” ë¬´ì—‡ì¼ê¹Œ?\n\ní‘œì¤€ìœ¼ë¡œ ë“±ë¡ëœ í—¤ë”ê°€ ì•„ë‹Œ ê²½ìš° \"X-\"ë¥¼ ë¶™ì—¬ ì´ë¥¼ êµ¬ë¶„ì§“ëŠ” ìš©ë„ë¡œ í™œìš©í–ˆìŠµë‹ˆë‹¤.<br>\ní•˜ì§€ë§Œ ì´ ë°©ë²•ì€ ì¥ì ì€ ì—†ê³  ë‹¨ì ë§Œ ë§ì•„ì„œ RFC 6648 ë¶€í„° ì´ ë°©ë²•ì„ íì§€í•˜ëŠ” ê²ƒì´ ì œì•ˆë˜ì—ˆìŠµë‹ˆë‹¤.<br>\ní•˜ì§€ë§Œ í•˜ìœ„ í˜¸ì™„ì„± ë–„ë¬¸ì— ì•„ì§ ë§ì´ ì‚¬ìš©ë˜ê³  ìˆë‹¤ê³  í•©ë‹ˆë‹¤.\n\n### Reference\n\n> - [ê·¸ë¦¼ìœ¼ë¡œ ë°°ìš°ëŠ” Http & Network Basic](https://m.yes24.com/Goods/Detail/15894097)\n> - [MDN](https://developer.mozilla.org/ko/)\n> - [W3C](https://www.w3.org/)"},{"excerpt":"ì´ë²ˆ ê¸€ì—ì„œëŠ” Spring Bootì—ì„œ Rest Assuredë¥¼ ì´ìš©í•´ ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ëŠ” ê³¼ì •ì—ì„œ OAuthë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì„ ê³ ë¯¼í•œ í”ì ê³¼ í•´ê²° ë°©ë²•ì„ ê¸°ë¡í•˜ë ¤ê³  í•©ë‹ˆë‹¤. ë¹„ë‹¨ OAuth ë¿ë§Œ ì•„ë‹ˆë¼ ë‹¤ë¥¸ ì™¸ë¶€ REST APIë¥¼ í˜¸ì¶œí•˜ëŠ” ë¶€ë¶„ì„ í•´ê²°í•˜ëŠ” ë°ì—ë„ ë„ì›€ì´ ë  ê²ƒìœ¼ë¡œ ê¸°ëŒ€í•©ë‹ˆë‹¤. ê°œë°œ í™˜ê²½ì€ Spring Boot 3.2.2, Rest Assâ€¦","fields":{"slug":"/oauth-test/"},"frontmatter":{"date":"March 05, 2024","title":"Spring Bootì—ì„œ Rest Assuredë¡œ ì¸ìˆ˜ í…ŒìŠ¤íŠ¸í•  ë•Œ OAuth ë¡œê·¸ì¸ ì²˜ë¦¬í•˜ê¸°","tags":["Spring Boot","Acceptance Test","Rest Assured","OAuth"]},"rawMarkdownBody":"\nì´ë²ˆ ê¸€ì—ì„œëŠ” Spring Bootì—ì„œ Rest Assuredë¥¼ ì´ìš©í•´ ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ëŠ” ê³¼ì •ì—ì„œ OAuthë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì„ ê³ ë¯¼í•œ í”ì ê³¼ í•´ê²° ë°©ë²•ì„ ê¸°ë¡í•˜ë ¤ê³  í•©ë‹ˆë‹¤.\n\në¹„ë‹¨ OAuth ë¿ë§Œ ì•„ë‹ˆë¼ ë‹¤ë¥¸ ì™¸ë¶€ REST APIë¥¼ í˜¸ì¶œí•˜ëŠ” ë¶€ë¶„ì„ í•´ê²°í•˜ëŠ” ë°ì—ë„ ë„ì›€ì´ ë  ê²ƒìœ¼ë¡œ ê¸°ëŒ€í•©ë‹ˆë‹¤.\n\n> ê°œë°œ í™˜ê²½ì€ Spring Boot 3.2.2, Rest Assured 5.3.2ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.\n\n## ê°œìš”\n\ní˜„ì¬ ListyWaveê°€ ì œê³µí•˜ëŠ” ëª¨ë“  ê¸°ëŠ¥ë“¤ì— ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ë ¤ê³  í•©ë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ ì„œë¹„ìŠ¤ëŠ” ìì²´ì ì¸ ë¡œê·¸ì¸ ê¸°ëŠ¥ì„ ì œê³µí•˜ì§€ ì•Šê³  <u>ì‚¬ìš©ì ê²½í—˜ ê°œì„ </u>ê³¼ <u>ì„œë¹„ìŠ¤ ì‹ ë¢°ë„ í–¥ìƒ</u>ì„ ìœ„í•´ ì¹´ì¹´ì˜¤ OAuthë¥¼ ì±„íƒí•˜ì—¬ ì‚¬ìš© ì¤‘ì…ë‹ˆë‹¤.\n\nì´ëŠ” ë‹¤ë¥¸ ì˜ë¯¸ë¡œ, íšŒì›ê³¼ ê´€ë ¨ëœ ê¸°ëŠ¥ë“¤ì„ ì¸ìˆ˜ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ì„œëŠ” ì¹´ì¹´ì˜¤ OAuth ë¡œê·¸ì¸ì´ ì„ í–‰ë˜ì–´ì•¼ í•œë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ Rest Assured ë§Œìœ¼ë¡œëŠ” ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ì„ ìˆ˜í–‰í•˜ì§€ ëª»í•©ë‹ˆë‹¤.\n\n## ë¬¸ì œ íŒŒì•…í•˜ê¸°\n\nì™œ ìˆ˜í–‰í•˜ì§€ ëª»í• ê¹Œìš”?\n\ní˜„ì¬ ListyWaveì—ì„œ ìˆ˜í–‰ ì¤‘ì¸ ë¡œê·¸ì¸ ìš”ì²­ë¶€í„° ì²˜ë¦¬ê¹Œì§€ì˜ FlowëŠ” ëŒ€ëµ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n1. ì‚¬ìš©ìê°€ ì¹´ì¹´ì˜¤ë¡œ ë¡œê·¸ì¸í•˜ê¸° ë²„íŠ¼ í´ë¦­ -> í”„ë¡ íŠ¸ì—”ë“œ ì„œë²„ì—ì„œ ë°±ì—”ë“œ ì„œë²„ë¡œ ë¡œê·¸ì¸ URL ìš”ì²­ -> ì‚¬ìš©ìëŠ” ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ í˜ì´ì§€ì—ì„œ ë¡œê·¸ì¸\n2. ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ì— ì„±ê³µí•˜ë©´ Redirect URI(í”„ë¡ íŠ¸ì—”ë“œ ì„œë²„)ë¡œ AuthCode ì „ì†¡ -> í”„ë¡ íŠ¸ì—”ë“œëŠ” AuthCodeë¥¼ ë°±ì—”ë“œë¡œ ì „ì†¡ -> AuthCodeë¡œ Kakao Authorization Serverì— ì•¡ì„¸ìŠ¤ í† í° ë°œê¸‰ ìš”ì²­ -> ë°œê¸‰ë°›ì€ ì•¡ì„¸ìŠ¤ í† í°ìœ¼ë¡œ Kakao Resources Serverì— íšŒì› ì •ë³´ ìš”ì²­ -> ë°›ì€ íšŒì› ì •ë³´ë¡œ ë¡œê·¸ì¸ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬\n\nìœ„ flowëŠ” ì´í•´ê°€ ì˜ ê°€ì§€ ì•Šì„ ìˆ˜ ìˆê¸°ì— í•µì‹¬ë§Œ ë§ì”€ë“œë¦¬ë©´ <u>ë¡œê·¸ì¸ì´ ì„ í–‰ë˜ë ¤ë©´ AuthCodeê°€ í•„ìš”í•˜ê³ </u><br>\n<u>AuthCodeëŠ” ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ í˜ì´ì§€ì—ì„œ ë¡œê·¸ì¸ í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤!</u>\n\nì¶”ê°€ë¡œ, ë§Œ~ì•½ì— RestAssured ë§Œìœ¼ë¡œë„ ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ì— ì„±ê³µí•´ì„œ AuthCodeë¥¼ ë°›ì•„ì™”ë‹¤ê³  í•´ë„ OAuthëŠ” ê²°êµ­ <u>ì™¸ë¶€ APIë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤.</u><br>\nì´ëŠ” ë‹¤ì‹œ ë§í•´, í…ŒìŠ¤íŠ¸ ì½”ë“œë¡œ ì¸í•´ ì‚¬ì´ë“œ ì´í™íŠ¸ê°€ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ìˆë‹¤ëŠ” ì˜ë¯¸ì™€ ê°™ìŠµë‹ˆë‹¤.<br>\n\në”°ë¼ì„œ <u>í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” AuthCodeë¡œë¶€í„° ììœ ë¡œì›Œì•¼ í•˜ê³ , ì‹¤ì œ REST APIë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šì•„ì•¼ í•©ë‹ˆë‹¤.</u>\n\n## ë¬¸ì œ í•´ê²°í•˜ê¸°\n\nìš°ì„  OAuth ë¡œê·¸ì¸ì— ì‚¬ìš©ë˜ëŠ” ê°ì²´ë“¤ì„ ì²œì²œíˆ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤.\n\n- ìš”ì²­ê³¼ ì‘ë‹µì„ ì²˜ë¦¬í•˜ëŠ” AuthController\n- ë¡œê·¸ì¸ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì²˜ë¦¬í•˜ëŠ” AuthService\n- Kakao Authorization Serverì™€ Resources Serverì— REST API ìš”ì²­ì„ ë³´ë‚´ê¸° ìœ„í•´ í•„ìš”í•œ íŒŒë¼ë¯¸í„° ê°’ì„ ì¡°ë¦½í•˜ëŠ” KakaoOauthClient\n- ì‹¤ì œ REST APIë¥¼ í˜¸ì¶œí•˜ëŠ” KakaoOauthApiClient\n\nì¼ë‹¨ <u>ë¬¸ì œ í•´ê²°ì˜ í•µì‹¬ì€ ì‹¤ì œ REST APIë¥¼ í˜¸ì¶œí•˜ëŠ” `KakaoOauthApiClient`</u>ê°€ ë  ê²ƒìœ¼ë¡œ ìƒê°ë©ë‹ˆë‹¤.\n\nAuthCodeë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ Kakao Authorization Serverì— ì•¡ì„¸ìŠ¤ í† í° ë°œê¸‰ ìš”ì²­ì„ ë³´ë‚´ë©°,<br>\në°œê¸‰ë°›ì€ ì•¡ì„¸ìŠ¤ í† í°ì„ í†µí•´ Kakao Resource Serverì— íšŒì› ì •ë³´ë¥¼ ìš”ì²­í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\n![KakaoOauthApiClient ì½”ë“œ](KakaoOauthApiClient.png)\n\nì–´ì©Œë©´ ì´ ë…€ì„ë§Œ í•´ê²°í•˜ë©´ ëª¨ë“  ë¬¸ì œê°€ ìˆ ìˆ  í’€ë¦´ ê²ƒ ê°™ì€ ìƒê°ì´ ë“­ë‹ˆë‹¤.\n\në”°ë¼ì„œ ì €ëŠ” Mockingì„ í†µí•´ í•´ë‹¹ ê°ì²´ë¥¼ [í…ŒìŠ¤íŠ¸ ë”ë¸”](https://tecoble.techcourse.co.kr/post/2020-09-19-what-is-test-double/)ì„ ì‹œë„í•´ë³´ì•˜ìŠµë‹ˆë‹¤.<br>\nStubingìœ¼ë¡œë„ í•´ê²°í•  ìˆ˜ ìˆê² ì§€ë§Œ Mockingì´ ë” ìœ ì—°í•˜ê³  ê°„í¸í•˜ë‹¤ê³  íŒë‹¨í–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.<br>\në˜í•œ ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ íŠ¹ì„± ìƒ, Test Contextì— ëª¨ë“  Beanì„ Loadí•˜ê¸°ì— `@MockBean`ì„ í†µí•´ ì‰½ê²Œ Mocking í•  ìˆ˜ ìˆë‹¤ê³  íŒë‹¨í–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\n## í•´ê²° ê³¼ì •\n\nìš°ì„  ëª¨ë“  ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ê°€ ìƒì†ë°›ëŠ” `AcceptanceTest`ì— `KakaoOauthApiClient` ê°ì²´ë¥¼ `@MockBean`ìœ¼ë¡œ ì„ ì–¸í•˜ì—¬ ë“±ë¡í•©ë‹ˆë‹¤.\n![](AcceptanceTest.png)\n\nê·¸ë¦¬ê³  í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ Mockingì„ í•´ì¤ë‹ˆë‹¤.\n![](Mocking-in-TestCode.png)\n\në””ë²„ê¹… ëª¨ë“œë¡œ í•˜ë‚˜ì”© ë”°ë¼ê°€ë³´ë©´ ì•„ë˜ ì‚¬ì§„ì²˜ëŸ¼ ë§Œë“  ê°’ë“¤ì´ ê·¸ëŒ€ë¡œ ë‚˜ì˜¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n![](debug.png)\n\n## ê²°ê³¼\n\ní…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n![](test-success.png)\n\nì´ì œ ì´ë¥¼ `AcceptanceTest` ê°ì²´ì— ë©”ì„œë“œë¡œ ë§Œë“¤ì–´ ë‹¤ë¥¸ ë„ë©”ì¸ì—ì„œ ì¬ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n![](login-method.png)\n\në˜í•œ, ìš”êµ¬ì‚¬í•­ ì¤‘ì— ìµœì´ˆë¡œ ë¡œê·¸ì¸ í•œ íšŒì›ì˜ ì—¬ë¶€ë¥¼ `LoginResult#isFirst` í•„ë“œì— boolean íƒ€ì…ìœ¼ë¡œ ë‹´ì•„ ë°˜í™˜í•˜ê³  ìˆëŠ”ë°ìš”.<br>\ní•´ë‹¹ ë¡œì§ì„ í…ŒìŠ¤íŠ¸í•´ë„ ì œëŒ€ë¡œ ì‘ë‹µí•˜ê³  ìˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n![](other-test.png)\n\n## ë§ˆì¹˜ë©°\n\nì´ë ‡ê²Œ Spring Bootì—ì„œ Rest Assuredë¡œ ì¸ìˆ˜ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê³¼ì •ì—ì„œ OAuthì™€ ê°™ì´ REST APIë¥¼ í˜¸ì¶œí•˜ëŠ” ë¡œì§ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤.\n\ní”¼ë“œë°± ë° ë” ì¢‹ì€ ë°©ë²• ì œì‹œëŠ” ì–¸ì œë“ ì§€ í™˜ì˜ì…ë‹ˆë‹¤.<br>\nê¸´ ê¸€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤."},{"excerpt":"ë“¤ì–´ê°€ë©° MySQLì—ì„œ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ëŠ” ê³¼ì • ì¤‘ì—, ì£¼ì–´ì§„ ì¿¼ë¦¬ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì‹¤í–‰í•˜ê¸° ìœ„í•´ ì–´ë–»ê²Œ ì‹¤í–‰í•  ì§€ ê³„íšì„ ì§œëŠ” ê³¼ì •ì´ í¬í•¨ëœë‹¤.\nì´ ê³¼ì •ì„ ì˜µí‹°ë§ˆì´ì €ê°€ ìˆ˜í–‰í•œë‹¤. í•˜ì§€ë§Œ ì˜µí‹°ë§ˆì´ì €ëŠ” ë§ŒëŠ¥ì´ ì•„ë‹ˆë‹¤. ê°œë°œìê°€ ì˜ë„í•˜ëŠ” ëŒ€ë¡œ ì˜µí‹°ë§ˆì´ì €ê°€ ê³„íšì„ ì˜ ìˆ˜ë¦½í–ˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ì„œëŠ”  ëª…ë ¹ì–´ë¥¼ í†µí•´ í˜„ì¬ì˜ ì‹¤í–‰ ê³„íšì„ í™•ì¸í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.\në˜í•œ ì˜µí‹°ë§ˆâ€¦","fields":{"slug":"/10-execute-plain/"},"frontmatter":{"date":"March 05, 2024","title":"MySQLì˜ ì‹¤í–‰ ê³„íšì— ëŒ€í•´ ì•Œì•„ë³´ì","tags":["database"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©°\n\nMySQLì—ì„œ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ëŠ” ê³¼ì • ì¤‘ì—, ì£¼ì–´ì§„ ì¿¼ë¦¬ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì‹¤í–‰í•˜ê¸° ìœ„í•´ ì–´ë–»ê²Œ ì‹¤í–‰í•  ì§€ ê³„íšì„ ì§œëŠ” ê³¼ì •ì´ í¬í•¨ëœë‹¤.<br>\nì´ ê³¼ì •ì„ **ì˜µí‹°ë§ˆì´ì €**ê°€ ìˆ˜í–‰í•œë‹¤. í•˜ì§€ë§Œ <u>ì˜µí‹°ë§ˆì´ì €ëŠ” ë§ŒëŠ¥ì´ ì•„ë‹ˆë‹¤.</u>\n\nê°œë°œìê°€ ì˜ë„í•˜ëŠ” ëŒ€ë¡œ ì˜µí‹°ë§ˆì´ì €ê°€ ê³„íšì„ ì˜ ìˆ˜ë¦½í–ˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ì„œëŠ” `EXPLAIN` ëª…ë ¹ì–´ë¥¼ í†µí•´ í˜„ì¬ì˜ ì‹¤í–‰ ê³„íšì„ í™•ì¸í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.<br>\në˜í•œ ì˜µí‹°ë§ˆì´ì €ê°€ ì–´ë–¤ ì •ë³´ë¥¼ í† ëŒ€ë¡œ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•˜ëŠ”ì§€ì— ëŒ€í•´ ì´í•´í•  í•„ìš”ê°€ ìˆë‹¤.\n\në”°ë¼ì„œ ì´ë²ˆ ì¥ì—ì„œëŠ” <u>MySQL ì„œë²„ì˜ ì‹¤í–‰ ê³„íšì— ê°€ì¥ í° ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” í†µê³„ ì •ë³´ì— ëŒ€í•´ ê°„ëµíˆ ì‚´í´ë³´ê³  ì‹¤í–‰ ê³„íšì„ ì½ëŠ” ìˆœì„œì™€ ì¶œë ¥ë˜ëŠ” í‚¤ì›Œë“œ, ê·¸ë¦¬ê³  ì•Œê³ ë¦¬ì¦˜ì— ëŒ€í•´ ì‚´í´ë³´ì</u>.\n\n## í†µê³„ ì •ë³´\n\n### ê°œìš”\n\nMySQLì—ì„œ í†µê³„ ì •ë³´ëŠ”, ë‹¤ìŒê³¼ ê°™ì€ ë‚´ìš©ë“¤ì´ í¬í•¨ëœë‹¤.\n\n- **í…Œì´ë¸” í¬ê¸° ë° ì¸ë±ìŠ¤ í†µê³„**: ê° í…Œì´ë¸”ì˜ ë ˆì½”ë“œ ìˆ˜, ë°ì´í„° í¬ê¸°, ì¸ë±ìŠ¤ í¬ê¸°ì™€ ê°™ì€ ì •ë³´\n- **ì¿¼ë¦¬ ì‹¤í–‰ í†µê³„**: ì¿¼ë¦¬ ì‹¤í–‰ ì‹œê°„, íšŸìˆ˜, ì‚¬ìš©ëœ ì¸ë±ìŠ¤, ìŠ¤ìº” íšŸìˆ˜ ë“±ê³¼ ê°™ì€ ì •ë³´\n- **ì¸ë±ìŠ¤ íš¨ìœ¨ì„±**: ê° ì¸ë±ìŠ¤ì˜ ì‚¬ìš©ë¥ , ì¤‘ë³µ í‚¤ ìˆ˜, ì¸ë±ìŠ¤ íˆíŠ¸ ë“±ê³¼ ê°™ì€ ì •ë³´\n- **ì ê¸ˆ ë° ì›Œí„°ë§ˆí¬ í†µê³„**: ë°œìƒí•œ ë½ì˜ ìˆ˜, ì›Œí„°ë§ˆí¬ ì •ë³´ (ê³µê°„ ì‚¬ìš©ëŸ‰) ê³¼ ê°™ì€ ì •ë³´\n\nì „ë°˜ì ìœ¼ë¡œ <u>í…Œì´ë¸”, ì¸ë±ìŠ¤, ì¿¼ë¦¬ì™€ ê´€ë ¨ë˜ì–´ ìˆ˜ì¹˜í™”í•  ìˆ˜ ìˆëŠ” ì •ë³´ë“¤ì´ í†µê³„ ì •ë³´ì— í¬í•¨</u>ëœë‹¤.\n\nMySQL 5.7 ë²„ì „ ì „ê¹Œì§€ëŠ” ê°œê´„ì ì¸ ì •ë³´ë¥¼ ê°€ì§€ê³  ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í–ˆë‹¤. ì´ë¡œ ì¸í•´ ì‹¤í–‰ ê³„íšì˜ ì •í™•ë„ê°€ ë–¨ì–´ì§€ëŠ” ê²½ìš°ê°€ ë§ì•˜ë‹¤.<br>\nMySQL 8.0 ë²„ì „ë¶€í„°ëŠ” **ì¸ë±ìŠ¤ë˜ì§€ ì•Šì€ ì¹¼ëŸ¼ë“¤ì— ëŒ€í•´ì„œ ë°ì´í„° ë¶„í¬ë„ë¥¼ ìˆ˜ì§‘í•´ì„œ ì €ì¥í•˜ëŠ” íˆìŠ¤í† ê·¸ë¨ ì •ë³´**ê°€ ë„ì…ëë‹¤.\n\nì´ íˆìŠ¤í† ê·¸ë¨ ì •ë³´ëŠ” ë‹¤ì‹œ ì–¸ê¸‰í•˜ì§€ë§Œ **ì¸ë±ìŠ¤ë˜ì§€ ì•Šì€ ì¹¼ëŸ¼ë“¤ì— ëŒ€í•´ ë°ì´í„° ë¶„í¬ë„ë¥¼ ìˆ˜ì§‘í•´ ì €ì¥í•˜ëŠ” ì •ë³´ì´ë‹¤.**<br>\n\n> ë°ì´í„° ë¶„í¬ë„ë€, íŠ¹ì • ì¹¼ëŸ¼ì— ì–´ë–¤ ë°ì´í„° ê°’ì´ ì–¼ë§Œí¼ ì¡´ì¬í•˜ëŠ” ì§€ì— ëŒ€í•œ ì •ë³´ì´ë‹¤.<br>\n> ì¦‰, **íˆìŠ¤í† ê·¸ë¨ ì •ë³´ë€ ì¸ë±ìŠ¤ë˜ì§€ ì•Šì€ ì¹¼ëŸ¼ì— ì–´ë–¤ ê°’ë“¤ì´ ì–¼ë§Œí¼ ì¡´ì¬í•˜ëŠ”ì§€ì— ëŒ€í•œ ì •ë³´**ì´ë‹¤.\n\në”°ë¼ì„œ, ê¸°ì¡´ì˜ **í…Œì´ë¸”ì´ë‚˜ ì¸ë±ìŠ¤ì˜ í†µê³„ ì •ë³´ì™€ ë‹¤ë¥¸ ì •ë³´ë¡œ ë´ì•¼í•œë‹¤.**\n\n### í…Œì´ë¸” ë° ì¸ë±ìŠ¤ í†µê³„ ì •ë³´\n\nê°€ì¥ ë¨¼ì € í…Œì´ë¸” ë° ì¸ë±ìŠ¤ì˜ í†µê³„ ì •ë³´ì— ëŒ€í•´ ì•Œì•„ë³´ì.\n\nCost ê¸°ë°˜ ìµœì í™”ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì´ ë°”ë¡œ ì´ **í†µê³„ ì •ë³´**ì´ë‹¤.<br>\në§Œì•½ 1ì–µ ê±´ì˜ ë ˆì½”ë“œê°€ ì €ì¥ëœ í…Œì´ë¸”ì˜ í†µê³„ ì •ë³´ê°€ ê°±ì‹ ë˜ì§€ ì•Šì•„ ë ˆì½”ë“œê°€ 10ê±´ ë¯¸ë§Œì¸ ê²ƒì²˜ëŸ¼ ë¼ ìˆë‹¤ë©´ ì˜µí‹°ë§ˆì´ì €ëŠ” Table Full Scanì„ ì‹¤í–‰í•  ê²ƒì´ë‹¤.\n\n#### MySQL 5.6 ë²„ì „ë¶€í„°\n\nMySQL 5.5 ë²„ì „ ì „ê¹Œì§€ëŠ” ê° í…Œì´ë¸”ì˜ í†µê³„ ì •ë³´ê°€ <u>ë©”ëª¨ë¦¬ì—ë§Œ ê´€ë¦¬</u>ë˜ì—ˆê³  `SHOW INDEX` ëª…ë ¹ìœ¼ë¡œë§Œ í…Œì´ë¸”ì˜ ì¸ë±ìŠ¤ ì¹¼ëŸ¼ì˜ ë¶„í¬ë„ë¥¼ ë³¼ ìˆ˜ ìˆì—ˆë‹¤. ì¤‘ìš”í•œ ì ì€ <u>í†µê³„ ì •ë³´ê°€ ë©”ëª¨ë¦¬ì—ì„œë§Œ ê´€ë¦¬ë˜ì—ˆê¸°ì— ì„œë²„ ì¬ë¶€íŒ… ì‹œì—ëŠ” ê·¸ë™ì•ˆ ìˆ˜ì§‘í–ˆë˜ í†µê³„ ì •ë³´ê°€ ëª¨ë‘ ë‚ ë¼ê°€ê²Œ ë˜ëŠ” ë¬¸ì œ</u>ê°€ ìˆì—ˆë‹¤.\n\nì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ 5.6 ë²„ì „ ë¶€í„°ëŠ” í†µê³„ ì •ë³´ë¥¼ ì˜êµ¬ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ ê°œì„ ë˜ì—ˆë‹¤.\n\n#### í†µê³„ ì •ë³´ë¥¼ ì˜êµ¬ì ìœ¼ë¡œ ê´€ë¦¬í•˜ë„ë¡ ì„¤ì •í•˜ëŠ” ë°©ë²•\n\nì„¤ì • ë°©ë²•ì€ í…Œì´ë¸”ì„ ìƒì„±í•  ë•Œ <u>`STATS_PERSISTENT` ì˜µì…˜</u>ì„ í†µí•´ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.<br>\n```sql\n# ì˜ˆì‹œ ì¿¼ë¦¬\nCREATE TABLE users (\n    id BIGINT PRIMARY KEY AUTO_INCREMENT,\n    name VARCHAR(50)\n) STATS_PERSISTENT={ 0 | 1 | DEFAULT };\n```\n\n- STATS_PERSISTENT = 0\n  - í…Œì´ë¸”ì˜ í†µê³„ ì •ë³´ë¥¼ 5.5 ë²„ì „ ì´ì „ ë°©ì‹ëŒ€ë¡œ ê´€ë¦¬í•œë‹¤. (ì¸ë©”ëª¨ë¦¬ ë°©ì‹)\n\n- STATS_PERSISTENT = 1\n  - í…Œì´ë¸”ì˜ í†µê³„ ì •ë³´ë¥¼ mysql ë°ì´í„°ë² ì´ìŠ¤ì˜ innodb_index_stats í…Œì´ë¸”ê³¼ innodb_table_stats í…Œì´ë¸”ì— ì €ì¥í•œë‹¤.\n\n- STATS_PERSISTENT = DEFAULT\n  - `STATS_PERSISTENT` ì˜µì…˜ì„ ì„¤ì •í•˜ì§€ ì•Šì€ ê²ƒê³¼ ë™ì¼í•˜ë‹¤.\n  - í…Œì´ë¸”ì˜ í†µê³„ ì •ë³´ë¥¼ ì˜êµ¬ì ìœ¼ë¡œ ê´€ë¦¬í•  ê²ƒì¸ì§€ì— ëŒ€í•œ ê²°ì •ì€ `innodb_stats_persistente` ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ë”°ë¼ ê²°ì •ëœë‹¤.\n  - `innodb_stats_persistence` ì‹œìŠ¤í…œ ë³€ìˆ˜ì˜ default ê°’ì€ ONì´ë‹¤. ê²°êµ­, ëª¨ë“  ì„¤ì •ì˜ default ê°’ì€ í…Œì´ë¸”ì˜ í†µê³„ ì •ë³´ë¥¼ ì˜êµ¬ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê²Œ ëœë‹¤.\n\n`ALTER TABLE users STATS_PERSISTENT=?` ëª…ë ¹ì–´ë¡œ ì´ë¯¸ ë§Œë“¤ì–´ì§„ í…Œì´ë¸”ì— ì„¤ì •ì„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.\n\n#### í†µê³„ ì •ë³´ë¥¼ í™•ì¸í•˜ëŠ” ë°©ë²•\n\nê·¸ë¦¬ê³  `SELECT * FROM innodb_index_stats;` ëª…ë ¹ì–´ë¡œ ì¸ë±ìŠ¤ í†µê³„ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆê³ <br>\n`SELECT * FROM innodb_table_stats` ëª…ë ¹ì–´ë¡œ í…Œì´ë¸” í†µê³„ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n\n![ì¸ë±ìŠ¤ í†µê³„ ì •ë³´](index-stats.png)\n\n- stat_name ì¹¼ëŸ¼\n  - `n_diff_pfx%`: í•´ë‹¹ ì¸ë±ìŠ¤ê°€ ê°€ì§€ëŠ” ìœ ë‹ˆí¬í•œ ê°’ì˜ ìˆ˜\n      - `comment` í…Œì´ë¸”ì˜ `n_diff_pfx01`: list_id ì¹¼ëŸ¼ì˜ ì™¸ë˜í‚¤ ì¸ë±ìŠ¤ê°€ ê°€ì§€ëŠ” ìœ ë‹ˆí¬í•œ ê°’ì˜ ìˆ˜\n  - `n_leaf_pages`: ì¸ë±ìŠ¤ì˜ ë¦¬í”„ ë…¸ë“œ í˜ì´ì§€ ìˆ˜\n      - `comment` í…Œì´ë¸”ì˜ `n_leaf_pages`: list_id ì¹¼ëŸ¼ì˜ ì™¸ë˜í‚¤ ì¸ë±ìŠ¤ê°€ ê°€ì§€ëŠ” ë¦¬í”„ ë…¸ë“œ í˜ì´ì§€ì˜ ìˆ˜\n  - `size`: ì¸ë±ìŠ¤ íŠ¸ë¦¬ì˜ ì „ì²´ í˜ì´ì§€ ìˆ˜\n      - `comment` í…Œì´ë¸”ì˜ `size`: list_id ì¹¼ëŸ¼ì˜ ì™¸ë˜í‚¤ ì¸ë±ìŠ¤ê°€ ê°€ì§€ëŠ” ì „ì²´ í˜ì´ì§€ì˜ ìˆ˜\n\n![í…Œì´ë¸” í†µê³„ ì •ë³´](table-stats.png)\n\n- `n_rows`: í…Œì´ë¸”ì˜ ì „ì²´ ë ˆì½”ë“œ ìˆ˜\n- `clustered_index_size`: í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì˜ í¬ê¸° (InnoDB í˜ì´ì§€ ê°œìˆ˜)\n  - `innodb_index_stats`ì—ì„œ `comment` í…Œì´ë¸”ì˜ `PRIMARY` ì¸ë±ìŠ¤ì—ì„œ `size`ë‘ ë™ì¼í•œ ê°’ì´ë‹¤.\n- `sum_of_other_index_sizes`: í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ì œì™¸í•œ ì¸ë±ìŠ¤ì˜ í¬ê¸° (InnoDB í˜ì´ì§€ ê°œìˆ˜)\n  - `PRIMARY` ì¸ë±ìŠ¤ë¥¼ ì œì™¸í•œ ì¸ë±ìŠ¤ì˜ ì „ì²´ í˜ì´ì§€ ìˆ˜\n  - í…Œì´ë¸”ì˜ `STATS_AUTO_RECALC` ì˜µì…˜ì— ë”°ë¼ 0ìœ¼ë¡œ ë³´ì¼ ìˆ˜ ìˆë‹¤. ì´ë•ŒëŠ” `ANALYZE TABLE {database}.{table};` ëª…ë ¹ì–´ë¡œ í†µê³„ê°’ì„ ì¬ê³„ì‚°í•˜ë©´ ëœë‹¤.\n\n#### í†µê³„ ì •ë³´ë¥¼ ìë™ìœ¼ë¡œ ê°±ì‹ í•˜ê±°ë‚˜ ë„ê±°ë‚˜\n\n`innodb_stats_auto_recalc` ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ON í˜¹ì€ OFFë¡œ ì„¤ì •í•¨ì— ë”°ë¼ í†µê³„ ì •ë³´ë¥¼ ìë™ìœ¼ë¡œ ê°±ì‹ í•˜ê±°ë‚˜ ëŒ ìˆ˜ ìˆë‹¤.<br>\ndefault ê°’ì€ ONìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆë‹¤.\n\ní…Œì´ë¸”ì— ë”°ë¼ í†µê³„ ì •ë³´ë¥¼ ìë™ìœ¼ë¡œ ìˆ˜ì§‘í•  ì§€ ì—¬ë¶€ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.\n\n- `STATS_AUTO_RECALC`=0: `ANALYZE TABLE` ëª…ë ¹ìœ¼ë¡œë§Œ ê°±ì‹ í•œë‹¤. ì¦‰, ìˆ˜ë™ìœ¼ë¡œ ê°±ì‹ í•œë‹¤.\n- `STATS_AUTO_RECALC`=1: ìë™ ìˆ˜ì§‘í•œë‹¤.\n- `STATS_AUTO_RECALC`=DEFAULT: ë”°ë¡œ STATS_AUTO_RECALC ì˜µì…˜ì„ ì„¤ì •í•˜ì§€ ì•Šì€ ê²ƒê³¼ ê°™ë‹¤. `innodb_stats_auto_recalc` ì‹œìŠ¤í…œ ë³€ìˆ˜ ê°’ì— ë”°ë¼ ê²°ì •ëœë‹¤.\n\nì´ í†µê³„ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ê±°ë‚˜ ê°±ì‹ í•  ë•Œ ì–¼ë§ˆë§Œí¼ì˜ ë°ì´í„° ìƒ˜í”Œì„ ê°€ì ¸ì˜¬ ê²ƒì¸ì§€ë¥¼ ì •í•˜ëŠ” ì˜µì…˜ë„ ì¡´ì¬í•œë‹¤.\n\n- `innodb_stats_trasient_sample_pages`\n  - default ê°’ì€ 8ì´ë‹¤.\n  - **ìë™ìœ¼ë¡œ** í†µê³„ ì •ë³´ ìˆ˜ì§‘ì´ ì‹¤í–‰ë  ë•Œ 8ê°œ í˜ì´ì§€ë§Œ ì„ì˜ë¡œ ìƒ˜í”Œë§í•´ì„œ ë¶„ì„í•˜ê³  ê·¸ ê²°ê³¼ë¥¼ í†µê³„ ì •ë³´ë¡œ í™œìš©í•œë‹¤.\n\n- `innodb_stats_persistent_sample_pages`\n  - default ê°’ì€ 20ì´ë‹¤.\n  - **ANALYZE TABLE** ëª…ë ¹ì„ í†µí•´ ìˆ˜ë™ìœ¼ë¡œ í†µê³„ ì •ë³´ ìˆ˜ì§‘ì´ ì‹¤í–‰ë  ë•Œ 20ê°œì˜ í˜ì´ì§€ë§Œ ì„ì˜ë¡œ ìƒ˜í”Œë§í•˜ì—¬ ë¶„ì„í•˜ê³  ê·¸ ê²°ê³¼ë¥¼ ì˜êµ¬ì ì¸ í†µê³„ ì •ë³´ í…Œì´ë¸”ì— ì €ì¥í•˜ê³  í™œìš©í•œë‹¤.\n\në§Œì•½, ì˜êµ¬ì ì¸ í†µê³„ ì •ë³´ë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´ `innodb_stats_persistent_sample_pages` ê°’ì„ ë†’ê²Œ ì„¤ì •í•˜ì—¬ MySQL ì„œë²„ì˜ ì ê²€ì´ë‚˜ ì‚¬ìš©ëŸ‰ì´ ë§ì§€ ì•Šì€ ì‹œê°„ëŒ€ë¥¼ í™œìš©í•´ ë” ì •í™•í•œ í†µê³„ ì •ë³´ë¥¼ ìˆ˜ì§‘í•  ìˆ˜ ìˆë‹¤.<br>\ní•˜ì§€ë§Œ ë¬¼ë¡  ê·¸ë§Œí¼ ë” ë§ì€ ì‹œê°„ì´ ì†Œìš”ëœë‹¤.\n\n### íˆìŠ¤í† ê·¸ë¨\n\nMySQLì—ì„œ <u>**íˆìŠ¤í† ê·¸ë¨ ì •ë³´ë€ ì¸ë±ìŠ¤ë˜ì§€ ì•Šì€ ì¹¼ëŸ¼ì— ì–´ë–¤ ê°’ë“¤ì´ ì–¼ë§Œí¼ ì¡´ì¬í•˜ëŠ”ì§€ì— ëŒ€í•œ ì •ë³´**</u>ë‹¤.\n\nì•„ë˜ ê·¸ë¦¼ì€ íˆìŠ¤í† ê·¸ë¨ ì •ë³´ ì´í•´ë¥¼ ë•ëŠ” ì˜ˆì‹œ ì‚¬ì§„ì´ë‹¤.\n\n![íˆìŠ¤í† ê·¸ë¨ ì˜ˆì‹œ](histogram-example.png)\n\n#### íˆìŠ¤í† ê·¸ë¨ ì •ë³´ ìˆ˜ì§‘í•˜ê¸°\n\nMySQL 8.0 ë²„ì „ë¶€í„° íˆìŠ¤í† ê·¸ë¨ ì •ë³´ëŠ” **ì¹¼ëŸ¼ ë‹¨ìœ„ë¡œ ê´€ë¦¬ëœë‹¤.**<br>\nì´ëŠ” ìë™ìœ¼ë¡œ ìˆ˜ì§‘í•˜ì§„ ì•Šê³  <u>`ANALYZE TABLE ... UPDATE HISTOGRAM`</u> ëª…ë ¹ì„ í†µí•´ ìˆ˜ë™ìœ¼ë¡œ ìˆ˜ì§‘ ë° ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.\n\nìˆ˜ì§‘í•œ íˆìŠ¤í† ê·¸ë¨ ì •ë³´ëŠ” ì‹œìŠ¤í…œ ë”•ì…”ë„ˆë¦¬ì— í•¨ê»˜ ì €ì¥ë˜ê³  MySQL ì„œë²„ê°€ ì‹œì‘ë  ë•Œ ë”•ì…”ë„ˆë¦¬ì— ì €ì¥ëœ íˆìŠ¤í† ê·¸ë¨ ì •ë³´ë¥¼ `information_schema` ë°ì´í„°ë² ì´ìŠ¤ì˜ `column_statistics` í…Œì´ë¸”ë¡œ ë¡œë“œí•œë‹¤.<br>\në”°ë¼ì„œ ì‹¤ì œ ìˆ˜ì§‘ëœ íˆìŠ¤í† ê·¸ë¨ ì •ë³´ëŠ” `information_schema.column_statistics` í…Œì´ë¸”ì„ SELECTí•´ì„œ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.\n\nì‹¤ì œë¡œ íˆìŠ¤í† ê·¸ë¨ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ê³  ê²°ê³¼ë¥¼ ì¡°íšŒí•´ë³´ì.<br>\n~~ì¡°íšŒ ê²°ê³¼ëŠ” ìš°ë¦¬ê°€ ë´¤ì„ ë• ìœ ìš©í•˜ì§€ ì•Šì•„ë³´ì¸ë‹¤.~~\n\n![íˆìŠ¤í† ê·¸ë¨ ì¡°íšŒ ê²°ê³¼](histogram-select-result.png)\n\n<details>\n  <summary>ì¡°íšŒ ê²°ê³¼ ì´ì˜ê²Œ ë³´ê¸°</summary>\n\n```text\nSCHEMA_NAME: dev\n TABLE_NAME: item\nCOLUMN_NAME: title\n  HISTOGRAM: {\n  \"buckets\": [\n    [\n      \"base64:type254:MQ==\",\n      \"base64:type254:Mw==\",\n      0.010752688172043012,\n      4\n    ],\n    [\n      \"base64:type254:QSBIYXRmdWwgb2YgRHJlYW1z\",\n      \"base64:type254:QUogTWl0Y2hlbGwgLSBMaWtlIFN0cmFuZ2VycyBEbw==\",\n      0.021505376344086023,\n      4\n    ],\n    [\n      \"base64:type254:QWxsIG9mIG15IGxpZmUgLSDrsJXsm5A=\",\n      \"base64:type254:QmVnaW4gQWdhaW4gKDIwMTMp\",\n      0.03225806451612903,\n      4\n    ],\n    [\n      \"base64:type254:Q2llbG8=\",\n      \"base64:type254:REFZNiAtIO2VnCDtjpjsnbTsp4DqsIAg65CgIOyImCDsnojqsow=\",\n      0.043010752688172046,\n      4\n    ],\n    [\n      \"base64:type254:RGVzdGlubw==\",\n      \"base64:type254:RXNwZXJhbnph\",\n      0.053763440860215055,\n      4\n    ],\n    [\n      \"base64:type254:RXN0cmVsbGE=\",\n      \"base64:type254:Rm9yIGEgTW9tZW50\",\n      0.06451612903225806,\n      4\n    ],\n    [\n      \"base64:type254:SSBGZWVsIFByZXR0eQ==\",\n      \"base64:type254:SkFYIC0gUmluZyBQb3A=\",\n      0.07526881720430108,\n      4\n    ],\n    [\n      \"base64:type254:SmVmZiBCZXJuYXQgLSBNYWtlIFVwIFlvdXIgTWluZA==\",\n      \"base64:type254:TGEgTGEgTGFuZCAoMjAxNik=\",\n      0.08602150537634409,\n      4\n    ],\n    [\n      \"base64:type254:THV6\",\n      \"base64:type254:Tm9zdGFsZ2lh\",\n      0.0967741935483871,\n      4\n    ],\n    [\n      \"base64:type254:T29tcGEgTG9vbXBh\",\n      \"base64:type254:UmFkaW9oZWFkIC0gQ3JlZXA=\",\n      0.10752688172043011,\n      4\n    ],\n    [\n      \"base64:type254:UmVkIHZlbHZldC0ga25vY2sga25vY2s=\",\n      \"base64:type254:UnV0aCBCLiAtIFNsb3cgRmFkZQ==\",\n      0.11827956989247312,\n      4\n    ],\n    [\n      \"base64:type254:U2NydWIgU2NydWI=\",\n      \"base64:type254:U3dlZXQgVG9vdGg=\",\n      0.12903225806451613,\n      4\n    ],\n    [\n      \"base64:type254:VklWSVotTWFuaWFj\",\n      \"base64:type254:WW91J3ZlIE5ldmVyIEhhZCBDaG9jb2xhdGUgTGlrZSBUaGlz\",\n      0.13978494623655913,\n      4\n    ],\n    [\n      \"base64:type254:WlVIQUlSIC0gTXkgRmF2b3VyaXRlIE11c2U=\",\n      \"base64:type254:6rCA64GUIOyalOqwgCDrk7Eg7Jq064+Z\",\n      0.15053763440860216,\n      4\n    ],\n    [\n      \"base64:type254:6rCA7JW87ISx\",\n      \"base64:type254:6rCA7J2EIOuplOuwgCDqvYMg7ZWEIOustOugtQ==\",\n      0.16129032258064516,\n      3\n    ],\n    [\n      \"base64:type254:6rCA7J2EIOygnOyjvA==\",\n      \"base64:type254:6rCT64Kc7J+B7J20IOuVjA==\",\n      0.17204301075268819,\n      4\n    ],\n    [\n      \"base64:type254:6rCV7ZWY64qY\",\n      \"base64:type254:6rCk65+s66as7ZiE64yA\",\n      0.18010752688172044,\n      3\n    ],\n    [\n      \"base64:type254:6rKo7Jq4\",\n      \"base64:type254:6rK967O16raB\",\n      0.19086021505376344,\n      3\n    ],\n    [\n      \"base64:type254:6rK97KO8IOuMgOumieybkA==\",\n      \"base64:type254:6rOg7Iqk7Yq4IOybjA==\",\n      0.20161290322580644,\n      4\n    ],\n    [\n      \"base64:type254:6rOo65OgIOumrO2KuOumrOuyhA==\",\n      \"base64:type254:6rWt7KCc6rCk65+s66as\",\n      0.21236559139784947,\n      4\n    ],\n    [\n      \"base64:type254:6raM7KeA7Jqw\",\n      \"base64:type254:6re4656R7ZW465OcIO2ZjeywqO2WpQ==\",\n      0.22311827956989247,\n      4\n    ],\n    [\n      \"base64:type254:6re4656c65OcIOu2gOuLpO2OmOyKpO2KuCDtmLjthZQ=\",\n      \"base64:type254:6re47ZW0LCDsmrDrpqzripQ=\",\n      0.23387096774193547,\n      4\n    ],\n    [\n      \"base64:type254:6riI7JqU7J287JeQIOunm+yeiOuKlOqxsOuekSDsiKDtlZzsnpQ=\",\n      \"base64:type254:6rmA7Jyk7JWEIC0g6r+I\",\n      0.2446236559139785,\n      4\n    ],\n    [\n      \"base64:type254:6rmA7ZWY64qYIOyYhg==\",\n      \"base64:type254:64KY64qU\",\n      0.2553763440860215,\n      4\n    ],\n    [\n      \"base64:type254:64KY7ZiE64uY7J20IOumrOyKpO2KuCDsl7Tsi6ztnogg66eM65Ok7JeI64qU642wIERCIOy0iOq4\\nsO2ZlCDtlojsnYQg65WMIOOFnOOFnA==\",\n      \"base64:type254:64Ko67aA\",\n      0.26344086021505375,\n      3\n    ],\n    [\n      \"base64:type254:64Ko7J6Q7Lmc6rWs\",\n      \"base64:type254:64Ku7JeQIOyCsOyxhe2VmOq4sA==\",\n      0.27419354838709675,\n      3\n    ],\n    [\n      \"base64:type254:64Ku7J6g7J6Q6riw\",\n      \"base64:type254:64Sk7J2067KE\",\n      0.2849462365591398,\n      4\n    ],\n    [\n      \"base64:type254:64W47IOB7ZiE\",\n      \"base64:type254:64iE7JuM7IScIOuEt+2UjOumreyKpCDrs7TquLA=\",\n      0.2956989247311828,\n      4\n    ],\n    [\n      \"base64:type254:64iE7JuM7IScIOyHvOy4oOuztOq4sA==\",\n      \"base64:type254:64uM7YWQ64+EIOyKpOychOy5mA==\",\n      0.3064516129032258,\n      4\n    ],\n    [\n      \"base64:type254:64uk7IucIOunjOuCnCDshLjqs4QgLSDshozrhYDsi5zrjIA=\",\n      \"base64:type254:64us65+s6rWs7Yq4IOq/iCDrsLHtmZTsoJA=\",\n      0.3172043010752688,\n      4\n    ],\n    [\n      \"base64:type254:64yA66a866+47Iig6rSA\",\n      \"base64:type254:64yE7Iqk7Jyg67CcIOuFuOuemO2LgOqzoCDsg6Tsm4w=\",\n      0.3279569892473118,\n      4\n    ],\n    [\n      \"base64:type254:642UIOq4gOuhnOumrA==\",\n      \"base64:type254:64+M64u07KeR\",\n      0.3387096774193548,\n      4\n    ],\n    [\n      \"base64:type254:65GQ7YyQ67CY7J2EIOuoueyngA==\",\n      \"base64:type254:65OEMg==\",\n      0.34946236559139787,\n      4\n    ],\n    [\n      \"base64:type254:65OEMw==\",\n      \"base64:type254:65+w\",\n      0.3602150537634409,\n      4\n    ],\n    [\n      \"base64:type254:66CI67KI7YG066Gc\",\n      \"base64:type254:66Gk7ZWY6riw\",\n      0.3709677419354839,\n      4\n    ],\n    [\n      \"base64:type254:66W07IS465287ZWM\",\n      \"base64:type254:66as7Iqk7Yuw7Juo7J2067iMIHZlcjIg6rWs7IOB7ZWY6riw\",\n      0.3817204301075269,\n      4\n    ],\n    [\n      \"base64:type254:66as7JWh7Yq4IOu3sOuztOuLpCDrqoXrj5nshLHri7kg67ew\",\n      \"base64:type254:66eI7J207JWE7Yq4IOuupOyngOyXhA==\",\n      0.3924731182795699,\n      4\n    ],\n    [\n      \"base64:type254:66eI7Lm066GxIOuTsSDsm5DrjbDsnbQg7YG0656Y7Iqk\",\n      \"base64:type254:66eb7J6I64qUIOydjOyLneqzvCDtlajqu5gg7ZWcIOq4iOyalOydvCDsoIDrhYE=\",\n      0.4032258064516129,\n      4\n    ],\n    [\n      \"base64:type254:66el67aB\",\n      \"base64:type254:66mU7J20IOyYhg==\",\n      0.41397849462365593,\n      4\n    ],\n    [\n      \"base64:type254:66mY7YOI66as7Iqk7Yq4\",\n      \"base64:type254:66qF7YOc7Ja07J6lIOyyreudvOyngeyYgeygkA==\",\n      0.42473118279569894,\n      4\n    ],\n    [\n      \"base64:type254:66qo7Lm067KI\",\n      \"base64:type254:66yY7Zal\",\n      0.43548387096774194,\n      4\n    ],\n    [\n      \"base64:type254:66y066aOIOychCDslYTqsIDrlYw=\",\n      \"base64:type254:66y8IOuniOyLnOq4sA==\",\n      0.44623655913978494,\n      4\n    ],\n    [\n      \"base64:type254:66y86rCQIO2EsO2KuOumsCDsgqzsp4Q=\",\n      \"base64:type254:67CV67CV7J2064uYIOyeheunmyDrp57stpTquLA=\",\n      0.45698924731182794,\n      4\n    ],\n    [\n      \"base64:type254:67CV7KCV66+8\",\n      \"base64:type254:67Ck7JaR6rCxIC0gQUkg7Jik7ZiB\",\n      0.46774193548387094,\n      4\n    ],\n    [\n      \"base64:type254:67Ck7JeQIO2UvOuKlCDqvYM=\",\n      \"base64:type254:67Cx7JeU65Oc\",\n      0.478494623655914,\n      4\n    ],\n    [\n      \"base64:type254:67KE6rGw656p\",\n      \"base64:type254:67Kg7Yq464Ko\",\n      0.489247311827957,\n      4\n    ],\n    [\n      \"base64:type254:67O0642U7L2c66as\",\n      \"base64:type254:67SE\",\n      0.5,\n      3\n    ],\n    [\n      \"base64:type254:67SJ66qF64+ZIOyYqOyynOy5vOq1reyImA==\",\n      \"base64:type254:67mE7Iqk7L2U7IKs7J207Yq4656p\",\n      0.510752688172043,\n      4\n    ],\n    [\n      \"base64:type254:67mE7Jik64qU64KgIOyasOyCsCDslYjqsIDsp4Dqs6Ag64KY7Jio6rG4IOyVjOyVmOydhCDrlYw=\",\n      \"base64:type254:67mg64uI67O07YuA\",\n      0.521505376344086,\n      4\n    ],\n    [\n      \"base64:type254:67mo6rCE67iU65+tIOuWoeuztuydtA==\",\n      \"base64:type254:7IKw7LGF6rCU64uk7JmA7IScIOuwnCDqvKzsp4jtlZwg7IOB7YOc66GcIOyLoOuCmOyEnCDtmZjt\\nlZjqsowg7JuD7J2EIOuVjA==\",\n      0.532258064516129,\n      4\n    ],\n    [\n      \"base64:type254:7IK07J247J6Q44WH64Kc6rCQ\",\n      \"base64:type254:7ISc656N67CR7JeQ7IScIOyJrOuKlCDsgqzsp4Q=\",\n      0.543010752688172,\n      4\n    ],\n    [\n      \"base64:type254:7ISc7Jq47Iiy\",\n      \"base64:type254:7ISd7LSMIO2YuOyImOqzteybkA==\",\n      0.553763440860215,\n      4\n    ],\n    [\n      \"base64:type254:7ISg7Jqw7KCV7JWEIC0g64+E66ed6rCA7J6Q\",\n      \"base64:type254:7IS47J6R8J+RgA==\",\n      0.5645161290322581,\n      4\n    ],\n    [\n      \"base64:type254:7IWU7YuA656c65OcIOyJveuPhQ==\",\n      \"base64:type254:7Iah7J20IOywjOqwnOuniOydhA==\",\n      0.5752688172043011,\n      4\n    ],\n    [\n      \"base64:type254:7Ie87ZWR6rCA6riwIQ==\",\n      \"base64:type254:7Iqk7Juo6420\",\n      0.5860215053763441,\n      4\n    ],\n    [\n      \"base64:type254:7Iqk7JyE7Iqk\",\n      \"base64:type254:7Iqs6riw66Gc7Jq0IOydmOyCrOyDne2ZnA==\",\n      0.5967741935483871,\n      4\n    ],\n    [\n      \"base64:type254:7Iqs65287J2065Oc67CV7Iqk\",\n      \"base64:type254:7Iuc67CU\",\n      0.6075268817204301,\n      4\n    ],\n    [\n      \"base64:type254:7Iuc7Jik\",\n      \"base64:type254:7Iux6rCA7Y+s66W0\",\n      0.6182795698924731,\n      4\n    ],\n    [\n      \"base64:type254:7I2o64uI64Sk7KeR\",\n      \"base64:type254:7JWE66qs65Oc\",\n      0.6290322580645161,\n      4\n    ],\n    [\n      \"base64:type254:7JWE66y066asIOuoueyWtOuPhCDsgrQg7JWI7LCM64qUIOuKpeugpQ==\",\n      \"base64:type254:7JWE7J2067mE\",\n      0.6397849462365591,\n      4\n    ],\n    [\n      \"base64:type254:7JWF7IS47IKs66asIOuztOq0gO2VqA==\",\n      \"base64:type254:7JWg7ZSM66+87Yq4\",\n      0.6505376344086021,\n      4\n    ],\n    [\n      \"base64:type254:7JaR7JaR7J6F7JWU66eJ6rWt7IiY\",\n      \"base64:type254:7Ja065SU7IScIOuwpe2SgCDrrLvtnojqs6Ag64KY7YOA64Ks7J2EIOuVjA==\",\n      0.6612903225806451,\n      4\n    ],\n    [\n      \"base64:type254:7Ja065ScIOq3uOumrCDrsJTsgpAg6rCA64qU6rCA\",\n      \"base64:type254:7Ja86rW0IOywjOu2gOuQkOydhCDrlLA=\",\n      0.6720430107526881,\n      4\n    ],\n    [\n      \"base64:type254:7Ja867mh7IO3\",\n      \"base64:type254:7JeQ7L2U67Cx\",\n      0.6827956989247311,\n      4\n    ],\n    [\n      \"base64:type254:7JeQ7ZS87IaM65Oc\",\n      \"base64:type254:7Jes66aEIOyViOuPmTI=\",\n      0.6935483870967742,\n      4\n    ],\n    [\n      \"base64:type254:7Jes7J6Q7JWE7J2065Ok\",\n      \"base64:type254:7JiB7Ja0IOyekOqyqeymnSDrlLDquLA=\",\n      0.7043010752688172,\n      4\n    ],\n    [\n      \"base64:type254:7JiI67uk7Ja0\",\n      \"base64:type254:7Jqp7IKwIC0g65Sw7Yyh\",\n      0.7150537634408602,\n      4\n    ],\n    [\n      \"base64:type254:7Jqp7IKwIC0g67Kg7J207Luk66as66y07J20\",\n      \"base64:type254:7JuQ7Jqw\",\n      0.7258064516129032,\n      4\n    ],\n    [\n      \"base64:type254:7JuQ7KeA7J2YIO2VmOujqA==\",\n      \"base64:type254:7JyE7Iuc66as7Iqk7Yq4IO2VmOuCmCDsgqzquLAv7Ie87ZWR6rCA6riw\",\n      0.7365591397849462,\n      4\n    ],\n    [\n      \"base64:type254:7JyE7Iuc67KE7YK3\",\n      \"base64:type254:7J2E7KeA6rmQ6rmQ\",\n      0.7473118279569892,\n      4\n    ],\n    [\n      \"base64:type254:7J2E7KeA66GcIOyImOygnOu5hA==\",\n      \"base64:type254:7J2066Cl7IScIOyTsOq4sA==\",\n      0.7580645161290323,\n      4\n    ],\n    [\n      \"base64:type254:7J2067KIIOyDneydgCDsspjsnYzsnbTrnbw=\",\n      \"base64:type254:7J217Iqk7Yq466CJ7IWY\",\n      0.7688172043010753,\n      4\n    ],\n    [\n      \"base64:type254:7J247ZSM6528\",\n      \"base64:type254:7J6E6rG07JqwIOyYhg==\",\n      0.7795698924731183,\n      4\n    ],\n    [\n      \"base64:type254:7J6Q6riw67O064ukIO2BsCDsnbjtmJUg7JeF6rOgIOyeiOydhCDrlYw=\",\n      \"base64:type254:7J6g\",\n      0.7903225806451613,\n      4\n    ],\n    [\n      \"base64:type254:7KCE7ISgIOusvOyWtOucr+uKlCDsgqzsp4Q=\",\n      \"base64:type254:7KCV7KCE6riwIOydvOyWtOuCrOydhCDrlYw=\",\n      0.8010752688172043,\n      4\n    ],\n    [\n      \"base64:type254:7KCk64Sk7J287IO1L+uvuOyaqeyLpCDqsIDquLA=\",\n      \"base64:type254:7KKL7JWE7ZWY64qUIOyCrOuejOunjOuCmOq4sA==\",\n      0.8118279569892473,\n      4\n    ],\n    [\n      \"base64:type254:7KO866eI65Ox\",\n      \"base64:type254:7KeA7ZWY7LKgIOqwhOuwnOydmCDssKjsnbTroZwg64aT7LOk7J2EIOuVjA==\",\n      0.8225806451612904,\n      4\n    ],\n    [\n      \"base64:type254:7KeE64+X6rCc\",\n      \"base64:type254:7LKc64yA7KCE6riI\",\n      0.8333333333333334,\n      4\n    ],\n    [\n      \"base64:type254:7LKt6528IOugiOydtA==\",\n      \"base64:type254:7LWc7JWgIOu5teynkeydtCDqsJHsnpDquLAg7Zy066y07J24IOqxuCDslYzslZjsnYQg65WM\",\n      0.8440860215053764,\n      4\n    ],\n    [\n      \"base64:type254:7LWc7Jyg66asIC0g7Iiy\",\n      \"base64:type254:7Lm07Y6YIOyImOyasA==\",\n      0.8548387096774194,\n      4\n    ],\n    [\n      \"base64:type254:7LqQ7KCc\",\n      \"base64:type254:7L2c\",\n      0.8655913978494624,\n      4\n    ],\n    [\n      \"base64:type254:7L+g67KE7YOA7L2U\",\n      \"base64:type254:7YGs66a87ZSEIOy8gOydtO2BrA==\",\n      0.8763440860215054,\n      4\n    ],\n    [\n      \"base64:type254:7YG065287Jqw7Iqk\",\n      \"base64:type254:7YKk7JWE64iEIOumrOu4jOyKpA==\",\n      0.8870967741935484,\n      4\n    ],\n    [\n      \"base64:type254:7YKs65+s7J2YIOuztOuUlOqwgOuTnA==\",\n      \"base64:type254:7YOs67KE66aw7KaIIO2VuOuTnO2BrOumvA==\",\n      0.8978494623655914,\n      4\n    ],\n    [\n      \"base64:type254:7YSw66+464SQ\",\n      \"base64:type254:7Yag66eI7Yag\",\n      0.9086021505376344,\n      4\n    ],\n    [\n      \"base64:type254:7Yag7Iqk\",\n      \"base64:type254:7Yqc67iM\",\n      0.9193548387096774,\n      4\n    ],\n    [\n      \"base64:type254:7YuI7Luk7ZS8\",\n      \"base64:type254:7Y+t7ZKN7J2YIOyLnOqwhA==\",\n      0.9301075268817204,\n      4\n    ],\n    [\n      \"base64:type254:7Y+06528IOydteyKpO2UhOugiOyKpA==\",\n      \"base64:type254:7ZSE656A7Iuc7IqkIOunpeuPhOuovOuTnA==\",\n      0.9408602150537635,\n      4\n    ],\n    [\n      \"base64:type254:7ZSE66CJ7LKY65Oc\",\n      \"base64:type254:7ZSE66Gg7Yq4\",\n      0.9516129032258065,\n      4\n    ],\n    [\n      \"base64:type254:7ZSE66as7KaM67iM66CI7J207YGs\",\n      \"base64:type254:7ZWZ6rOg7J6sIOqwpOufrOumrA==\",\n      0.9623655913978495,\n      4\n    ],\n    [\n      \"base64:type254:7ZWc7KCV7ISg\",\n      \"base64:type254:7ZWg7J287J20IOyCsOuNlOuvuOyngOunjCDssrTroKXsnbQg7JeG7J2EIOuVjA==\",\n      0.9731182795698925,\n      4\n    ],\n    [\n      \"base64:type254:7ZWo7Y+JIOutie2LsOq4sCDtj6ztla3thrXqs6jrsYXsnbQ=\",\n      \"base64:type254:7ZW0IOuWoOyeiOydhOuVjCDsgrDssYXtlZjquLA=\",\n      0.978494623655914,\n      2\n    ],\n    [\n      \"base64:type254:7ZW07J247Ja07Iuc7J6l\",\n      \"base64:type254:7ZW07J247Ja07Iuc7J6l\",\n      0.9811827956989247,\n      1\n    ],\n    [\n      \"base64:type254:7ZeI66i8IOuwgOufrCDsnZjsnpA=\",\n      \"base64:type254:7ZeI66i8IOuwgOufrCDsnZjsnpA=\",\n      0.9838709677419355,\n      1\n    ],\n    [\n      \"base64:type254:7ZmN7JewIC0g7JWI7JiI7J2A\",\n      \"base64:type254:7ZmN7JewIC0g7JWI7JiI7J2A\",\n      0.9865591397849462,\n      1\n    ],\n    [\n      \"base64:type254:7ZmN7L2U7L2U66Gc7Iqk7Iuc\",\n      \"base64:type254:7ZmN7L2U7L2U66Gc7Iqk7Iuc\",\n      0.989247311827957,\n      1\n    ],\n    [\n      \"base64:type254:7ZmU7J207Yq466Gk\",\n      \"base64:type254:7ZmU7J207Yq466Gk\",\n      0.9919354838709677,\n      1\n    ],\n    [\n      \"base64:type254:7ZmU7LC97ZWc64KgIO2VnOqwleyXkOyEnCDsgrDssYXtlaAg65WM\",\n      \"base64:type254:7ZmU7LC97ZWc64KgIO2VnOqwleyXkOyEnCDsgrDssYXtlaAg65WM\",\n      0.9946236559139785,\n      1\n    ],\n    [\n      \"base64:type254:7ZuE7ZSM7ZG47ZSE\",\n      \"base64:type254:7ZuE7ZSM7ZG47ZSE\",\n      0.9973118279569892,\n      1\n    ],\n    [\n      \"base64:type254:7Z6Z7KeA66Gc7JeQ7IScIOyngO2VmOyyoOyXrSDssL7quLA=\",\n      \"base64:type254:7Z6Z7KeA66Gc7JeQ7IScIOyngO2VmOyyoOyXrSDssL7quLA=\",\n      1,\n      1\n    ]\n  ],\n  \"data-type\": \"string\",\n  \"null-values\": 0,\n  \"collation-id\": 255,\n  \"last-updated\": \"2024-03-05 06:25:28.540987\",\n  \"sampling-rate\": 1,\n  \"histogram-type\": \"equi-height\",\n  \"number-of-buckets-specified\": 100\n}\n1 row in set (0.00 sec)\n```\n</details>\n\n#### íˆìŠ¤í† ê·¸ë¨ ì¢…ë¥˜\n\níˆìŠ¤í† ê·¸ë¨ì—ëŠ” ë‘ ì¢…ë¥˜ê°€ ìˆë‹¤.\n\n- Singleton(ì‹±ê¸€í†¤ íˆìŠ¤í† ê·¸ë¨)\n  - ì¹¼ëŸ¼ê°’ ê°œë³„ë¡œ ë ˆì½”ë“œ ê±´ìˆ˜ë¥¼ ê´€ë¦¬í•œë‹¤.\n    > ì¹¼ëŸ¼ê°’: íŠ¹ì • ì¹¼ëŸ¼ì´ ê°€ì§€ëŠ” ê³ ìœ  ê°’\n  - Value-Based íˆìŠ¤í† ê·¸ë¨ ë˜ëŠ” ë„ìˆ˜ ë¶„í¬ë¼ê³ ë„ í•œë‹¤.\n\n![ì‹±ê¸€í†¤ íˆìŠ¤í† ê·¸ë¨](singleton-histogram.png)\n\n- Equi-Height(ë†’ì´ ê· í˜• íˆìŠ¤í† ê·¸ë¨)\n  - ì¹¼ëŸ¼ê°’ì˜ ë²”ìœ„ë¥¼ ê· ë“±í•œ ê°œìˆ˜ë¡œ êµ¬ë¶„í•´ì„œ ê´€ë¦¬í•œë‹¤.\n  - Height-Balanced íˆìŠ¤í† ê·¸ë¨ì´ë¼ê³ ë„ í•œë‹¤.\n  \n![ë†’ì´ ê· í˜• íˆìŠ¤í† ê·¸ë¨](equi-height-histogram.png)\n\n#### íˆìŠ¤í† ê·¸ë¨ ì´í•´í•˜ê¸° â­ï¸\n\níˆìŠ¤í† ê·¸ë¨ì€ <u>ë²„í‚· (Bucket) ë‹¨ìœ„ë¡œ êµ¬ë¶„ë˜ì–´ ë ˆì½”ë“œ ê±´ìˆ˜ë‚˜ ì¹¼ëŸ¼ê°’ì˜ ë²”ìœ„ê°€ ê´€ë¦¬</u>ëœë‹¤.\n\nì‹±ê¸€í†¤ íˆìŠ¤í† ê·¸ë¨ì€ ë ˆì½”ë“œ ê°’ë³„ë¡œ ë²„í‚·ì´ í• ë‹¹ë˜ë©°, ë†’ì´ ê· í˜• íˆìŠ¤í† ê·¸ë¨ì—ì„œëŠ” ê°œìˆ˜ê°€ ê· ë“±í•œ ì¹¼ëŸ¼ê°’ì˜ ë²”ìœ„ë³„ë¡œ í•˜ë‚˜ì˜ ë²„í‚·ì´ í• ë‹¹ëœë‹¤.\n\nì‹±ê¸€í†¤ íˆìŠ¤í† ê·¸ë¨ì€ ê° ë²„í‚·ì´ ì¹¼ëŸ¼ì˜ ê°’ê³¼ ë°œìƒ ë¹ˆë„ì˜ ë¹„ìœ¨ ê°’ì„ ê°€ì§„ë‹¤.<br>\në†’ì´ ê· í˜• íˆìŠ¤í† ê·¸ë¨ì€ ê° ë²„í‚·ì´ ë²”ìœ„ ì‹œì‘ ê°’ê³¼ ë§ˆì§€ë§‰ ê°’, ê·¸ë¦¬ê³  ë°œìƒ ë¹ˆë„ìœ¨ê³¼ ê° ë²„í‚·ì— í¬í•¨ë˜ëŠ” ìœ ë‹ˆí¬í•œ ê°’ì˜ ê°œìˆ˜ë¥¼ ê°€ì§„ë‹¤.\n\nìœ„ ì‚¬ì§„ì„ ë‹¤ì‹œ ë³´ë©´, ì‹±ê¸€í†¤ íˆìŠ¤í† ê·¸ë¨ì€ ì„±ë³„ì„ ë‚˜íƒ€ë‚´ëŠ” `gender` ì¹¼ëŸ¼ì— ëŒ€í•œ íˆìŠ¤í† ê·¸ë¨ ì •ë³´ì´ê³ <br>\në†’ì´ ê· í˜• íˆìŠ¤í† ê·¸ë¨ì€ ì±„ìš©ì¼ì„ ë‚˜íƒ€ë‚´ëŠ” `hire_date` ì¹¼ëŸ¼ì— ëŒ€í•œ íˆìŠ¤í† ê·¸ë¨ ì •ë³´ì´ë‹¤.\n\n![](histogram-example.png)\n\nì‹±ê¸€í†¤ íˆìŠ¤í† ê·¸ë¨ì€ `ENUM('M', 'F')` íƒ€ì…ì¸ gender ì¹¼ëŸ¼ì´ ê°€ì§ˆ ìˆ˜ ìˆëŠ” 2ê°œì˜ ê°’ì— ëŒ€í•´ ëˆ„ì ëœ ë ˆì½”ë“œ ê±´ìˆ˜ì˜ ë¹„ìœ¨ì„ ë‚˜íƒ€ë‚¸ë‹¤.<br>\nì´ì²˜ëŸ¼ <u>ì‹±ê¸€í†¤ íˆìŠ¤í† ê·¸ë¨ì€ ì£¼ë¡œ ì½”ë“œ ê°’ê³¼ ê°™ì´ ìœ ë‹ˆí¬í•œ ê°’ì˜ ê°œìˆ˜ê°€ ìƒëŒ€ì ìœ¼ë¡œ ì ì€ ê²½ìš° ì‚¬ìš©</u>ëœë‹¤.<br>\nìœ„ ì‚¬ì§„ì—ì„œëŠ” ê°’ì´ 'M'ì¸ ë ˆì½”ë“œ ë¹„ìœ¨ì€ ì•½ 0.5998ì´ë©°, ê°’ì´ 'F'ì¸ ë ˆì½”ë“œì˜ ë¹„ìœ¨ì€ 1ë¡œ í‘œì‹œë˜ê³  ìˆë‹¤. í•˜ì§€ë§Œ **íˆìŠ¤í† ê·¸ë¨ì˜ ëª¨ë“  ë ˆì½”ë“œ ê±´ìˆ˜ ë¹„ìœ¨ì€ ëˆ„ì ìœ¼ë¡œ í‘œì‹œ**ëœë‹¤. ë‹¤ì‹œ ë§í•´, ê·¸ë˜í”„ì˜ xì¶•ì´ ì»¤ì§ˆìˆ˜ë¡ ê·¸ ê°’ì´ ëˆ„ì ëœë‹¤ëŠ” ë§ì´ë‹¤.<br>\në”°ë¼ì„œ ê°’ì´ 'M'ì¸ ë ˆì½”ë“œì˜ ë¹„ìœ¨ì€ '1 - 0.5998' ë¡œ ê³„ì‚°í•´ì•¼ í•œë‹¤.\n\n<u>ë†’ì´ ê· í˜• íˆìŠ¤í† ê·¸ë¨ì€ ì¹¼ëŸ¼ê°’ì˜ ê° ë²”ìœ„ì— ëŒ€í•´ ë ˆì½”ë“œ ê±´ìˆ˜ ë¹„ìœ¨ì´ ëˆ„ì ìœ¼ë¡œ í‘œì‹œ</u>ëœë‹¤.<br>\nê·¸ë˜ì„œ íˆìŠ¤í† ê·¸ë¨ì˜ ë²„í‚· ë²”ìœ„ê°€ ë’¤ë¡œ ê°ˆìˆ˜ë¡ ë¹„ìœ¨ì´ ë†’ì•„ì§€ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ì§€ë§Œ, ì‚¬ì‹¤ ë²”ìœ„ë³„ë¡œ ë¹„ìœ¨ì´ ê°™ì€ ìˆ˜ì¤€ì—ì„œ `hire_date` ì¹¼ëŸ¼ì˜ ë²”ìœ„ê°€ ì„ íƒëœ ê²ƒì´ë‹¤.<br>\nê·¸ë˜í”„ì˜ ê¸°ìš¸ê¸°ê°€ ì¼ì •í•œ ê²ƒì„ í†µí•´ ëª¨ë“  ë²”ìœ„ì— ëŒ€í•œ ë ˆì½”ë“œ ê±´ìˆ˜ ë¹„ìœ¨ì´ ëª¨ë‘ ë¹„ìŠ·í•œ ê°’ì„ ê°€ì§„ë‹¤ëŠ” ê²ƒì„ ëˆˆì¹˜ì±Œ ìˆ˜ ìˆë‹¤.\n\nì¶”ê°€ë¡œ `information_schema.column_statistics` í…Œì´ë¸”ì˜ HISTOGRAM ì¹¼ëŸ¼ì´ ê°€ì§€ëŠ” ë‚˜ë¨¸ì§€ í•„ë“œë“¤ì€ ë‹¤ìŒê³¼ ê°™ì€ ì •ë³´ë¥¼ ê°€ì§„ë‹¤.\n\n- `sampling-rate`\n  - íˆìŠ¤í† ê·¸ë¨ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ê¸° ìœ„í•´ ìŠ¤ìº”í•œ í˜ì´ì§€ì˜ ë¹„ìœ¨ì´ë‹¤.\n  - ì´ ë¹„ìœ¨ì´ ë†’ì„ ìˆ˜ë¡ ì •í™•í•œ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆì§€ë§Œ ê·¸ë§Œí¼ ë” ë§ì€ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤.\n  - defaultë¡œ, `histogram_generation_max_mem_size` ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì„¤ì •ëœ ë©”ëª¨ë¦¬ í¬ê¸°ì— ë§ê²Œ ìƒ˜í”Œë§ëœë‹¤.\n  - ì´ ê°’ì€ 20MBë¡œ ì´ˆê¸°í™”ë ì–´ ìˆë‹¤.\n\n- `histogram-type`\n  - íˆìŠ¤í† ê·¸ë¨ì˜ ì¢…ë¥˜ì´ë‹¤.\n\n- `number-of-buckets-specified`\n  - íˆìŠ¤í† ê·¸ë¨ì„ ìƒì„±í•  ë•Œ ì„¤ì •í–ˆë˜ ë²„í‚·ì˜ ê°œìˆ˜ì´ë‹¤.\n  - íˆìŠ¤í† ê·¸ë¨ì„ ìƒì„±í•  ë•Œ ë³„ë„ë¡œ ë²„í‚·ì˜ ìˆ˜ë¥¼ ì§€ì •í•˜ì§€ ì•Šì•˜ë‹¤ë©´ ê¸°ë³¸ì ìœ¼ë¡œ 100ê°œì˜ ë²„í‚·ì´ ì‚¬ìš©ëœë‹¤.\n  - ë²„í‚·ì€ ìµœëŒ€ 1024ê°œ ì„¤ì •í•  ìˆ˜ ìˆì§€ë§Œ ì¼ë°˜ì ìœ¼ë¡œ 100ê°œì˜ ë²„í‚·ì´ë©´ ì¶©ë¶„í•œ ê²ƒìœ¼ë¡œ ì•Œë ¤ì ¸ìˆë‹¤.\n\n> ì£¼ì˜ ğŸš¨<br>\n> MySQL 8.0.19 ë¯¸ë§Œ ë²„ì „ê¹Œì§€ëŠ” íˆìŠ¤í† ê·¸ë¨ ìƒì„± ì‹œ `sampling-rate`, `histogram_generation_max_mem_size` ì‹œìŠ¤í…œ ë³€ìˆ˜ í¬ê¸°ì™€ ìƒê´€ì—†ì´ í’€ ìŠ¤ìº”ì„ í†µí•´ ë°ì´í„° í˜ì´ì§€ë¥¼ ìƒ˜í”Œë§í•˜ì—¬ íˆìŠ¤í† ê·¸ë¨ì„ ìƒì„±í–ˆë‹¤.<br>\n> í•˜ì§€ë§Œ MySQL 8.0.19 ë²„ì „ë¶€í„° InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ìì²´ì ìœ¼ë¡œ ìƒ˜í”Œë§ ì•Œê³ ë¦¬ì¦˜ì„ êµ¬í˜„í–ˆìœ¼ë©°, ë”ì´ìƒ í’€ ìŠ¤ìº”ì„ í†µí•´ íˆìŠ¤í† ê·¸ë¨ì„ ìƒì„±í•˜ì§€ ì•ŠëŠ”ë‹¤.<br>\n> ë”°ë¼ì„œ MySQL 8.0.18 ë²„ì „ê¹Œì§€ëŠ” íˆìŠ¤í† ê·¸ë¨ ìƒì„± ì‹œ ì£¼ì˜ê°€ í•„ìš”í•˜ë‹¤.\n\n#### íˆìŠ¤í† ê·¸ë¨ ì‚­ì œí•˜ê¸°\n\nìƒì„±í•œ íˆìŠ¤í† ê·¸ë¨ì€ `ANALYZE TABLE {database}.{table} DROP HISTOGRAM ON {columns}` ë‹¤ìŒê³¼ ê°™ì´ ì‚­ì œí•  ìˆ˜ ìˆë‹¤.\n\n```sql\n# ì˜ˆì‹œ\nmysql> ANALYZE TABLE employees.employees DROP HISTOGRAM ON gender, hire_date;\n```\n\níˆìŠ¤í† ê·¸ë¨ ì‚­ì œëŠ” ë°ì´í„°ë¥¼ ì°¸ì¡°í•˜ì§€ ì•Šê³  ë”•ì…”ë„ˆë¦¬ ë‚´ìš©ë§Œ ì‚­ì œí•˜ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ì¿¼ë¦¬ ì²˜ë¦¬ ì„±ëŠ¥ì„ í•´ì¹˜ì§€ ì•ŠëŠ”ë‹¤.\n\n#### íˆìŠ¤í† ê·¸ë¨ì€ ìˆì§€ë§Œ ì˜µí‹°ë§ˆì´ì €ê°€ ì‚¬ìš©í•˜ì§€ ì•Šê²Œ í•˜ê¸°\n\níˆìŠ¤í† ê·¸ë¨ì„ ì‚­ì œí•˜ì§€ ì•Šê³  ì˜µí‹°ë§ˆì´ì €ê°€ íˆìŠ¤í† ê·¸ë¨ì„ ì‚¬ìš©í•˜ì§€ ì•Šê²Œ í•˜ë ¤ë©´ ì•„ë˜ ì¿¼ë¦¬ë¥¼ ì°¸ê³ í•˜ì\n\n```sql\n# ëª¨ë“  ì¿¼ë¦¬ì— ì ìš©\nmysql> SET GLOBAL optimizer_switch='condition_fanout_filter=off';\n\n# í˜„ì¬ ì»¤ë„¥ì…˜ì—ì„œ ì‹¤í–‰ë˜ëŠ” ì¿¼ë¦¬ë§Œ ì ìš©\nmysql> SET SESSION optimizer_switch='condition_fanout_filter=off';\n\n# í˜„ì¬ ì¿¼ë¦¬ì—ë§Œ ì ìš©\nmysql> SELECT /*+ SET_VAR(optimizer_switch='condition_fanout_filter=off') */ *\n       FROM ...\n```\n\n#### íˆìŠ¤í† ê·¸ë¨ì˜ ìš©ë„\n\níˆìŠ¤í† ê·¸ë¨ì€ íŠ¹ì • ì¹¼ëŸ¼ì´ ê°€ì§€ëŠ” ëª¨ë“  ê°’ì— ëŒ€í•œ ë¶„í¬ë„ ì •ë³´ë¥¼ ê°€ì§€ì§€ëŠ” ì•Šì§€ë§Œ ê° ë²„í‚· ë³„ë¡œ ë ˆì½”ë“œì˜ ê±´ìˆ˜ë‚˜ ìœ ë‹ˆí¬í•œ ê°’ì˜ ê°œìˆ˜ ì •ë³´ë¥¼ ê°€ì§€ë¯€ë¡œ í›¨ì”¬ ì •í™•í•œ ì˜ˆì¸¡ì„ í•  ìˆ˜ ìˆë‹¤.\n\níˆìŠ¤í† ê·¸ë¨ ì •ë³´ê°€ ì—†ìœ¼ë©´ ì˜µí‹°ë§ˆì´ì €ëŠ” ë°ì´í„°ê°€ ê· ë“±í•˜ê²Œ ë¶„í¬ë˜ì–´ ìˆì„ ê²ƒìœ¼ë¡œ ì˜ˆì¸¡í•œë‹¤. í•˜ì§€ë§Œ íˆìŠ¤í† ê·¸ë¨ ì •ë³´ê°€ ìˆìœ¼ë©´ íŠ¹ì • ë²”ìœ„ì˜ ë°ì´í„°ê°€ ë§ê³  ì ìŒì„ ì–´ëŠì •ë„ ë¯¸ë¦¬ ìœ ì¶”í•  ìˆ˜ ìˆê²Œ ëœë‹¤.\n\n### íˆìŠ¤í† ê·¸ë¨ê³¼ ì¸ë±ìŠ¤\n\nì˜µí‹°ë§ˆì´ì €ê°€ ì¿¼ë¦¬ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•  ë•Œ ì‚¬ìš© ê°€ëŠ¥í•œ ì¸ë±ìŠ¤ë“¤ë¡œë¶€í„° ì¡°ê±´ì ˆì— ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œ ê±´ìˆ˜ë¥¼ ëŒ€ëµ íŒŒì•…í•˜ê³  ìµœì¢…ì ìœ¼ë¡œ ê°€ì¥ ë‚˜ì€ ì‹¤í–‰ ê³„íšì„ ì„ íƒí•œë‹¤.<br>\nì´ë•Œ ì¡°ê±´ì ˆì— ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œ ê±´ìˆ˜ë¥¼ ì˜ˆì¸¡í•˜ê¸° ìœ„í•´ ì˜µí‹°ë§ˆì´ì €ëŠ” ì‹¤ì œ ì¸ë±ìŠ¤ì˜ B-Treeë¥¼ ìƒ˜í”Œë§í•´ì„œ ì‚´í´ë³¸ë‹¤.<br>\nì´ë¥¼ **ì¸ë±ìŠ¤ ë‹¤ì´ë¸Œ**(Index Dive)ë¼ê³  í‘œí˜„í•œë‹¤.\n\nì¼ë°˜ì ìœ¼ë¡œ ê²€ìƒ‰ ì¡°ê±´ìœ¼ë¡œ ë§ì´ ì‚¬ìš©ë˜ëŠ” ì¹¼ëŸ¼ì€ ì¸ë±ìŠ¤ë¡œ ì„¤ì •í•œë‹¤.<br>\nê·¸ëŸ°ë° ì´ë ‡ê²Œ ì¸ë±ìŠ¤ë¡œ ì„¤ì •í•œ ì¹¼ëŸ¼ì— ëŒ€í•´ íˆìŠ¤í† ê·¸ë¨ ì •ë³´ë¥¼ ìˆ˜ì§‘í•´ë‘ëŠ” ê²ƒì´ ì¢‹ì„ê¹Œ?<br>\nì•„ë˜ ì¿¼ë¦¬ë¥¼ í†µí•´ ì•Œì•„ë³´ì.\n\n```sql\n# ì°¸ê³ : first_name ì¹¼ëŸ¼ë§Œ ì¸ë±ìŠ¤ë¡œ ì„¤ì •ë˜ì–´ ìˆë‹¤.\nSELECT *\nFROM employees\nWHERE first_name='Tonny' AND birth_date BETWEEN '1954-01-01' AND '1955-01-01';\n```\n\nì´ëŸ¬í•œ ì¿¼ë¦¬ë¼ë©´ ì˜µí‹°ë§ˆì´ì €ëŠ” first_name ì¹¼ëŸ¼ì˜ ì¸ë±ìŠ¤ì™€ birth_date ì¹¼ëŸ¼ì˜ íˆìŠ¤í† ê·¸ë¨ ì •ë³´ë¥¼ ì‚¬ìš©í• ê¹Œ?<br>\nMySQL 8.0ë¶€í„°ëŠ” ì¸ë±ìŠ¤ëœ ì¹¼ëŸ¼ì„ ê²€ìƒ‰ ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ê·¸ ì¹¼ëŸ¼ì˜ íˆìŠ¤í† ê·¸ë¨ì€ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì¸ë±ìŠ¤ ë‹¤ì´ë¸Œë¥¼ í†µí•´ ì§ì ‘ ìˆ˜ì§‘í•œ ì •ë³´ë¥¼ í™œìš©í•œë‹¤.<br>\nì´ëŠ” ì‹¤ì œ ê²€ìƒ‰ ì¡°ê±´ì˜ ëŒ€ìƒ ê°’ìœ¼ë¡œ ì§ì ‘ ìƒ˜í”Œë§ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ë¯€ë¡œ í•­ìƒ íˆìŠ¤í† ê·¸ë¨ë³´ë‹¤ ë” ì •í™•í•œ ê²°ê³¼ë¥¼ ê¸°ëŒ€í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.\n\nê·¸ë˜ì„œ MySQL 8.0 ë²„ì „ë¶€í„°ëŠ” íˆìŠ¤í† ê·¸ë¨ì„ ì£¼ë¡œ ì¸ë±ìŠ¤ë˜ì§€ ì•Šì€ ì¹¼ëŸ¼ì— ëŒ€í•œ ë°ì´í„° ë¶„í¬ë„ë¥¼ ì°¸ì¡°í•˜ëŠ” ìš©ë„ë¡œ ì‚¬ìš©ëœë‹¤."},{"excerpt":"ë“¤ì–´ê°€ë©° ListyWave í”„ë¡œì íŠ¸ì˜ ê³µì‹ ì¼ì •ì´ ëª¨ë‘ ëì´ ë‚¬ë‹¤.\nìµœì¢… ë°œí‘œëŠ” ë§¤ìš° ëœ¨ê±°ìš´ ë°˜ì‘ì„ ë‚³ìœ¼ë©° ì„±í™©ë¦¬ì— ëì´ ë‚¬ë‹¤. ê·¸ê°„ ìµœì¢… ì¼ìì— ì«“ê²¨ ê°œë°œ ì¼ì •ì„ ì§„í–‰í•˜ë‹¤ë³´ë‹ˆ íšŒê³  ì“¸ ì—¬ìœ ë„ ì—†ì—ˆë‹¤.\në‚˜í˜ì„ í‘¹ ì‰¬ê³  ë‚´ì¼ë¶€í„° ë‹¤ì‹œ Next Stepì„ ìœ„í•´ ì›€ì§ì´ê¸° ì „ì— ìŠê¸° ì „ íšŒê³ ë¥¼ ì‘ì„±í•˜ë ¤ê³  í•œë‹¤. ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œ ë°°ìš´ ê²ƒ 1. í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ì¤‘ìš”â€¦","fields":{"slug":"/3-6-weeks/"},"frontmatter":{"date":"March 04, 2024","title":"[ListyWave] 3~6ì£¼ì°¨ íšŒê³ ","tags":["ListyWave","retrospective"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©°\n\nListyWave í”„ë¡œì íŠ¸ì˜ ê³µì‹ ì¼ì •ì´ ëª¨ë‘ ëì´ ë‚¬ë‹¤.<br>\nìµœì¢… ë°œí‘œëŠ” ë§¤ìš° ëœ¨ê±°ìš´ ë°˜ì‘ì„ ë‚³ìœ¼ë©° ì„±í™©ë¦¬ì— ëì´ ë‚¬ë‹¤.\n\nê·¸ê°„ ìµœì¢… ì¼ìì— ì«“ê²¨ ê°œë°œ ì¼ì •ì„ ì§„í–‰í•˜ë‹¤ë³´ë‹ˆ íšŒê³  ì“¸ ì—¬ìœ ë„ ì—†ì—ˆë‹¤.<br>\në‚˜í˜ì„ í‘¹ ì‰¬ê³  ë‚´ì¼ë¶€í„° ë‹¤ì‹œ Next Stepì„ ìœ„í•´ ì›€ì§ì´ê¸° ì „ì— ìŠê¸° ì „ íšŒê³ ë¥¼ ì‘ì„±í•˜ë ¤ê³  í•œë‹¤.\n\n## ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œ ë°°ìš´ ê²ƒ\n\n### 1. í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ì¤‘ìš”ì„±\n\n[1, 2ì£¼ì°¨ íšŒê³ ë¡](https://kdkdhoho.github.io/1-2-week/)ì—ì„œë„ ì‘ì„±í–ˆë“¯ì´ 6ì£¼ë¼ëŠ” íƒ€ì´íŠ¸í•œ ê°œë°œ ì¼ì •ê³¼ í”„ë¡ íŠ¸ì—”ë“œëŠ” 5ëª…, ë°±ì—”ë“œëŠ” ì§ì¥ì¸ 1ëª… ë‚˜ 1ëª…ìœ¼ë¡œ ì´ë¤„ì§€ë‹¤ë³´ë‹ˆ ê°œë°œ ì¼ì •ì´ ë§¤~~~~ìš° ë¹ ë“¯í–ˆë‹¤.<br>\nê·¸ëŸ¬ë‹¤ë³´ë‹ˆ ê²°êµ­ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ëª¨ë“  ê¸°ëŠ¥ êµ¬í˜„ê³¼ ë²„ê·¸ fixê°€ ë§ˆì¹œ ì´í›„ì—ì•¼ ì¡°ê¸ˆì”© ì§¤ ìˆ˜ ìˆì—ˆë‹¤.\n\ní•˜ì§€ë§Œ ëë‚´ ìµœì¢… ë°œí‘œ ì „ê¹Œì§€ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì™„ì„±í•˜ì§€ ëª»í–ˆë‹¤..<br>\nê·¸ëŸ¬ë‹¤ë³´ë‹ˆ ì´ìƒí•œ ê³³ì—ì„œ ìê¾¸ ë°œìƒí•˜ëŠ” ë²„ê·¸ ğŸë“¤ ë•Œë¬¸ì— ê³¨ë¨¸ë¦¬ë¥¼ ì•“ì•˜ë‹¤.<br>\n(~~ì‚¬ì‹¤ ì§€ê¸ˆë„ ê²€ìƒ‰ ê²°ê³¼ì— ì•„ì´í…œ ê´€ë ¨ëœ ê²°ê³¼ê°€ í¬í•¨ë˜ì§€ ì•ŠëŠ” ë²„ê·¸ê°€ ì¡´ì¬í•œë‹¤.~~)\n\në§Œì•½, ì´ˆë°˜ì— ì ì–´ë„ ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•  í‹€ì„ ì¡ê³  êµ¬í˜„í•  ê¸°ëŠ¥ì— ëŒ€í•´ ì ì–´ë„ ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ë¼ë„ ì¡´ì¬í–ˆë”ë¼ë©´ ì–´ë• ì„ì§€ ê¶ê¸ˆí•˜ë‹¤.<br>\nì´ëŠ” ë‚´ ì‹¤ë ¥ê³¼ ê²½í—˜ì´ ë¶€ì¡±í–ˆë˜ íƒ“ì´ë¼ê³  í•˜ì.\n\n### 2. ê¸°íšì˜ ì¤‘ìš”ì„±\n\nListyWaveëŠ” íŒ€ì— í•œ ë¶„ì— ì˜í•´ ê¸°íšë˜ì—ˆë‹¤.<br>\nê¸°íšìë¥¼ ì¤€ë¹„í•˜ì…¨ë‹¤ê³  ë“¤ì—ˆì§€ë§Œ ì§„ì§œ ì—¬íƒœ ë§Œë‚œ ì„œë¹„ìŠ¤ ê¸°íš ì¤‘ ìµœê³ ì˜ ê¸°íšì´ì—ˆë‹¤.<br>\nìƒì„¸í•œ [IA](https://docs.google.com/spreadsheets/d/1zKPf-iuBuGF66OgM_K993VIctbCX5laXCqLIGblCVD0/edit?usp=sharing)ë¶€í„° ê°œë°œìë¥¼ ê³ ë ¤í•œ ìš”êµ¬ì‚¬í•­ ì •ë¦¬ê¹Œì§€..<br>\në§Œì•½ ê¸°íšì´ ì´ë ‡ê²Œê¹Œì§€ ê¹”ë”íˆ ì •ë¦¬ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ê°œë°œ ì†ë„ì—ë„ ì˜í–¥ì´ ë¯¸ì³¤ì„ ì •ë„ì˜€ë‹¤.\n\në¬´ì—‡ë³´ë‹¤ ìµœì¢… ê²°ê³¼ë¬¼ì´ ë„ˆë¬´ë„ˆë¬´ë„ˆë¬´ë„ˆë¬´ë„ˆë¬´ ë§Œì¡±ìŠ¤ëŸ½ë‹¤ !<br>\nSNSë¥¼ ì˜ í•˜ì§€ ì•ŠëŠ” ë‚˜ì§€ë§Œ ê°€ë” ìƒê°ë‚˜ì„œ ë“¤ì–´ê°€ê²Œ ë˜ê³  ê´œíˆ ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ê³  ëŒ“ê¸€ì„ ë‹¬ê³¤ í•œë‹¤.\n\në§ì€ ì‚¬ëŒë“¤ì´ í•œë²ˆì”© ì¨ë´¤ìœ¼ë©´ ì¢‹ê² ë‹¤ ã…ã…\n\nâ­ï¸ --> ë°°í¬ ì£¼ì†Œ: https://listywave.com â­ï¸\n\n### 3. íŒ€ì›ì˜ ì¤‘ìš”ì„±\n\nëª¨ë“  íŒ€ì›ì˜ ì†Œí”„íŠ¸ ìŠ¤í‚¬ ì—­ëŸ‰ì´ ì •ë§ ë›°ì–´ë‚˜ë‹¤.<br>\nê·¸ë¦¬ê³  ë‹¤ë“¤ ë¯¸ì¹œë“¯ì´ ì—´ì‹¬íˆë„ í•˜ê³  ì¼ì •ì´ ë¹ ë“¯í•´ë³´ì—¬ ì´ê±° í•  ìˆ˜ ìˆì„ê¹Œ..? ì‹¶ì€ ìƒê°ì´ ë“¤ì—ˆì§€ë§Œ ëª¨ë‘ ëë‚´ í•´ë‚´ë²„ë¦°ë‹¤.<br>\níŒ€ì¥ê³¼ ê¸°íš ë¦¬ë”ì˜ ë¦¬ë”ì‰½ë„ ì–´ë§ˆì–´ë§ˆí•˜ë‹¤.\n\nì•ìœ¼ë¡œ ì·¨ì¤€í•˜ë©´ì„œ, ì•„ë‹ˆ ì·¨ì—…í•˜ê³ ë„ ì´ëŸ° íŒ€ì›ë“¤ì„ ë§Œë‚  ìˆ˜ ìˆì„ì§€ ì˜ ëª¨ë¥´ê² ë‹¤.\n\n> ì „ ì´ íŒ€ ê³„ì† ê°€ê³  ì‹¶ì–´ìš” ã…œã…œ\n\n## ListyWaveì˜ ì•ìœ¼ë¡œì˜ ë°©í–¥\n\në°±ì—”ë“œ ê°œë°œìë¡œì„œ í•´ê²°í•  ìˆ™ì œë“¤ì´ ì•„ì§ ë§ë‹¤.\n\n- í† í° ê´€ë¦¬ ì •ì±…\n- ë°˜ì •ê·œí™”ì™€ Soft-Deleteë¡œ ì¸í•œ ë°ì´í„° ì •í•©ì„± ë¬¸ì œ\n- ë¦¬ìŠ¤íŠ¸ ê²€ìƒ‰ ë°©ë²• ë³€ê²½\n- ëª¨ë‹ˆí„°ë§, ì¿¼ë¦¬íŠœë‹, DB ì¸ë±ìŠ¤ ë“±..\n\nìœ„ì™€ ê°™ì€ ìˆ™ì œë“¤ì„ í•˜ë‚˜í•˜ë‚˜ì”© í•´ê²°í•˜ëŠ” ë°ì— ì§‘ì¤‘í•˜ë ¤ê³  í•œë‹¤.\n\n## ë§ˆì¹˜ë©°\n\nì •ë§ ê°„ì ˆíˆ ì‹ ì²­í–ˆë˜ ë§ˆìŒì´ ë³´ìƒë°›ëŠ” ê²ƒê³¼ ê°™ì€ 6ì£¼ì˜€ë‹¤.<br>\në¹„ë¡ í”„ë¡œì íŠ¸ê°€ ëì€ ì•„ë‹ˆì§€ë§Œ ê·¸ë™ì•ˆ ë„ˆë¬´ ê°ì‚¬í–ˆë‹¤ëŠ” ë§ì„ ì „í•˜ê³  ì‹¶ë‹¤."},{"excerpt":"ë“¤ì–´ê°€ë©° ì´ë²ˆ ê¸€ì—ì„œëŠ” ListyWaveë¥¼ ê°œë°œí•˜ë©° 'SNS ë„ë©”ì¸ì—ì„œ ì¹´í…Œê³ ë¦¬ë¥¼ ëˆ„ê°€? ê·¸ë¦¬ê³  ì–´ë–»ê²Œ ê´€ë¦¬í•  ê²ƒì¸ì§€'ì— ëŒ€í•´ ì •ë§ ë§ì´ í–ˆë˜ ê³ ë¯¼ê³¼ ìµœì¢… ê²°ì •ì„ ê¸°ë¡í•˜ê³ ì í•©ë‹ˆë‹¤. ListyWaveëŠ” \"ë‚´ê°€ ê°€ì¥ ì¢‹ì•„í•˜ëŠ” ì¶•êµ¬ì„ ìˆ˜ TOP 5\" ì²˜ëŸ¼ ìì‹ ì˜ ì·¨í–¥ì´ ë‹´ê¸´ ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ê³  ê³µìœ í•˜ëŠ” SNS ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ê³¼ ê³ ë¯¼ì˜ ì‹œì‘ ListyWâ€¦","fields":{"slug":"/who-and-how-manage-category/"},"frontmatter":{"date":"February 21, 2024","title":"[ListyWave] SNS ì„œë¹„ìŠ¤ì—ì„œ ì¹´í…Œê³ ë¦¬ë¥¼ ê´€ë¦¬í•˜ëŠ” ë°©ë²•","tags":["ListyWave"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©°\n\nì´ë²ˆ ê¸€ì—ì„œëŠ” ListyWaveë¥¼ ê°œë°œí•˜ë©° 'SNS ë„ë©”ì¸ì—ì„œ ì¹´í…Œê³ ë¦¬ë¥¼ ëˆ„ê°€? ê·¸ë¦¬ê³  ì–´ë–»ê²Œ ê´€ë¦¬í•  ê²ƒì¸ì§€'ì— ëŒ€í•´ ì •ë§ ë§ì´ í–ˆë˜ ê³ ë¯¼ê³¼ ìµœì¢… ê²°ì •ì„ ê¸°ë¡í•˜ê³ ì í•©ë‹ˆë‹¤.\n\n> [ListyWave](https://listywave.com)ëŠ” \"ë‚´ê°€ ê°€ì¥ ì¢‹ì•„í•˜ëŠ” ì¶•êµ¬ì„ ìˆ˜ TOP 5\" ì²˜ëŸ¼ ìì‹ ì˜ ì·¨í–¥ì´ ë‹´ê¸´ ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ê³  ê³µìœ í•˜ëŠ” SNS ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.\n\n## ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ê³¼ ê³ ë¯¼ì˜ ì‹œì‘\n\nListyWaveì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ìš”êµ¬ì‚¬í•­ì´ ì¡´ì¬í•©ë‹ˆë‹¤.\n\n- ë¦¬ìŠ¤íŠ¸ë¥¼ ìƒì„±í•  ë•Œ 8ê°œ ì¹´í…Œê³ ë¦¬ ì¤‘ 1ê°œë¥¼ ì„ íƒí•œë‹¤.\n- ì¡´ì¬í•˜ëŠ” ì¹´í…Œê³ ë¦¬ëŠ” 'ë¬¸í™”, ì¼ìƒìƒí™œ, ì¥ì†Œ, ìŒì•…, ì˜í™”/ë“œë¼ë§ˆ, ë„ì„œ, ë™ì‹ë¬¼, ê¸°íƒ€' ì´ë‹¤. \n- ë‚´ í”¼ë“œì—ì„œ ë‚´ê°€ ì‘ì„±í•œ ë¦¬ìŠ¤íŠ¸ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.\n- ì¹´í…Œê³ ë¦¬ë¡œ í•„í„°ë§í•  ìˆ˜ ìˆë‹¤.\n\nìœ„ ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡±í•˜ê¸° ìœ„í•´ ì²˜ìŒì—” í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œê°€ ì¹´í…Œê³ ë¦¬ì— ëŒ€í•œ ì •ë³´ë¥¼ ëª¨ë‘ ê°€ì§€ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.<br>\ní•˜ì§€ë§Œ ì¹´í…Œê³ ë¦¬ê°€ ì¶”ê°€ë˜ê±°ë‚˜ ì´ë¦„ì´ ë³€ê²½ë˜ëŠ” ê²½ìš°, ë³€ê²½ ì§€ì ì´ í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œ ëª¨ë‘ì— ì¡´ì¬í•˜ëŠ” ì‚¬ì‹¤ì„ ë’¤ëŠ¦ê²Œ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\n\në”°ë¼ì„œ ì´ë¥¼ í•´ê²°í•  ë‹¤ì–‘í•œ ë°©ë²•ë“¤ì„ ê³ ë¯¼í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\n\n## ë°±ì—”ë“œë§Œ ìƒíƒœë¥¼ ê´€ë¦¬í•œë‹¤.\n\nê°€ì¥ ë¨¼ì € í”„ë¡ íŠ¸ì—”ë“œë§Œ ê´€ë¦¬í•˜ëŠ” ê²ƒì„ ìƒê°í•´ë³´ì•˜ìŠµë‹ˆë‹¤.<br>\ní•˜ì§€ë§Œ í”„ë¡ íŠ¸ì—”ë“œê°€ ê´€ë¦¬í•˜ê²Œ ë  ê²½ìš°, ë°±ì—”ë“œ ê´€ì ì—ì„œ ë³€ê²½ê³¼ ì‚­ì œê°€ ë§¤ìš° ë¶€ë‹´ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\ní”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì „ë‹¬í•˜ëŠ” ì¹´í…Œê³ ë¦¬ ì •ë³´ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ê·¸ëŒ€ë¡œ ì €ì¥í•˜ê³  ìˆë‹¤ê°€, ì¹´í…Œê³ ë¦¬ê°€ ë³€ê²½ ë° ì‚­ì œê°€ ë  ê²½ìš° ì•„ë˜ì™€ ê°™ì€ ì¿¼ë¦¬ë¥¼ ë‚ ë ¤ ì§ì ‘ ê°’ì„ ìˆ˜ì •í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\n```sql\nUPDATE list SET category = ${newCategory} WHERE cateogry = ${oldCategory};\n```\n\n`list` í…Œì´ë¸”ì— ë°ì´í„°ê°€ ë§ì„ ê²½ìš°ì—” DB Replication ê°™ì€ ì¡°ì¹˜ë¥¼ í•˜ì§€ ì•ŠëŠ” ì´ìƒ ì¡°íšŒ ì„±ëŠ¥ì— ì•…ì˜í–¥ì„ ë¯¸ì¹  ê²ƒì…ë‹ˆë‹¤.<br>\nê·¸ë¦¬ê³  ì´ëŸ¬ë‚˜ ì €ëŸ¬ë‚˜ **ë°±ì—”ë“œê°€ ì¹´í…Œê³ ë¦¬ë¥¼ ì•Œ ìˆ˜ ë°–ì— ì—†ì—ˆìŠµë‹ˆë‹¤.**\n\n## ê·¸ëŸ¼ ì–´ë–»ê²Œ ê´€ë¦¬í•˜ì§€?\n\nê·¸ëŸ¼ ì´ì œ ë¬¸ì œëŠ” **ì–´ë–»ê²Œ ì¹´í…Œê³ ë¦¬ë¥¼ ê´€ë¦¬í•  ê²ƒì¸ê°€?** ì…ë‹ˆë‹¤.<br> \nì €í¬ ë°±ì—”ë“œëŠ” Javaë¥¼ ì‚¬ìš©í•˜ê³  ìˆê¸°ì— í¬ê²Œ **Enumìœ¼ë¡œ ê´€ë¦¬**í•˜ê±°ë‚˜ **í…Œì´ë¸”ì„ ë³„ë„ë¡œ ë§Œë“¤ì–´ ì™¸ë˜í‚¤ë¡œ ê´€ë¦¬**í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆê² ìŠµë‹ˆë‹¤.\n\n### 1. Enumìœ¼ë¡œ ê´€ë¦¬í•˜ê¸°\n\nJavaì—ëŠ” ì—´ê±°í˜• íƒ€ì…ì¸ [Enum](https://techblog.woowahan.com/2527/) ì´ ì¡´ì¬í•©ë‹ˆë‹¤.<br>\nEnumì„ í†µí•´ ê°™ì€ ì£¼ì œì— ëŒ€í•´ ë‹¤ì–‘í•œ ë°ì´í„°ë¥¼ ë‚˜ì—´í•˜ê³  ê·¸ ì•ˆì—ì„œ ë©”ì„œë“œë¥¼ í†µí•´, ë³´ë‹¤ ê°ì²´ì§€í–¥ì ìœ¼ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ëŠ¥ë™ì ìœ¼ë¡œ ì°¸ì—¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¬´ì—‡ë³´ë‹¤ ê°ì²´ë¡œ ê°„ì£¼ë˜ê¸° ë•Œë¬¸ì— Type Safe í•©ë‹ˆë‹¤.\n\nì•„ë˜ ì½”ë“œëŠ” ì¹´í…Œê³ ë¦¬ë¥¼ Enumìœ¼ë¡œ ê´€ë¦¬í–ˆì„ ë•Œì˜ ì½”ë“œì…ë‹ˆë‹¤.\n\n```java\npublic enum CategoryType {\n\n    ENTIRE(\"ì „ì²´\"),\n    CULTURE(\"ë¬¸í™”\"),\n    LIFE(\"ì¼ìƒìƒí™œ\"),\n    PLACE(\"ì¥ì†Œ\"),\n    MUSIC(\"ìŒì•…\"),\n    MOVIE_DRAMA(\"ì˜í™”/ë“œë¼ë§ˆ\"),\n    BOOK(\"ë„ì„œ\"),\n    ANIMAL_PLANT(\"ë™ì‹ë¬¼\"),\n    ETC(\"ê¸°íƒ€\"),\n    ;\n    \n    private final String name;\n    \n    ...\n}\n```\n\n```java\n@Entity\npublic class ListEntity {\n\n    ...\n        \n    @Enumerated(EnumType.STRING)\n    CategoryType category;\n    \n    ...\n}\n```\n\nìœ„ì²˜ëŸ¼ CategoryTypeì„ Enum íƒ€ì…ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ListEntityëŠ” ì´ `CategoryType` ì„ ê°€ì§€ëŠ” ë°©ì‹ì„ ìƒê°í•´ë´¤ìŠµë‹ˆë‹¤.\n\nEnumìœ¼ë¡œ ê´€ë¦¬í–ˆì„ ë•Œ ì¥ì ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n1. ì½”ë“œ í•œ ì¤„ë¡œ ì¶”ê°€, ì‚­ì œê°€ ìš©ì´í•˜ë‹¤.\n2. í”„ë¡ íŠ¸ì—”ë“œë¡œë¶€í„° ì „ë‹¬ë°›ì€ ì¹´í…Œê³ ë¦¬ ê°’ì„ ì†ì‰½ê²Œ `CategoryType`ìœ¼ë¡œ ë³€í™˜ ê°€ëŠ¥í•˜ë©° ìœ íš¨í•œ ì¹´í…Œê³ ë¦¬ì¸ì§€ ì½”ë“œ ë ˆë²¨ì—ì„œ ì‰½ê²Œ ê²€ì¦í•  ìˆ˜ ìˆë‹¤.\n3. [JPA Attribute Converter](https://www.baeldung.com/jpa-attribute-converters)ë¥¼ í†µí•´ DBì— ì €ì¥í•˜ê³  ì¡°íšŒí•  ë•Œ ì‰½ê²Œ ê°’ì„ ë³€í™˜í•  ìˆ˜ ìˆë‹¤.\n\ní•˜ì§€ë§Œ **ì•„ë˜ì™€ ê°™ì€ ë¬¸ì œì **ë“¤ì´ ì¡´ì¬í•©ë‹ˆë‹¤.\n\n1. ì¹´í…Œê³ ë¦¬ ì¶”ê°€ ì‹œ, ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìƒˆë¡œ ë°°í¬í•´ì•¼ í•œë‹¤.\n2. **ì¹´í…Œê³ ë¦¬ ì‚­ì œ í˜¹ì€ ë³€ê²½ ì‹œ, ë°ì´í„°ë² ì´ìŠ¤ì— ì§ì ‘ ì¿¼ë¦¬ë¥¼ ë‚ ë ¤ ë³€ê²½í•´ì•¼í•œë‹¤.**\n\n2ë²ˆ ë¬¸ì œì ì˜ ê²½ìš° ë§¤ìš° í¬ë¦¬í‹°ì»¬í•œ ì„±ëŠ¥ ì´ìŠˆê°€ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë‹¤ë¥¸ ëŒ€ì•ˆì„ ìƒê°í•´ë´ì•¼í•©ë‹ˆë‹¤.\n\n### 2. í…Œì´ë¸”ë¡œ ê´€ë¦¬í•˜ê¸°\n\nì¹´í…Œê³ ë¦¬ë¥¼ ê´€ë¦¬í•˜ëŠ” ë‘ ë²ˆì§¸ ë°©ë²•ìœ¼ë¡œ í…Œì´ë¸”ë¡œ ê´€ë¦¬í•˜ê¸° ì…ë‹ˆë‹¤.\n\n```sql\nCREATE TABLE category (\n    id BIGINT PRIMARY KEY,\n    name VARCHAR(20) NOT NULL CHECK ('ì „ì²´', 'ë¬¸í™”', ...)\n);\n\nCREATE TABLE list (\n    id BIGINT PRIMARY KEY,\n    category_id BIGINT NOT NULL,\n    ...\n    FOREIGN KEY (category_id) REFERENCES category (id);\n);\n```\n\nìœ„ì²˜ëŸ¼ `Category` í…Œì´ë¸”ì„ ë§Œë“¤ê³  `List` í…Œì´ë¸”ì´ ì™¸ë˜í‚¤ë¡œ ê°€ì§€ë„ë¡ í•©ë‹ˆë‹¤.\n\nìœ„ ë°©ë²•ì˜ ì¥ì ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n1. ì™¸ë˜í‚¤ë¡œ ê´€ë¦¬ë˜ê¸°ì— ì¶”ê°€, ì‚­ì œ, ë³€ê²½ì— ë§¤ìš° ìœ ì—°í•˜ë©° ë¶€ìˆ˜íš¨ê³¼ê°€ ì ìŠµë‹ˆë‹¤.\n2. ëŸ°íƒ€ì„ ì¤‘ì— ë³€ê²½ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ ë‹¨ì ë„ ë¶„ëª…íˆ ì¡´ì¬í•©ë‹ˆë‹¤.\n\n1. ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ ì‹œ, Category í…Œì´ë¸”ê³¼ Joinì´ ë¶ˆê°€í”¼í•´ì§‘ë‹ˆë‹¤.\n2. ì¹´í…Œê³ ë¦¬ì™€ ê´€ë ¨ëœ ìš”ì²­ ì‹œ, ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì¹´í…Œê³ ë¦¬ì¸ì§€ ê²€ì¦í•˜ê¸° ìœ„í•´ DBì— ì¿¼ë¦¬ë¥¼ ë‚ ë ¤ì•¼í•©ë‹ˆë‹¤.\n\në°ì´í„°ë² ì´ìŠ¤ë¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ì•„ë¬´ë˜ë„ ìœ ì—°í•˜ì§€ë§Œ ì„±ëŠ¥ì„ ìƒê°í•´ë³´ë©´ ë” ì¢‹ì€ ë°©ì•ˆì„ ìƒê°í•´ë³¼ ìˆ˜ ë°–ì— ì—†ì—ˆìŠµë‹ˆë‹¤.\n\n### 3. ë‘˜ì˜ ì¥ì ì„ í•©ì³ë³´ì (Enum + Code)\n\në” ë‚˜ì€ ë°©ì•ˆì„ ë©°ì¹  ê°„ ê³ ì‹¬í•œ ëì— ë‘ ë°©ì•ˆì˜ ì¥ì ì„ í•©ì¹˜ëŠ” ì•„ì´ë””ì–´ê°€ ìƒê°ë‚¬ìŠµë‹ˆë‹¤!\n\në°”ë¡œ, **Enumìœ¼ë¡œ ê´€ë¦¬í•˜ë©´ì„œ ë™ì‹œì— id ì—­í• ì„ í•˜ëŠ” code ê°’ì„ ê°€ì§€ëŠ”** ë°©ë²•ì…ë‹ˆë‹¤.\n\n```java\npublic enum CategoryType {\n    ENTIRE(0, \"ì „ì²´\"),\n    CULTURE(1, \"ë¬¸í™”\"),\n    LIFE(2, \"ì¼ìƒìƒí™œ\"),\n    PLACE(3, \"ì¥ì†Œ\"),\n    MUSIC(4, \"ìŒì•…\"),\n    MOVIE_DRAMA(5, \"ì˜í™”/ë“œë¼ë§ˆ\"),\n    BOOK(6, \"ë„ì„œ\"),\n    ANIMAL_PLANT(7, \"ë™ì‹ë¬¼\"),\n    ETC(8, \"ê¸°íƒ€\"),\n    ;\n    \n    private final int code;\n    private final String name;\n    \n    ...\n}\n```\n\në°”ë¡œ ìœ„ ì½”ë“œì¸ë°ìš”. ê¸°ì¡´ì— Enumìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ì½”ë“œì—ì„œ `int code` í•„ë“œê°€ ì¶”ê°€ë˜ì—ˆì„ ë¿ì…ë‹ˆë‹¤.\n\nì´ ë°©ë²•ì˜ ê²½ìš° **Enumì´ ê°€ì§€ëŠ” ì¥ì ì„ ëª¨ë‘ ì·¨í•  ìˆ˜ ìˆìœ¼ë©° ì¹´í…Œê³ ë¦¬ ì´ë¦„ì˜ ë³€ê²½ì— ë”°ë¼ ì¿¼ë¦¬ë¥¼ ë‚ ë¦´ í•„ìš”ë„, ìœ íš¨ì„± ê²€ì¦ì„ ìœ„í•´ DBì— ì ‘ê·¼í•  í•„ìš”ê°€ ì—†ì–´ì§‘ë‹ˆë‹¤.**<br>\n(ë¬¼ë¡  ì¹´í…Œê³ ë¦¬ ì—…ë°ì´íŠ¸ ì‹œ, ì¬ë°°í¬ë¥¼ í•´ì•¼í•˜ëŠ” ë‹¨ì ë„ ì¡´ì¬í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ëŠ” í° ë¬¸ì œê°€ ë˜ì§€ ì•ŠëŠ”ë‹¤ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤.)\n\në‹¤ë§Œ, **ì¹´í…Œê³ ë¦¬ê°€ ì‚­ì œë˜ëŠ” ê²½ìš°ëŠ” ì—¬ì „íˆ ë¬¸ì œ****ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>\në§Œì•½ 'ì˜í™”/ë“œë¼ë§ˆ' ì¹´í…Œê³ ë¦¬ê°€ ì‚­ì œë˜ê³  'ì˜í™”'ì™€ 'ë“œë¼ë§ˆ'ë¡œ ë‚˜ë‰  ê²½ìš°ê°€ ìƒê¸´ë‹¤ë©´ ê¸°ì¡´ì— `List` í…Œì´ë¸”ì— ì´ë¯¸ ì €ì¥ë˜ì–´ ìˆëŠ” 'ì˜í™”/ë“œë¼ë§ˆ'ì— í•´ë‹¹í•˜ëŠ” ê°’ì„ ê°€ì§€ëŠ” ëª¨ë“  ë°ì´í„°ë“¤ì„ ì²˜ë¦¬í•´ì£¼ê¸° ìœ„í•´ DBì— ì§ì ‘ ì¿¼ë¦¬ë¥¼ ë‚ ë ¤ ì²˜ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ ë©°ì¹  ê°„ ê³ ì‹¬í•œ ë‚˜ë¨¸ì§€ ë¨¸ë¦¿ ì†ì—ì„  ì´ê²Œ ê·¸ê±° ê°™ê³  ì €ê²Œ ì´ê±° ê°™ì€ êµì°© ìƒíƒœì— ë¹ ì§€ê²Œ ë˜ì—ˆê³ <br>\nì£¼ë³€ ê°œë°œìë“¤ì—ê²Œ ì¡°ì–¸ì„ êµ¬í•´ë„ ë¬¸ì œì ì€ í•­ìƒ ì¡´ì¬í–ˆìŠµë‹ˆë‹¤.<br>\në”°ë¼ì„œ ê²°ë¡ ì„ ë‚´ë¦¬ê¸¸, ì´ì œ ë§‰ ê°œë°œì„ ì‹œì‘í•˜ëŠ” ë‹¨ê³„ì´ë©° ì¹´í…Œê³ ë¦¬ê°€ ì‚­ì œë  ê²½ìš°ëŠ” ì‰½ê²Œ ì¼ì–´ë‚˜ì§€ ì•Šì„ ê²ƒì´ë¼ê³  íŒë‹¨í•˜ì—¬ ë§ˆì¹¨ë‚´ ìœ„ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ê²°ì •í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤!\n\n![Silver Bulletì€ ì—†ë‹¤!](no-silver-bullet.png)\n\n---\n\n### ë²ˆì™¸: ì‚­ì œëŠ” Soft-Delete ë°©ì‹ìœ¼ë¡œ\n\në²ˆì™¸ë¡œ ìœ„ ë°©ë²•ì—ì„œ ì‚­ì œë¥¼ ì¢€ ë” ìœ ì—°í•˜ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ìƒê°í•´ë³´ì•˜ëŠ”ë°ìš”.<br>\në°”ë¡œ Soft-Delete ë°©ì‹ìœ¼ë¡œ ì‚­ì œ ì²˜ë¦¬ë¥¼ ìœ ì—°í•˜ê²Œ ê°€ì ¸ê°€ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\n```java\npublic enum CategoryType {\n    ENTIRE(0, \"ì „ì²´\", false),\n    CULTURE(1, \"ë¬¸í™”\", false),\n    LIFE(2, \"ì¼ìƒìƒí™œ\", false),\n    PLACE(3, \"ì¥ì†Œ\", false),\n    MUSIC(4, \"ìŒì•…\", false),\n    MOVIE_DRAMA(5, \"ì˜í™”/ë“œë¼ë§ˆ\", false),\n    BOOK(6, \"ë„ì„œ\", false),\n    ANIMAL_PLANT(7, \"ë™ì‹ë¬¼\", false),\n    ETC(8, \"ê¸°íƒ€\", false),\n    ;\n    \n    private final int code;\n    private final String name;\n    private final boolean isDelete;\n    \n    ...\n}\n```\n\n`boolean isDelete` í•„ë“œë¥¼ ì¶”ê°€í•˜ê³  ì´ë¥¼ í†µí•´ ì¹´í…Œê³ ë¦¬ê°€ ì‚­ì œëœ ê²½ìš° `true`ë¡œ ìˆ˜ì •í•©ë‹ˆë‹¤.<br>\nê·¸ë¦¬ê³  ì„œë¹„ìŠ¤ ì´ìš©ìê°€ ë§¤ìš° ì ì€ ìƒˆë²½ ì‹œê°„ì— ì¡°ì¹˜ë¥¼ ì·¨í•œë‹¤ë©´ ì‚¬ìš©ì ê²½í—˜ë„ í•´ì¹˜ì§€ ì•Šê³  ì¢€ ë” ì•ˆì „í•˜ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ë¼ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.\n\n## ë§ˆì¹˜ë©°\n\nì—­ì‹œë‚˜ ì´ë²ˆ ê³ ë¯¼ì„ í†µí•´ _There's No Silver Bullet_ ì€ ì§„ë¦¬ì„ì„ ë‹¤ì‹œê¸ˆ ëŠê¼ˆìŠµë‹ˆë‹¤.<br>\nê·¸ë¦¬ê³  ë„ˆë¬´ ì™„ë²½í•œ ë°©ë²•ì„ ê³ ë¯¼í•˜ë‹¤ê°€ ë‹¤ë¥¸ ì¤‘ìš”í•œ ê²ƒë“¤ì„ ì±™ê¸°ì§€ ëª»í•˜ëŠ” ê²½í—˜ë„ í•˜ê²Œ ë˜ì—ˆê³  ì´ë¥¼ í†µí•´ í˜„ì‹¤ê³¼ íƒ€í˜‘í•˜ëŠ” ë°©ë²•ë„ ê¹¨ë‹¬ì„ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\n\nì§€ê¸ˆ ëŒì´ì¼œë³´ë©´ ë³„ ê±° ì•„ë‹Œ ë‹¨ìˆœí•œ ê³ ë¯¼ê±°ë¦¬ë¡œ ë³´ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>\nê·¸ë§Œí¼ ì“¸ë°ì—†ì´ ìƒê°ê³¼ ê±±ì •ì´ ë§ì•˜ë˜ ê²ƒì€ ì•„ë‹ê¹Œ ì‹¶ì€ ë°˜ì„±ì„ í•˜ê²Œ ë©ë‹ˆë‹¤.\n\nThx To) [ì •ìˆ˜](https://github.com/pparkjs), [ë‘ë”ì§€](https://github.com/alivejuicy), [ë•¡ì¹ ](https://github.com/0chil), [ê·¸ë ˆì´](https://github.com/kim0914)\n"},{"excerpt":"ë“¤ì–´ê°€ë©° ì´ ê¸€ì€ ê·¸ë¦¼ìœ¼ë¡œ ë°°ìš°ëŠ” Http & Network Basicì„ ì½ê³  í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤. ì´ë²ˆ ì¥ì€ WAS ëŒ€ì‹  ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ëŒ€ì‹  ìˆ˜í–‰í•´ì£¼ëŠ” ì›¹ ì„œë²„ì™€ ìºì‹±ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. 1. ë©€í‹° ë„ë©”ì¸ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ê°€ìƒ í˜¸ìŠ¤íŠ¸ ìš°ì„  ë©€í‹° ë„ë©”ì¸ì´ë€, WASëŠ” 1ëŒ€ì´ì§€ë§Œ ì´ë¥¼ ê°€ë¦¬í‚¤ëŠ” í˜¸ìŠ¤íŠ¸(ë„ë©”ì¸)ëŠ” 2ê°œ ì´ìƒì¸ ìƒíƒœë¥¼ ì˜ë¯¸í•œë‹¤.\nâ€¦","fields":{"slug":"/05-web-server/"},"frontmatter":{"date":"February 14, 2024","title":"5ì¥. HTTPì™€ ì—°ê³„í•˜ëŠ” ì›¹ì„œë²„","tags":["Network"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©° \n\nì´ ê¸€ì€ [ê·¸ë¦¼ìœ¼ë¡œ ë°°ìš°ëŠ” Http & Network Basic](https://m.yes24.com/Goods/Detail/15894097)ì„ ì½ê³  í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.\n\nì´ë²ˆ ì¥ì€ WAS ëŒ€ì‹  ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ëŒ€ì‹  ìˆ˜í–‰í•´ì£¼ëŠ” **ì›¹ ì„œë²„**ì™€ **ìºì‹±**ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.\n\n## 1. ë©€í‹° ë„ë©”ì¸ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ê°€ìƒ í˜¸ìŠ¤íŠ¸\n\nìš°ì„  ë©€í‹° ë„ë©”ì¸ì´ë€, WASëŠ” 1ëŒ€ì´ì§€ë§Œ ì´ë¥¼ ê°€ë¦¬í‚¤ëŠ” í˜¸ìŠ¤íŠ¸(ë„ë©”ì¸)ëŠ” 2ê°œ ì´ìƒì¸ ìƒíƒœë¥¼ ì˜ë¯¸í•œë‹¤.<br>\nì›¹ ì„œë²„ëŠ” ì´ ë©€í‹° ë„ë©”ì¸ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ **ê°€ìƒ í˜¸ìŠ¤íŠ¸** ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.\n\nNginxì—ì„œë„ `Server Block`ìœ¼ë¡œ ê°€ìƒ í˜¸ìŠ¤íŠ¸ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.<br>\në°©ë²•ì€ [ì´ ë¸”ë¡œê·¸](https://www.sabujak.org/2023/10/02/nginx-virtual-host%EA%B0%80%EC%83%81%ED%98%B8%EC%8A%A4%ED%8A%B8%EB%A1%9C-%EC%82%AC%EC%9D%B4%ED%8A%B8-%EB%91%90-%EA%B0%9C-%EC%9A%B4%EC%98%81%ED%95%98%EA%B8%B0/)ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n\nê°€ìƒ í˜¸ìŠ¤íŠ¸ë¥¼ í†µí•´ í•œ ëŒ€ì˜ WASë¡œ 2ê°œ ì´ìƒì˜ ì‚¬ì´íŠ¸ì˜ íŠ¸ë˜í”½ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.<br>\nì´ë¥¼ í†µí•´ íš¨ìœ¨ì ì¸ ìš´ì˜ì´ ê°€ëŠ¥í•´ì§„ë‹¤ê³  ìƒê°í•œë‹¤.\n\n## 2. í”„ë¡ì‹œ, ê²Œì´íŠ¸ì›¨ì´, í„°ë„\n\nHTTPëŠ” í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ì™¸ì— **í”„ë¡ì‹œ, ê²Œì´íŠ¸ì›¨ì´, í„°ë„ê³¼ ê°™ì€ í†µì‹ ì„ ì¤‘ê³„í•˜ëŠ” í”„ë¡œê·¸ë¨**ê³¼ ì„œë²„ë¥¼ ì—°ê³„í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤.\n\n### 2-1. í”„ë¡ì‹œ\n\ní”„ë¡ì‹œ ì„œë²„ëŠ” Forward Proxy, Reverse Proxyë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.<br>\nì´ ë‘˜ì˜ ì°¨ì´ëŠ” í”„ë¡ì‹œ ì„œë²„ì˜ ìœ„ì¹˜ì´ë©°, ìœ„ì¹˜ì— ë”°ë¼ ì–»ì„ ìˆ˜ ìˆëŠ” ì¥ì ì´ ë‹¤ë¥¼ ìˆ˜ ìˆë‹¤.\n\n#### 2-1-1. Forward Proxy\n\n![Forward Proxy êµ¬ì¡°](forward-proxy.png)\n\ní´ë¼ì´ì–¸íŠ¸(ë¸Œë¼ìš°ì €)ì˜ ìš”ì²­ì´ ì„œë²„ë¡œ ë„ì°©í•˜ê¸° ìœ„í•´ ë„¤íŠ¸ì›Œí¬ë¥¼ íƒ€ê¸° ì „, í”„ë¡ì‹œ ì„œë²„ê°€ ìš”ì²­ì„ ë°›ì•„ì„œ ì¤‘ê³„ ë° ì „ë‹¬í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤.<br>\nì¦‰, í´ë¼ì´ì–¸íŠ¸ ë°”ë¡œ ë’¤ì— ìœ„ì¹˜í•œë‹¤.\n\nì´ë¥¼ í†µí•´ ë¯¸ë¦¬ ì„¤ì •í•´ë†“ì€ **íŠ¹ì • ì‚¬ì´íŠ¸ ì ‘ê·¼ì„ ì°¨ë‹¨**í•  ìˆ˜ ìˆìœ¼ë©° Proxy Serverì— **ì„œë²„ë¡œë¶€í„° ë°›ì€ ì‘ë‹µì„ ìºì‹±**í•œë‹¤ë©´ ë” ë¹ ë¥¸ ì‘ë‹µì„ ë‚´ë ¤ì¤„ ìˆ˜ ìˆë‹¤. ë˜í•œ í´ë¼ì´ì–¸íŠ¸ì˜ ì •ë³´ë¥¼ ì•”í˜¸í™”í•˜ì—¬ ì„œë²„ë¡œ ë³´ë‚¼ ìˆ˜ ìˆë‹¤.\n\n> ë‹¨ìˆœíˆ 'Proxy (Server)'ë¼ê³  ë§í•œë‹¤ë©´ ë°”ë¡œ ì´ 'Forward Proxy'ë¥¼ ì˜ë¯¸í•œë‹¤.<br>\n> ì‹¤ì œë¡œ ë©´ì ‘ì—ì„œ \"í”„ë¡ì‹œì™€ ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ\"ì˜ ì°¨ì´ì— ëŒ€í•´ ì„¤ëª…í•´ë‹¬ë¼ëŠ” ìš”ì²­ì´ ìˆì—ˆë‹¤.\n\n#### 2-1-2. Reverser Proxy\n\n![Reverse Proxy êµ¬ì¡°](reverse-proxy.png)\n\nForward Proxyì™€ ë°˜ëŒ€ë¡œ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì´ ë„¤íŠ¸ì›Œí¬ë¥¼ íƒ€ê³  ì™€ì„œ ì„œë²„ë¡œ ë„ë‹¬í•˜ê¸° ì „, Proxy Serverê°€ í•´ë‹¹ ìš”ì²­ì„ ë°›ì•„ ì¤‘ê³„ ë° ì „ë‹¬í•˜ëŠ” êµ¬ì¡°ë¥¼ ê°€ì§„ë‹¤.<br>\nì¦‰, WAS ë°”ë¡œ ì•ì— ìœ„ì¹˜í•œë‹¤.\n\nì„œë²„ì˜ ì •ë³´ë¥¼ ìˆ¨ê¸¸ ìˆ˜ ìˆìœ¼ë©° í¬íŠ¸ í¬ì›Œë”©, ë¡œë“œ ë°¸ëŸ°ì‹± ë“±ì˜ ì—­í• ë„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.<br>\ní”íˆ ì‚¬ìš©í•˜ëŠ” Nginxì™€ Apache Http Serverê°€ Reverse Proxyë¡œ ìˆ˜í–‰ë  ìˆ˜ ìˆë‹¤.\n\n### 2-2. ê²Œì´íŠ¸ì›¨ì´\n\në‹¤ë¥¸ ì„œë²„ë¥¼ ì¤‘ê³„í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤. í”„ë¡ì‹œì™€ ë§¤ìš° ìœ ì‚¬í•œ ì—­í• ì´ë‹¤.<br>\ní•˜ì§€ë§Œ ê²Œì´íŠ¸ì›¨ì´ëŠ” ê·¸ ë‹¤ìŒì— ìˆëŠ” ì„œë²„(Origin Server)ê°€ HTTP ì„œë²„ ì´ì™¸ì˜ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ì„œë²„ê°€ ëœë‹¤.<br>\ní´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ SSLê³¼ ê°™ì€ ì•”í˜¸í™”í•˜ëŠ” ë“±ìœ¼ë¡œ í†µì‹ ì˜ ì•ˆì •ì„±ì„ ë†’ì´ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤.\n\nì˜ˆë¥¼ ë“¤ì–´ DBMSì— ì ‘ì†í•˜ê¸° ì „ì´ë‚˜ ì‡¼í•‘ ì‚¬ì´íŠ¸ì—ì„œ ê²°ì œ ì‹œìŠ¤í…œ ë“±ê³¼ ì—°ê³„í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n\n### 2-3. í„°ë„\n\nì„œë¡œ ë–¨ì–´ì§„ ë‘ ëŒ€ì˜ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ì‚¬ì´ë¥¼ ì¤‘ê³„í•˜ë©° ì ‘ì†ë“¤ ì£¼ì„ í•œë‹¤.\n\ní´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°€ SSL ê°™ì€ ì•”í˜¸í™” í†µì‹ ì„ í†µí•´ ì•ˆì „í•˜ê²Œ í†µì‹ ì„ í•˜ê¸° ìœ„í•´ ì¤‘ê°„ì— í„°ë„ì„ í†µí•´ í†µì‹  ê²½ë¡œë¥¼ êµ¬ì¶•í•œë‹¤.<br>\ní„°ë„ì€ HTTP Requestë¥¼ í•´ì„í•˜ë ¤ê³  í•˜ì§€ ì•Šê³  ê·¸ëŒ€ë¡œ ì„œë²„ì— ìš”ì²­ì„ ì „ë‹¬í•œë‹¤.<br>\nê·¸ë¦¬ê³  í†µì‹ í•˜ê³  ìˆëŠ” ì–‘ë‹¨ì˜ í˜¸ìŠ¤íŠ¸ì˜ ì ‘ì†ì´ ëŠì–´ì§ˆ ë•Œ ì¢…ë£Œëœë‹¤.\n\n## 3. ìºì‹±\n\nìºì‹±ì€ ì‘ë‹µì˜ ê²°ê³¼(ë¦¬ì†ŒìŠ¤)ë¥¼ ì¤‘ê°„ ì–´ë”˜ê°€ì— ì‚¬ë³¸ìœ¼ë¡œ ì €ì¥í•´ë†“ê³ , ë™ì¼í•œ ìš”ì²­ì´ ìˆì„ ë•Œ ì¤‘ê°„ì— ì €ì¥í•´ë†“ì€ ì‚¬ë³¸ì„ ì‘ë‹µí•˜ëŠ” ê¸°ëŠ¥ì´ë‹¤.<br>\nì´ë¥¼ í†µí•´ íš¨ìœ¨ì ì¸ í†µì‹ ì´ ìˆ˜í–‰ë  ìˆ˜ ìˆë‹¤.\n\n### 3-1. ìºì‹±ì˜ íŠ¹ì§•\n\në„¤íŠ¸ì›Œí¬ì—ì„œ ìºì‹±ì€ ë¸Œë¼ìš°ì €, CDN, Proxy Server ë“±ê³¼ ê°™ì´ ì—¬ëŸ¬ ê³³ì—ì„œ ìˆ˜í–‰ë  ìˆ˜ ìˆë‹¤.<br>\në¸Œë¼ìš°ì €ì— ì €ì¥ë˜ëŠ” ìºì‹œë¥¼ `Private Cache`, Proxyë‚˜ CDNê³¼ ê°™ì€ ê³³ì— ì €ì¥ë˜ëŠ” ìºì‹œë¥¼ `Shared Cache`ë¡œ ë¶ˆë¦°ë‹¤.<br>\n\n### 3-2. ìºì‹± ì •ì±…\n\nìºì‹± ë°ì´í„°ëŠ” **ì‚¬ë³¸**ì´ê¸° ë•Œë¬¸ì— Origin Serverì˜ ë¦¬ì†ŒìŠ¤ê°€ ë³€ê²½ë˜ë©´ í•´ë‹¹ ìºì‹± ë°ì´í„°ëŠ” ë”ì´ìƒ ì‚¬ìš©ë˜ë©´ ì•ˆë˜ê¸° ë•Œë¬¸ì— ì´ë¥¼ ìœ„í•œ ì •ì±…ì„ ì„¸ìš°ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.\nì •ì±…ì„ ì„¤ì •í•˜ëŠ”ë° ê³ ë ¤í•  ìš”ì†ŒëŠ” **ìºì‹± ë°ì´í„°ì˜ ë¦¬ì†ŒìŠ¤ íƒ€ì…**, **ìºì‹± ìœ íš¨ì‹œê°„**, **ë²„ìŠ¤íŒ… ì •ì±…**ì´ ìˆë‹¤.\n\n#### 3-2-1. ì •ì  ë¦¬ì†ŒìŠ¤ ìºì‹± ì •ì±… ì‚¬ë¡€\n\nì˜ˆë¥¼ ë“¤ì–´, JS, CSS ê°™ì€ ì •ì  ë¦¬ì†ŒìŠ¤ íŒŒì¼ì€ ìºì‹±ì„ ì ìš©í•˜ê¸° ì¢‹ë‹¤.<br>\ní•˜ì§€ë§Œ ì´ ë‘˜ì€ ê°œë°œì´ ì§„í–‰ë¨ì— ë”°ë¼ ìì£¼ ë³€ê²½ë˜ê³ , JSì™€ CSS ë²„ì „ì´ ë™ê¸°í™”ë˜ì§€ ì•Šìœ¼ë©´ í™”ë©´ì´ ê¹¨ì§„ë‹¤.<br>\nìºì‹±ëŠ” **URLì„ ê¸°ë°˜ìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ë¥¼ êµ¬ë¶„í•˜ë¯€ë¡œ ë¦¬ì†ŒìŠ¤ê°€ ì—…ë°ì´íŠ¸ë  ë•Œ URLì„ ë³€ê²½í•˜ë©´ ì†ì‰½ê²Œ JS, CSS íŒŒì¼ì˜ ìºì‹± ë°ì´í„°ë¥¼ ì œê±°í•  ìˆ˜ ìˆë‹¤.**\n\në”°ë¼ì„œ ë‹¤ìŒê³¼ ê°™ì´ ìºì‹± ì •ì±…ì„ ì„¸ìš¸ ìˆ˜ ìˆë‹¤.<br>\nìºì‹œì˜ Max-Ageë¥¼ ìµœëŒ€ì¹˜(1ë…„)ë¡œ ì„¤ì •í•˜ê³ , [E-Tag](https://developer.mozilla.org/ko/docs/Web/HTTP/Headers/ETag)ë„ ì ìš©í•˜ë©°, JS, CSS ë¦¬ì†ŒìŠ¤ì— ë³€ê²½ì‚¬í•­ì´ ìƒê¸°ë©´ ìºì‹œ ë°ì´í„°ê°€ ë¬´íš¨í™”ë˜ë„ë¡ URLì— ë²„ì „ì„ ì ìš©í•œë‹¤.\n> `E-Tag`ëŠ” Http Response Headerì— ë¦¬ì†ŒìŠ¤ì˜ íŠ¹ì • ë²„ì „ì„ ì‹ë³„í•˜ëŠ” ì‹ë³„ìì˜ ì—­í• ì„ í•œë‹¤. í´ë¼ì´ì–¸íŠ¸ëŠ” [`If-None-Match`](https://developer.mozilla.org/ko/docs/Web/HTTP/Headers/ETag#%EB%B3%80%EA%B2%BD%EB%90%98%EC%A7%80_%EC%95%8A%EC%9D%80_%EB%A6%AC%EC%86%8C%EC%8A%A4%EC%9D%98_%EC%BA%90%EC%8B%B1) í—¤ë”ë¥¼ í†µí•´ í•´ë‹¹ ì‹ë³„ì ê°’ì„ ì „ë‹¬í•˜ì—¬ í˜„ì¬ ìºì‹±í•˜ê³  ìˆëŠ” ë°ì´í„°ì˜ ë²„ì „ì„ ì „ë‹¬í•˜ê³ , ì„œë²„ëŠ” í•´ë‹¹ ê°’ì„ í†µí•´ ë¦¬ì†ŒìŠ¤ì˜ ë²„ì „ì„ ë¹„êµí•  ìˆ˜ ìˆë‹¤.\n\n#### 3-2-2. WAS ìºì‹± ì •ì±… ì‚¬ë¡€\n\nWASì˜ ê²½ìš° ì‘ë‹µì„ ìºì‹±í•˜ì§€ ì•Šê¸°ë¥¼ ì›í•  ìˆ˜ ìˆë‹¤.<br>\nì´ë•ŒëŠ” Http Response Headerì— `Cache-Control: no-cache, private`ì„ ì¶”ê°€í•˜ì—¬ [íœ´ë¦¬ìŠ¤í‹± ìºì‹±](https://lalalilala.tistory.com/m/9)ì„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤.<br>\n> íœ´ë¦¬ìŠ¤í‹± ìºì‹±ì€ ë¸Œë¼ìš°ì €ê°€ ì„ì˜ë¡œ Http Responseë¥¼ ìºì‹±í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.\n\n### Reference\n> - [ê·¸ë¦¼ìœ¼ë¡œ ë°°ìš°ëŠ” Http & Network Basic](https://m.yes24.com/Goods/Detail/15894097)"},{"excerpt":"ë“¤ì–´ê°€ë©° ì´ ê¸€ì€ ListyWave í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©° í•œ ì£¼ë¥¼ ë˜ëŒì•„ë³´ëŠ” íšŒê³ ë¡ì…ë‹ˆë‹¤. í”„ë¡œì íŠ¸ë¥¼ í•˜ê²Œ ëœ ê³„ê¸°ëŠ”ìš” ìš°í…Œì½”ê°€ ëë‚˜ê³  ê°œì¸ ê³µë¶€ë¥¼ ì­ˆìš± í•´ì˜¤ë©´ì„œ ê°œì¸ ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ê³  ì‹¶ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.\nê·¸ë˜ì„œ í˜¼ì ë§Œë“¤ê³  ì‹¶ì€ ì„œë¹„ìŠ¤ë¥¼ ê¸°íší•˜ê³  ì„¤ê³„í•˜ê³  ê°œë°œ ì´ˆê¸° ì§„í–‰ ë‹¨ê³„ê¹Œì§€ ì§„í–‰í–ˆëŠ”ë°ìš”. ê°€ì¥ ì²˜ìŒ ê¸°ëŠ¥ì¸ ì†Œì…œ ë¡œê·¸ì¸ ê¸°ëŠ¥ì„ êµ¬í˜„í•  â€¦","fields":{"slug":"/1-2-weeks/"},"frontmatter":{"date":"February 04, 2024","title":"[ListyWave] 1, 2ì£¼ì°¨ íšŒê³ ","tags":["ListyWave","retrospective"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©°\n\nì´ ê¸€ì€ ListyWave í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©° í•œ ì£¼ë¥¼ ë˜ëŒì•„ë³´ëŠ” íšŒê³ ë¡ì…ë‹ˆë‹¤.\n\n## í”„ë¡œì íŠ¸ë¥¼ í•˜ê²Œ ëœ ê³„ê¸°ëŠ”ìš”\n\nìš°í…Œì½”ê°€ ëë‚˜ê³  ê°œì¸ ê³µë¶€ë¥¼ ì­ˆìš± í•´ì˜¤ë©´ì„œ ê°œì¸ ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ê³  ì‹¶ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.\nê·¸ë˜ì„œ í˜¼ì ë§Œë“¤ê³  ì‹¶ì€ ì„œë¹„ìŠ¤ë¥¼ ê¸°íší•˜ê³  ì„¤ê³„í•˜ê³  ê°œë°œ ì´ˆê¸° ì§„í–‰ ë‹¨ê³„ê¹Œì§€ ì§„í–‰í–ˆëŠ”ë°ìš”.\n\nê°€ì¥ ì²˜ìŒ ê¸°ëŠ¥ì¸ ì†Œì…œ ë¡œê·¸ì¸ ê¸°ëŠ¥ì„ êµ¬í˜„í•  ë•Œë¶€í„° ë§‰ë§‰í–ˆìŠµë‹ˆë‹¤..<br>\ní”„ë¡ íŠ¸ë¥¼ ë‹¤ë£° ì¤„ ëª¨ë¥´ê³  ì™€ì´ì–´í”„ë ˆì„ë„ ì—†ê³  API ëª…ì„¸ë„ ì—†ì–´ ìŒ©ìœ¼ë¡œ ì„œë²„ë§Œ êµ¬í˜„í•˜ëŠ” ê²½í—˜ì´ ì²˜ìŒì´ì—ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.<br>\nê·¸ë˜ì„œ ì•„ë¬´ë‚˜ ê°™ì´ í˜‘ì—…í•  í”„ë¡ íŠ¸ì—”ë“œ íŒ€ì›ì´ ìˆì—ˆìœ¼ë©´ ì¢‹ê² ë‹¤ëŠ” ìƒê°ì´ ìì—°ìŠ¤ë ˆ ë“¤ì—ˆê³  ì–´ëŠìƒˆ í”„ë¡œì íŠ¸ë¥¼ í•¨ê»˜ í•  íŒ€ì›ì„ êµ¬í•˜ëŠ” ê²Œì‹œê¸€ì„ ë³´ê³  ìˆì—ˆìŠµë‹ˆë‹¤.\n\nê·¸ëŸ¬ë‹¤ ìš´ì¢‹ê²Œ [ì½”ë“œì‡ì—ì„œ ëª¨ì§‘í•˜ëŠ” í”„ë¡œì íŠ¸ ê³µê³ ë¬¸](https://codeit-sprint.oopy.io/)ì„ ë³´ê²Œ ë˜ì—ˆê³  í™€ë¦°ë“¯ì´ ì§€ì›í–ˆìŠµë‹ˆë‹¤.<br>\nì§€ì›ë™ê¸°ë¥¼ ì‘ì„±í•˜ëŠ” ë€ì— \"ìµœëŒ€í•œ ì†”ì§í•˜ê²Œ ì‘ì„±í•´ë‹¬ë¼\"ëŠ” ë©˜íŠ¸ì— ì´ëŒë ¤ ì§„ì‹¬ì„ í˜¸ì†Œí•˜ë©° ì‘ì„±í–ˆë˜ ê¸°ì–µì´ ìˆìŠµë‹ˆë‹¤.\n\nì§€ì›ë™ê¸°ë¥¼ ê°„ë‹¨íˆ ì ì–´ë³´ìë©´, <u>ê²½í—˜ê³¼ ì‹¤ë ¥ì´ ë¶€ì¡±í•œ íƒ“ì— ìš°í…Œì½”ì—ì„œ í–ˆë˜ í”„ë¡œì íŠ¸ë¥¼ ì£¼ë„ì ìœ¼ë¡œ í•˜ì§€ ëª»í•œ ê²ƒì´ ë„ˆë¬´ í° ì•„ì‰¬ì›€ì´ ë‚¨ì•˜ê³  í”„ë¡œì íŠ¸ë¥¼ ì£¼ë„ì ìœ¼ë¡œ ì§„í–‰í•´ë³´ê³  ì‹¶ë‹¤ëŠ” ë‚´ìš©</u>ìœ¼ë¡œ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.\n\në‹¤í–‰íˆ ì„œë¥˜ í•©ê²©ìœ¼ë¡œ ë©´ì ‘ì„ ë³¼ ê¸°íšŒê°€ ì£¼ì–´ì¡Œê³  5ë¶„ë„ ì±„ ì•ˆë˜ëŠ” ì†ì„± ë©´ì ‘ì„ ì§„í–‰í•˜ê³  ë§ˆì¹¨ë‚´ ìµœì¢… í•©ê²©ì„ í–ˆìŠµë‹ˆë‹¤ !\n\n~~ì²˜ìŒì—” ë¶ˆí•©ê²© ë©”ì¼ì´ ì™”ì—ˆëŠ”ë° ì•Œê³ ë³´ë‹ˆ ì˜¤ë°œì†¡ì´ì—ˆë˜ í•´í”„ë‹ì´ ìˆìŠµë‹ˆë‹¤ ğŸ˜‚~~\n\n![ìµœì¢… í•©ê²© ë©”ì¼](wrong_mail.png)\n\n## ë¬´ì—‡ì„ í•˜ê³  ëŠê¼ˆë‚˜ë©´ìš”\n\nìµœì¢…í•©ê²© ì´í›„ë¡œ 1ì›” 22ì¼ ì²« íŒ€ ë¯¸íŒ…ì„ ì§„í–‰í–ˆê³  ì´ë•Œ ìš°ë¦¬ê°€ ë§Œë“¤ ì„œë¹„ìŠ¤ë¥¼ ê¸°íší•˜ëŠ” ì‹œê°„ì„ ê°€ì¡ŒìŠµë‹ˆë‹¤. ì´ë•Œê°€ 1ì£¼ì°¨ê°€ ë í…ë°ìš”. 1ì£¼ì°¨ì—ëŠ” ì£¼ë¡œ ê¸°íší•˜ê³  ì™€ì´ì–´í”„ë ˆì„ ì‘ì„±í•˜ë©° ê°œë°œì„ ì¤€ë¹„í•˜ëŠ” ì‹œê°„ì„ ê°€ì¡ŒìŠµë‹ˆë‹¤.\n\nê·¸ë¦¬ê³  2ì£¼ì°¨ë¶€í„° ë³¸ê²©ì ì¸ ê°œë°œ ê´€ë ¨ ì‘ì—…ì„ ì§„í–‰í–ˆëŠ”ë°ìš”. ì´ë•ŒëŠ” ì•„ë˜ ì‘ì—…ë“¤ì„ ëª¨ë‘ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.\n\n- í”„ë¡ íŠ¸ì—”ë“œ ë° ë°±ì—”ë“œ CI/CD êµ¬ì¶•\n- ê°œë°œ ì„œë²„ êµ¬ì¶• \n- ë„ë©”ì¸ êµ¬ë§¤ ë° ì—°ê²°\n- ê°œë°œ ë¬¸í™” ì„¤ì •\n- ê°œë°œí™˜ê²½ ì…‹íŒ…\n- ERD ì„¤ê³„\n- API ëª…ì„¸ ì‘ì„±\n- ë¸Œëœì¹­ ì „ëµ ì„¤ì •\n- Issue Template ë° PR Template ì„¤ì •\n- 1ì°¨ MVP êµ¬í˜„\n  - ì¹´ì¹´ì˜¤ Oauth ë¡œê·¸ì¸\n  - íšŒì› ì •ë³´ ì¡°íšŒ API\n  - íšŒì› ì „ì²´ ì¡°íšŒ API\n  - ë¦¬ìŠ¤íŠ¸ ìƒì„¸ ì¡°íšŒ API\n  - ëŒ“ê¸€/ë‹µê¸€ CRD API\n- ì¹´í…Œê³ ë¦¬ë¥¼ ì–´ë–»ê²Œ ê´€ë¦¬í•  ê²ƒì¸ì§€ ê³ ë¯¼\n- DB êµ¬ì¶•\n- ì„¤ì • íŒŒì¼ ì™¸ë¶€ ë¶„ë¦¬ ì‘ì—…\n- ìƒˆë¡œìš´ ê¸°ìˆ  í•™ìŠµí•˜ê¸°\n\n2ì£¼ì°¨ê°€ ëë‚˜ëŠ” ì§€ê¸ˆ, ì´ë²ˆ ì£¼ ì§„ì§œ í˜ë“¤ë‹¤ ëŠë¼ê³  ìˆì—ˆëŠ”ë° ë§‰ìƒ ì ê³ ë³´ë‹ˆ í˜ë“¤ë§Œ í–ˆêµ°ìš” í—ˆí—ˆ..\n\nì´ ì¤‘ì—ì„œ ì–¸ê¸‰í•˜ê³  ì‹¶ì€ ê²½í—˜ë“¤ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.\n\n### ì¸í”„ë¼ êµ¬ì¶•\n\nì²˜ìŒìœ¼ë¡œ ì¸í”„ë¼ êµ¬ì¶•ì„ ì‹œì‘ë¶€í„° ì™„ì„±ê¹Œì§€ í˜¼ìì„œ ì§„í–‰í•´ë³´ì•˜ìŠµë‹ˆë‹¤.\n\në°±ì—”ë“œ CI/CDëŠ” ìµìˆ™í•˜ê¸°ë„ í•˜ê³  ê°„ë‹¨í•˜ê²Œë‚˜ë§ˆ í•´ë³¸ ê²½í—˜ì´ ìˆì–´ 2-3ì‹œê°„ ë‚´ë¡œ ê¸ˆë°© êµ¬ì¶•í–ˆì§€ë§Œ<br>\ní”„ë¡ íŠ¸ì—”ë“œ CI/CDëŠ” Next.js ê¸°ë°˜ í”„ë¡œì íŠ¸ë¥¼ ë¹Œë“œí•˜ëŠ” ê²ƒë¶€í„° ìµìˆ™ì¹˜ì•Šì•„ í•œ 2-3ì¼ì€ ê±¸ë ¸ìŠµë‹ˆë‹¤.<br>\në¬¼ë¡  ë³´ì™„í•  ì‘ì—…ì´ ìˆì§€ë§Œ ì°¨ì°¨ ì§„í–‰í•´ì•¼ê² ìŠµë‹ˆë‹¤. \n\nDB êµ¬ì¶•, ì—°ê²°ë„ ì‰½ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.<br>\nê·¸ ì „ì—ëŠ” RDSë¥¼ ì¨ì„œ ê·¸ë‹¤ì§€ ì–´ë µì§€ ì•Šê²Œ ì‚¬ìš©í•œ ê²½í—˜ì´ ìˆì—ˆê³  ìš°í…Œì½”ì—ì„œëŠ” ë³´ì•ˆ ê´€ë ¨ ì„¤ì •ì€ ë˜ì–´ ìˆì—ˆìœ¼ë©° íŒ€ì›ì´ì—ˆë˜ í¬ë£¨ê°€ êµ¬ì¶•ë¶€í„° ì—°ê²°ê¹Œì§€ ëª¨ë‘ ì§„í–‰í•´ì£¼ì–´ ì–´ë ¤ìš´ ì‘ì—…ì¸ì§€ ëª°ëëŠ”ë° ê½¤ë‚˜ ì‰½ì§€ ì•Šì•˜ë˜ ê¸°ì–µì´ ìˆìŠµë‹ˆë‹¤.\n\në˜í•œ ê°œë°œ EC2ì˜ ë””ìŠ¤í¬ ìš©ëŸ‰ì´ ë¶€ì¡±í•œ ì´ìŠˆê°€ ë°œìƒí•˜ì—¬ ì„ì‹œë¡œ EBS ìš©ëŸ‰ì„ ëŠ˜ë ¤ ì¡°ì¹˜í–ˆì§€ë§Œ ì •í™•í•œ ì›ì¸ì„ íŒŒì•…í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•  ì´ìŠˆë„ ë‚¨ì•„ ìˆìŠµë‹ˆë‹¤.\n\nì¸í”„ë¼ ê´€ë ¨í•˜ì—¬ ì „ë°˜ì ìœ¼ë¡œ ë³´ì•ˆê³¼ ê°€ìš©ì„± ë©´ì—ì„œ ë¶€ì¡±í•œ ë¶€ë¶„ì´ ë§ì´ ìˆì§€ë§Œ, ì•„ì§ ì´ˆê¸° ë‹¨ê³„ì´ê¸°ë„ í•˜ê³  ì ì  ë‚˜ì•„ì§€ë„ë¡ ë…¸ë ¥í•´ì•¼ê² ìŠµë‹ˆë‹¤.\n\n### API ëª…ì„¸ì„œ ì‘ì„±\n\nAPI ëª…ì„¸ë„ ìƒê°ë³´ë‹¤ ë„ˆë¬´ ì–´ë ¤ì› ìŠµë‹ˆë‹¤.\n\nAPI ëª…ì„¸ë¥¼ ì‘ì„±í•˜ëŠ” ê±´ ì´ë¯¸ ë§ì´ í•´ë´¤ê³  ì–´ë ¤ìš´ ì‘ì—…ì€ ì•„ë‹ˆê¸°ì— ê¸ˆë°© í•  ì¤„ ì•Œì•˜ëŠ”ë°ìš”. ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ì´ ë³µì¡í•˜ê¸°ë„ í•˜ê³  ì˜¤ëœë§Œì˜ API ëª…ì„¸ ì‘ì—…ì´ë‹¤ë³´ë‹ˆ ê½¤ ë§ì€ ì‹œê°„ì´ ê±¸ë ¸ìŠµë‹ˆë‹¤.\n\níŠ¹íˆ \"í”¼ë“œ ì¡°íšŒ\" í™”ë©´ì— ëŒ€í•œ API ëª…ì„¸ë¥¼ êµ¬í˜„í•  ë•Œ ë‹¤ì–‘í•œ ìœ ì¦ˆ ì¼€ì´ìŠ¤ë¥¼ ê³ ë ¤í•˜ì—¬ API ëª…ì„¸ë¥¼ ì‘ì„±í•˜ë‹¤ë³´ë‹ˆ ì€ê·¼ ë¨¸ë¦¬ê°€ ì•„íŒ ìŠµë‹ˆë‹¤..<br>\në¹„íšŒì›ì´ëƒ íšŒì›ì´ëƒ, íŒ”ë¡œìš° í–ˆëŠëƒ í•˜ì§€ ì•Šì•˜ëŠëƒ, ë¹„íšŒì›ì´ ë‚´ í”¼ë“œê°€ ì•„ë‹Œ íƒ€ì¸ì˜ í”¼ë“œë¥¼ ë“¤ì–´ê°€ëŠëƒ ë“±.. ê³ ë ¤í•´ì•¼ í•  ê²ƒë“¤ì´ ë§ì•˜ìŠµë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ íŒ€ì›ë“¤ê³¼ í•¨ê»˜ ì´ì•¼ê¸°í•˜ë©° ì™„ì„±í•  ìˆ˜ ìˆì—ˆê³  ì´ë•Œ \"API ëª…ì„¸ ì‘ì„±ì€ í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œ í•¨ê»˜ ì‘ì„±í•˜ëŠ” ê²ƒì´ ë§ë‹¤\"ê³  ëŠê¼ˆìŠµë‹ˆë‹¤.<br>\nì•„ë¬´ë˜ë„ í”„ë¡ íŠ¸ì—”ë“œê°€ ê°œë°œí•  ë•Œì™€ ë°±ì—”ë“œê°€ ê°œë°œí•  ë•Œ ì…ì¥ ì°¨ì´ëŠ” ë¶„ëª…íˆ ìˆê³  ê·¸ì— ë”°ë¼ í•œ ê°€ì§€ ê¸°ëŠ¥ë‚˜ í•„ë“œì— ëŒ€í•´ ëˆ„ê°€ ì²˜ë¦¬í•  ê²ƒì¸ê°€ê°€ ê²°ì •ë˜ê¸° ë–„ë¬¸ì…ë‹ˆë‹¤.\n\n![ì™„ì„±ëœ API ëª…ì„¸ì„œ](api_docs.png)\n\n### ì¹´í…Œê³ ë¦¬ë¥¼ ì–´ë–»ê²Œ ê´€ë¦¬í•  ê²ƒì¸ì§€ ê³ ë¯¼\n\nê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ì¤‘ \"ì¹´í…Œê³ ë¦¬ì— ë”°ë¼ ë¦¬ìŠ¤íŠ¸ë¥¼ í•„í„°ë§í•  ìˆ˜ ìˆë‹¤\"ëŠ” ìš”êµ¬ì‚¬í•­ì´ ìˆì—ˆìŠµë‹ˆë‹¤.<br>\nìœ„ ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡±í•˜ê¸° ìœ„í•´ ì¹´í…Œê³ ë¦¬ë¥¼ ëˆ„ê°€? ì–´ë–»ê²Œ ê´€ë¦¬í•  ê²ƒì¸ê°€ì— ëŒ€í•œ ê³ ë¯¼ì„ í•˜ê²Œ ëìŠµë‹ˆë‹¤.\n\nê²°ë¡ ì€ ë°±ì—”ë“œê°€ Enumìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒìœ¼ë¡œ ê²°ì •ë˜ì—ˆëŠ”ë°ìš”.<br>\nì´ ê³¼ì •ì—ì„œ ë°±ì—”ë“œê°€ ì¹´í…Œê³ ë¦¬ë¥¼ ê´€ë¦¬í•  ë•Œ Enumìœ¼ë¡œ ì €ì¥í•˜ê³  ê´€ë¦¬í•  ê²ƒì¸ì§€ DB ìƒì—ì„œ ì €ì¥í•˜ê³  ê´€ë¦¬í•  ê²ƒì¸ì§€ ê±°ì˜ 2-3ì¼ ê°„ ê³ ë¯¼í–ˆìŠµë‹ˆë‹¤.<br>\nìƒê°ì— ìƒê°ì— ìƒê°ì„ í•˜ë‹¤ë³´ë‹ˆ ë¨¸ë¦¬ ì†ì—ì„œ DeadLockì´ ë°œìƒí–ˆê³  ê²°êµ­ ì£¼ë³€ ì§€ì¸ë“¤ì—ê²Œ ì˜ê²¬ì„ ë¬¼ì–´ë³´ë©° ê²°ì •í–ˆìŠµë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ ìµœì¢… ê²°ì •ì€ íŒ€ì›ì˜ ì˜ê²¬ìœ¼ë¡œ ê²°ì •í•˜ê²Œ ëëŠ”ë°ìš”. ì´ë•Œ \"ë‚´ê°€ ë„ˆë¬´ ì–´ë µê³  ë³µì¡í•˜ê²Œ ìƒê°ë§Œ í•˜ëŠ”êµ¬ë‚˜\" ì…ë‹ˆë‹¤.<br>\në¬¼ë¡  ê° ë°©ë²•ì— ëŒ€í•œ ì¥ë‹¨ì ì´ ì¡´ì¬í•˜ê³  íŠ¸ë ˆì´ë“œ ì˜¤í”„ì— ë”°ë¼ **ê²°ì •**ì„ í•´ì•¼ í•˜ëŠ”ë°, ì €ëŠ” ë‹¨ì ì´ ì—†ëŠ” ë°©ë²•ì„ ì°¾ê¸° ìœ„í•´ ìƒê°ì„ ê±°ë“­í–ˆë˜ ê²ƒì…ë‹ˆë‹¤.\n\nì°¨ë¼ë¦¬ í•œ ê°€ì§€ ë°©ë²•ì— ëŒ€í•´ ì¼ë‹¨ êµ¬í˜„í•´ë³´ê³ ë‚˜ì„œ ë¬¸ì œê°€ ìƒê²¼ì„ ë•Œ ê·¸ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ê²ƒì´ ë” ë¹ ë¥´ê²Œ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë°©ë²•ì´ ë  ìˆ˜ ìˆê² ë‹¤ê³  ìƒê°ëìŠµë‹ˆë‹¤.\n\nê·¸ë¦¬ê³  ì´ë¥¼ ê³„ê¸°ë¡œ ê°€ì§€ê³  ìˆë˜ \"ì™„ë²½ì£¼ì˜ ì„±í–¥\"ì„ ì¡°ê¸ˆ ë‚´ë ¤ë†“ëŠ” ë²•ì„ ë°°ìš¸ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\n\n### ìƒˆë¡œìš´ ê¸°ìˆ  í•™ìŠµí•˜ê¸° \n\nì›ë˜ëŠ” ì†Œì…œ ë¡œê·¸ì¸ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ `Spring Security`, `OAuth 2.0 Client`, `Redis`ë¥¼ ì´ìš©í•˜ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.<br>\nëª¨ë‘ í•œë²ˆë„ ì‚¬ìš©í•´ë³¸ ê¸°ìˆ ì´ ì•„ë‹ˆê¸°ì— ì›”ìš”ì¼ë¶€í„° í•™ìŠµì„ ì§„í–‰í–ˆëŠ”ë°ìš”.<br>\n`Spring Security`ë§Œ í•´ë„ í•™ìŠµ ë¹„ìš©ì´ ìƒë‹¹íˆ ë†’ì€ í”„ë ˆì„ì›Œí¬ì´ê¸°ì— ë‹¤ë¥¸ ì‘ì—…ë“¤ë„ ê¸°ê°„ ë‚´ì— ì™„ë£Œí•˜ê¸° ìœ„í•´ í¬ê¸°í•˜ê³  ë‹¹ì¥ ê¸°ëŠ¥ì´ ë™ì‘í•˜ëŠ” ê²ƒì— ì§‘ì¤‘í–ˆìŠµë‹ˆë‹¤.\n\nì´ ê³¼ì •ì—ì„œë„ ë‚˜ë¦„ëŒ€ë¡œì˜ ì‹¤íŒ¨ë¥¼ ê²½í—˜í–ˆìŠµë‹ˆë‹¤.<br>\nìƒˆë¡œìš´ ê¸°ìˆ ì„ ë¹ ë¥´ê²Œ ìµíˆì§€ ëª»í•œë‹¤ê³  ìƒê°í–ˆê³  ì´ëŒ€ë¡œë©´ êµ¬í˜„ì— ì‹¤íŒ¨í•  ê²ƒ ê°™ì•„ ê°œë°œì— ìì‹ ê°ì„ ìƒì—ˆìŠµë‹ˆë‹¤.\n\nê¸°ë¶„ ì „í™˜ ê²¸ ì‚°ì±…í•˜ë‹¤ê°€ ë¬¸ë“ ìš°í…Œì½” í”„ë¦¬ì½”ìŠ¤ ì‹œì ˆ `Enum`ê³¼ `Stream API`ë¥¼ ì²˜ìŒ í•™ìŠµí•˜ë©° ë„ˆë¬´ ì–´ë ¤ì›Œ ì¢Œì ˆí–ˆë˜ ê¸°ì–µì´ ë– ì˜¬ëìŠµë‹ˆë‹¤.<br>\ní˜„ì¬ëŠ” `Enum`ê³¼ `Stream`ì„ ë„ˆë¬´ë‚˜ë„ ìµìˆ™í•˜ê²Œ ì‚¬ìš©í•˜ê³  ìˆëŠ” ëª¨ìŠµì„ ìƒê°í–ˆì„ ë•Œ, í¬ê¸°í•˜ì§€ ì•Šê³  ê³„ì† í•™ìŠµí•˜ë‹¤ë³´ë©´ ì–´ëŠìƒˆ ìµìˆ™í•˜ê²Œ ì‚¬ìš©í•˜ê³  ìˆì„ ê²ƒì´ë¼ëŠ” ìƒê°ì— ë‹¤ì‹œ ìì‹ ê°ì„ ì–»ì—ˆìŠµë‹ˆë‹¤.\n\në¬¼ë¡  ìœ„ ê¸°ìˆ ë“¤ì„ ëª¨ë‘ í•™ìŠµí•˜ê³  ì ìš©í•´ë³´ê³  ì‹¶ì€ ìƒê°ì´ ìˆê¸°ì— ì¶”í›„ ë„ì…í•˜ì—¬ ë§ˆì´ê·¸ë ˆì´ì…˜ í•  ê²ƒì…ë‹ˆë‹¤.\n\n## ì•„ì‰¬ì› ë˜ ì ì€ìš”\n\n### 1. ë¬´ë¦¬í•œ ì¼ì • ì¡ê¸°\n\n1ì‹œê°„ì´ ê±¸ë¦´ ê²ƒ ê°™ìœ¼ë©´ 2ì‹œê°„ì´ ê±¸ë¦´ ê²ƒ ê°™ë‹¤ê³  ë§í•˜ë¼ëŠ” ì†Œë¦¬ë¥¼ ë“¤ì€ ì ì´ ìˆìŠµë‹ˆë‹¤.<br>\në¬´ì—‡ì´ë“  ë³¸ì¸ì´ ìƒê°í–ˆì„ ë•Œë³´ë‹¤ 2ë°° ì´ìƒì˜ ì‹œê°„ì´ ì†Œìš”ë˜ê¸° ë•Œë¬¸ì¸ë°ìš”.<br>\níŠ¹íˆ ì´ë²ˆì— ë¼ˆì €ë¦¬ê²Œ ëŠê¼ˆìŠµë‹ˆë‹¤..\n\nìŠ¤ìŠ¤ë¡œë¥¼ ê³¼ëŒ€í‰ê°€í•˜ì—¬ ê¸ˆë°© ëë‚  ì¤„ ì•Œê³  ë§ì€ ì‘ì—…ì„ ì˜ˆì •í•´ë†“ì•˜ê³ <br>\nê·¸ë˜ë„ ë§í•œ ê²ƒì€ ì§€í‚¤ê¸° ìœ„í•´ ë°¥ë¨¹ê³  ìëŠ” ì‹œê°„ ë¹¼ê³ ëŠ” í”„ë¡œì íŠ¸ì— ì „ë…í–ˆìŠµë‹ˆë‹¤.\n\nê·¸ ê²°ê³¼ ë§ì€ ê±¸ ì§„í–‰í•˜ê¸´ í–ˆì§€ë§Œ íšŒê³ ë¡ì„ ì“°ëŠ” ì§€ê¸ˆë„ ëˆˆì´ ì¹¨ì¹¨í•˜ë„¤ìš”.. ğŸ‘€\n\nì¼ì •ì„ ì¡°ê¸ˆ ë³´ìˆ˜ì ìœ¼ë¡œ ì¡ì•„ì•¼ê² ìŠµë‹ˆë‹¤.\n\n### 2. í…ŒìŠ¤íŠ¸ ì½”ë“œ ì—†ì´ ê¸°ëŠ¥ êµ¬í˜„\n\nìš°í…Œì½”ì—ì„œ í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ì¤‘ìš”ì„±ì„ ê·¸ë ‡ê²Œ ê°•ì¡°ë‹¹í•˜ê³  ë°°ìš´ ìƒíƒœì—ì„œ ë³¸ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ ë‹¹ì—°íˆ ì‘ì„±í•´ì•¼ í•˜ëŠ” ê²ƒìœ¼ë¡œ ìƒê°í•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±ì´ ìµìˆ™ì¹˜ ì•Šì€ íŒ€ì›ê³¼ ë¹¡ë¹¡í•œ ì¼ì • ë•Œë¬¸ì— í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•  ì‹œê°„ì´ ì—†ì—ˆìŠµë‹ˆë‹¤..\n\nê·¸ë˜ì„œ í˜„ì¬ í…ŒìŠ¤íŠ¸ëŠ” 11ê°œë§Œ ì¡´ì¬í•˜ê³  80% ì´ìƒì˜ ë©”ì„œë“œì— ëŒ€í•´ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\n\n<u>í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì—†ìœ¼ë‹ˆ í™•ì‹¤íˆ ë°¤ì— ì ì„ ì„¤ì¹˜ê²Œ ë©ë‹ˆë‹¤.</u><br>\në‚´ê°€ ë§Œë“  ê¸°ëŠ¥ì´ ì˜ ë™ì‘í• ê¹Œ? ë²„ê·¸ëŠ” ë‚˜ì§€ ì•Šì„ê¹Œ? ë§ˆìŒ í•œêµ¬ì„ ì–´ë”˜ê°€ê°€ ìê¾¸ ë¶ˆí¸í•©ë‹ˆë‹¤..\n\në‹¤ìŒ ì£¼ì°¨ì—ëŠ” ë‹¹ì¥ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•´ì•¼ê² ìŠµë‹ˆë‹¤.\n\n### 3. ë„ˆë¬´ ì–´ë µê²Œ ìƒê°í–ˆë‹¤. ê·¸ë¦¬ê³  ìƒê°ë§Œ í–ˆë‹¤.\n\nì¹´í…Œê³ ë¦¬ ê´€ë¦¬ ë°©ë²•ê³¼ ë¡œê·¸ì¸ ê¸°ëŠ¥ êµ¬í˜„í•  ë•Œ ë„ˆë¬´ ì–´ë µê²Œë§Œ ìƒê°í–ˆìŠµë‹ˆë‹¤.<br>\nê·¸ë˜ì„œ í˜¼ìì„œ ìê¾¸ ë¶€ì •ì ì¸ ìƒê°ì„ í•˜ê²Œ ë˜ê³  ìì‹ ê°ì„ ìƒì—ˆìŠµë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ ê°„ë‹¨í•˜ê²Œ ìƒê°í•˜ê³  <u>ì¼ë‹¨ ê´œì°®ì•„ë³´ì´ëŠ” ë°©ë²•ì´ë‚˜ ì‘ì€ ê²ƒë¶€í„° ì‹œì‘</u>í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤ê³  ëŠê¼ˆìŠµë‹ˆë‹¤.<br>\nì´ëŠ” ì²´ìŠ¤ ë¯¸ì…˜ì—ì„œë„ ê²½í—˜í–ˆë˜ ê±´ë° ë„ˆë¬´ ì˜¤ë˜ë¼ì„œ ìŠê³  ì‚´ì•˜ë‚˜ë´…ë‹ˆë‹¤ ğŸ¥²\n\nì•ìœ¼ë¡œëŠ” ìƒê°í•˜ëŠ” ì‹œê°„ë³´ë‹¨ ì½”ë“œ ì§œëŠ” ì‹œê°„ì„ ë” ê°€ì§€ë„ë¡ í•´ì•¼ê² ìŠµë‹ˆë‹¤.\n\n## ë‹¤ìŒ ì£¼ì— ë…¸ë ¥í•  ê²ƒì€ìš”\n\n### 1. ì¼ì •ì„ ë³´ìˆ˜ì ìœ¼ë¡œ ì¡ê¸°\n\nëª¸ìŒ ì¡°ê¸ˆ ì±™ê¸°ëŠ” í•œ ì£¼ê°€ ë˜ì–´ì•¼ê² ìŠµë‹ˆë‹¤.\n\nì , ìš´ë™, ì‹ì‚¬ë¥¼ í¬ê¸°í•˜ë©° ê°œë°œë§Œ í•˜ëŠ”ê±´ 2ì£¼ ì—°ì†ìœ¼ë¡œ í•˜ê¸°ëŠ” í˜ë“œë„¤ìš”,,\n\n### 2. ì ì–´ë„ í˜„ì¬ê¹Œì§€ êµ¬í˜„í•œ ê¸°ëŠ¥ë“¤ì— ëŒ€í•´ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì™„ì„±í•˜ê¸°\n\nì´ê±´ ë‹¤ìŒ ì£¼ ì‘ì—… 1ìˆœìœ„ë¡œ ì§„í–‰í•˜ë ¤ê³  í•©ë‹ˆë‹¤.<br>\nê¾¸ì¤€í•œ ë¦¬íŒ©í„°ë§ê³¼ ì•ˆì •ì ì¸ ì„œë²„ ê°œë°œì„ ìœ„í•´ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” í•„ìˆ˜ì¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤ !!\n\n## ë§ˆì¹˜ë©°\n\nì§§ì€ ê¸°ê°„ ë™ì•ˆ ë§ì€ ê²ƒì„ í•œ ë§Œí¼ ê³ ëœ ìœ¡ì²´ì ìœ¼ë¡œë‚˜ ì •ì‹ ì ìœ¼ë¡œ ê³ ëœ ì‹œê°„ì´ì˜€ìŠµë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ ë™ê¸°ë¶€ì—¬ì— ê±¸ë§ê²Œ ëª¨ë“  ê±¸ ì£¼ë„ì ìœ¼ë¡œ ì§„í–‰í•˜ë‹¤ë³´ë‹ˆ ì •ë§ ë§ì€ ê²ƒì„ ëŠë¼ê³  ë°°ìš°ê³  ê°„ë§Œì— <u>ëª°ì…</u>í•˜ëŠ” ê¸°ë¶„ì„ ëŠê¼ˆìŠµë‹ˆë‹¤.\n\ní”„ë¡œì íŠ¸ ì •ì‹ ì¢…ë£Œê¹Œì§€ í•œ ë‹¬ ë°–ì— ë‚¨ì§€ ì•Šì€ ì‹œì ì—ì„œ ì•ìœ¼ë¡œë„ ì­‰ ë‹¬ë ¤ì•¼ê² ì§€ë§Œ, ëë‚˜ê³  ë‚œ ë’¤ì— í­ë°œì ìœ¼ë¡œ ì„±ì¥í•˜ê³  ë§ì€ ê²½í—˜ì¹˜ë¥¼ ìŒ“ì€ ëª¨ìŠµì„ ê¸°ëŒ€í•˜ê³  ì—´ì‹¬íˆ ë‹¬ë ¤ë´ì•¼ê² ìŠµë‹ˆë‹¤. ğŸ”¥\n"},{"excerpt":"B-Tree ì¸ë±ìŠ¤ B-Tree ì¸ë±ìŠ¤ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì˜ ì¸ë±ì‹± ì•Œê³ ë¦¬ì¦˜ì—ì„œ ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì´ë‹¤. ê°€ì¥ í° íŠ¹ì§•ì€ ì¹¼ëŸ¼ì˜ ì›ë˜ ê°’ì„ ë³€í˜•í•˜ì§€ ì•Šê³  ì¸ë±ìŠ¤ ìë£Œêµ¬ì¡° ë‚´ì—ì„œëŠ” í•­ìƒ ì •ë ¬ëœ ìƒíƒœë¡œ ê°’ë“¤ì„ ì €ì¥í•œë‹¤. í”íˆ B-Treeë¥¼ Binary-Tree (ì´ì§„ íŠ¸ë¦¬)ë¡œ ìƒê°í•œë‹¤. í•˜ì§€ë§Œ Balanced-Treeì˜ ì•½ìë¡œ, Binary-Treeâ€¦","fields":{"slug":"/08-03-b-tree-index/"},"frontmatter":{"date":"February 01, 2024","title":"B-Tree ì¸ë±ìŠ¤ì— ëŒ€í•´ ì•Œì•„ë³´ì","tags":["database"]},"rawMarkdownBody":"\n## B-Tree ì¸ë±ìŠ¤\n\nB-Tree ì¸ë±ìŠ¤ëŠ” <u>ë°ì´í„°ë² ì´ìŠ¤ì˜ ì¸ë±ì‹± ì•Œê³ ë¦¬ì¦˜ì—ì„œ ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì•Œê³ ë¦¬ì¦˜</u>ì´ë‹¤.\n\nê°€ì¥ í° íŠ¹ì§•ì€ <u>ì¹¼ëŸ¼ì˜ ì›ë˜ ê°’ì„ ë³€í˜•í•˜ì§€ ì•Šê³ </u> ì¸ë±ìŠ¤ ìë£Œêµ¬ì¡° ë‚´ì—ì„œëŠ” <u>í•­ìƒ ì •ë ¬ëœ ìƒíƒœë¡œ ê°’ë“¤ì„ ì €ì¥</u>í•œë‹¤.\n\ní”íˆ B-Treeë¥¼ Binary-Tree (ì´ì§„ íŠ¸ë¦¬)ë¡œ ìƒê°í•œë‹¤. í•˜ì§€ë§Œ Balanced-Treeì˜ ì•½ìë¡œ, Binary-TreeëŠ” ì•„ë‹ˆë‹¤.<br>\nBalanced-TreeëŠ” ê· í˜•ì¡íŒ íŠ¸ë¦¬ë¡œ, ë…¸ë“œê°€ í•œ ìª½ ë°©í–¥ìœ¼ë¡œ ì¹˜ìš°ì¹˜ì§€ ì•Šê³  ì™¼ìª½ ìœ„ë¶€í„° ì°¨ê³¡ì°¨ê³¡ ìŒ“ì¸ë‹¤ê³  ìƒê°í•˜ë©´ ëœë‹¤.\n\nê²°êµ­, <u>B-Tree ì¸ë±ìŠ¤ëŠ” Balanced-Tree ìë£Œêµ¬ì¡°ë¥¼ ì´ìš©í•œ ì¸ë±ì‹± ì•Œê³ ë¦¬ì¦˜</u>ì´ë‹¤.\n\n> [Balacned Tree - Baeldung](https://www.baeldung.com/cs/balanced-trees)\n\n### 1. B-Treeì˜ êµ¬ì¡° ë° íŠ¹ì„±\n\n#### êµ¬ì¡° \n\nB-Treeë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ B-Treeì˜ êµ¬ì¡°ì— ëŒ€í•´ ì•Œì•„ë³´ì.\n\n![B-Treeì˜ êµ¬ì¡°](b-tree-architecure.png)\n\nTreeì˜ êµ¬ì¡°ë¥¼ ê¸°ë³¸ì ìœ¼ë¡œ ê°€ì§„ë‹¤.\n\në§¨ ìœ„ì—ëŠ” 1ê°œì˜ `ë£¨íŠ¸ ë…¸ë“œ`ê°€ ìˆë‹¤.<br>\në§¨ ì•„ë˜ì—ëŠ” ì—¬ëŸ¬ ê°œì˜ `ë¦¬í”„ ë…¸ë“œ`ê°€ ìˆë‹¤.<br>\në£¨íŠ¸ ë…¸ë“œì™€ ë¦¬í”„ ë…¸ë“œ ê°€ìš´ë°ëŠ” `ë¸Œëœì¹˜ ë…¸ë“œ`ë¼ê³  í•œë‹¤.\n\në°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì‹¤ì œ ë°ì´í„°ì™€ ì¸ë±ìŠ¤ëŠ” ë”°ë¡œ ê´€ë¦¬ë˜ëŠ”ë°, <u>ë¦¬í”„ ë…¸ë“œëŠ” í•­ìƒ ì‹¤ì œ ë°ì´í„°ë¥¼ ì°¾ì•„ê°€ê¸° ìœ„í•œ ì£¼ì†Œê°’ì„ ê°€ì§„ë‹¤.</u>\n\nì—¬ê¸°ì„œ `Balanced` ë¼ëŠ” ì´ë¦„ì— ê±¸ë§ê²Œ ë…¸ë“œê°€ í•œ ìª½ìœ¼ë¡œë§Œ ì¹˜ìš°ì¹˜ì§€ ì•ŠëŠ”ë‹¤.<br>\nì˜ˆë¥¼ ë“¤ì–´ ë‹¤ìŒê³¼ ê°™ì€ í˜•íƒœì´ë‹¤.\n\n![ê· í˜•ì¡íˆì§€ ì•Šì€ Tree](not-balanced-tree.png)\n\n#### íŠ¹ì„±\n\nê°€ì¥ ì¤‘ìš”í•œ íŠ¹ì„±ì€ <u>ë…¸ë“œë“¤ì„ ì •ë ¬ëœ ìƒíƒœë¡œ ì €ì¥í•œë‹¤ëŠ” ê²ƒì´ë‹¤.</u><br>\nì´ëŸ¬í•œ íŠ¹ì„± ë•Œë¬¸ì— ì¡°íšŒë¥¼ ë¹ ë¥¸ ì†ë„ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ ëœë‹¤.<br>\ní•˜ì§€ë§Œ ë°˜ëŒ€ë¡œ ë§í•´ ì¸ë±ìŠ¤ì— ê°’ì„ ì¶”ê°€í•˜ê±°ë‚˜ ì‚­ì œí•˜ëŠ” ê²½ìš° ì •ë ¬ì„ ë§ì¶°ì•¼í•˜ë¯€ë¡œ ì˜¤ë²„í—¤ë“œê°€ ë°œìƒí•˜ê²Œ ëœë‹¤.\n\nê·¸ë¦¬ê³  ë˜ í•˜ë‚˜ì˜ ì¤‘ìš”í•œ íŠ¹ì„±ì€ <u>ì¸ë±ìŠ¤ì˜ ë¦¬í”„ ë…¸ë“œëŠ” ì‹¤ì œ ë°ì´í„°ì˜ PK ê°’ì„ ê°€ì§„ë‹¤.</u><br>\nì¸ë±ìŠ¤ë¥¼ í†µí•´ ë¹ ë¥´ê²Œ ì›í•˜ëŠ” ê°’ì„ ì°¾ì•„ë„, ì›í•˜ëŠ” ê°’ì´ ì—†ëŠ” ê²½ìš° ì‹¤ì œ ë°ì´í„°ë¥¼ ì¡°íšŒí•´ì•¼ í•œë‹¤.<br>\nì´ë¥¼ ìœ„í•´ ì‹¤ì œ ë°ì´í„°ì˜ ì£¼ì†Œê°’ì„ ê°€ì ¸ì•¼í•˜ëŠ”ë° ê¸°ë³¸í‚¤ë¥¼ ì£¼ì†Œê°’ìœ¼ë¡œ ëŒ€ì‹ í•˜ì—¬ ì‚¬ìš©í•˜ê²Œ ëœë‹¤.\n\në§ˆì§€ë§‰ìœ¼ë¡œ B-Treeì˜ ì¤‘ìš”í•œ íŠ¹ì§•ì€, <u>ëª¨ë“  ì„¸ì¼„ë”ë¦¬ ì¸ë±ìŠ¤ ê²€ìƒ‰ì—ì„œ ë°ì´í„° ë ˆì½”ë“œë¥¼ ì½ê¸° ìœ„í•´ì„œëŠ” ë°˜ë“œì‹œ PK ì¸ë±ìŠ¤ë¥¼ ê±°ì³ì•¼ í•œë‹¤.</u><br>\nì´ì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì€ 8.8ì ˆì—ì„œ ìì„¸íˆ ì•Œì•„ë³´ì.\n\n### 2. B-Tree ì¸ë±ìŠ¤ CRUD: ì¸ë±ìŠ¤ ì“°ê¸° ì‘ì—…ê³¼ ì¡°íšŒ ì‘ì—…\n\nìœ„ì—ì„œ ì–¸ê¸‰í–ˆë“¯ì´ B-TreeëŠ” ê°’ ì“°ê¸° ì„±ëŠ¥ì„ í¬ìƒí•´ì„œ ì¡°íšŒ ì„±ëŠ¥ì„ ë†’ì¸ë‹¤.<br>\nì“°ê¸° ì„±ëŠ¥ì´ ì–´ë–¤ ì´ìœ ì—ì„œ í¬ìƒë˜ëŠ”ì§€ ì•Œì•„ë³´ì.\n\nì°¸ê³ ë¡œ InnoDBì—ì„œëŠ” B-Tree ì“°ê¸° ì‘ì—…ì„ ëª¨ë‘ `ì²´ì¸ì§€ ë²„í¼`ë¥¼ í™œìš©í•´ ì§€ì—°ì²˜ë¦¬ ë  ìˆ˜ ìˆë‹¤.<br>\nì´ë¥¼ í†µí•´ ë‹¤ë¥¸ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ë³´ë‹¤ëŠ” ì¢‹ì€ ì„±ëŠ¥ì„ ë‚³ì„ ìˆ˜ ìˆë‹¤.\n\n#### ì¸ë±ìŠ¤ ì¶”ê°€\n\nìƒˆë¡œìš´ í‚¤ ê°’ì´ B-Treeì— ì €ì¥ë  ë•Œ ì¦‰ì‹œ ì €ì¥ë  ìˆ˜ë„ ìˆê³  ì•„ë‹ ìˆ˜ë„ ìˆë‹¤.\ní•˜ì§€ë§Œ PKë‚˜ Unique Indexì˜ ê²½ìš° ì¤‘ë³µ ì²´í¬ê°€ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— ì¦‰ì‹œ ì‚½ì…í•˜ê²Œ ëœë‹¤.<br>\n\nì €ì¥ë  ë•Œ ê°’ì´ ì €ì¥ë  ì ì ˆí•œ ìœ„ì¹˜ë¥¼ ê²€ìƒ‰í•´ì•¼ í•œë‹¤. ìœ„ì¹˜ê°€ ê²°ì •ë˜ë©´ ë ˆì½”ë“œì˜ PK ê°’ê³¼ ë ˆì½”ë“œì˜ ì£¼ì†Œ ì •ë³´ë¥¼ B-Treeì˜ ë¦¬í”„ ë…¸ë“œì— ì €ì¥í•œë‹¤.\n\në§Œì•½ ë“¤ì–´ê°ˆ ìœ„ì¹˜ê°€ ì—†ë‹¤ë©´, `í˜ì´ì§€`ë¥¼ ë¶„ë¦¬í•´ì„œ ë“¤ì–´ê°ˆ ê³µê°„ì„ ë§Œë“¤ì–´ì•¼ í•œë‹¤.<br>\nì´ëŸ¬í•œ ê³¼ì •ë“¤ì´ í¬í•¨ë˜ë‹¤ë³´ë‹ˆ ì“°ê¸° ì‘ì—…ì€ ì˜¤ë²„í—¤ë“œê°€ ë°œìƒí•˜ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤.\n\n#### ì¸ë±ìŠ¤ ì‚­ì œ\n\nì‚­ì œì˜ ê²½ìš° ì¶”ê°€ë³´ë‹¤ ë‹¨ìˆœí•˜ë‹¤.<br>\nB-Treeì˜ ë¦¬í”„ ë…¸ë“œë¥¼ ì°¾ì•„ ê·¸ëƒ¥ ì‚­ì œ ë§ˆí‚¹ë§Œ í•˜ë©´ ëì´ë‹¤.<br>\nì´ë ‡ê²Œ ë§ˆí‚¹ëœ ì¸ë±ìŠ¤ì˜ ê³µê°„ì€ ê³„ì† ë°©ì¹˜ë˜ê±°ë‚˜ ì¬í™œìš©ë  ìˆ˜ ìˆë‹¤.<br>\ní•˜ì§€ë§Œ ë§ˆí‚¹ ì‘ì—… ë˜í•œ ë””ìŠ¤í¬ ì“°ê¸°ê°€ í•„ìš”í•˜ë¯€ë¡œ ì˜¤ë²„í—¤ë“œê°€ ë°œìƒí•œë‹¤.\n\n#### ì¸ë±ìŠ¤ ë³€ê²½\n\në‹¨ìˆœíˆ ê°’ì„ ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤.<br>\nì¸ë±ìŠ¤ ì‚­ì œê°€ ë¨¼ì € ì´ë£¨ì–´ì§€ê³  ì¸ë±ìŠ¤ í‚¤ ì¶”ê°€ ì‘ì—…ì´ ì´ë£¨ì–´ì§„ë‹¤.<br>\në•Œë¬¸ì— ê°€ì¥ ë§ì€ ì˜¤ë²„í—¤ë“œë¥¼ ë°œìƒì‹œí‚¤ëŠ” ì‘ì—…ì´ ëœë‹¤.\n\n#### ì¸ë±ìŠ¤ ì¡°íšŒ\n\nB-Tree ì¸ë±ìŠ¤ë¥¼ ì¡°íšŒí•˜ëŠ” ì¡°ê±´ì— ëŒ€í•´ ì•Œì•„ë³´ì.\n\nìš°ì„  ì¸ë±ìŠ¤ ì¡°íšŒëŠ” `SELECT` ë¿ë§Œ ì•„ë‹ˆë¼ `UPDATE`ë‚˜ `DELETE`ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ë ˆì½”ë“œë¥¼ ê²€ìƒ‰í•˜ëŠ” ê²½ìš°ì—ë„ ì‚¬ìš©ëœë‹¤.<br>\nì¤‘ìš”í•œ ì ì€ <u>ê²€ìƒ‰ì€ 100% ì¼ì¹˜í•˜ê±°ë‚˜ ê°’ì˜ ì•ë¶€ë¶„ë§Œ ì¼ì¹˜í•˜ëŠ” ê²½ìš°ì—ë§Œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.</u><br>\në‹¤ì‹œ ë§í•´, <u>ì§‘ê³„ í•¨ìˆ˜ë‚˜ ì—°ì‚°ì„ ìˆ˜í–‰í•œ ê²°ê³¼ë¡œ ê²€ìƒ‰í•˜ëŠ” ì¿¼ë¦¬ëŠ” ì¸ë±ìŠ¤ë¥¼ í†µí•´ ì¡°íšŒê°€ ì´ë¤„ì§€ì§€ ì•ŠëŠ”ë‹¤.</u>\n\nì§€ê¸ˆê¹Œì§€ B-Tree ì¸ë±ìŠ¤ì˜ CRUDì— ëŒ€í•´ ì‚´í´ë´¤ë‹¤.<br>\nê¸°ë³¸ì ìœ¼ë¡œ ì¡°íšŒ ì„±ëŠ¥ì„ ëŒì–´ì˜¬ë¦¬ê¸° ìœ„í•´ ì¸ë±ìŠ¤ì˜ ì¤‘ìš”ì„±ì„ ë§ì´ ì–¸ê¸‰í•˜ì§€ë§Œ, InnoDB ì—”ì§„ì˜ ê²½ìš° *ë ˆì½”ë“œ ë½*ì´ë‚˜ *ë„¥ìŠ¤íŠ¸ í‚¤ ë½*ì´ ì¡°íšŒë¥¼ ìˆ˜í–‰í•œ ì¸ë±ìŠ¤ë¥¼ ì ê·¼ í›„ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë„ ì ê·¸ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— `UPDATE`ë‚˜ `DELETE` ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•  ë•Œë„ ì ì ˆí•œ ì¸ë±ìŠ¤ê°€ ì—†ë‹¤ë©´ ìƒë‹¹í•œ ì„±ëŠ¥ ì´ìŠˆë¥¼ ì•¼ê¸°í•  ìˆ˜ ìˆë‹¤.\n\n### 3. B-Tree ì¸ë±ìŠ¤ ì‚¬ìš©ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ìš”ì†Œ\n\nê·¸ë ‡ë‹¤ë©´ ì´ B-Tree ì¸ë±ìŠ¤ë¥¼ ì–´ë–¤ ê¸°ì¤€ì„ ê°€ì§€ê³  ì„¤ì •í•˜ë©´ ì¢‹ì„ê¹Œ?<br>\nì—¬ê¸°ì—ëŠ” ë‘ ê°€ì§€ ê¸°ì¤€ì´ ìˆë‹¤.\n\n#### 3-1. ì¸ë±ìŠ¤ í‚¤ ê°’ì˜ í¬ê¸°\n\nMySQLì€ ë””ìŠ¤í¬ì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ê°€ì¥ ì‘ì€ ê¸°ë³¸ ë‹¨ìœ„ë¥¼ <u>í˜ì´ì§€</u>ë¼ê³  í•œë‹¤.<br>\nì´ í˜ì´ì§€ëŠ” InnoDB ë²„í¼ í’€ì—ë„ ì ìš©ë˜ë©° <u>ëª¨ë“  ì‘ì—…ì˜ ìµœì†Œ ë‹¨ìœ„</u>ê°€ ëœë‹¤.\nì¸ë±ìŠ¤ë„ ê²°êµ­ ì´ í˜ì´ì§€ ë‹¨ìœ„ë¡œ ê´€ë¦¬ëœë‹¤.<br>\nì°¸ê³ ë¡œ default ê°’ì€ 16KBì´ë‹¤.\n\nê·¸ë ‡ë‹¤ë©´ ì¸ë±ìŠ¤ í‚¤ ê°’ì˜ í¬ê¸°ê°€ ì´ì™€ ë¬´ìŠ¨ ê´€ë ¨ì´ ìˆì„ê¹Œ?<br>\nì¡°ê¸ˆë§Œ ìƒê°í•´ë³´ë©´ ì‰½ê²Œ ì•Œì•„ì°¨ë¦´ ìˆ˜ ìˆë‹¤.\n\nì¸ë±ìŠ¤ í‚¤ ê°’ì´ í¬ê¸°ê°€ ëŠ˜ì–´ë‚˜ë©´, í•˜ë‚˜ì˜ í˜ì´ì§€ì—ì„œ ì €ì¥í•  ìˆ˜ ìˆëŠ” ì¸ë±ìŠ¤ëŠ” ì¤„ì–´ë“ ë‹¤.<br>\ní•˜ë‚˜ì˜ í˜ì´ì§€ì—ì„œ ì €ì¥í•  ìˆ˜ ìˆëŠ” ì¸ë±ìŠ¤ê°€ ì¤„ì–´ë“¤ë©´, ê·¸ë§Œí¼ í˜ì´ì§€ë¥¼ ë” ë§ì´ ë§Œë“¤ì–´ì•¼ í•œë‹¤.<br>\ní˜ì´ì§€ê°€ ëŠ˜ì–´ë‚  ìˆ˜ë¡ í•œ í˜ì´ì§€ì—ì„œ ì¡°íšŒí•  ìˆ˜ ìˆëŠ” ë ˆì½”ë“œì˜ ìˆ˜ê°€ ì ìœ¼ë¯€ë¡œ ë” ë§ì€ í˜ì´ì§€ë¥¼ ë’¤ì ¸ì•¼ í•œë‹¤.\n\nê²°êµ­, <u>ì¸ë±ìŠ¤ í‚¤ ê°’ì˜ í¬ê¸°ê°€ ì‘ì„ ìˆ˜ë¡ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•œ ì¡°íšŒ ì„±ëŠ¥ì´ í–¥ìƒëœë‹¤.</u>\n\n#### 3-2. Cardinality\n\në˜ ë‹¤ë¥¸ ê¸°ì¤€ìœ¼ë¡œ *Cardinality*ê°€ ìˆë‹¤.<br>\n<u>CardinalityëŠ” í•˜ë‚˜ì˜ ì¹¼ëŸ¼ì„ ê¸°ì¤€ìœ¼ë¡œ ìœ ë‹ˆí¬í•œ ê°’ì˜ ìˆ˜</u>ë¥¼ ì˜ë¯¸í•œë‹¤.\n\nê²°ë¡ ë¶€í„° ë§í•˜ìë©´ Cardinalityê°€ ë†’ì€, ì¦‰ ì¤‘ë³µë„ê°€ ë‚®ì€ ì¹¼ëŸ¼ì„ ì¸ë±ìŠ¤ë¡œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\n\nì¤‘ë³µë„ê°€ ë†’ì€ ì¹¼ëŸ¼ì„ ì¸ë±ìŠ¤ë¡œ ì„¤ì •í–ˆë‹¤ë©´ ê·¸ë§Œí¼ì˜ ê°’ì„ ë‹¤ ì°¾ì•„ì•¼ í•œë‹¤.<br>\në§Œì•½ 1000ê°œì˜ ê°’ì´ ì¤‘ë³µë˜ì—ˆê³  ê·¸ ì¤‘ í•œ ê°œì˜ ë ˆì½”ë“œë¥¼ ì¡°íšŒí•˜ëŠ” ì¿¼ë¦¬ë¼ë©´, ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•  ë•Œ 999ê°œì˜ ë ˆì½”ë“œì— Lockì´ ê±¸ë¦¬ê³  ê²°ê³¼ì ìœ¼ë¡  1ê°œì˜ ë ˆì½”ë“œë§Œ ë°˜í™˜ë  ê²ƒì´ë‹¤.\n\nê·¸ë ‡ì§€ë§Œ Cardinalityê°€ ë‚®ë‹¤ê³  í•´ë„ <u>ì •ë ¬ì´ë‚˜ ê·¸ë£¹í•‘ê³¼ ê°™ì€ ì‘ì—…ì„ ìœ„í•´ ì¸ë±ìŠ¤ë¥¼ ë§Œë“œëŠ” ê²½ìš°ê°€ í›¨ì”¬ ë‚˜ì€ ê²½ìš°ë„ ë§ë‹¤.</u>\n\n### 4. B-Tree ì¸ë±ìŠ¤ë¥¼ í†µí•œ ë°ì´í„° ì½ê¸°\n\nB-Tree ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ëŠ” ëŒ€í‘œì ì¸ ì„¸ ê°€ì§€ ë°©ì‹ì— ëŒ€í•´ ì•Œì•„ë³´ì.\n\n#### 4-1. ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”\n\nì¸ë±ìŠ¤ ì ‘ê·¼ ë°©ì‹ ì¤‘ ëŒ€í‘œì ì¸ ë°©ì‹ì´ë‹¤.<br>\në’¤ì— ë‚˜ì˜¬ ë‘ ê°€ì§€ ì ‘ê·¼ ë°©ì‹ (ì¸ë±ìŠ¤ í’€ ìŠ¤ìº”, ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”) ë³´ë‹¤ ë¹ ë¥¸ ë°©ì‹ì´ë‹¤.<br>\nì‹¤í–‰ ê³„íšì„ ë´¤ëŠ”ë° ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ì´ ë‚˜ì˜¨ë‹¤ë©´ ì˜ ì‚¬ìš©í•˜ê³  ìˆë‹¤ê³  ì´í•´í•˜ë©´ ëœë‹¤.\n\nì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ì€ <u>ê²€ìƒ‰í•´ì•¼ í•  ì¸ë±ìŠ¤ì˜ ë²”ìœ„ê°€ ê²°ì •ëì„ ë•Œ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ë‹¤.</u><br>\nê¸°ë³¸ì ìœ¼ë¡œ ê°’ì´ í¬ê¸° ìˆœìœ¼ë¡œ ì •ë ¬ë˜ì–´ ìˆëŠ” B-Treeì—ì„œ, ì°¾ê³ ì í•˜ëŠ” ê°’ì˜ ë²”ìœ„ë¥¼ ì§€ì •í•´ ìˆœì°¨ëŒ€ë¡œ ì¡°íšŒí•˜ëŠ” ë‹¨ìˆœí•œ ë°©ì‹ì´ë‹¤.\n\ní•˜ì§€ë§Œ ê°„ê³¼í•˜ê¸° ì‰¬ìš´ ë¶€ë¶„ì´ ìˆë‹¤.<br>\nì¸ë±ìŠ¤ì—ì„œëŠ” ë‹¨ìˆœí•˜ê³  ë¹ ë¥´ê²Œ ì¡°íšŒë¥¼ í•˜ë”ë¼ë„ ê° ì¸ë±ìŠ¤ ë ˆì½”ë“œë¥¼ í†µí•´ ì‹¤ì œ ë””ìŠ¤í¬ì— ì €ì¥ëœ ë ˆì½”ë“œì— ì ‘ê·¼í•˜ëŠ” ê²ƒì€ ëœë¤ ë””ìŠ¤í¬ I/O ì‘ì—…ì´ë¼ëŠ” ê²ƒì´ë‹¤.<br>\nê·¸ë˜ì„œ ì˜µí‹°ë§ˆì´ì €ê°€ ì ì ˆíˆ íŒë‹¨í•´ì„œ ì„ íƒí•˜ê²Œ ëœë‹¤.\n\n```sql\nmysql> SHOW STATUS LIKE 'Handler_%';\n```\nìœ„ ì¿¼ë¦¬ë¥¼ í†µí•´ ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ì´ ì–¼ë§Œí¼ ìˆ˜í–‰ëëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.<br>\nìì„¸í•œ ë‚´ìš©ì€ [ë§í¬](https://www.manty.co.kr/bbs/detail/develop?id=100) ì°¸ê³ \n\n#### 4-2. ì¸ë±ìŠ¤ í’€ ìŠ¤ìº”\n\nì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ <u>ì¸ë±ìŠ¤ì˜ ì²˜ìŒë¶€í„° ëê¹Œì§€ ëª¨ë‘ ì½ëŠ” ë°©ì‹ì´ë‹¤.</u><br>\nëŒ€í‘œì ìœ¼ë¡œ <u><ì¿¼ë¦¬ì˜ ì¡°ê±´ì ˆì— ì‚¬ìš©ëœ ì¹¼ëŸ¼ì´ ì¸ë±ìŠ¤ì˜ ì²« ë²ˆì§¸ ì¹¼ëŸ¼ì´ ì•„ë‹Œ ê²½ìš° ì‚¬ìš©</u>ëœë‹¤.<br>\nì˜ˆë¥¼ ë“¤ì–´ ì¸ë±ìŠ¤ëŠ” `(A, B, C)` ì¹¼ëŸ¼ ìˆœìœ¼ë¡œ ë§Œë“¤ì–´ì ¸ìˆì§€ë§Œ `WHERE` ì ˆì—ì„œ `B` ì¹¼ëŸ¼ì´ë‚˜ `C` ì¹¼ëŸ¼ìœ¼ë¡œ ê²€ìƒ‰í•˜ëŠ” ê²½ìš°ë‹¤.\n\n\"ì´ëŸ´ë°”ì—” í…Œì´ë¸” í’€ ìŠ¤ìº”ì´ ë‚«ì§€ ì•Šë‚˜ìš”?\" í•  ìˆ˜ ìˆì§€ë§Œ ì¼ë°˜ì ìœ¼ë¡œ ì¸ë±ìŠ¤ì˜ í¬ê¸°ëŠ” í…Œì´ë¸” í¬ê¸°ë³´ë‹¤ ì‘ìœ¼ë¯€ë¡œ ìƒëŒ€ì ìœ¼ë¡œ íš¨ìœ¨ì ì´ë‹¤.<br>\në‹¤ë§Œ <u>ì¿¼ë¦¬ê°€ ì¸ë±ìŠ¤ì— ëª…ì‹œëœ ì¹¼ëŸ¼ë§Œìœ¼ë¡œ ì¡°ê±´ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ê²½ìš° ì‚¬ìš©ëœë‹¤.</u> (ì»¤ë²„ë§ ì¸ë±ìŠ¤)\n\nê·¸ë‹¤ì§€ íš¨ìœ¨ì ì¸ ë°©ì‹ì€ ì•„ë‹ˆë©°, <u>ì¼ë°˜ì ìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ ì˜ í™œìš©í•˜ì§€ ëª»í•˜ëŠ” ê²½ìš°ë‹¤.</u>\n\n#### 4-3. ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”\n\në£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ì€ ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ê³¼ ë¹„ìŠ·í•˜ê²Œ ì‘ë™í•œë‹¤. í•˜ì§€ë§Œ ì¤‘ê°„ì— í•„ìš”ì—†ëŠ” ì¸ë±ìŠ¤ëŠ” ë¬´ì‹œí•˜ê³  ë‹¤ìŒìœ¼ë¡œ ë„˜ì–´ê°€ëŠ” í˜•íƒœë¥¼ ì·¨í•œë‹¤.<br>\nì¼ë°˜ì ìœ¼ë¡œ <u>`GROUP BY` ë˜ëŠ” ì§‘ê³„ í•¨ìˆ˜ ì¤‘, `MAX()` ë˜ëŠ” `MIN()` í•¨ìˆ˜ì— ëŒ€í•´ ìµœì í™”í•˜ëŠ” ê²½ìš° ì‚¬ìš©ëœë‹¤.</u><br>\ní•´ë‹¹ ë°©ì‹ì„ ì‚¬ìš©í•˜ë ¤ë©´ ì—¬ëŸ¬ ì¡°ê±´ì„ ë§Œì¡±í•´ì•¼ í•˜ëŠ”ë°, ì´ëŠ” 10ì¥ ì‹¤í–‰ ê³„íšì—ì„œ ìì„¸íˆ ì•Œì•„ë³´ì.\n\n#### 4-5. ì¸ë±ìŠ¤ ìŠ¤í‚µ ìŠ¤ìº”\n\ní•´ë‹¹ ë°©ì‹ì€ ì¸ë±ìŠ¤ í’€ ìŠ¤ìº” ë°©ì‹ì„ ê°œì„ í•˜ê¸° ìœ„í•´ ë“±ì¥í–ˆë‹¤.<br>\në§Œì•½ ì¸ë±ìŠ¤ê°€ `(A, B)` ìˆœìœ¼ë¡œ ìƒì„±ë˜ì—ˆì§€ë§Œ ì¡°ê±´ì ˆì— `(B)`ë¥¼ í†µí•´ ì¡°íšŒí•˜ëŠ” ê²½ìš°, ìš°ì„  Aì—ì„œ <u>ìœ ë‹ˆí¬í•œ ê°’ë“¤ì„ ëª¨ë‘ ì¡°íšŒí•´ì„œ ì£¼ì–´ì§„ ì¡°ê±´ì— ì¡°íšŒí•œ ì¹¼ëŸ¼ì„ ì¶”ê°€í•´ì„œ ì¿¼ë¦¬ë¥¼ ë‹¤ì‹œ ì‹¤í–‰í•˜ëŠ” í˜•íƒœë¡œ ë™ì‘í•œë‹¤.</u><br>\n\n![ì¸ë±ìŠ¤ ìŠ¤í‚µ ìŠ¤ìº” ë™ì‘ ë°©ì‹](index-skip-scan.png)\n\ní•˜ì§€ë§Œ ì¡°íšŒ ë¹„ìš©ê³¼ ê´€ë ¨í•´ ë‹¤ìŒê³¼ ê°™ì€ ì „ì œ ì¡°ê±´ì´ í•„ìš”í•˜ë‹¤.\n- WHERE ì ˆì— ì¡°ê±´ì´ ì—†ëŠ” ì¸ë±ìŠ¤ì˜ ì„ í–‰ ì¹¼ëŸ¼ì˜ ìœ ë‹ˆí¬í•œ ê°’ì˜ ê°œìˆ˜ê°€ ì ì–´ì•¼ í•œë‹¤.\n- ì¿¼ë¦¬ê°€ ì¸ë±ìŠ¤ì— ì¡´ì¬í•˜ëŠ” ì¹¼ëŸ¼ë§Œìœ¼ë¡œ ì²˜ë¦¬ ê°€ëŠ¥í•˜ë‹¤. (ì»¤ë²„ë§ ì¸ë±ìŠ¤)\n\n### 5. B-Tree ì¸ë±ìŠ¤ì˜ ì •ë ¬ ë° ìŠ¤ìº” ë°©í–¥\n\nì¸ë±ìŠ¤ì˜ í‚¤ ê°’ì„ ì •ë ¬í•˜ê³  ìŠ¤ìº”í•˜ëŠ” ë°©í–¥ì— ëŒ€í•œ ë‚´ìš©ì´ë‹¤.<br>\nì •ë ¬ì€ ë‚´ë¦¼ì°¨ìˆœ, ì˜¤ë¦„ì°¨ìˆœ ëª¨ë‘ ê°€ëŠ¥í•˜ë©° ìŠ¤ìº” ë˜í•œ ì •ìˆœê³¼ ì—­ìˆœ ëª¨ë‘ ê°€ëŠ¥í•˜ë‹¤.<br>\n\nê° ì¿¼ë¦¬ì— ë”°ë¼ ë‚´ë¦¼ì°¨ìˆœì´ëƒ ì˜¤ë¦„ì°¨ìˆœì´ëƒê°€ ì„±ëŠ¥ì— ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆë‹¤.<br>\n\nì¤‘ìš”í•œ ì ì€ <u>ì¸ë±ìŠ¤ ì—­ìˆœ ìŠ¤ìº”ì´ ì¸ë±ìŠ¤ ì •ìˆœ ìŠ¤ìº”ì— ë¹„í•´ ëŠë¦¬ë‹¤ëŠ” ê²ƒì´ë‹¤.</u>\n\n### 6. B-Tree ì¸ë±ìŠ¤ì˜ ê°€ìš©ì„±ê³¼ íš¨ìœ¨ì„±\n\nì¿¼ë¦¬ì˜ `WHERE` ì ˆì´ë‚˜ `GROUP BY` ë˜ëŠ” `ORDER BY` ì ˆì´ ì–´ë–¤ ê²½ìš°ì— ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©° ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ì¡°íšŒí•˜ëŠ”ì§€ ì‹ë³„í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.<br>\nì´ë²ˆì—ëŠ” ì´ì— ëŒ€í•´ ì•Œì•„ë³´ì.\n\n#### 6-1. ë¹„êµ ì¡°ê±´ì˜ ì¢…ë¥˜ì™€ íš¨ìœ¨ì„±\n\në‹¤ì¤‘ ì¹¼ëŸ¼ ì¸ë±ìŠ¤ì—ì„œ ê° <u>ì¹¼ëŸ¼ì˜ ìˆœì„œì™€ ê·¸ ì¹¼ëŸ¼ì— ì ìš©ëœ ì¡°ê±´ì´ ë™ë“± ë¹„êµì¸ì§€ ì•„ë‹ˆë©´ ëŒ€ì†Œ ë¹„êµ ê°™ì€ ë²”ìœ„ ì¡°ê±´ì¸ì§€ì— ë”°ë¼ ì¸ë±ìŠ¤ í™œìš© í˜•íƒœê°€ ë‹¬ë¼ì§„ë‹¤.</u>\n\n![](example-1.png)\n\nì—¬ê¸°ì„œ ëˆˆì—¬ê²¨ ë³¼ ê²ƒì€ dept_noëŠ” `=` ê²€ìƒ‰ì´ê³  emp_noëŠ” `>=` ë¹„êµì´ë‹¤.<br>\nì´ë•Œ ì¸ë±ìŠ¤ ì¹¼ëŸ¼ì˜ ìˆœì„œê°€ `(dept_no, emp_no)` ì´ëƒ `(emp_no, dept_no)`ì— ë”°ë¼ ì¸ë±ìŠ¤ë¥¼ ì¡°íšŒí•˜ëŠ” ë°©ì‹ì´ ë‹¬ë¼ì§„ë‹¤.\n\në²”ìœ„ ì¡°ê±´ ë¹„êµ (`>=`) ë³´ë‹¤ ë™ë“± ì¡°ê±´ ë¹„êµ (`=`)ê°€ ê°’ì„ ì¡°íšŒí•˜ê¸°ì—” ë” ìµœì í™”ëœ ì¡°ê±´ì´ë¯€ë¡œ, dept_no ì¹¼ëŸ¼ì´ ì„ í–‰ëœ ì¸ë±ìŠ¤ì˜ ê²½ìš° ë” íš¨ìœ¨ì ìœ¼ë¡œ ì¡°íšŒí•  ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤.\n\n#### 6-2. ì¸ë±ìŠ¤ì˜ ê°€ìš©ì„±\n\në§Œì•½ ì¸ë±ìŠ¤ ì¹¼ëŸ¼ì˜ ìˆœì„œê°€ `(dept_no, emp_no)`ì¸ ì¸ë±ìŠ¤ì— `WHERE` ì ˆì— `emp_no`ë§Œ ìˆëŠ” ì¿¼ë¦¬ë¥¼ ë‚ ë¦°ë‹¤ë©´, ì¸ë±ìŠ¤ ì¹¼ëŸ¼ì˜ ì„ í–‰ ì¡°ê±´ì¸ `dept_no`ë¥¼ ì´ìš©í•˜ì§€ ëª»í•˜ë¯€ë¡œ ì¸ë±ìŠ¤ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.\n\n#### 6-3. ê°€ìš©ì„±ê³¼ íš¨ìœ¨ì„± íŒë‹¨\n\nB-Tree ì¸ë±ìŠ¤ëŠ” íŠ¹ì„±ìƒ ë‹¤ìŒ ì¡°ê±´ì—ì„œëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. (í•„í„°ë§ ì‘ì—…ì„ í†µí•´ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ëŠ” ìˆë‹¤.)\n\n- Not Equalë¡œ ë¹„êµëœ ê²½ìš°\n- `LIKE '%??'` ì²˜ëŸ¼ <u>ì•ë¶€ë¶„ì´ ì˜ë¦° í˜•íƒœë¡œ ê²€ìƒ‰í•˜ëŠ” ê²½ìš°</u>\n- ìŠ¤í† ì–´ë“œ í•¨ìˆ˜ë‚˜ ë‹¤ë¥¸ ì—°ì‚°ìë¡œ ì¸ë±ìŠ¤ ì¹¼ëŸ¼ì´ ë³€í˜•ëœ ê²½ìš°\n- NOT-DETERMINISTIC ì†ì„±ì˜ ìŠ¤í† ì–´ë“œ í•¨ìˆ˜ê°€ ë¹„êµ ì¡°ê±´ì— ì‚¬ìš©ëœ ê²½ìš°\n- ë°ì´í„° íƒ€ì…ì´ ì„œë¡œ ë‹¤ë¥¸ ë¹„êµë¥¼ í•˜ëŠ” ê²½ìš° (ì¸ë±ìŠ¤ ì¹¼ëŸ¼ì˜ íƒ€ì…ì„ ë³€í™˜í•´ì•¼ í•˜ë¯€ë¡œ X)\n- ë¬¸ìì—´ ë°ì´í„° íƒ€ì…ì˜ ì½œë ˆì´ì…˜ì´ ë‹¤ë¥¸ ê²½ìš°"},{"excerpt":"ë“¤ì–´ê°€ë©° ì´ ê¸€ì€ ê·¸ë¦¼ìœ¼ë¡œ ë°°ìš°ëŠ” Http & Network Basicì„ ì½ê³  í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤. ì´ë²ˆ ì¥ì—ì„œëŠ” HTTP Status Codeì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. HTTP Status Codeë€? í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ì²˜ë¦¬í•œ ì„œë²„ê°€ ì‘ë‹µì„ ë‚´ë ¤ì¤„ ë•Œ, ì œëŒ€ë¡œ ì²˜ë¦¬ ëëŠ”ì§€? í˜¹ì€ ì²˜ë¦¬í•˜ëŠ” ê³¼ì •ì—ì„œ ì´ìƒì´ ì—†ëŠ”ì§€ì™€ ê°™ì€ ì •ë³´ë¥¼ í•¨ê»˜ ì‘ë‹µí•©ë‹ˆë‹¤.â€¦","fields":{"slug":"/04-http-status-code/"},"frontmatter":{"date":"January 31, 2024","title":"4ì¥. ê²°ê³¼ë¥¼ ì „ë‹¬í•˜ëŠ” HTTP ìƒíƒœ ì½”ë“œ","tags":["Network"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©° \n\nì´ ê¸€ì€ [ê·¸ë¦¼ìœ¼ë¡œ ë°°ìš°ëŠ” Http & Network Basic](https://m.yes24.com/Goods/Detail/15894097)ì„ ì½ê³  í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.\n\nì´ë²ˆ ì¥ì—ì„œëŠ” HTTP Status Codeì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.\n\n## HTTP Status Codeë€?\n\ní´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ì²˜ë¦¬í•œ ì„œë²„ê°€ ì‘ë‹µì„ ë‚´ë ¤ì¤„ ë•Œ, ì œëŒ€ë¡œ ì²˜ë¦¬ ëëŠ”ì§€? í˜¹ì€ ì²˜ë¦¬í•˜ëŠ” ê³¼ì •ì—ì„œ ì´ìƒì´ ì—†ëŠ”ì§€ì™€ ê°™ì€ ì •ë³´ë¥¼ í•¨ê»˜ ì‘ë‹µí•©ë‹ˆë‹¤.\n\nì´ë•Œ ì‚¬ìš©í•˜ê²Œ ë˜ëŠ” ì •ë³´ê°€ Status Codeì…ë‹ˆë‹¤.\n\nStatus CodeëŠ” `200 OK` ì²˜ëŸ¼ ìƒíƒœì— ëŒ€í•œ ì½”ë“œ ë²ˆí˜¸(`200`)ì™€, ê° ì½”ë“œì— ì•½ì†ëœ ë©”ì‹œì§€(`OK`)ê°€ ìˆìŠµë‹ˆë‹¤.\n\ní´ë¼ì´ì–¸íŠ¸ëŠ” ì„œë²„ë¡œë¶€í„° ë°›ì€ Status Codeë¥¼ í†µí•´ ì•½ì†ëœ ë™ì‘ì„ ì·¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>\nì˜ˆë¥¼ ë“¤ì–´ `401 Unauthorized` ê°€ ì‘ë‹µìœ¼ë¡œ ë‚´ë ¤ì¡Œë‹¤ë©´, ì¸ì¦ì— ì‹¤íŒ¨í–ˆë‹¤ëŠ” ëœ»ìœ¼ë¡œ ë¡œê·¸ì¸ í™”ë©´ìœ¼ë¡œ ì´ë™ì‹œí‚¤ê±°ë‚˜,<br>\n`404 Not Found`ê°€ ì‘ë‹µìœ¼ë¡œ ë‚´ë ¤ì¡Œë‹¤ë©´, ì•„ë˜ ê·¸ë¦¼ì²˜ëŸ¼ `ì°¾ì„ ìˆ˜ ì—†ëŠ” í˜ì´ì§€`ë¼ëŠ” í™”ë©´ì„ ë„ì–´ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n![êµ¬ê¸€ì˜ 404 Error Page](google_not_found_image.png)\n\nì•„ë˜ëŠ” ì‹¤ì œ [HTTP Status Code - MDN](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status#client_error_responses)ì— ìš”ì²­í•œ ê²°ê³¼ë¥¼ ë‚˜íƒ€ë‚¸ ìŠ¤í¬ë¦°ìƒ·ì…ë‹ˆë‹¤. \n\n![ìƒíƒœ ì½”ë“œ ì˜ˆì‹œ ì‚¬ì§„](example_of_status_code.png)\n\n## ì¢…ë¥˜\n\nHTTP Status CodeëŠ” `100` ë¶€í„° `599` ê¹Œì§€ ì¡´ì¬í•©ë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ ëª¨ë“  ì½”ë“œê°€ ìì£¼ ì‚¬ìš©ë˜ëŠ” ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤.<br>\nê°œë°œì„ í•˜ë‹¤ë³´ë©´ ìì£¼ ì‚¬ìš©í•˜ê²Œ ë˜ëŠ” ì½”ë“œê°€ ì •í•´ì ¸ìˆëŠ”ë°ìš”. ì´ëŸ° ì½”ë“œë“¤ ìœ„ì£¼ë¡œ ì •ë¦¬í•˜ê² ìŠµë‹ˆë‹¤.\n\n### 200ë²ˆ ëŒ€\n\n200ë²ˆ ëŒ€ëŠ” ìš”ì²­ì´ ì„±ê³µì ìœ¼ë¡œ ì´ë£¨ì–´ì¡Œì„ ë•Œë¥¼ ê¸°ë°˜í•©ë‹ˆë‹¤.<br>\n\n- 200 OK\n  - ìš”ì²­ì´ ì„±ê³µì ìœ¼ë¡œ ì²˜ë¦¬ëë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.\n- 201 Created\n  - ì„œë²„ì— ë¦¬ì†ŒìŠ¤ë¥¼ ë“±ë¡í•˜ê³  ê²°ê³¼ê°€ ì„±ê³µì ì¼ ë•Œ ë°˜í™˜í•©ë‹ˆë‹¤.\n  - ì£¼ë¡œ `Location` í—¤ë”ì— ë§Œë“¤ì–´ì§„ ë¦¬ì†ŒìŠ¤ì˜ URLì„ í•¨ê»˜ ë°˜í™˜í•©ë‹ˆë‹¤.\n- 204 No Content\n  - ì²˜ë¦¬ëŠ” ë˜ì—ˆì§€ë§Œ ì´ í›„ì— ë‚˜íƒ€ë‚´ê±°ë‚˜ ë³´ì—¬ì¤„ ë¦¬ì†ŒìŠ¤ê°€ ì—†ì„ ë•Œ ë°˜í™˜í•©ë‹ˆë‹¤.  \n  - ì£¼ë¡œ `DELETE` ë°©ì‹ìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚­ì œ í›„ì— ì„±ê³µì ìœ¼ë¡œ ì²˜ë¦¬ê°€ ëì„ ë•Œ ë°˜í™˜í•©ë‹ˆë‹¤.\n\n### 300ë²ˆ ëŒ€\n\n300ë²ˆ ëŒ€ëŠ” Redirectionê³¼ ê´€ë ¨ ìˆìŠµë‹ˆë‹¤.\n\n- 302 Found\n  - ë¸Œë¼ìš°ì €ê°€ ì§€ì •ëœ `Location` í—¤ë”ì— ìˆëŠ” URLì— ìƒˆë¡œìš´ ìš”ì²­ì„ ë³´ë‚´ë„ë¡ ìœ ë„í•©ë‹ˆë‹¤.\n\n### 400ë²ˆ ëŒ€\n\n400ë²ˆ ëŒ€ëŠ” Client Errorì™€ ê´€ë ¨ ìˆìŠµë‹ˆë‹¤.\n\n- 400 Bad Request\n  - ì„œë²„ê°€ ì²˜ë¦¬í•  ìˆ˜ ì—†ëŠ” ìš”ì²­ì„ ë³´ë‚¸ ê²½ìš° ë°˜í™˜í•©ë‹ˆë‹¤.\n  - URLì€ ìœ íš¨í•˜ë‚˜ Http Requestì— í¬í•¨ëœ ê°’ë“¤ ì¤‘ ì„œë²„ê°€ ì²˜ë¦¬í•˜ì§€ ëª»í•˜ëŠ” ê°’ì´ í¬í•¨ë  ê°€ëŠ¥ì„±ì´ ì¡´ì¬í•©ë‹ˆë‹¤.\n- 401 Unauthorized\n  - ì¸ì¦ì´ í•„ìš”í•˜ì§€ë§Œ ìš”ì²­ì— ì¸ì¦ ì •ë³´ê°€ í¬í•¨ë˜ì§€ ì•Šì€ ê²½ìš° ë°˜í™˜í•©ë‹ˆë‹¤.\n- 403 Forbidden\n  - ì¸ì¦ì€ ë˜ì—ˆì§€ë§Œ ì¸ê°€ì— ì‹¤íŒ¨í•œ ê²½ìš° ë°˜í™˜í•©ë‹ˆë‹¤.\n- 404 Not Found\n  - ì„œë²„ì— ìš”ì²­ëœ ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ëŠ” ê²½ìš° ë°˜í™˜í•©ë‹ˆë‹¤.\n  - URL ìì²´ê°€ ì˜ëª»ëœ ê²½ìš°ì— ì†í•©ë‹ˆë‹¤.\n- 405 Method Not Allowed\n  - URLì€ ìœ íš¨í•˜ë‚˜ ì²˜ë¦¬í•˜ì§€ ì•ŠëŠ” Http Method ë°©ì‹ì¸ ê²½ìš° ë°˜í™˜í•©ë‹ˆë‹¤.\n\n### 500ë²ˆ ëŒ€\n\n500ë²ˆ ëŒ€ëŠ” Server Errorì™€ ê´€ë ¨ ìˆìŠµë‹ˆë‹¤.\n\n- 500 Internal Server Error\n  - ì„œë²„ì—ì„œ ì²˜ë¦¬ë˜ì§€ ì•ŠëŠ” ì—ëŸ¬ê°€ ë°œìƒí•œ ê²½ìš° ë°˜í™˜í•©ë‹ˆë‹¤.\n- 502 Bad Gateway\n  - í”„ë¡ì‹œ ì„œë²„ë‚˜ ê²Œì´íŠ¸ì›¨ì´ê°€ ìƒìœ„ ìŠ¤íŠ¸ë¦¼ ì„œë²„ë¡œë¶€í„° ì˜ëª»ëœ ì‘ë‹µì„ ìˆ˜ì‹ í–ˆì„ ë•Œ ë°˜í™˜í•©ë‹ˆë‹¤.\n  - í”„ë¡ì‹œ ì„œë²„ë‚˜ ê²Œì´íŠ¸ì›¨ì´ì— ë¬¸ì œê°€ ìˆê±°ë‚˜ ë‘ ì›¹ ì„œë²„ ê°„ì˜ í†µì‹ ì´ ì‹¤íŒ¨í–ˆì„ ë•Œ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n  - ì‚¬ìš©ìì˜ ìš”ì²­ì´ Nginxê¹Œì§€ëŠ” ê°”ì§€ë§Œ Nginxì™€ Spring Applicationì˜ í†µì‹ ì—ì„œ ë¬¸ì œê°€ ë°œìƒí•œ ê²½ìš°ì…ë‹ˆë‹¤.\n- 504 Gateway Timeout\n  - í”„ë¡ì‹œ ì„œë²„ë‚˜ ê²Œì´íŠ¸ì›¨ì´ê°€ ì‚¬ìš©ì ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ì›¹ ì„œë²„ë¡œë¶€í„° ì§€ì •ëœ ì‹œê°„ ë‚´ì— ì‘ë‹µì„ ë°›ì§€ ëª»í•œ ê²½ìš° ë°˜í™˜í•©ë‹ˆë‹¤.\n  - Nginxê°€ Springì— ìš”ì²­ì„ ë³´ëƒˆì§€ë§Œ ì§€ì •ëœ ì‹œê°„ ë‚´ì— ìš”ì²­ì´ ì˜¤ì§€ ëª»í•œ ê²½ìš°ì…ë‹ˆë‹¤.\n\n### Reference\n> - [ê·¸ë¦¼ìœ¼ë¡œ ë°°ìš°ëŠ” Http & Network Basic](https://m.yes24.com/Goods/Detail/15894097)"},{"excerpt":"ë“¤ì–´ê°€ë©° Github Repositoryì— Issue Templateê³¼ PR Templateì„ ì ìš©í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì‘ì„±í•œ ê¸€ì…ë‹ˆë‹¤. Issue Template Issue Templateì˜ ê²½ìš° Github Repositoryì— ìˆëŠ” Settingsë¥¼ í†µí•´ ì‰½ê²Œ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  ìœ„ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì•„ë˜ì™€ ê°™ì€ í˜ì´ì§€ê°€ ëœ¹ë‹ˆë‹¤.  ê°€ìš´ë° ë²„íŠ¼ì„ ëˆŒëŸ¬ â€¦","fields":{"slug":"/apply-issue-and-pr-template/"},"frontmatter":{"date":"January 23, 2024","title":"[github] Github Repositoryì— Issue, PR Template ì ìš©í•˜ê¸°","tags":["git","github","Issue Template","PR Template"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©°\n\nGithub Repositoryì— Issue Templateê³¼ PR Templateì„ ì ìš©í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì‘ì„±í•œ ê¸€ì…ë‹ˆë‹¤.\n\n## Issue Template\n\nIssue Templateì˜ ê²½ìš° Github Repositoryì— ìˆëŠ” Settingsë¥¼ í†µí•´ ì‰½ê²Œ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n![Github Repositoryì— Settings íƒ­ì„ í†µí•´ Template ìƒì„±í•˜ê¸°](set_up_templates.png)\n\nìœ„ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì•„ë˜ì™€ ê°™ì€ í˜ì´ì§€ê°€ ëœ¹ë‹ˆë‹¤.\n\n![](create_issue_template_init_page.png)\n\nê°€ìš´ë° ë²„íŠ¼ì„ ëˆŒëŸ¬ Bug Report, Featureì— ëŒ€í•œ Templateì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n![Template ì¢…ë¥˜](select_box.png)\n\nì´ë²ˆ ê¸€ì—ì„œëŠ” ì œ ì·¨í–¥ì„ ë‹´ì•„ `Custom template`ì„ ì„ íƒí•˜ì—¬ Bugì™€ Feature êµ¬ë¶„ì—†ì´ ì‘ì„±í•  ìˆ˜ ìˆëŠ” **ê³µí†µ Template**ì„ ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤.\n\nìœ„ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì•„ë˜ì²˜ëŸ¼ ìƒˆë¡œìš´ Templateì´ ìƒì„±ë©ë‹ˆë‹¤.\n\n![ì´ˆê¸° ìƒì„±ëœ Issue Template](create_new_issue_template.png)\n\n`Preview and edit` ë²„íŠ¼ì„ ëˆŒëŸ¬ ìƒì„¸ ë‚´ìš©ì„ ì ìŠµë‹ˆë‹¤.<br>\nì €ëŠ” ì•„ë˜ì™€ ê°™ì´ ì ì—ˆìŠµë‹ˆë‹¤.\n\n![](result_issue_template.png)\n\n> ë§Œì•½ Issueë¥¼ ìƒì„±í•  ë•Œ ìë™ìœ¼ë¡œ ì œëª©ì— PREFIXë¥¼ ì¶”ê°€í•˜ê³  ì‹¶ë‹¤ë©´ `Issue default title`ì— ê°’ì„ ê¸°ì…í•˜ë©´ ë©ë‹ˆë‹¤.\n> \n> Assigneesë„ Issue Templateì— ë”°ë¼ ìë™ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>\n> Lables ë˜í•œ ë§ˆì°¬ê°€ì§€ì…ë‹ˆë‹¤.\n\nì…ë§›ëŒ€ë¡œ ì‘ì„±ì´ ì™„ë£Œëë‹¤ë©´ ìš°ì¸¡ ìƒë‹¨ì— `Propose changes` ë²„íŠ¼ì„ ëˆŒëŸ¬ Commit í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ í•´ë‹¹ ë¸Œëœì¹˜ì— `.github/ISSUE_TEMPLATE` ë””ë ‰í„°ë¦¬ê°€ ìƒì„±ë˜ê³  ê·¸ ì•ˆì—ëŠ” ì‘ì„±í•œ ë‚´ìš©ì— ë”°ë¼ ìƒì„±ëœ md íŒŒì¼ì´ ì¡´ì¬í•©ë‹ˆë‹¤.\n\n![](result_of_creation.png)\n\nê·¸ë¦¬ê³  ì´ì œ Issue íƒ­ì—ì„œ ìƒˆë¡œìš´ Issueë¥¼ ìƒì„±í•  ë•Œ ë§Œë“¤ì–´ë†“ì€ Templateì„ ë§˜ê» í™œìš©í•˜ë©´ ë©ë‹ˆë‹¤.\n\n> ì¶”í›„ ìˆ˜ì •ì´ í•„ìš”í•˜ë‹¤ë©´ md íŒŒì¼ ìì²´ë¥¼ ìˆ˜ì •í•˜ê±°ë‚˜ Settingsë¥¼ í†µí•´ ì ‘ê·¼í•´ì„œ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## PR Template\n\nPR Templateì€ Issue Templateì²˜ëŸ¼ Github Repositoryì˜ Settings íƒ­ì—ì„œ ìƒì„±í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì€ ì—†ìŠµë‹ˆë‹¤.\n\në”°ë¼ì„œ ì§ì ‘ md íŒŒì¼ì„ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.\n\nì•„ë˜ ì‚¬ì§„ì²˜ëŸ¼ Issue Templateì„ ë§Œë“¤ì–´ì„œ ìƒì„±ëœ `.github` ë””ë ‰í„°ë¦¬ë¡œ ì´ë™í•©ë‹ˆë‹¤.<br>\nê·¸ë¦¬ê³  ìš°ì¸¡ ìƒë‹¨ì— `Add file` - `Create new file` ë²„íŠ¼ì„ ëˆ„ë¦…ë‹ˆë‹¤.\n\n![](github_directory.png)\n\nê·¸ë¦¬ê³  ì•„ë˜ì™€ ê°™ì´ PR Templateì„ ì‘ì„±í•´ì¤ë‹ˆë‹¤.\n\níŒŒì¼ ì œëª©ì€ `pull_request_template.md`ë¡œ í•´ì£¼ì„¸ìš”.\n\n> ë¬¼ë¡  Template ë³¸ë¬¸ì€ ë³¸ì¸ ì·¨í–¥ì— ë§ê²Œ ì‘ì„±í•´ì£¼ì„¸ìš”. ğŸ™\n\n![](creation_pr_template.png)\n\nê·¸ë¦¬ê³  ìš°ì¸¡ ìƒë‹¨ì— `Commit changes...`ë¥¼ ëˆŒëŸ¬ ì‘ì—… ë‚´ìš©ì„ Commit í•©ë‹ˆë‹¤.\n\nì´ì œ PRì„ ìƒì„±í•  ë•Œ ìë™ìœ¼ë¡œ Templateì´ ì‘ì„± ë˜ì–´ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."},{"excerpt":"ë“¤ì–´ê°€ë©° ì´ ê¸€ì€ ê·¸ë¦¼ìœ¼ë¡œ ë°°ìš°ëŠ” Http & Network Basicì„ ì½ê³  í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤. ì´ë²ˆ ê¸€ì—ì„œëŠ” Http Requestì™€ Http Responseê°€ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ì— ëŒ€í•´ ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤. HTTP ë©”ì‹œì§€ HTTP í”„ë¡œí† ì½œì€ ì—¬ëŸ¬ ê°œì˜ í–‰ìœ¼ë¡œ ì´ë£¨ì–´ì§„ ë¬¸ìì—´ì…ë‹ˆë‹¤. ì´ë¥¼ HTTP ë©”ì‹œì§€ ë¼ê³  í•©ë‹ˆë‹¤. HTTP ë©”ì‹œì§€ëŠ” ì •í•´ì§„ â€¦","fields":{"slug":"/03-http-detail/"},"frontmatter":{"date":"January 23, 2024","title":"3ì¥. HTTP ì •ë³´ëŠ” HTTP ë©”ì‹œì§€ì— ìˆë‹¤","tags":["Network"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©° \n\nì´ ê¸€ì€ [ê·¸ë¦¼ìœ¼ë¡œ ë°°ìš°ëŠ” Http & Network Basic](https://m.yes24.com/Goods/Detail/15894097)ì„ ì½ê³  í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.\n\nì´ë²ˆ ê¸€ì—ì„œëŠ” Http Requestì™€ Http Responseê°€ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ì— ëŒ€í•´ ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤.\n\n## HTTP ë©”ì‹œì§€\n\nHTTP í”„ë¡œí† ì½œì€ **ì—¬ëŸ¬ ê°œì˜ í–‰ìœ¼ë¡œ ì´ë£¨ì–´ì§„ ë¬¸ìì—´**ì…ë‹ˆë‹¤.\n\nì´ë¥¼ *HTTP ë©”ì‹œì§€* ë¼ê³  í•©ë‹ˆë‹¤.\n\nHTTP ë©”ì‹œì§€ëŠ” ì •í•´ì§„ êµ¬ì¡°ê°€ ìˆìŠµë‹ˆë‹¤.\n\n> ì°¸ê³ : [HTTP Requestì™€ Responseì˜ êµ¬ì¡°ì— ëŒ€í•´ ì •ë¦¬í•œ ê¸€](https://kdkdhoho.github.io/02-http-protocol/)\n\n## HTTP ì••ì¶•\n\nHTTP Requestë‚˜ Responseë¥¼ ë³´ë‚¼ ë•Œ HTTP ë©”ì‹œì§€ì˜ í¬ê¸°ê°€ í¬ë‹¤ë©´ **ì••ì¶•**í•´ì„œ ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì••ì¶•í•˜ëŠ” ë°©ì‹ì€ *ì½˜í…ì¸  ì½”ë”©*, *ì²­í¬ ì „ì†¡ ì½”ë”©* ìœ¼ë¡œ ë‚˜ë‰  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n### ì½˜í…ì¸  ì½”ë”©\n\nHTTP ë©”ì‹œì§€ ë³¸ë¬¸ì´ë‚˜ ì „ì†¡ë˜ëŠ” ë°ì´í„°ë¥¼ ì••ì¶•í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.\n\nì´ë¯¸ì§€ë‚˜ ì˜ìƒê°™ì€ Multipart íŒŒì¼ì´ë‚˜ Json í˜•ì‹ì˜ Stringì´ ì••ì¶•ë˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\n\n#### File í˜•ì‹ ì••ì¶• (Multipart íŒŒì¼ ì••ì¶•)\n\në‘ ê°€ì§€ ë°©ì‹ì´ ìˆìŠµë‹ˆë‹¤.\n\n- ë¬´ì†ì‹¤ ì••ì¶•\n  - ë°ì´í„°ë¥¼ ì••ì¶•í•˜ëŠ” ê³¼ì •ì—ì„œ ë°ì´í„°ì˜ ì†ì‹¤ì´ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n  - ì´ë¯¸ì§€ì—ì„œëŠ” `gif`, `png`ì˜ íŒŒì¼ í™•ì¥ìë¥¼ ê°€ì§„ íŒŒì¼ì´ ì‚¬ìš©í•©ë‹ˆë‹¤.\n  - `zip`ë„ ë¬´ì†ì‹¤ ì••ì¶•ì— í¬í•¨ë©ë‹ˆë‹¤.\n\n- ì†ì‹¤ ì••ì¶•\n  - ì‚¬ìš©ìê°€ ì•Œì•„ì±„ê¸° í˜ë“  ì •ë„ë¡œ ë°ì´í„°ë¥¼ ì¼ë¶€ ì†ì‹¤í•˜ë©´ì„œ ì••ì¶•í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.\n  - ì›¹ì—ì„œ ë¹„ë””ì˜¤ í˜•ì‹ì€ ëª¨ë‘ ì†ì‹¤ ì••ì¶•ì´ë©° ì´ë¯¸ì§€ì˜ ê²½ìš° `jpeg`ê°€ ì ìš©ë©ë‹ˆë‹¤.\n\n`webp`ëŠ” ë¬´ì†ì‹¤ í˜¹ì€ ì†ì‹¤ ëª¨ë‘ ì ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n#### ì¢…ë‹¨ê°„ ì••ì¶• (Json í˜•ì‹ì˜ String ì••ì¶•)\n\nì„œë²„ì—ì„œ Http Responseë¥¼ ì••ì¶•í•˜ê³  í´ë¼ì´ì–¸íŠ¸ê°€ ìˆ˜ì‹ í•œ Http Responseë¥¼ ì••ì¶• í•´ì œí•˜ëŠ” ë°©ì‹ì„ _ì¢…ë‹¨ê°„ ì••ì¶•_ ë°©ì‹ì´ë¼ê³  í•©ë‹ˆë‹¤.\n\ní”íˆ ì‚¬ìš©ë˜ëŠ” ì••ì¶• ì•Œê³ ë¦¬ì¦˜ì€ `gzip` ì´ ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  `br` ë„ ìˆìŠµë‹ˆë‹¤. \n\në¸Œë¼ìš°ì €ëŠ” ë¸Œë¼ìš°ì €ê°€ ì§€ì›í•˜ëŠ” ì••ì¶• ì•Œê³ ë¦¬ì¦˜(gzip, br)ì„ `Accept-Encoding` í—¤ë”ì— ì •ë³´ë¥¼ ë‹´ì•„ì„œ ë³´ëƒ…ë‹ˆë‹¤.<br>\nì´ë¥¼ í™œìš©í•´ ì„œë²„ëŠ” ì ì ˆí•œ ì••ì¶• ì•Œê³ ë¦¬ì¦˜ ë°©ì‹ìœ¼ë¡œ Http Responseë¥¼ ì••ì¶•í•˜ì—¬ ì‘ë‹µí•©ë‹ˆë‹¤.<br>\nì´ë•Œ, ì„ íƒí•œ ì•Œê³ ë¦¬ì¦˜ì€ `Content-Encoding` í—¤ë”ë¥¼ í†µí•´ ì•Œë ¤ì¤ë‹ˆë‹¤. ê·¸ë¦¬ê³  ìºì‹±ê³¼ ê´€ë ¨ëœ í—¤ë”ì¸ `Vary` í—¤ë”ì— `Accept-Encoding` ê°’ì„ ì¶”ê°€í•´ ìƒˆë¡œìš´ ìºì‹œ ì •ì±…ì„ ì ìš©í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤. \n\n![ì¢…ë‹¨ê°„ ì••ì¶•](http_compress.png)\n\nìŠ¤í”„ë§ì—ì„œ `gzip` ë°©ì‹ ì••ì¶•ì„ ì ìš©í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•˜ë©´ ë©ë‹ˆë‹¤.\n\n```yaml\nserver:\n  compression:\n    enabled: true\n    min-response-size: ì••ì¶• ê¸°ì¤€ í¬ê¸° (default: 2048 (byte))\n    mime-types: ì••ì¶•ì„ ì§€ì›í•˜ëŠ” Content type (default: text/html, text/xml, text/plain, text/css, text/javascript, application/javascript, application/json, application/xml)\n    \n```\n\n> ì°¸ê³ : [HTTP Response Compression - Spring Boot Reference](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.webserver.enable-response-compression)\n\n### ì²­í¬ ì „ì†¡ ì½”ë”©\n\në°ì´í„°ë¥¼ **ì—¬ëŸ¬ ì²­í¬ë¡œ ë¶„í• í•´ ì „ì†¡í•˜ëŠ” ë°©ì‹**ì˜ ì•Œê³ ë¦¬ì¦˜ì…ë‹ˆë‹¤.\n\nì´ë¥¼ í†µí•´ ì „ì²´ ì½˜í…ì¸ ê°€ ì¤€ë¹„ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ì¼ë¶€ë¶„ì„ ë¨¼ì € ì†¡ì‹  ë° ìˆ˜ì‹ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>\níŠ¹íˆ í° íŒŒì¼ì´ë‚˜ ë™ì˜ìƒ ìŠ¤íŠ¸ë¦¬ë°ê³¼ ê°™ì€ ìƒí™©ì—ì„œ ìœ ìš©í•˜ê²Œ ì ìš©ë©ë‹ˆë‹¤.\n\nì´ë¥¼ ìœ„í•œ í—¤ë”ë¡œ í´ë¼ì´ì–¸íŠ¸ê°€ ì‚¬ìš©í•˜ëŠ” `TE`, ì„œë²„ê°€ ì‚¬ìš©í•˜ëŠ” `Transfer-Encoding` í—¤ë”ê°€ ìˆë‹¤.\n\n- TE\n  - ë¸Œë¼ìš°ì €ì—ì„œ ìˆ˜ì‹ í•  ìˆ˜ ìˆëŠ” ì „ì†¡ ì¸ì½”ë”© ë°©ì‹ì„ ë‚˜íƒ€ë‚¸ë‹¤\n  - ì˜ˆ) `TE: trailers, chunked` \n\n\n- Transfer-Encoding\n  - HTTP ë©”ì‹œì§€ì— ì ìš©ëœ ì „ì†¡ ì¸ì½”ë”© ë°©ì‹ì„ ë‚˜íƒ€ë‚¸ë‹¤\n  - ì˜ˆ) `Transfer-Encoding: chunked`\n\n> ì°¸ê³ : [Transfer-Encoding - MDN](https://developer.mozilla.org/ko/docs/Web/HTTP/Headers/Transfer-Encoding)\n\n## ì—¬ëŸ¬ í˜•ì‹ì˜ ë°ì´í„°ë¥¼ ë³´ë‚´ëŠ” ë©€í‹°íŒŒíŠ¸\n\nHTTPëŠ” [MIME í”„ë¡œí† ì½œ](https://developer.mozilla.org/ko/docs/Web/HTTP/Basics_of_HTTP/MIME_types)ì„ ì§€ì›í•˜ê¸°ì— ë‹¤ì–‘í•œ í˜•ì‹ì˜ íŒŒì¼ì„ ì „ì†¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n### multipart/form-data\n\ní”íˆ ë¸Œë¼ìš°ì €ì— íŒŒì¼ì„ ì—…ë¡œë“œí•˜ê³  ì´ë¥¼ ì„œë²„ë¡œ ì „ì†¡í•˜ëŠ” ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤.<br>\nì´ë¥¼ ìœ„í•œ htmlì€ ë‹¤ìŒê³¼ ê°™ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```html\n<form action=\"/\" method=\"post\" enctype=\"multipart/form-data\">\n  <input type=\"text\" name=\"description\" value=\"some text\" />\n  <input type=\"file\" name=\"myFile\" />\n  <button type=\"submit\">Submit</button>\n</form>\n```\n\nìœ„ í¼ì„ í†µí•´ ì„œë²„ê°€ ìˆ˜ì‹ í•˜ëŠ” HTTP RequestëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n```text\nPOST /foo HTTP/1.1\nContent-Length: 68137\nContent-Type: multipart/form-data; boundary=---------------------------974767299852498929531610575\nContent-Disposition: form-data; name=\"description\"\n---------------------------974767299852498929531610575\n\nsome text\n\n---------------------------974767299852498929531610575\nContent-Disposition: form-data; name=\"myFile\"; filename=\"foo.txt\"\nContent-Type: text/plain\n\n(content of the uploaded file foo.txt)\n\n---------------------------974767299852498929531610575--\n```\n\n`boundary` ì†ì„±ìœ¼ë¡œ ê°ê°ì˜ ë©€í‹°íŒŒíŠ¸ ì—”í‹°í‹°ì— ëŒ€í•´ êµ¬ë¶„í•©ë‹ˆë‹¤.\n\nê·¸ë¦¬ê³  ë§ˆì§€ë§‰ì—ëŠ” boundary ë’¤ì— `--`ë¥¼ ë¶™ì—¬ ë§ˆë¬´ë¦¬í•©ë‹ˆë‹¤.\n\n### multipart/byteranges\n\nì´ë¯¸ì§€ì™€ ë°ì´í„°ë¥¼ íŠ¹ì • ì§€ì ë¶€í„° ì›í•˜ëŠ” ë§Œí¼ë§Œ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ë¥¼ _resume_ ê¸°ëŠ¥ì´ë¼ê³  í•˜ê³ , _Range Request_ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.\n\n```text\nGET /tip.jpg HTTP/1.1\nHost: www.usagidesing.jp\nRange: bytes=5001-10000\n```\n\n```text\nHTTP/1.1 206 Partial Content\nDate: Fri, 13 Jul 2012 04:39:17 GMT\nContent-Range: bytes 5001-10000/10000\nContent-Length: 5000\nContent-Type: image/jpeg\n```\n\nì—¬ê¸°ì„œ ì¤‘ìš”í•œ ì ì€ Http Requestì—ì„œ `Range` í—¤ë”ë¥¼ í†µí•´ ì›í•˜ëŠ” ë§Œí¼ì˜ ë¶€ë¶„ì„ ìš”ì²­í•œë‹¤ëŠ” ê²ƒê³¼\n\nHttp Responseì—ì„œ `Content-Range`ë¥¼ í†µí•´ ì‘ë‹µì— ëŒ€í•œ ì •ë³´ë¥¼ ë‹´ëŠ”ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.<br>\nê·¸ë¦¬ê³  ì‘ë‹µ ì½”ë“œë¡œ `206 Partial Content`ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.\n\n> ì°¸ê³ : [Content-Range - MDN](https://developer.mozilla.org/ko/docs/Web/HTTP/Headers/Content-Range)\n\n## ì½˜í…ì¸  í˜‘ìƒ (Content Negotiation)\n\në™ì¼í•œ URIì—ì„œ ë¦¬ì†ŒìŠ¤ì˜ ì„œë¡œ ë‹¤ë¥¸ ë²„ì „ì„ ì œê³µí•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ë§¤ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤.\n\në¸Œë¼ìš°ì €ê°€ ì‚¬ìš©ìì—ê²Œ ê°€ì¥ fití•œ ë¦¬ì†ŒìŠ¤ë¥¼ ì œê³µí•˜ê¸° ìœ„í•´ Http Reqeustë¥¼ ë³´ë‚¼ ë•Œ ì •ë³´ë¥¼ ë‹´ê³  ì„œë²„ëŠ” ê·¸ì— ë”°ë¼ ë‹¤ë¥¸ ê°’ì„ ì‘ë‹µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>\nì˜ˆë¥¼ ë“¤ì–´ ë¬¸ì„œì˜ ì–¸ì–´, ì´ë¯¸ì§€ í¬ë§· í˜¹ì€ ì½˜í…ì¸  ì¸ì½”ë”© ë°©ì‹ ë“±ì— ì ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì½˜í…ì¸  í˜‘ìƒì—ëŠ” ë‘ ê°€ì§€ ë°©ì‹ì´ ìˆìŠµë‹ˆë‹¤.\n\n### ì„œë²„ ì£¼ë„ì  í˜‘ìƒ\n\ní˜‘ìƒì˜ ì£¼ë„ê¶Œì´ ì„œë²„ì— ìˆìŠµë‹ˆë‹¤.\n\në¸Œë¼ìš°ì €ëŠ” í˜‘ìƒì— í•„ìš”í•œ ì •ë³´ë“¤ì„ í—¤ë”ì— ë‹´ì•„ ì „ì†¡í•˜ë©´ ì„œë²„ëŠ” ì´ë¥¼ í†µí•´ ê°€ì¥ ì í•©í•œ ë°©ì‹ìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ë¥¼ ì‘ë‹µí•©ë‹ˆë‹¤.\n\në¸Œë¼ìš°ì €ëŠ” `Accept`, `Accept-Language`, `Accept-Charset`, `Accept-Encoding` í—¤ë”ë¥¼ í†µí•´ í•„ìš”í•œ ì •ë³´ë¥¼ ë³´ëƒ…ë‹ˆë‹¤.\n\n![ì„œë²„ ì£¼ë„ì  ì½˜í…ì¸  í˜‘ìƒ](server-driven-negotiation.png)\n\n### í´ë¼ì´ì–¸íŠ¸ ì£¼ë„ì  í˜‘ìƒ\n\ní˜‘ìƒì˜ ì£¼ë„ê¶Œì´ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ìˆìŠµë‹ˆë‹¤.\n\ní´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì— ìš”ì²­ì„ ë³´ë‚´ë©´ ì„œë²„ëŠ” ì‘ë‹µ ê°€ëŠ¥í•œ ëª¨ë“  ë²„ì „ì˜ ë¦¬ì†ŒìŠ¤ë“¤ì— ëŒ€í•œ ë§í¬ë¥¼ í¬í•¨í•˜ì—¬ ì‘ë‹µí•©ë‹ˆë‹¤.<br>\nê·¸ëŸ¬ë©´ ë¸Œë¼ìš°ì €ëŠ” ì´ë¥¼ í†µí•´ ì›í•˜ëŠ” ë¦¬ì†ŒìŠ¤ì— í•´ë‹¹í•˜ëŠ” URLë¡œ ì¬ìš”ì²­ì„ ë³´ë‚´ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.\n\n![í´ë¼ì´ì–¸íŠ¸ ì£¼ë„ì  ì½˜í…ì¸  í˜‘ìƒ](client-driven-nogotiation.png)\n\n> ì°¸ê³ : [ì½˜í…ì¸ í˜‘ìƒ - MDN](https://developer.mozilla.org/ko/docs/Web/HTTP/Content_negotiation#%EC%97%90%EC%9D%B4%EC%A0%84%ED%8A%B8_%EC%A3%BC%EB%8F%84_%ED%98%91%EC%83%81)\n\n### Reference\n> - [ê·¸ë¦¼ìœ¼ë¡œ ë°°ìš°ëŠ” Http & Network Basic](https://m.yes24.com/Goods/Detail/15894097)"},{"excerpt":"ë“¤ì–´ê°€ë©° ì´ ê¸€ì€ ê·¸ë¦¼ìœ¼ë¡œ ë°°ìš°ëŠ” Http & Network Basicì„ ì½ê³  í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤. ì´ë²ˆ ê¸€ì—ì„œëŠ” HTTP í”„ë¡œí† ì½œì— ëŒ€í•´ ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤. HTTP í”„ë¡œí† ì½œ HyperText Transfer Protocol, HTTP í”„ë¡œí† ì½œì€ HTML ë¬¸ì„œì™€ ê°™ì€ ë¦¬ì†ŒìŠ¤ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” í”„ë¡œí† ì½œì…ë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ë¥¼ ìš”ì²­í•˜ëŠ” í´â€¦","fields":{"slug":"/02-http-protocol/"},"frontmatter":{"date":"January 17, 2024","title":"2ì¥. ê°„ë‹¨í•œ í”„ë¡œí† ì½œ HTTP","tags":["Network"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©° \n\nì´ ê¸€ì€ [ê·¸ë¦¼ìœ¼ë¡œ ë°°ìš°ëŠ” Http & Network Basic](https://m.yes24.com/Goods/Detail/15894097)ì„ ì½ê³  í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.\n\nì´ë²ˆ ê¸€ì—ì„œëŠ” HTTP í”„ë¡œí† ì½œì— ëŒ€í•´ ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤.\n\n## HTTP í”„ë¡œí† ì½œ\n\nHyperText Transfer Protocol, HTTP í”„ë¡œí† ì½œì€ **HTML ë¬¸ì„œì™€ ê°™ì€ ë¦¬ì†ŒìŠ¤ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” í”„ë¡œí† ì½œ**ì…ë‹ˆë‹¤.\n\nê¸°ë³¸ì ìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ë¥¼ ìš”ì²­í•˜ëŠ” **í´ë¼ì´ì–¸íŠ¸**ì™€ ë¦¬ì†ŒìŠ¤ë¥¼ ì‘ë‹µí•˜ëŠ” **ì„œë²„**ê°€ ì¡´ì¬í•©ë‹ˆë‹¤.\n\ní´ë¼ì´ì–¸íŠ¸ê°€ ë³´ë‚´ëŠ” _Http Request_ì™€ ì„œë²„ê°€ ì‘ë‹µí•˜ëŠ” _Http Response_ ë¥¼ í†µí•´ ìš”ì²­ê³¼ ì‘ë‹µì´ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.\n\nì´ Http Requestì™€ Http ResponseëŠ” _Http ë©”ì‹œì§€_ ë¼ê³  í•©ë‹ˆë‹¤.<br>\nHTTP ë©”ì‹œì§€ëŠ” ASCIIë¡œ ì¸ì½”ë”©ëœ ë™ì¼í•œ êµ¬ì¡°ì˜ í…ìŠ¤íŠ¸ì…ë‹ˆë‹¤.\n\nHTTP ë©”ì‹œì§€ë¥¼ ì •í•´ì§„ êµ¬ì¡° ë‚´ì—ì„œ ììœ ë¡­ê²Œ í™•ì¥í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.<br>\n(ex. ì»¤ìŠ¤í…€ í—¤ë” ì¶”ê°€)\n\n\n\n### Http Requestì˜ êµ¬ì¡°\n\nHttp RequestëŠ” ì•„ë˜ì™€ ê°™ì€ êµ¬ì¡°ë¡œ ë˜ì–´ìˆìŠµë‹ˆë‹¤.\n\n![Http Request êµ¬ì¡°](frame_of_http_request.png)\n\n- Start Line\n  - Method: [HTTP ë©”ì„œë“œ](https://developer.mozilla.org/ko/docs/Web/HTTP/Methods)ê°€ ì‘ì„±ë©ë‹ˆë‹¤. (GET, POST, PUT, DELETE ë“±)\n  - Path: ë¦¬ì†ŒìŠ¤ì˜ Pathê°€ ì‘ì„±ë©ë‹ˆë‹¤.\n  - Version: ì‚¬ìš©í•œ Http Protocolì˜ ë²„ì „ì´ ì‘ì„±ë©ë‹ˆë‹¤.\n\n- [Headers](https://developer.mozilla.org/ko/docs/Web/HTTP/Headers)\n  - ë¶€ê°€ì ì¸ ì •ë³´ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.\n  - `:`ë¥¼ êµ¬ë¶„ìë¡œ í•˜ì—¬ í—¤ë”ì˜ ì´ë¦„ê³¼ ê°’ì´ ì‘ì„±ë©ë‹ˆë‹¤.\n    - `:` ë’¤ì— ê³µë°±ì€ ë¬´ì‹œë©ë‹ˆë‹¤.\n\n- Blank Line\n  - `Headers`ì™€ `Body`ë¥¼ êµ¬ë¶„ì§“ê¸° ìœ„í•œ í•œ ì¤„ì˜ ê³µë°±ì…ë‹ˆë‹¤.\n\n- Body\n  - ë¦¬ì†ŒìŠ¤ë¥¼ ë“±ë¡(`POST`)í•˜ê±°ë‚˜ ì—…ë°ì´íŠ¸(`PUT`, `PATCH`)í•  ë•Œ í•„ìš”í•œ ì •ë³´ë¥¼ ë‹´ëŠ” ê³µê°„ì…ë‹ˆë‹¤. (ë°˜ë“œì‹œ Bodyì—ë§Œ ë‹´ì•„ì•¼í•˜ëŠ” ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤.)\n  - ê²½ìš°ì— ë”°ë¼ ë‚´ìš©ì´ í¬í•¨ë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n### Http Responseì˜ êµ¬ì¡°\n\nHttp Responseì˜ êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n![Http Response êµ¬ì¡°](frame_of_http_response.png)\n\n- Status Line\n  - Version: ì‚¬ìš©í•œ Http Protocolì˜ ë²„ì „ì´ ì‘ì„±ë©ë‹ˆë‹¤.\n  - [Status Code](https://developer.mozilla.org/ko/docs/Web/HTTP/Status): ì‘ë‹µ ê²°ê³¼ë¥¼ ìˆ«ìì™€ í…ìŠ¤íŠ¸ë¡œ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. \n\n- Headers\n  - Http Requestì˜ Headersì™€ ë™ì¼í•©ë‹ˆë‹¤.\n\n- Blank Line\n  - Http Requestì˜ Blank Lineê³¼ ë™ì¼í•©ë‹ˆë‹¤.\n\n- Body\n  - ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ì •ë³´ë¥¼ Bodyì— ë‹´ì•„ ì‘ë‹µí•œë‹¤.\n\n## HTTP í”„ë¡œí† ì½œì€ Stateless í•˜ë‹¤\n\nHTTP í”„ë¡œí† ì½œì€ ê¸°ë³¸ì ìœ¼ë¡œ Http Requestì™€ Http Responseë¥¼ ì €ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br>\në”°ë¼ì„œ ìƒˆë¡œìš´ Http Reqeustê°€ ë³´ë‚´ì§ˆ ë•Œë§ˆë‹¤ ì´ì— ì‘í•˜ëŠ” Http Responseê°€ ì‘ë‹µë©ë‹ˆë‹¤.<br>\nê°™ì€ ìš”ì²­ì„ ìˆ˜ë§Œ ë²ˆ ë³´ë‚´ë©´ ì‘ë‹µì´ ìˆ˜ë§Œë²ˆ ì˜¨ë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤!\n\nì´ëŸ¬í•œ íŠ¹ì§•ì„ ìš°ë¦¬ëŠ” Stateless í•˜ë‹¤ê³  ë¶€ë¦…ë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ ìœ ì €ì˜ ë¡œê·¸ì¸ ìƒíƒœë¥¼ ìœ ì§€í•´ì•¼í•˜ëŠ” ìš”êµ¬ ì‚¬í•­ì´ ìƒê²¼ê³ , ì´ì— ë”°ë¼ *Cookie* ë¥¼ ì´ìš©í•´ í•´ê²°í•©ë‹ˆë‹¤.\n\ní´ë¼ì´ì–¸íŠ¸ê°€ ë¡œê·¸ì¸ì— ì„±ê³µí•˜ë©´, ì„œë²„ëŠ” `Set-Cookie` í—¤ë”ì— ë¡œê·¸ì¸ ìƒíƒœë¥¼ ìœ ì§€í•  ìˆ˜ ìˆëŠ” ì •ë³´ë¥¼ ë‹´ì•„ ì‘ë‹µí•©ë‹ˆë‹¤.<br>\nì‘ë‹µì„ ë°›ì€ í´ë¼ì´ì–¸íŠ¸ëŠ” ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆë‹¤ê°€ ë‹¤ì‹œ ì„œë²„ë¡œ ìš”ì²­ì„ ë³´ë‚¼ ë•Œ `Cookie` í—¤ë”ì— ì •ë³´ë¥¼ ë‹´ì•„ ìš”ì²­í•©ë‹ˆë‹¤.<br>\nìš”ì²­ì„ ë°›ì€ ì„œë²„ëŠ” `Cookie` í—¤ë”ì— ë‹´ê¸´ ì •ë³´ë¥¼ í†µí•´ ì–´ë–¤ ì‚¬ìš©ìì¸ì§€ í™•ì¸í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì§„í–‰ë©ë‹ˆë‹¤.\n\n## ì§€ì† ì—°ê²°, íŒŒì´í”„ë¼ì¸\n\nê³¼ê±° HTTP/1.0 ì‹œì ˆì—ëŠ” ìš”ì²­ê³¼ ì‘ë‹µ ê°ê°ì— TCP ì—°ê²°(3 way handshake)ì´ í•„ìš”í–ˆìŠµë‹ˆë‹¤.<br>\nì´ëŠ” ìš”ì²­ì˜ ìˆ˜ê°€ ë§ì•„ì§ˆìˆ˜ë¡ ì˜¤ë²„í—¤ë“œê°€ ë§ì´ ë°œìƒí•œë‹¤ëŠ” ë¬¸ì œì ì´ ì¡´ì¬í•©ë‹ˆë‹¤.\n\nì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ HTTP/1.1ë¶€í„°ëŠ” *ì§€ì† ì—°ê²°* ê³¼ *íŒŒì´í”„ë¼ì¸* ê°œë…ì„ ë„ì…í•˜ì—¬ ë”ìš± íš¨ìœ¨ì ìœ¼ë¡œ í†µì‹ ì„ í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.\n\n[`Connection` í—¤ë”](https://developer.mozilla.org/ko/docs/Web/HTTP/Headers/Connection)ë¥¼ í†µí•´ ìœ„ ê¸°ìˆ ì„ ì ìš©í•©ë‹ˆë‹¤.\n\n### ì§€ì† ì—°ê²°\n\nì§€ì† ì—°ê²°ì€ **ì–´ëŠ í•œ ìª½ì´ ëª…ì‹œì ìœ¼ë¡œ ì—°ê²°ì„ ì¢…ë£Œí•˜ì§€ ì•ŠëŠ” ì´ìƒ, TCP ì—°ê²°ì„ ê³„ì† ìœ ì§€**í•˜ëŠ” ê°œë…ì…ë‹ˆë‹¤.\n\nì´ë¥¼ í†µí•´ **í•œ ë²ˆì˜ TCP Connectionì„ í†µí•´ ë§ì€ ìš”ì²­ê³¼ ì‘ë‹µì´ ì¡´ì¬**í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.\n\n### íŒŒì´í”„ë¼ì¸\n\níŒŒì´í”„ë¼ì¸ì€ Requestë¥¼ ë³´ë‚¸ í›„ì— Responseë¥¼ ë°›ê¸° ì „ê¹Œì§€ ê¸°ë‹¤ë¦° ë’¤ì—ì•¼ ë‹¤ë¥¸ Requestë¥¼ ë³´ë‚´ë˜ ê²ƒì„, Responseë¥¼ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ë°”ë¡œ Requestë¥¼ ë³´ë‚¼ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê°œë…ì…ë‹ˆë‹¤.  \n\nì´ëŠ” í•˜ë‚˜ì˜ html í˜ì´ì§€ì— ì´ë¯¸ì§€ íŒŒì¼ì´ 10ê°œê°€ ìˆë‹¤ê³  ê°€ì •í–ˆì„ ë•Œ, ì–¼ë§ˆë‚˜ íš¨ìœ¨ì ì¸ ë°©ì‹ìœ¼ë¡œ í†µì‹ í•˜ëŠ”ì§€ ì´í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n### Reference\n> - [ê·¸ë¦¼ìœ¼ë¡œ ë°°ìš°ëŠ” Http & Network Basic](https://m.yes24.com/Goods/Detail/15894097)\n> - [HTTP ê°œìš” - MDN](https://developer.mozilla.org/ko/docs/Web/HTTP/Overview)"},{"excerpt":"ë“¤ì–´ê°€ë©° ì´ë²ˆ ê¸€ì€ AWS EC2 ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³  ìˆ˜ì‘ì—…ìœ¼ë¡œ Spring Bootë¥¼ ì‹¤í–‰ì‹œí‚¤ëŠ” ë°©ë²•ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤. ê°œë°œ í™˜ê²½ì€ ,  ì…ë‹ˆë‹¤. ë”°ë¼ì„œ ìœˆë„ìš°ì˜ ê²½ìš° ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ì†í•˜ëŠ” ë°©ë²•ì´ ì•½ê°„ ë‹¤ë¦…ë‹ˆë‹¤.\nìœˆë„ìš°ì—ì„œ ì ‘ì†í•˜ëŠ” ë°©ë²•ì€ í•´ë‹¹ ê¸€ì„ ì°¸ê³ í•´ì£¼ì„¸ìš”. AWS ê³„ì • ìƒì„± ìš°ì„  ê°€ì¥ ë¨¼ì € AWS ê³„ì •ì„ ìƒì„±í•´ì¤ë‹ˆë‹¤. ê¸°ì¡´ì— ìˆë‹¤ë©´ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•´â€¦","fields":{"slug":"/deploy-spring-boot-in-aws-ec2-manually/"},"frontmatter":{"date":"January 16, 2024","title":"[Infra] AWS EC2ì— Spring Boot ìˆ˜ì‘ì—…ìœ¼ë¡œ ë°°í¬í•˜ê¸°","tags":["Infra","EC2","Deploy"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©°\n\nì´ë²ˆ ê¸€ì€ AWS EC2 ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³  ìˆ˜ì‘ì—…ìœ¼ë¡œ Spring Bootë¥¼ ì‹¤í–‰ì‹œí‚¤ëŠ” ë°©ë²•ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.\n\nê°œë°œ í™˜ê²½ì€ `MacOS`, `Warp(Terminal)` ì…ë‹ˆë‹¤.\n\në”°ë¼ì„œ ìœˆë„ìš°ì˜ ê²½ìš° ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ì†í•˜ëŠ” ë°©ë²•ì´ ì•½ê°„ ë‹¤ë¦…ë‹ˆë‹¤.<br>\nìœˆë„ìš°ì—ì„œ ì ‘ì†í•˜ëŠ” ë°©ë²•ì€ [í•´ë‹¹ ê¸€](https://wookim789.tistory.com/34)ì„ ì°¸ê³ í•´ì£¼ì„¸ìš”.\n\n## AWS ê³„ì • ìƒì„±\n\nìš°ì„  ê°€ì¥ ë¨¼ì € AWS ê³„ì •ì„ ìƒì„±í•´ì¤ë‹ˆë‹¤.\n\nê¸°ì¡´ì— ìˆë‹¤ë©´ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•´ì£¼ì‹œê³  ì—†ë‹¤ë©´ ìƒˆë¡œ íšŒì›ê°€ì… í•´ì£¼ì„¸ìš”.\n\nì´ ë¶€ë¶„ì€ ë”°ë¡œ í¬í•¨í•˜ì§€ ì•Šê² ìŠµë‹ˆë‹¤.\n\n## EC2 ì¸ìŠ¤í„´ìŠ¤ ìƒì„±\n\nì´ì œ ë°”ë¡œ EC2 ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•´ë´…ì‹œë‹¤.\n\nê·¸ ì „ì— **ë¦¬ì „ì„ ì„œìš¸ë¡œ** ì„¤ì •í•©ë‹ˆë‹¤.\n\n![ë¦¬ì „ ì„ íƒ](select_region.png)\n\n> ì°¸ê³ : [AWS - ë¦¬ì „ ë° ê°€ìš© ì˜ì—­](https://aws.amazon.com/ko/about-aws/global-infrastructure/regions_az/)\n\nê·¸ë¦¬ê³  ì¢Œì¸¡ ìƒë‹¨ ê²€ìƒ‰ì°½ì— `EC2` ë¥¼ ê²€ìƒ‰í•´ì„œ í´ë¦­í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ EC2 ëŒ€ì‹œë³´ë“œ í˜ì´ì§€ê°€ ë‚˜ì˜µë‹ˆë‹¤.\n\n![EC2 ë©”ì¸ í˜ì´ì§€](dashboard_page_ec2.png)\n\nê·¸ë¦¬ê³  í™”ë©´ì— ìœ ì¼í•˜ê²Œ ì£¼í™©ìƒ‰ìœ¼ë¡œ ê°•ì¡°ë˜ì–´ ìˆëŠ” *ì¸ìŠ¤í„´ìŠ¤ ì‹œì‘* ì„ ëˆ„ë¥´ê³  ìƒì„± í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.\n\n![EC2 ìƒì„± í˜ì´ì§€](creation_page_ec2.png)\n\nì´ì œ í•˜ë‚˜í•˜ë‚˜ ì„¤ì •í•´ë³´ê² ìŠµë‹ˆë‹¤.\n\n---\n\n### ì´ë¦„\n\n**EC2 ì¸ìŠ¤í„´ìŠ¤ì˜ ì´ë¦„**ì…ë‹ˆë‹¤.\n\nì €ì˜ ê²½ìš° `ec2-${project_name}` ê°™ì´ ì§“ìŠµë‹ˆë‹¤.\n\n ![EC2 ì´ë¦„ ì§“ê¸°](ec2_name.png)\n\n### AMI ì„¤ì •\n\n**ì¸ìŠ¤í„´ìŠ¤ì˜ ìš´ì˜ì²´ì œ**ì…ë‹ˆë‹¤.\n\nì•„ë˜ì™€ ê°™ì´ Linux ê³„ì—´ì¸ `Ubuntu`ë¥¼ ì„¤ì •í•˜ê³  ì•„í‚¤í…ì²˜ëŠ” `64ë¹„íŠ¸(Arm)`ì„ ì„¤ì •í•©ë‹ˆë‹¤.\n\n![AMI ì„¤ì •](ec2_ami.png)\n\n> [CPU ì•„í‚¤í…ì²˜ë€?](https://kdkdhoho.github.io/what-is-ami-architecture-of-ec2)\n\n### ì¸ìŠ¤í„´ìŠ¤ ìœ í˜•\n\n**EC2 ì¸ìŠ¤í„´ìŠ¤ì˜ ì„±ëŠ¥**ì…ë‹ˆë‹¤.<br>\nì„œë²„ë¥¼ ë„ìš°ëŠ” ëª©ì ê³¼ ë¹„ìš©ì— ë”°ë¼ ì„ íƒí•˜ë©´ ë©ë‹ˆë‹¤.\n\në³¸ë¬¸ì—ì„œëŠ” í”„ë¦¬í‹°ì–´ë¥¼ ì„ íƒí•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.\n\n![ì¸ìŠ¤í„´ìŠ¤ ìœ í˜• ì„ íƒ](type_of_instance.png)\n\n> [í”„ë¦¬í‹°ì–´?](https://aws.amazon.com/ko/free/?all-free-tier.sort-by=item.additionalFields.SortRank&all-free-tier.sort-order=asc&awsf.Free%20Tier%20Types=*all&awsf.Free%20Tier%20Categories=*all)\n\n### í‚¤ í˜ì–´\n\n**ë¡œì»¬ PCì—ì„œ ì¸ìŠ¤í„´ìŠ¤ë¡œ ì›ê²© ì ‘ì†í•  ë•Œ ì‚¬ìš©**ë˜ëŠ” í‚¤ í˜ì–´ì…ë‹ˆë‹¤.\n\n`ìƒˆ í‚¤ í˜ì–´ ìƒì„±`ì„ ëˆŒëŸ¬ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •í•©ë‹ˆë‹¤.\n\n![ìƒˆ í‚¤ í˜ì–´ ìƒì„±](create_key_pair.png)\n\nê·¸ë¦¬ê³  ìƒì„±í•œ í‚¤ í˜ì–´ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.\n\n> ### âš ï¸ ì£¼ì˜ âš ï¸<br>\n> í‚¤ í˜ì–´ëŠ” í•œë²ˆ ìƒì„±í•˜ë©´ ì¬ë°œê¸‰ì´ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br>\n> ë”°ë¼ì„œ ê°œì¸ ë¡œì»¬ PCì— ì˜ ì €ì¥í•´ë‘¬ì•¼ í•©ë‹ˆë‹¤.<br>\n> ê·¸ë¦¬ê³  í•´ë‹¹ í‚¤ë¡œ ì–¸ì œë“ ì§€ ì¸ìŠ¤í„´ìŠ¤ë¡œ ì ‘ì† ê°€ëŠ¥í•˜ê¸°ì— ë³´ì•ˆì— ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤.\n\n### ë„¤íŠ¸ì›Œí¬ ì„¤ì •\n\n**ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ì†ì„ í—ˆìš©í•  ë„¤íŠ¸ì›Œí¬ ë²”ìœ„**ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.\n\nìš°ì„  ìš°ì¸¡ ìƒë‹¨ì˜ `í¸ì§‘`ì„ ëˆŒëŸ¬ì¤ë‹ˆë‹¤.\n\nê·¸ë¦¬ê³  ìš°ì„  ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •í•©ë‹ˆë‹¤.\n\n![1ì°¨ ë„¤íŠ¸ì›Œí¬ ì„¤ì •](setting_network.png)\n\nê·¸ ë‹¤ìŒ ì¤‘ìš”í•œ **ì¸ë°”ìš´ë“œ ë³´ì•ˆ ê·¸ë£¹ ê·œì¹™**ì— ëŒ€í•´ ìì„¸íˆ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\n\nì¸ë°”ìš´ë“œ ë³´ì•ˆ ê·¸ë£¹ ê·œì¹™ì— ë”°ë¼ ì¸ìŠ¤í„´ìŠ¤ê°€ í—ˆìš©í•  íŠ¸ë˜í”½ì˜ ë²”ìœ„ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.<br>\në‹¤ì‹œ ë§í•´, **ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ê·¼ ê°€ëŠ¥í•œ ë„¤íŠ¸ì›Œí¬ ë° ì¥ì†Œë¥¼ ì„¤ì •**í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\nìš°ì„  ì¸ìŠ¤í„´ìŠ¤ì— ssh ì—°ê²°ì€ í•„ìˆ˜ì´ë‹ˆ ssh ë¨¼ì € ì„¤ì •í•˜ê² ìŠµë‹ˆë‹¤.<br>\nì´ë•Œ, íŠ¹ì • ì¥ì†Œì˜ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ì„œë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•˜ë ¤ë©´ ì•„ë˜ì™€ ê°™ì´ ì†ŒìŠ¤ ìœ í˜• - ì›ë³¸ì— í•´ë‹¹ ì¥ì†Œ ë„¤íŠ¸ì›Œí¬ì˜ IPë¥¼ ì…ë ¥í•´ì¤ë‹ˆë‹¤.\n\n![íŠ¹ì • ë„¤íŠ¸ì›Œí¬ IP ì„¤ì •](setting_specific_ip.png)\n\në§Œì•½ ê·¸ë ‡ì§€ ì•Šê³  ëª¨ë“  ì¥ì†Œì—ì„œ ë“¤ì–´ê°ˆ ìˆ˜ ìˆê²Œ í•˜ë ¤ë©´ `ìœ„ì¹˜ ë¬´ê´€`ìœ¼ë¡œ ì„¤ì •í•´ì£¼ì„¸ìš”.\n\nê·¸ë¦¬ê³  `ë³´ì•ˆ ê·¸ë£¹ ê·œì¹™ ì¶”ê°€`ë¥¼ ëˆŒëŸ¬ ì•„ë˜ì™€ ê°™ì´ ìƒˆë¡œìš´ í—ˆìš© ë²”ìœ„ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.<br>\nì¶”í›„ ì‹¤í–‰ì‹œí‚¬ ìŠ¤í”„ë§ì— ì ‘ì†í•  ìˆ˜ ìˆë„ë¡ ë¯¸ë¦¬ ì„¤ì •í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\n![8080 í¬íŠ¸ í—ˆìš©](second_security_group_rule_setting.png)\n\n> ì§€ê¸ˆì€ ê°„ë‹¨íˆ sshì™€ TCP ì—°ê²°ì„ ëª¨ë“  ê³³ì— ì„¤ì •í•´ë‘ì—ˆìŠµë‹ˆë‹¤.<br>\n> í•˜ì§€ë§Œ ë³´ì•ˆì„ ìœ„í•´ íŠ¹ì • ì¥ì†Œì—ì„œë§Œ ì ‘ì†ì´ ê°€ëŠ¥í•˜ê²Œ í•˜ë ¤ë©´ ì¸ë°”ìš´ë“œ ë³´ì•ˆ ê·¸ë£¹ ê·œì¹™ì„ ì„¤ì •í•´ì„œ ì ‘ì† ê°€ëŠ¥ ë²”ìœ„ë¥¼ ì¢í˜€ì•¼ í•©ë‹ˆë‹¤.\n\n### ìŠ¤í† ë¦¬ì§€ êµ¬ì„±\n\në””ìŠ¤í¬ì˜ í¬ê¸°ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.\n\nì´ ë¶€ë¶„ì€ ê¸°ë³¸ ì„¤ì •ê°’ ê·¸ëŒ€ë¡œ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤.\n\nê·¸ë¦¬ê³  `ì¸ìŠ¤í„´ìŠ¤ ìƒì„±`ì„ ëˆ„ë¥´ë©´ ëì…ë‹ˆë‹¤.\n\n---\n\n## ì ‘ì†\n\në“œë””ì–´ EC2 ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ëìŠµë‹ˆë‹¤.\n\nì´ì œ í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ë¡œ ì ‘ì†í•´ì„œ ìŠ¤í”„ë§ì„ ì‹¤í–‰í•´ë³´ê² ìŠµë‹ˆë‹¤.\n\ní„°ë¯¸ë„ì„ ë„ìš°ê³ , ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.\n\n```\n> chmod 400 ${key_path}\n> ssh -i ${key_path} ubuntu@${instance_public_ip}\n```\n\n- `chmod 400 ${key_path}`: í‚¤ í˜ì–´ íŒŒì¼ì— ëŒ€í•œ ìš´ì˜ì²´ì œ ë‚´ì˜ ì ‘ê·¼ ê¶Œí•œì„ ì„¤ì •í•©ë‹ˆë‹¤.\n    > ì°¸ê³ \n    > - [SSH ì ‘ì† ì‹œ UNPROTECTED PRIVATE KEY FILE! ì—ëŸ¬ í•´ê²°](https://www.lesstif.com/lpt/ssh-unprotected-private-key-file-80249001.html)<br>\n    > - [ë¦¬ëˆ…ìŠ¤ chmod ëª…ë ¹ì–´ ì‚¬ìš©ë²• - íŒŒì¼ ê¶Œí•œ ë³€ê²½](https://recipes4dev.tistory.com/175)\n\n- `${key_path}`: ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ë•Œ ë§Œë“  í‚¤ í˜ì–´ì˜ ê²½ë¡œì…ë‹ˆë‹¤.\n- `${instance_public_ip}`: ìƒì„±í•œ ì¸ìŠ¤í„´ìŠ¤ì˜ í¼ë¸”ë¦­ IPv4 ì£¼ì†Œì…ë‹ˆë‹¤. ì•„ë˜ ê·¸ë¦¼ì„ í†µí•´ í™•ì¸í•˜ë©´ ë©ë‹ˆë‹¤. ì°¸ê³ ë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¤‘ì§€í•˜ê³  ë‹¤ì‹œ í‚¤ë©´ IP ì£¼ì†Œê°€ ë°”ë€ë‹ˆë‹¤.\n![ì¸ìŠ¤í„´ìŠ¤ì˜ í¼ë¸”ë¦­ IP ì£¼ì†Œ](public_ip_address.png)\n\nìœ„ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ê³  ì•„ë˜ì™€ ê°™ì€ í™”ë©´ì´ ëœ¨ë©´ ì„±ê³µì…ë‹ˆë‹¤.\n\n![ì ‘ì† ì„±ê³µ](success_connect_to_instance.png)\n\n## ìŠ¤í”„ë§ ì‹¤í–‰í•˜ê¸°\n\nì´ì œ ìŠ¤í”„ë§ì„ ì‹¤í–‰í•´ë³´ê² ìŠµë‹ˆë‹¤.\n\n### JDK ì„¤ì¹˜\n\nê·¸ ì „ì— ë¨¼ì € JDKë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.\n\nì €ëŠ” JDK 17ì„ ì„¤ì¹˜í•˜ê² ìŠµë‹ˆë‹¤.\n\nì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.\n\n```text\n> wget -O - https://apt.corretto.aws/corretto.key | sudo gpg --dearmor -o /usr/share/keyrings/corretto-keyring.gpg && \\\necho \"deb [signed-by=/usr/share/keyrings/corretto-keyring.gpg] https://apt.corretto.aws stable main\" | sudo tee /etc/apt/sources.list.d/corretto.list\n\n> sudo apt-get update; sudo apt-get install -y java-17-amazon-corretto-jdk\n```\n\nëŒ€ì¶© ì„¤ì¹˜ë˜ëŠ” í™”ë©´ì´ ì™„ë£Œë˜ë©´ ëª…ë ¹ì–´ `java -version`ì„ í†µí•´ í™•ì¸í•´ë´…ë‹ˆë‹¤.\n\n![JDK ì„¤ì¹˜ ì™„ë£Œ](installed_jdk.png)\n\n### ìŠ¤í”„ë§ ì‹¤í–‰í•˜ê¸°\n\nì´ì œ ì§„ì§œ ìŠ¤í”„ë§ì„ ì‹¤í–‰í•˜ê² ìŠµë‹ˆë‹¤.\n\nìš°ì„  í”„ë¡œì íŠ¸ ë ˆí¬ì§€í† ë¦¬ë¥¼ EC2 ë‚´ì— clone í•©ë‹ˆë‹¤.<br>\ncloneì´ ì™„ë£Œë˜ë©´ `ls` ëª…ë ¹ì–´ë¥¼ í†µí•´ ì„±ê³µì ìœ¼ë¡œ clone ëëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.\n\n![ë ˆí¬ì§€í† ë¦¬ clone ì´í›„ í™•ì¸](cloned-repository.png)\n\nê·¸ ë‹¤ìŒ í”„ë¡œì íŠ¸ ë””ë ‰í„°ë¦¬ë¡œ ë“¤ì–´ê°€ ëª…ë ¹ì–´ `./gradlew bootJar`ë¥¼ í†µí•´ Build í•©ë‹ˆë‹¤.\n\n![ìŠ¤í”„ë§ ë¶€íŠ¸ Build](build-spring-boot.png)\n\n> `gradle build` ëª…ë ¹ì–´ë¡œë„ í”„ë¡œì íŠ¸ë¥¼ ë¹Œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ í…ŒìŠ¤íŠ¸ì™€ ê°™ì€ ì‘ì—…ì´ í¬í•¨ë©ë‹ˆë‹¤.<br>\n> ë”°ë¼ì„œ ë‹¨ìˆœíˆ í”„ë¡œì íŠ¸ buildë§Œ í•˜ê³  ì‹¶ìœ¼ë©´ Spring Bootê°€ ì§€ì›í•˜ëŠ” ëª…ë ¹ì–´ì¸ `gradlew bootJar`ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.<br>\n> <br>\n> ì°¸ê³ <br>\n> [Stack Overflow - gradle buildì™€ bootJarì˜ ì°¨ì´](https://stackoverflow.com/questions/64747475/difference-between-gradle-build-and-gradle-bootjar)<br>\n> [Spring Boot ê³µì‹ë¬¸ì„œ](https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/)<br>\n> [Gradle ê³µì‹ë¬¸ì„œ - Build Lifecyle](https://docs.gradle.org/current/userguide/build_lifecycle.html)\n\nê·¸ëŸ¼ buildì˜ ê²°ê³¼ë¬¼ë¡œ `build` ë””ë ‰í„°ë¦¬ê°€ ìƒì„±ë©ë‹ˆë‹¤.\n\n![ë¹Œë“œ ì„±ê³µ](success_project_build.png)\n\n### jar íŒŒì¼ ì‹¤í–‰í•˜ê¸°\n\nì´ì œ build ê²°ê³¼ë¬¼ì¸ jar íŒŒì¼ì„ ì‹¤í–‰í•˜ë©´ ëì…ë‹ˆë‹¤.\n\n`> cd build/libs` ëª…ë ¹ì–´ë¥¼ í†µí•´ í•´ë‹¹ ë””ë ‰í„°ë¦¬ë¡œ ë“¤ì–´ê°€ë©´ ì•„ë˜ì²˜ëŸ¼ jar íŒŒì¼ì´ ìƒì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n\n![ìƒì„±ëœ jar íŒŒì¼](exists_jar_file.png)\n\n> ì•„ë§ˆ jar íŒŒì¼ ì´ë¦„ì´ `${project_name}-0.0.1-SNAPSHOT.jar` ìœ¼ë¡œ ë˜ì–´ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>\n> ì´ëŠ”, `build.gradle`ì— ì‘ì„±ëœ `version`ì— ë”°ë¼ ì´ë¦„ì´ POSTFIXë¡œ ë¶™ì–´ì„œ ë‚˜ì˜¤ëŠ” ê²ë‹ˆë‹¤.<br>\n> ë¶ˆí¸í•˜ë‹¤ë©´ ì œê±°í•˜ê³  ë‹¤ì‹œ buildí•˜ë©´ ìœ„ì²˜ëŸ¼ ê¹”ë”í•˜ê²Œ ë‚˜ì˜µë‹ˆë‹¤.\n\nì´ì œ `java -jar ${project_name}.jar` ëª…ë ¹ì–´ í†µí•´ ì‹¤í–‰í•©ë‹ˆë‹¤. \n\n![ìŠ¤í”„ë§ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰](run_spring.png)\n\nìœ„ì™€ ê°™ì´ ì •ìƒ ì‘ë™ë˜ë©´ ì„±ê³µì…ë‹ˆë‹¤!\n\nì´ì œ ë¸Œë¼ìš°ì €ë¥¼ í†µí•´ ìŠ¤í”„ë§ìœ¼ë¡œ ì ‘ì†í•´ë³´ê³  ì•„ë˜ì™€ ê°™ì€ í™”ë©´ì´ ëœ¨ë©´ ì„±ê³µì ìœ¼ë¡œ EC2ì— ìŠ¤í”„ë§ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•œê²ë‹ˆë‹¤.\n\n![ì„œë²„ ì ‘ì† ì„±ê³µ](success_connect_server.png)\n\n## ë§ˆì¹˜ë©°\n\nì´ë²ˆì—ëŠ” ì§ì ‘ ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ì†í•´ì„œ í”„ë¡œì íŠ¸ë¥¼ cloneí•˜ê³  buildí•˜ê³  jar íŒŒì¼ì„ ì‹¤í–‰í–ˆìŠµë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ ë°°í¬ë¥¼ í•  ë•Œë§ˆë‹¤ ì´ ì‘ì—…ì„ ë§¤ë²ˆ ìˆ˜í–‰í•˜ëŠ” ê²ƒì€ ê°œë°œì„ ì§€ì†í•˜ê¸° í˜ë“¤ê²Œ ë§Œë“¤ ê²ƒì…ë‹ˆë‹¤.\n\në”°ë¼ì„œ ë‹¤ìŒì—” ë°°í¬ë¥¼ ì¡°ê¸ˆ ë” ê°„í¸í•˜ê²Œ í•˜ê¸° ìœ„í•´ ì…¸ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•´ì„œ ë°°í¬í•´ë³´ê² ìŠµë‹ˆë‹¤.\n\nê°ì‚¬í•©ë‹ˆë‹¤.\n\n### Reference\n> - [ë¦¬ëˆ…ìŠ¤ chmod ëª…ë ¹ì–´ ì‚¬ìš©ë²• - íŒŒì¼ ê¶Œí•œ ë³€ê²½](https://recipes4dev.tistory.com/175)\n> - [EC2ì— JDK ì„¤ì¹˜](https://docs.aws.amazon.com/corretto/latest/corretto-17-ug/downloads-list.html)\n> - [SSH ì ‘ì† ì‹œ UNPROTECTED PRIVATE KEY FILE! ì—ëŸ¬ í•´ê²°](https://www.lesstif.com/lpt/ssh-unprotected-private-key-file-80249001.html)\n> - [EC2 ì¸ìŠ¤í„´ìŠ¤ ìœ í˜•](https://aws.amazon.com/ko/ec2/instance-types/)"},{"excerpt":"ë“¤ì–´ê°€ë©° EC2ì— ìŠ¤í”„ë§ ë°°í¬í•˜ê¸° ê¸€ì„ ì‘ì„±í•˜ë‹¤ê°€ EC2 ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ë•Œ AMIë¥¼ ì„¤ì •í•˜ê²Œ\në©ë‹ˆë‹¤. ì´ë•Œ ì„ íƒí•  ìˆ˜ ìˆëŠ” ì•„í‚¤í…ì²˜ëŠ” ì•„ë˜ì™€ ê°™ì´ ê³¼  ë‘ ê°€ì§€ë¡œ ë‚˜ë‰©ë‹ˆë‹¤.  ë¬¸ë“, ì´ ë‘˜ì˜ ì°¨ì´ì— ëŒ€í•´ ê¶ê¸ˆí•´ì ¸ í•™ìŠµí•˜ê³  ì •ë¦¬í•´ë´¤ìŠµë‹ˆë‹¤. Amazon Machine Image? ìš°ì„  Amazon Machine Imageì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. ê³µì‹ ë¬¸ì„œâ€¦","fields":{"slug":"/what-is-ami-architecture-of-ec2/"},"frontmatter":{"date":"January 16, 2024","title":"CPU ì•„í‚¤í…ì²˜ë€?","tags":["operation-system","CPU Architecture"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©°\n\n[EC2ì— ìŠ¤í”„ë§ ë°°í¬í•˜ê¸°](https://kdkdhoho.github.io/deploy-spring-boot-in-aws-ec2-manually/) ê¸€ì„ ì‘ì„±í•˜ë‹¤ê°€ EC2 ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ë•Œ AMIë¥¼ ì„¤ì •í•˜ê²Œ\në©ë‹ˆë‹¤.\n\nì´ë•Œ ì„ íƒí•  ìˆ˜ ìˆëŠ” ì•„í‚¤í…ì²˜ëŠ” ì•„ë˜ì™€ ê°™ì´ `x86`ê³¼ `Arm` ë‘ ê°€ì§€ë¡œ ë‚˜ë‰©ë‹ˆë‹¤.\n\n![img.png](type_of_cpu_architecture.png)\n\në¬¸ë“, ì´ ë‘˜ì˜ ì°¨ì´ì— ëŒ€í•´ ê¶ê¸ˆí•´ì ¸ í•™ìŠµí•˜ê³  ì •ë¦¬í•´ë´¤ìŠµë‹ˆë‹¤.\n\n## Amazon Machine Image?\n\nìš°ì„  Amazon Machine Imageì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.\n\n[ê³µì‹ ë¬¸ì„œ](https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/AMIs.html)ì— ë”°ë¥´ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.<br>\n> ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‹œì‘í•˜ëŠ” ë° í•„ìš”í•œ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” AWSì—ì„œ ì§€ì›í•˜ëŠ” ì´ë¯¸ì§€ë‹¤.\n\nì¦‰, ìš´ì˜ì²´ì œë¥¼ 'ë„ì»¤ì˜ ì´ë¯¸ì§€' ì²˜ëŸ¼ EC2 ì¸ìŠ¤í„´ìŠ¤ì— ì„¤ì¹˜í•˜ëŠ” ê²ƒìœ¼ë¡œ ì´í•´í•˜ë©´ ë˜ê² ìŠµë‹ˆë‹¤.\n\n## ì•„í‚¤í…ì²˜?\n\nê·¸ëŸ¼ ì—¬ê¸°ì„œì˜ ì•„í‚¤í…ì²˜ëŠ” ë¬´ì—‡ì„ ì˜ë¯¸í•˜ë©° 64ë¹„íŠ¸(x86), ê·¸ë¦¬ê³  64ë¹„íŠ¸(Arm)ì€ ê°ê° ë¬´ì—‡ì„ ì˜ë¯¸í•˜ëŠ”ê±¸ê¹Œìš”?\n\nì´ê²ƒë“¤ì€ ëª¨ë‘ _CPU ì•„í‚¤í…ì²˜_ ë¥¼ ì˜ë¯¸í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\nCPU ì•„í‚¤í…ì²˜ë€, ê°„ë‹¨íˆ ë§í•´ CPUë¥¼ ë§Œë“œëŠ” ì„¤ê³„ ë°©ë²•ì…ë‹ˆë‹¤.\n\nì´ CPUë¥¼ ë§Œë“œëŠ” íšŒì‚¬ëŠ” ë‹¤ì–‘í•˜ê³  ê° íšŒì‚¬ë§ˆë‹¤ CPUë¥¼ ë§Œë“œëŠ” ë°©ë²•ì´ ì¡°ê¸ˆì”© ë‹¤ë¥¸ë°ìš”.\n\nê°€ì¥ ìœ ëª…í•œ CPU ì œì¡° íšŒì‚¬ì¸ [Intel](https://www.intel.com/content/www/us/en/homepage.html) ì‚¬ê°€ ë§Œë“œëŠ” CPUì˜ ì•„í‚¤í…ì²˜ëŠ” `x86` ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.<br>\nê·¸ë¦¬ê³  íƒ€ì‚¬ì¸ [ARM](https://www.ARM.com/) ì‚¬ê°€ ë§Œë“œëŠ” CPUì˜ ì•„í‚¤í…ì²˜ê°€ ë°”ë¡œ `Arm` ì…ë‹ˆë‹¤.\n\nì´ ë‘ CPU ì•„í‚¤í…ì²˜ì—ëŠ” í° ì°¨ì´ê°€ ìˆìŠµë‹ˆë‹¤.\n\n## x86 vs Arm\n\n| ì•„í‚¤í…ì²˜ |     ì§€ì› OS     |      íƒ€ê²Ÿ      | ì—ë„ˆì§€ ì‚¬ìš©ëŸ‰ | ë°œì—´ | ë¹„ìš© | íŠ¸ëœì§€ìŠ¤í„° ìˆ˜ |\n|:----:|:-------------:|:------------:|:-------:|:--:|:--:|:-------:|\n| x86  | ìœˆë„ìš°, ë¦¬ëˆ…ìŠ¤, ë§¥ ë“± |      PC      |   ë†’ìŒ    | ë†’ìŒ | ë†’ìŒ |   ë§ìŒ    |\n| Arm  |   ë¦¬ëˆ…ìŠ¤ ê³„ì—´ ë“±    | ìŠ¤ë§ˆíŠ¸í°, ì €ì „ë ¥ PC |   ë‚®ìŒ    | ë‚®ìŒ | ë‚®ìŒ |   ì ìŒ    |    \n\nx86ì€ CPU ë‚´ì— ìƒëŒ€ì ìœ¼ë¡œ ë” ë§ì€ íŠ¸ëœì§€ìŠ¤í„°ê°€ ì¡´ì¬í•©ë‹ˆë‹¤.<br>\në”°ë¼ì„œ **ì²˜ë¦¬ ì„±ëŠ¥ì€ ë›°ì–´ë‚©ë‹ˆë‹¤.** í•˜ì§€ë§Œ ê·¸ë§Œí¼ **ì—ë„ˆì§€ ì‚¬ìš©ëŸ‰ì´ ë†’ê³  ë°œì—´ëŸ‰ì´ ë†’ìŠµë‹ˆë‹¤.**<br>\nê·¸ì— ë”°ë¼ **ë¹„ìš©ë„ ìƒëŒ€ì ìœ¼ë¡œ ë¹„ìŒ‰ë‹ˆë‹¤.**\n\nArmì€ x86ì— ë¹„í•´ **ë” ì‹¸ê³  ë°œì—´ë„ ë‚®ìŠµë‹ˆë‹¤.**<br>\në³¸ë˜ Armì˜ ì„¤ê³„ ëª©ì ì€ ìŠ¤ë§ˆíŠ¸í° ê°™ì´ ì†Œí˜• ì „ì ì¥ì¹˜ì— ë“¤ì–´ê°ˆ CPUë¥¼ ëª©ì ìœ¼ë¡œ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.<br>\në”°ë¼ì„œ ë” ì‘ê³ , ë°°í„°ë¦¬ ìˆ˜ëª…ì´ ê¸¸ê³ , **ì €ë¹„ìš©**ì— ì´ˆì ì„ ë§ì¶° ì„¤ê³„í•©ë‹ˆë‹¤.\n\n## ê·¸ëŸ¼ ì–´ë–¤ ì•„í‚¤í…ì²˜ë¥¼ ì„ íƒí•˜ë©´ ì¢‹ì„ê¹Œ?\n\nëª©ì ì€ í´ë¼ìš°ë”© ì»´í“¨í„°ì¸ EC2ì— ë“¤ì–´ê°ˆ ì•„í‚¤í…ì²˜ë¥¼ ì„ íƒí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\ní´ë¼ìš°ë”© ì»´í“¨í„°ëŠ” \"ì €ë¹„ìš©ì— ê³ íš¨ìœ¨\"ì„ ê°€ì§€ëŠ” ëŒ€í‘œì ì¸ ê¸°ìˆ ì…ë‹ˆë‹¤.<br>\në˜í•œ ë¬¼ë¦¬ì  ìì›ì´ ì•„ë‹ˆë‹¤ë³´ë‹ˆ CPU ë°œì—´ì„ ëƒ‰ê°ì‹œì¼œì•¼ í•˜ëŠ” ì œì•½ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\nì¶”ê°€ë¡œ ì•„ë˜ ì‚¬ì§„ì„ ë³´ì‹œê² ìŠµë‹ˆë‹¤.\n\n![x86 ì„ íƒ](x86.png)\n\n![Arm ì„ íƒ](arm.png)\n\nx86ì„ ì„ íƒí•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ _t2.micro_ íƒ€ì…ì´ ì„¤ì •ë©ë‹ˆë‹¤.<br>\në°˜ë©´, Armì„ ì„ íƒí•˜ë©´ _t4g.micro_ íƒ€ì…ì´ ì„¤ì •ë©ë‹ˆë‹¤.\n\nì´ ë‘ ì¸ìŠ¤í„´ìŠ¤ íƒ€ì…ì˜ ì°¨ì´ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.\n\n![t2 ìœ í˜•](type_of_t2.png)\n\n![t4g ìœ í˜•](type_of_t4g.png)\n\në‘ íƒ€ì… ëª¨ë‘ í”„ë¦¬í‹°ì–´ì´ë©´ì„œ ë™ì¼í•œ AMIì—ì„œ ì„¤ì •ë˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ íƒ€ì…ì„ì—ë„ ë¶ˆêµ¬í•˜ê³ , CPU ì•„í‚¤í…ì²˜ì˜ ì°¨ì´ì— ë”°ë¼ ì„±ëŠ¥ê³¼ ë¹„ìš©ì˜ ì°¨ì´ê°€ ìˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nê²°ë¡ ì ìœ¼ë¡œ, ì €ë¹„ìš© ê³ íš¨ìœ¨ì„ ìœ„í•´ì„œë¼ë©´ `Arm ì•„í‚¤í…ì²˜`ë¥¼ ì„ íƒí•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•´ë³´ì…ë‹ˆë‹¤.\n\n## 64ë¹„íŠ¸ëŠ” ë¬´ì—‡ì´ì§€?\n\nê·¸ëŸ°ë° 64ë¹„íŠ¸ëŠ” ë¬´ì—‡ì¼ê¹Œìš”?\n\nì—¬ê¸°ì„œì˜ 'ë¹„íŠ¸'ëŠ” CPUê°€ ê°€ì§€ëŠ” *ë ˆì§€ìŠ¤í„°*ì˜ í¬ê¸°ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.\n\nCPUê°€ í”„ë¡œê·¸ë¨ ëª…ë ¹ì–´ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ìì²´ì ìœ¼ë¡œ ì €ì¥ì†Œë¥¼ ê°€ì§‘ë‹ˆë‹¤.<br>\nì´ ì €ì¥ì†Œë¥¼ ë ˆì§€ìŠ¤í„°ë¼ê³  í•©ë‹ˆë‹¤.<br>\në ˆì§€ìŠ¤í„°ëŠ” ìš©ëŸ‰ì€ ë§¤ìš° ì‘ì€ ëŒ€ì‹  ì†ë„ëŠ” ë§¤ìš° ë¹ ë¥¸ íŠ¹ì§•ì„ ê°€ì§‘ë‹ˆë‹¤.\n\në”°ë¼ì„œ ì €ì¥ì†Œì˜ í¬ê¸°ê°€ í´ìˆ˜ë¡ ë” ë§ì€ ë°ì´í„°ë¥¼ ì´ìš©í•´ CPUê°€ ëª…ë ¹ì–´ë¥¼ ì²˜ë¦¬í•˜ëŠ” ëŠ¥ë ¥ì´ í–¥ìƒë©ë‹ˆë‹¤.\n\nì°¸ê³ ë¡œ 32ë¹„íŠ¸ë„ ì¡´ì¬í•©ë‹ˆë‹¤ë§Œ 64ë¹„íŠ¸ì™€ì˜ ì°¨ì´ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.<br>\n32ë¹„íŠ¸ëŠ” 2^32 = 4,294,967,296 bit â‰’ **4GB**<br>\n64ë¹„íŠ¸ëŠ” 2^64 = 18,446,744,073,709,551,616 bit â‰’ **16EB** (= 4GB x 4GB)\n\ní˜„ëŒ€ì˜ ë§ì€ CPUëŠ” ëŒ€ë¶€ë¶„ 64ë¹„íŠ¸ë¡œ ìƒì‚°ë˜ê³  ìˆìŠµë‹ˆë‹¤.\n\n## ë§ˆì¹˜ë©°\n\nì§€ê¸ˆê¹Œì§€ CPU ì•„í‚¤í…ì²˜ë¥¼ ì„ íƒí•˜ëŠ” ë°ì— ìˆì–´ í•„ìš”í•œ ì •ë³´ë“¤ì„ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤.\n\nì²˜ìŒ ì ‘í•œ ë‚´ìš©ì´ë‹¤ë³´ë‹ˆ í‹€ë¦¬ê±°ë‚˜ ë¹ ì§„ ë‚´ìš©ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>\në§Œì•½ ì •ë³´ì˜ ìˆ˜ì •ì´ í•„ìš”í•˜ë‹¤ë©´ ì–¸ì œë“  ëŒ“ê¸€ ë‚¨ê²¨ì£¼ì‹œê¸¸ ë°”ëë‹ˆë‹¤.\n\nê°ì‚¬í•©ë‹ˆë‹¤.\n\n### Reference\n\n> - [AMR vs x86 - Red Hat ê³µì‹ë¬¸ì„œ](https://www.redhat.com/en/topics/linux/Arm-vs-x86)\n> - https://velog.io/@480/ì´ì œëŠ”-ê°œë°œìë„-CPU-ì•„í‚¤í…ì²˜ë¥¼-êµ¬ë¶„í•´ì•¼-í•©ë‹ˆë‹¤\n> - [CPU 32ë¹„íŠ¸ì™€ 64ë¹„íŠ¸ ì°¨ì´, ëª¨ë¥´ê³  ì‚¬ìš©í•˜ë©´ ë‚­ë¹„ë‹¤ - ì´í¬ì»¤ìŠ¤](https://www.e-focus.co.kr/news/articleView.html?idxno=2638858)\n> - https://dev.to/aws-builders/data-points-you-need-to-know-about-Arm-for-your-application-code-migration-5c0f\n> - https://youtu.be/ndXKHgFIIL4"},{"excerpt":"ë“¤ì–´ê°€ë©° ì´ë²ˆ ê¸€ì—ì„œëŠ” ë¸Œëœì¹˜ ë„¤ì´ë°ì„ ì´ìš©í•´ ìë™ìœ¼ë¡œ ì»¤ë°‹ íƒ€ì…ê³¼ ì´ìŠˆ ë²ˆí˜¸ë¥¼ ì¶”ê°€í•˜ëŠ” ë°©ë²•ì— ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤. ê¸€ì˜ ëŒ€ìƒì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. ë¸Œëœì¹˜ ë„¤ì´ë° ì»¨ë²¤ì…˜ê³¼ ì»¤ë°‹ ë©”ì‹œì§€ ì»¨ë²¤ì…˜ì„ ì •í•˜ë ¤ëŠ” íŒ€ ì»¤ë°‹ ë©”ì‹œì§€ ì»¨ë²¤ì…˜ì— ë”°ë¼ ë§¤ë²ˆ ì»¤ë°‹ ë©”ì‹œì§€ë¥¼ ì‘ì„±í•˜ëŠ” ê²Œ ê·€ì°®ê±°ë‚˜ ìì£¼ ê¹Œë¨¹ëŠ” ì‚¬ëŒ ì´ ê¸€ì„ ì½ê³  ë‚˜ë©´ ì»¤ë°‹ ë©”ì‹œì§€ë¥¼ ë¼ê³ ë§Œ í–ˆì„ ê²½ìš°, ì €ì¥ëœ ì»¤ë°‹ ë©”ì‹œâ€¦","fields":{"slug":"/add-feat-and-issue-number-automatically/"},"frontmatter":{"date":"January 12, 2024","title":"[git&github] IntelliJì—ì„œ ì»¤ë°‹ ë©”ì‹œì§€ ì‘ì„± ì‹œ, ìë™ìœ¼ë¡œ ì»¤ë°‹ íƒ€ì…ê³¼ ì´ìŠˆ ë²ˆí˜¸ ì¶”ê°€í•˜ê¸°","tags":["git","github"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©°\n\nì´ë²ˆ ê¸€ì—ì„œëŠ” ë¸Œëœì¹˜ ë„¤ì´ë°ì„ ì´ìš©í•´ ìë™ìœ¼ë¡œ ì»¤ë°‹ íƒ€ì…ê³¼ ì´ìŠˆ ë²ˆí˜¸ë¥¼ ì¶”ê°€í•˜ëŠ” ë°©ë²•ì— ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤.\n\nê¸€ì˜ ëŒ€ìƒì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n- ë¸Œëœì¹˜ ë„¤ì´ë° ì»¨ë²¤ì…˜ê³¼ ì»¤ë°‹ ë©”ì‹œì§€ ì»¨ë²¤ì…˜ì„ ì •í•˜ë ¤ëŠ” íŒ€\n- ì»¤ë°‹ ë©”ì‹œì§€ ì»¨ë²¤ì…˜ì— ë”°ë¼ ë§¤ë²ˆ ì»¤ë°‹ ë©”ì‹œì§€ë¥¼ ì‘ì„±í•˜ëŠ” ê²Œ ê·€ì°®ê±°ë‚˜ ìì£¼ ê¹Œë¨¹ëŠ” ì‚¬ëŒ\n\n### ì´ ê¸€ì„ ì½ê³  ë‚˜ë©´\n\nì»¤ë°‹ ë©”ì‹œì§€ë¥¼ `message`ë¼ê³ ë§Œ í–ˆì„ ê²½ìš°, ì €ì¥ëœ ì»¤ë°‹ ë©”ì‹œì§€ì˜ ê²°ê³¼ëŠ” `feat: message (#1)`ê³¼ ê°™ì´ ì‘ì„±ë  ê²ƒì…ë‹ˆë‹¤.\n\n![ì»¤ë°‹í•  ë•Œ](before.png)\n\n![ì»¤ë°‹ ì´í›„ ê²°ê³¼](after.png)\n\n### ì°¸ê³ \n\nì‹œì‘í•˜ê¸° ì•ì„œ `ì»¤ë°‹ íƒ€ì…`ì€ `feat`, `refactor`, `chore`ì™€ ê°™ì€ [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/)ì˜ `type`ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\n\nê°œë°œ í™˜ê²½ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n- MacOS 14.2.1(23C71)\n- IntelliJ 2023.2.5 (Ultimate Edition)\n\n## 1. ì»¨ë²¤ì…˜ ì •í•˜ê¸°\n\ní•´ë‹¹ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê¸° ì „ _ë¸Œëœì¹˜ ë„¤ì´ë° ì»¨ë²¤ì…˜_ ê³¼ _ì»¤ë°‹ ë©”ì‹œì§€ ì»¨ë²¤ì…˜_ ì„ ë¨¼ì € ì •í•´ì•¼ í•©ë‹ˆë‹¤.\n\nì´ë²ˆ ê¸€ì—ì„  ë¸Œëœì¹˜ ë„¤ì´ë° ì»¨ë²¤ì…˜ì„ `type/issue_number` ì™€ ê°™ì€ í˜•ì‹ìœ¼ë¡œ, ì»¤ë°‹ ë©”ì‹œì§€ ì»¨ë²¤ì…˜ì„ `type: message (#1)`ì™€ ê°™ì´ ì„¤ì •í•˜ê² ìŠµë‹ˆë‹¤.<br>\n> ì˜ˆ) ë¸Œëœì¹˜ ë„¤ì´ë° ì»¨ë²¤ì…˜ : `feat/1`<br>\n> ì»¤ë°‹ ë©”ì‹œì§€ ì»¨ë²¤ì…˜ : `feat: ê¸°ëŠ¥ êµ¬í˜„ (#1)`\n\n## 2. ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±\n\ní”„ë¡œì íŠ¸ì˜ ë£¨íŠ¸ ìœ„ì¹˜ ì•„ë˜ì— `.githooks` ë””ë ‰í„°ë¦¬ë¥¼ ë§Œë“¤ê³  ê·¸ ì•ˆì— `commit-msg`ë¥¼ ë§Œë“¤ì–´ì£¼ì„¸ìš”.<br>\n`commit-msg`ëŠ” ë‹¨ìˆœíˆ file í˜•íƒœë¡œ ë§Œë“¤ë©´ ë©ë‹ˆë‹¤.\n\n![ìŠ¤í¬ë¦½íŠ¸ ê²½ë¡œ](script_path.png)\n\n---\n\nê·¸ ë‹¤ìŒ ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤.<br>\nì½”ë“œì— ëŒ€í•œ ì„¤ëª…ì€ ì£¼ì„ì„ ì°¸ê³ í•´ì£¼ì„¸ìš”.\n\n```shell\n#!/bin/sh\n\n# ë³¸ ìŠ¤í¬ë¦½íŠ¸ëŠ” ë¸Œëœì¹˜ ëª…ì„ í† ëŒ€ë¡œ ê°œë°œìê°€ ì‘ì„±í•œ ì»¤ë°‹ ë©”ì‹œì§€ì— ìë™ìœ¼ë¡œ PREFIXì™€ POSTFIX ë¬¸ìì—´ì„ ì¶”ê°€í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ì…ë‹ˆë‹¤.\n# ë¸Œëœì¹˜ ëª…ì€ \"feat/14\" ì™€ ê°™ì´ \"{type}/{issue_number}\" ì˜ í˜•ì‹ì…ë‹ˆë‹¤.\n\nCOMMIT_MESSAGE_FILE_PATH=$1 # ì‘ì„±í•œ ì»¤ë°‹ ë©”ì‹œì§€ê°€ ì €ì¥ëœ Fileì˜ ê²½ë¡œ ì¶”ì¶œ\nMESSAGE=$(cat \"$COMMIT_MESSAGE_FILE_PATH\") # ì‘ì„±í•œ ì»¤ë°‹ ë©”ì‹œì§€ ì¶”ì¶œ\n\n# ì»¤ë°‹ ë©”ì‹œì§€ê°€ ì¡´ì¬í•˜ì§€ ì•Šì€ ê²½ìš°, ìŠ¤í¬ë¦½íŠ¸ ì¢…ë£Œ\nif [[ $(head -1 \"$COMMIT_MESSAGE_FILE_PATH\") == '' ]]; then\n  exit 0\nfi\n\n# ë¸Œëœì¹˜ ì´ë¦„ì—ì„œ '/' ì´ì „ì˜ ë¬¸ìì—´ë§Œ ë‚¨ê¸´ë‹¤. ë§Œì•½ ëª…ì‹œì ìœ¼ë¡œ typeì„ ì‘ì„±í•œ ê²½ìš° ì‘ì„±í•˜ì§€ ì•ŠëŠ”ë‹¤.\nif [[ $MESSAGE != *:* ]]; then\n  PREFIX=\"$(git branch | grep '\\*' | sed 's/\\* //' | sed 's/\\([^/]*\\).*/\\1/'):\"\nfi\n\n# ë¸Œëœì¹˜ ì´ë¦„ì—ì„œ '/' ì´í›„ì˜ ë¬¸ìì—´ë§Œ ë‚¨ê¸´ë‹¤. '/'ê°€ ì—†ë‹¤ë©´ ë¸Œëœì¹˜ ì „ì²´ ì´ë¦„ì´ POSTFIXê°€ ëœë‹¤.\n# POSTFIXì˜ ì²« ë²ˆì§¸ '-' ì• ë’¤ì˜ ë¬¸ìì—´ë§Œ í¬í•¨í•œë‹¤. '-'ê°€ ì—†ë‹¤ë©´ ë³€ê²½ì€ ì—†ë‹¤.\n# ëª…ì‹œì ìœ¼ë¡œ ì´ìŠˆ ë²ˆí˜¸ë¥¼ ì‘ì„±í•œ ê²½ìš° ì‘ì„±í•˜ì§€ ì•ŠëŠ”ë‹¤.\nif [[ $MESSAGE != *#* ]]; then\n  POSTFIX=\"(#$(git branch | grep '\\*' | sed 's/* //' | sed 's/^.*\\///' | sed 's/^\\([^-]*-[^-]*\\).*/\\1/'))\"\nfi\n\nprintf \"%s %s %s\" \"$PREFIX\" \"$MESSAGE\" \"$POSTFIX\" > \"$COMMIT_MESSAGE_FILE_PATH\"\n```\n\n## 3. git hooks ì„¤ì • (Makefile ì´ìš©)\n\ngit hooksë¥¼ ì„¤ì •í•´ì•¼ ì‘ì„±í•œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ **ì ìš©**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì„¤ì •í•˜ê¸° ìœ„í•œ ëª…ë ¹ì–´ëŠ” `git config core.hooksPath .githooks` ì…ë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ git hooks ì„¤ì • ì™¸ì—ë„ ê¶Œí•œ ê´€ë ¨ ì„¤ì •ì„ í•œë²ˆì— í¸í•˜ê²Œ í•˜ê¸° ìœ„í•´ Mac(or Linux) OSì— ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µë˜ëŠ” [Makefile](https://www.gnu.org/software/make/)ë¥¼ ì´ìš©í•˜ê² ìŠµë‹ˆë‹¤.\n\n---\n\ní”„ë¡œì íŠ¸ ë£¨íŠ¸ ê²½ë¡œì— `Makefile`ì„ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.\n\n![Makefile ìœ„ì¹˜](Makefile.png)\n\nMakefileì— ì•„ë˜ì˜ ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.\n\n```shell\ninit:\n\tgit config core.hooksPath .githooks\n\tchmod +x .githooks/commit-msg\n\tgit update-index --add --chmod=+x .githooks/commit-msg\n```\n\n> - Makefile ë¬¸ë²• ìƒ, ë„ì–´ì“°ê¸°ê°€ ì•„ë‹Œ Tabì„ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤.<br>\n> <br>\n> ì½”ë“œ ì„¤ëª…\n> - `git config core.hooksPath .githooks`: git hooksì˜ ìœ„ì¹˜ë¥¼ .githooksë¡œ ë³€ê²½í•©ë‹ˆë‹¤.<br>\n> - `chmod +x .githooks/commit-msg`: ./githooks/commit-msg íŒŒì¼ì„ ì‹¤í–‰í•  ê¶Œí•œì„ ë¶€ì—¬í•©ë‹ˆë‹¤.<br>\n> - `git update-index --add --chmod=+x .githooks/commit-msg`: gitì´ .githooks/commit-msg íŒŒì¼ì„ ì‹¤í–‰í•  ê¶Œí•œì„ ë¶€ì—¬í•©ë‹ˆë‹¤.\n> \n\nê·¸ ë‹¤ìŒ í„°ë¯¸ë„ì—ì„œ `make` ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•´ ìœ„ íŒŒì¼ì„ ì‹¤í–‰ì‹œì¼œì¤ë‹ˆë‹¤.\n\n![ê²°ê³¼](result_after_make.png)\n\n## 4. í™•ì¸í•˜ê¸°\n\nì´ì œ ëë‚¬ìŠµë‹ˆë‹¤.\n\nì§ì ‘ ì»¤ë°‹ì„ ë‚¨ê²¨ë³´ê³  ê·¸ ê²°ê³¼ë¥¼ í™•ì¸í•´ë³´ë©´ Prefixì™€ Postfixê°€ ì¶”ê°€ëœ ìƒíƒœë¡œ ì»¤ë°‹ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!\n\n## ì£¼ì˜ì‚¬í•­ ë° ì ìš© í•´ì œí•˜ê¸°\n\n### ì£¼ì˜ ì‚¬í•­\n\në§Œì•½ í”„ë¡œì íŠ¸ë¥¼ ë ˆí¬ì§€í† ë¦¬ì—ì„œ ìƒˆë¡œ clone í•œ ê²½ìš° í„°ë¯¸ë„ì— `make`ë¥¼ ì…ë ¥í•´ì•¼ ìŠ¤í¬ë¦½íŠ¸ê°€ ì ìš©ë©ë‹ˆë‹¤.\n\n### ì ìš© í•´ì œí•˜ê¸°\n\nì ìš©ì„ í•´ì œí•˜ë ¤ë©´ í„°ë¯¸ë„ì— `git config core.hooksPath .git/hooks`ë¥¼ ì…ë ¥í•´ì„œ ì›ë˜ ì„¤ì •ìœ¼ë¡œ ëŒë ¤ë†“ìœ¼ë©´ ë©ë‹ˆë‹¤.\n\n## ë§ˆì¹˜ë©°\n\ní•´ë‹¹ ê¸€ì—ì„œëŠ” ì ìš© ë°©ë²•ì— ëŒ€í•œ ë‚´ìš©ë§Œ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.\n\në§Œì•½ ê° ê³¼ì •ì˜ ì´ìœ ì— ëŒ€í•´ ì•Œì•„ë³´ê³  ì‹¶ì€ ë¶„ë“¤ì€ [í•´ë‹¹ í¬ìŠ¤íŒ…](https://blog.deercorp.com/commit-convention/)ì„ ì°¸ê³ í•´ì£¼ì„¸ìš”.\n\n### Reference\n> - https://blog.deercorp.com/commit-convention/\n> - https://feb-dain.tistory.com/7"},{"excerpt":"ë“¤ì–´ê°€ë©° ì´ ê¸€ì€ ê·¸ë¦¼ìœ¼ë¡œ ë°°ìš°ëŠ” Http & Network Basic ì±…ì„ ì½ìœ¼ë©° í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤. ì´ë²ˆ ê¸€ì—ì„œëŠ” ì›¹, HTTP, ê·¸ë¦¬ê³  ë„¤íŠ¸ì›Œí¬ì˜ ë°°ê²½ê³¼ ê°„ë‹¨í•œ ë°°ê²½ ì§€ì‹ì— ëŒ€í•´ ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤. ì›¹, ê·¸ë¦¬ê³  ë„¤íŠ¸ì›Œí¬ë¥¼ ê³µë¶€í•´ì•¼ í•˜ëŠ” ì´ìœ  ì±…ì—ëŠ” ì—†ëŠ” ë‚´ìš©ì´ì§€ë§Œ ë„¤íŠ¸ì›Œí¬ë¥¼ ê³µë¶€í•´ì•¼ í•˜ëŠ” ì´ìœ ì— ëŒ€í•´ ìƒê°í•´ë´¤ë‹¤. ì›¹, ê·¸ë¦¬ê³  ë„¤íŠ¸ì›Œí¬ëŠ” í†µì‹ â€¦","fields":{"slug":"/01-comprehension-about-web-and-network-basic/"},"frontmatter":{"date":"January 12, 2024","title":"1ì¥. ì›¹ê³¼ ë„¤íŠ¸ì›Œí¬ì˜ ê¸°ë³¸ì— ëŒ€í•´ ì•Œì•„ë³´ì","tags":["Network"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©°\n\nì´ ê¸€ì€ [ê·¸ë¦¼ìœ¼ë¡œ ë°°ìš°ëŠ” Http & Network Basic](https://m.yes24.com/Goods/Detail/15894097) ì±…ì„ ì½ìœ¼ë©° í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.\n\nì´ë²ˆ ê¸€ì—ì„œëŠ” ì›¹, HTTP, ê·¸ë¦¬ê³  ë„¤íŠ¸ì›Œí¬ì˜ ë°°ê²½ê³¼ ê°„ë‹¨í•œ ë°°ê²½ ì§€ì‹ì— ëŒ€í•´ ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤.\n\n## ì›¹, ê·¸ë¦¬ê³  ë„¤íŠ¸ì›Œí¬ë¥¼ ê³µë¶€í•´ì•¼ í•˜ëŠ” ì´ìœ \n\n> ì±…ì—ëŠ” ì—†ëŠ” ë‚´ìš©ì´ì§€ë§Œ ë„¤íŠ¸ì›Œí¬ë¥¼ ê³µë¶€í•´ì•¼ í•˜ëŠ” ì´ìœ ì— ëŒ€í•´ ìƒê°í•´ë´¤ë‹¤.\n\nì›¹, ê·¸ë¦¬ê³  ë„¤íŠ¸ì›Œí¬ëŠ” **í†µì‹ í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ê°œë…ì´ë‹¤.**<br>\n**í†µì‹ ì€ ê²Œì„, ì‡¼í•‘ëª°, IoT ë¶„ì•¼ ìƒê´€ì—†ì´ IT ì„œë¹„ìŠ¤ì—ì„œëŠ” í•„ìˆ˜ë‹¤.**\n\në”°ë¼ì„œ ìš°ë¦¬ê°€ ì–´ë””ê°€ì„œ ê°œë°œí•œë‹¤ê³  í•˜ë ¤ë©´ ì ì–´ë„ ë„¤íŠ¸ì›Œí¬ê°€ ì–´ë–»ê²Œ êµ¬ì„±ë˜ì–´ ìˆê³ , ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ ì•Œì•„ì•¼ í•œë‹¤ê³  ìƒê°í•œë‹¤.\n\n## í´ë¼ì´ì–¸íŠ¸, ì„œë²„, ê·¸ë¦¬ê³  í”„ë¡œí† ì½œ\n\nê¸°ë³¸ì ìœ¼ë¡œ **ë„¤íŠ¸ì›Œí¬ ìƒì—ì„œ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°€ HTTP í”„ë¡œí† ì½œì„ ì´ìš©í•´ í†µì‹ í•œë‹¤.**\n\n### í´ë¼ì´ì–¸íŠ¸\n\ní†µì‹ ì„ ìš”ì²­í•˜ëŠ” ì¥ì¹˜\n\n### ì„œë²„\n\në°›ì€ ìš”ì²­ì— ë”°ë¼, ì •ë³´ë‚˜ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ì¥ì¹˜\n\n### í”„ë¡œí† ì½œ\n\nì„œë¡œ ë‹¤ë¥¸ ì¥ì¹˜ë“¤ë¼ë¦¬ í†µì‹ í•˜ëŠ” ë°©ì‹ì„ ë¯¸ë¦¬ ì •ì˜í•´ë†“ì€ ì•½ì† ë˜ëŠ” ê·œì¹™\n\n## TCP/IP\n\nTCP/IPëŠ”, ì „ì„¸ê³„ì—ì„œ ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ëŠ” Internet Protocol Suit ì¤‘ í•˜ë‚˜ë‹¤.\n> Internet Protocol Suit: ì¸í„°ë„·ì—ì„œ ì»´í“¨í„° ê°„ í†µì‹ í•˜ëŠ” ë° ì“°ì´ëŠ” í”„ë¡œí† ì½œì˜ ëª¨ìŒ\n\nê¸°ë³¸ì ìœ¼ë¡œ ë„¤íŠ¸ì›Œí¬ ìƒì—ì„œ ì¼ì–´ë‚˜ëŠ” í†µì‹ ì€ TCP/IP í”„ë¡œí† ì½œì„ ì´ìš©í•´ ì´ë£¨ì–´ì§„ë‹¤ê³  ë³´ë©´ ëœë‹¤.<br>\nì±…ì˜ ì£¼ ë‚´ìš©ì¸ HTTP í”„ë¡œí† ì½œë„ TCP/IP í”„ë¡œí† ì½œì— ê¸°ë³¸ì ìœ¼ë¡œ í¬í•¨ëœë‹¤.\n\nTCP/IP í”„ë¡œí† ì½œì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì€ **ê³„ì¸µ êµ¬ì¡°**ë¼ëŠ” ê²ƒì´ë‹¤.\n\n> ì›Œë‚™ ë°©ëŒ€í•œ ë‚´ìš©ì´ì§€ë§Œ í•´ë‹¹ ì±…ì—ì„œëŠ” ê°„ë‹¨í•œ ì†Œê°œ ì •ë„ë§Œ í•˜ê³  ìˆë‹¤.<br>\n> ë³´ë‹¤ ìì„¸í•œ ë‚´ìš©ì€ [í…Œì½”í†¡ - íˆíˆì˜ OSI 7 ê³„ì¸µ](https://youtu.be/1pfTxp25MA8?feature=shared)ê³¼ [í…Œì½”í†¡ - ìˆ˜ë¦¬ì˜ TCP/IP](https://www.youtube.com/watch?v=BEK354TRgZ8)ë¥¼ ì°¸ê³ í•˜ì.\n\n### TCP/IP ê³„ì¸µ êµ¬ì¡°\n\ní†µì‹  ê³¼ì •ì— í•„ìš”í•œ ì‘ì—…ë“¤ì„ ëª¨ë†€ë¦¬ì‹ì´ ì•„ë‹Œ, 4ê³„ì¸µìœ¼ë¡œ ë‚˜ëˆ„ì–´ ê° ê³„ì¸µ ë³„ë¡œ ë‹´ë‹¹í•˜ëŠ” ì‘ì—…ì„ ë‚˜ëˆ´ë‹¤.<br>\në‹¤ì‹œ ë§í•´ ê° ê³„ì¸µì„ **ëª¨ë“ˆí™”**í•˜ì˜€ê³ , ìì—°ìŠ¤ë ˆ ë³€ê²½ì´ ì‰¬ì›Œì§€ë©° ë‹¤ë¥¸ ê³„ì¸µì´ ë­˜ í•˜ëŠ”ì§€ ì•Œ í•„ìš”ê°€ ì „í˜€ ì—†ì–´ë„ ëœë‹¤.\n\n4ê³„ì¸µì€ ì•„ë˜ì™€ ê°™ì´ ë‚˜ë‰œë‹¤.\n\n1. Application Layer\n    - ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ í†µì‹ ì— í•„ìš”í•œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ê³„ì¸µì´ë‹¤.\n    - í”„ë¡œì„¸ìŠ¤ì™€ ìš´ì˜ì²´ì œ ì‚¬ì´ì— ì¡´ì¬í•˜ëŠ” ì†Œì¼“ì„ í†µí•´ ë°ì´í„° ì†¡ìˆ˜ì‹ ì´ ì´ë£¨ì–´ì§„ë‹¤.\n    - HTTP, FTP(File Transport Protocol), DNS(Domain Name System) ë“±ì´ ê³„ì¸µì— í¬í•¨ëœë‹¤.\n\n2. Transport Layer\n    - í†µì‹ ì˜ ì‹ ë¢°ì„±ì„ ë³´ì¥í•˜ëŠ” ì‘ì—…ì„ ì²˜ë¦¬í•œë‹¤.\n    - TCPì™€ UDP ë‘ ê°€ì§€ í”„ë¡œí† ì½œì´ í¬í•¨ëœë‹¤.\n\n3. Internet Layer\n    - ë„¤íŠ¸ì›Œí¬ ìƒì—ì„œ íŒ¨í‚·ì˜ ì´ë™ì„ ì²˜ë¦¬í•œë‹¤.\n    - IP(Internet Protocol)ì´ í¬í•¨ëœë‹¤.\n\n4. Link Layer (Data Link Layer, Network Interface Layer)\n    - ë„¤íŠ¸ì›Œí¬ì— ì ‘ì†í•˜ëŠ” í•˜ë“œì›¨ì–´ì™€ ê´€ë ¨ë¤ ê³„ì¸µì´ë‹¤.\n    - ëœ ì¹´ë“œ, ì¼€ì´ë¸” ë“±ì´ í•´ë‹¹ ê³„ì¸µì— í¬í•¨ëœë‹¤.\n\n### TCP/IP í†µì‹ ì˜ íë¦„\n\nê¸°ë³¸ì ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ëª¨ë‘ **ê³„ì¸µ ìˆœì„œëŒ€ë¡œ ì‘ì—…ì„ ê±°ì³ê°€ë©° í†µì‹ í•œë‹¤.**\n\n![TCP/IP í†µì‹ ì˜ íë¦„ (Network LayerëŠ” Internet Layerë¡œë„ ë¶ˆë¦°ë‹¤.)](flow_of_tcp_ip.png)\n\ní´ë¼ì´ì–¸íŠ¸ì˜ Application Layer -> Transport Layer -> Internet Layer -> Link Layer -> ì„œë²„ì˜ Link Layer -> Internet Layer ->\nTransport Layer -> Application Layer ìˆœì„œëŒ€ë¡œ ê±°ì¹˜ê²Œ ëœë‹¤.\n\n### ìº¡ìŠí™”\n\ní´ë¼ì´ì–¸íŠ¸ì˜ Application Layerì—ì„œ ë§Œë“¤ì–´ì§„ HTTP ë°ì´í„°ëŠ” Transport Layer, Network Layer, Link Layerë¥¼ ê±°ì¹˜ë©° ê° ê³„ì¸µì—ì„œ ë§Œë“¤ì–´ì§„ ë°ì´í„°ê°€ ì¶”ê°€ëœë‹¤.\n\nì´ë ‡ê²Œ ë§Œë“¤ì–´ì§„ ë°ì´í„°ê°€ ì„œë²„ì˜ Link Layerì— ë„ì°©í•˜ê³  HTTP ë°ì´í„°ê°€ ì„œë²„ì˜ Application Layerê¹Œì§€ ë„ë‹¬í•˜ê¸° ìœ„í•´ì„ , ë§ˆì°¬ê°€ì§€ë¡œ ê° ê³„ì¸µì„ ê±°ì¹˜ë©´ì„œ ê° ê³„ì¸µì´ í•„ìš”í•œ ë°ì´í„°ë¥¼ ì‚¬ìš© ë° ì‚­ì œí•˜ê³ \në‹¤ìŒ ê³„ì¸µìœ¼ë¡œ ì „ë‹¬í•œë‹¤.\n\nì´ ê³¼ì •ì„ _ìº¡ìŠí™”_ ë¼ê³  í•œë‹¤.\n\nê° ê³„ì¸µì˜ ë°ì´í„°ë¥¼ ì¶”ê°€í•  ë•Œ, **í—¤ë”**ë¥¼ ì¶”ê°€í•œë‹¤ê³  í•œë‹¤.<br>\nê° ê³„ì¸µ ë³„ë¡œ ì¶”ê°€í•˜ëŠ” í—¤ë”ì˜ ì´ë¦„ì€ ì¡°ê¸ˆì”© ë‹¤ë¥´ë‹¤.\n\nTransport Layerê°€ ì”Œìš°ëŠ” í—¤ë”ëŠ”, **ì„¸ê·¸ë¨¼íŠ¸**<br>\nInternet Layerê°€ ì”Œìš°ëŠ” í—¤ë”ëŠ”, **íŒ¨í‚·**<br>\nLink Layerê°€ ì”Œìš°ëŠ” í—¤ë”ëŠ”, **í”„ë ˆì„** ì´ë¼ê³  ë¶€ë¥¸ë‹¤.\n\n## HTTPì™€ ê´€ê³„ê°€ ê¹Šì€ í”„ë¡œí† ì½œ, IP / TCP / DNS\n\n### IP (Internet Protocol)\n\nì¸í„°ë„· í”„ë¡œí† ì½œ(ì´í•˜ IP)ì€ Internet Layerì— í¬í•¨ëœë‹¤.\n\nIPì˜ ì—­í• ì€ íŒ¨í‚·ì„ ìƒëŒ€ ì»´í“¨í„°ì—ê²Œ ì „ë‹¬í•˜ëŠ” ê²ƒì´ë‹¤.\n\níŒ¨í‚·ì„ ì „ë‹¬í•˜ê¸° ìœ„í•´ì„œëŠ” ë§ì€ ì •ë³´ê°€ í•„ìš”í•˜ë‹¤.<br>\nê·¸ ì¤‘ì—ì„œë„ IP ì£¼ì†Œì™€ MAC ì£¼ì†Œê°€ ì¤‘ìš”í•˜ê²Œ ì‘ìš©í•œë‹¤.\n\n- IP ì£¼ì†Œ\n  - ë„¤íŠ¸ì›Œí¬ í†µì‹ ì— ìˆì–´ ê°ê°ì˜ í†µì‹ ê¸°ê¸°ì— í• ë‹¹ëœ ì£¼ì†Œë‹¤. \n  - ì¸í„°ë„· ì„œë¹„ìŠ¤ ê³µê¸‰ì(ISP)ì— ì˜í•´ í• ë‹¹ë°›ëŠ”ë‹¤.\n  - ê³ ìœ í•œ ì£¼ì†Œê°€ ì•„ë‹ˆë‹¤. ê²½ìš°ì— ë”°ë¼ ë³€ê²½ë  ìˆ˜ ìˆë‹¤.\n\n- MAC ì£¼ì†Œ\n  - ë„¤íŠ¸ì›Œí¬ì— ì¡´ì¬í•˜ëŠ” ë…¸ë“œì˜ NICì™€ ê°™ì€ í•˜ë“œì›¨ì–´ì— ê³ ìœ ì ìœ¼ë¡œ ë¶€ì—¬ëœ ì£¼ì†Œë‹¤.\n  - ë³€í•˜ì§€ ì•ŠëŠ”ë‹¤.\n\nIP ì£¼ì†Œì™€ MAC ì£¼ì†Œë¥¼ ì´ìš©í•´ ë„ì°©ì§€ë¥¼ íŒŒì•…í•œë‹¤.<br>\nê·¸ëŸ°ë° IP ì£¼ì†ŒëŠ” ê°€ë³€ì„±ì´ ìˆê¸° ë•Œë¬¸ì— ë„ì°©ì§€ ì •ë³´ë¥¼ IP ì£¼ì†Œì—ì„œ MAC ì£¼ì†Œë¡œ ë³€í™˜í•˜ì—¬ ì •í™•í•œ ìœ„ì¹˜ë¥¼ íŒŒì•…í•˜ëŠ” ê²ƒì´ í•„ìš”í•˜ë‹¤.\n\nì´ë•Œ ì‚¬ìš©ë˜ëŠ” í”„ë¡œí† ì½œì´ _ARP(Address Resolution Protocol) í”„ë¡œí† ì½œ_ ì´ë‹¤.\n\nIPì—ì„œ ë˜ ì¤‘ìš”í•œ ê²ƒì€ **ë¼ìš°íŒ…**ì´ë‹¤.<br>\në¼ìš°íŒ…ì€ ë„¤íŠ¸ì›Œí¬ ìƒì—ì„œ íŒ¨í‚·ì´ ì „ë‹¬ë  ë•Œ ìµœì ì˜ ê²½ë¡œë¥¼ ì„ íƒí•˜ëŠ” ê³¼ì •ì´ë‹¤.<br>\n\n### TCP (Transfer Control Protocol)\n\nTCPëŠ” Transport Layerì— í¬í•¨ëœë‹¤.\n\nTCPëŠ” ë°ì´í„° ì „ë‹¬ ë³´ì¦, íŒ¨í‚· ì „ë‹¬ ìˆœì„œë¥¼ ë³´ì¥í•œë‹¤.\n\n_[3 way handshake](https://www.geeksforgeeks.org/tcp-3-way-handshake-process/)_ ë¥¼ í†µí•´ ë°ì´í„° ì „ë‹¬ì˜ ì‹ ë¢°ì„±ì„ ë³´ì¥í•œë‹¤.<br>\nì—¬ëŸ¬ íŒ¨í‚·ë“¤ì„ ì„¸ê·¸ë¨¼íŠ¸ë¡œ ë‚˜ëˆ„ê³  ê° ì„¸ê·¸ë¨¼íŠ¸ì— ë²ˆí˜¸ë¥¼ ë¶€ì—¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ íŒ¨í‚·ì˜ ì „ë‹¬ ìˆœì„œë¥¼ ë³´ì¥í•œë‹¤.\n\n### DNS (Domain Name Service)\n\nDNSëŠ” Application Layerì— í¬í•¨ëœë‹¤.\n\nDNSì˜ ì—­í• ì€ ì‚¬ëŒì´ ê¸°ì–µí•˜ê¸° ì–´ë ¤ìš´ IP ì£¼ì†Œì™€ MAC ì£¼ì†Œì— ì´ë¦„(ë„ë©”ì¸)ì„ ë¶™ì—¬ ì‚¬ìš©í•˜ê¸° ì‰½ë„ë¡ ì´ë¦„ì„ IP ì£¼ì†Œë¡œ ë³€í™˜í•˜ëŠ” ì‘ì—…ì´ë‹¤.\n\n### ì „ì²´ ê³¼ì •\n\nHTTP, DNS, TCP, IPê°€ ë™ì‘í•˜ëŠ” ì „ì²´ ê³¼ì •ì˜ ê·¸ë¦¼ì„ í†µí•´ ë‹¤ì‹œ ì´í•´í•´ë³´ì. \n\n![í†µì‹ ì˜ ì „ì²´ ê³¼ì •](overview_connect.jpeg)\n\n## URIì™€ URL\n\nURI(Uniform Resource Identifier)ì€ ë„¤íŠ¸ì›Œí¬ ìƒì—ì„œ ë¦¬ì†ŒìŠ¤ë¥¼ ì‹ë³„í•  ìˆ˜ ìˆëŠ” ìˆ˜ë‹¨ì„ ì œê³µí•œë‹¤.\n\nURIì—ëŠ” ë¦¬ì†ŒìŠ¤ì˜ ìœ„ì¹˜ë¥¼ ê°€ë¦¬í‚¤ëŠ” URL(Uniform Resources Location)ê³¼ ë¦¬ì†ŒìŠ¤ì˜ ì´ë¦„ì„ ì§€ì •í•˜ëŠ” URN(Uniform Resources Name)ìœ¼ë¡œ ë‚˜ë‰œë‹¤.<br>\nURN ë§Œìœ¼ë¡œ ì‹¤ì œ ë¦¬ì†ŒìŠ¤ë¥¼ ì‹ë³„í•˜ëŠ” ë°©ë²•ì´ ë³´í¸í™”ë˜ì§€ ì•Šê³  URL ë°©ì‹ì´ ë³´í¸í™”ë˜ì—ˆë‹¤.<br>\nê·¸ë˜ì„œ ì‚¬ì‹¤ìƒ URIì™€ URLì„ ê°™ì€ ì˜ë¯¸ë¡œ ì‚¬ìš©í•œë‹¤.\n\n### URL ë¬¸ë²•\n\n```text\nschema://[user:password@]server address[:port][/path][?query][#fragment]\n\nhttps://www.google.com:443/search?q=google&hl=ko\n```\n\n- schema (https)\n  - ì‚¬ìš©í•  í”„ë¡œí† ì½œì„ ì§€ì •í•œë‹¤.\n\n- user:password\n  - ë¦¬ì†ŒìŠ¤ë¥¼ ì–»ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ì¸ì¦ ì •ë³´ë¥¼ ì§€ì •í•œë‹¤.\n  - ìƒëµ ê°€ëŠ¥í•˜ë‹¤.\n  \n- server address (www.google.com, localhost, celuveat.com)\n  - í†µì‹ ì„ ìš”ì²­í•  ì„œë²„ì˜ ì£¼ì†Œë¥¼ ì§€ì •í•œë‹¤.\n  - ë„ë©”ì¸ ì´ë¦„ì´ë‚˜ IP ì£¼ì†Œë¥¼ ì…ë ¥í•œë‹¤.\n  \n- port (:80, :8080, :443, :22)\n  - ì„œë²„ì˜ ì ‘ì† ëŒ€ìƒì´ ë˜ëŠ” í¬íŠ¸ ë²ˆí˜¸ë¥¼ ì§€ì •í•œë‹¤.\n  - `:`ë¡œ ì‹œì‘í•œë‹¤.\n  - ìƒëµ ê°€ëŠ¥í•˜ë‹¤.\n    - ìƒëµí•˜ë©´ schemaì— ë”°ë¼ default portê°€ ì‚¬ìš©ëœë‹¤.\n  \n- path (/search)\n  - ë¦¬ì†ŒìŠ¤ì˜ ê²½ë¡œë¥¼ ì§€ì •í•œë‹¤.\n  - `/`ë¡œ ì‹œì‘í•œë‹¤.\n  - ìƒëµ ê°€ëŠ¥í•˜ë‹¤.\n\n- query (?q=google&hl=ko)\n  - ì§€ì •ëœ ë¦¬ì†ŒìŠ¤ì— ì„ì˜ì˜ ê°’ì„ ì „ë‹¬í•˜ê¸° ìœ„í•´ ì§€ì •í•œë‹¤.\n  - `?`ë¡œ ì‹œì‘í•˜ë©° `key=value` í˜•íƒœë¡œ ì‘ì„±í•˜ê³  ê° ê°’ì€ `&`ë¥¼ í†µí•´ êµ¬ë¶„í•œë‹¤.\n  - ìƒëµ ê°€ëŠ¥í•˜ë‹¤.\n  - query parameter, query stringë¼ê³ ë„ ë¶ˆë¦°ë‹¤.\n\n- fragment\n  - ì·¨ë“í•œ ë¦¬ì†ŒìŠ¤ì—ì„œ ì„œë¸Œ ë¦¬ì†ŒìŠ¤(íŠ¹ì • ìœ„ì¹˜)ë¥¼ ê°€ë¦¬í‚¤ê¸° ìœ„í•œ ê°’ì„ ì§€ì •í•œë‹¤.\n    - html ë‚´ë¶€ ë¶ë§ˆí¬ ë“±ì— ì‚¬ìš©í•œë‹¤.\n    - ì˜ˆ) https://docs.spring.io/spring-framework/reference/web/websocket.html#when-to-use-websockets\n  - ì„œë²„ë¡œ ì „ì†¡í•˜ëŠ” ì •ë³´ê°€ ì•„ë‹ˆë‹¤.\n\n### Reference\n\n> - [ê·¸ë¦¼ìœ¼ë¡œ ë°°ìš°ëŠ” Http & Network Basic](https://m.yes24.com/Goods/Detail/15894097)\n> - [ëª¨ë“  ê°œë°œìë¥¼ ìœ„í•œ HTTP ì›¹ ê¸°ë³¸ ì§€ì‹](https://inf.run/8ZEU8)\n"},{"excerpt":"@Controllerì™€ @RestControllerì˜ ì—­í• ê³¼ ì°¨ì´ì ì— ëŒ€í•´ ì•Œì•„ë³´ê¸° ì „ì—, ë‘˜ì˜ ê·¼ë³¸ì´ ë˜ëŠ” Controllerì˜ ì—­í• ì— ëŒ€í•´ ì´ì•¼ê¸°í•˜ê² ìŠµë‹ˆë‹¤. (ì—¬ê¸°ì„œ ControllerëŠ” Spring MVCì—ì„œì˜ Controllerë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.) Controllerì˜ ì—­í• ì€? ì œê°€ ìƒê°í•˜ëŠ” Controllerì˜ ì—­í• ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. ì‚¬ìš©ìì˜ ìš”ì²­â€¦","fields":{"slug":"/difference-of-controller-and-restcontroller/"},"frontmatter":{"date":"January 12, 2024","title":"[Spring] @Controllerì™€ @RestController ë¹„êµí•˜ê¸°","tags":["Spring","Spring MVC"]},"rawMarkdownBody":"\n@Controllerì™€ @RestControllerì˜ ì—­í• ê³¼ ì°¨ì´ì ì— ëŒ€í•´ ì•Œì•„ë³´ê¸° ì „ì—, ë‘˜ì˜ ê·¼ë³¸ì´ ë˜ëŠ” Controllerì˜ ì—­í• ì— ëŒ€í•´ ì´ì•¼ê¸°í•˜ê² ìŠµë‹ˆë‹¤. (ì—¬ê¸°ì„œ ControllerëŠ” Spring MVCì—ì„œì˜ Controllerë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.)\n\n## Controllerì˜ ì—­í• ì€?\n\nì œê°€ ìƒê°í•˜ëŠ” Controllerì˜ ì—­í• ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n1. **ì‚¬ìš©ìì˜ ìš”ì²­ì„ ì²˜ë¦¬í•œë‹¤.**\n- ì…ë ¥ë˜ëŠ” ë°ì´í„°ë¥¼ ì²˜ë¦¬í•œë‹¤.\n- ì‚¬ìš©ìì˜ ìš”ì²­ì— ë”°ë¼ ìˆ˜í–‰í•  ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ê²°ì •í•œë‹¤.\n2. **ìš”ì²­ì˜ ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤.**\n\nì´ë•Œ, ì‚¬ìš©ìì˜ ìš”ì²­ì„ URIì™€ ë§¤í•‘í•˜ì—¬ ê°ê¸° ë‹¤ë¥´ê²Œ ì²˜ë¦¬í•©ë‹ˆë‹¤.\nì´ë¥¼ ìœ„í•´ @RequestMapping ì„ ì´ìš©í•˜ì—¬ ì–´ë–¤ URI ìš”ì²­ì„ ì²˜ë¦¬í• ì§€ ê²°ì •í•©ë‹ˆë‹¤.\n\n## @Controller, @RestController ì‚´í´ë³´ê¸°\n\nìš°ì„  [@Controller docs](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/stereotype/Controller.html)ë¥¼ ë¨¼ì € ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\n\n> Indicates that an annotated class is a \"Controller\" (e.g. a web controller).\nThis annotation serves as a specialization of @Component, allowing for implementation classes to be autodetected through classpath scanning. It is typically used in combination with annotated handler methods based on the RequestMapping annotation.\n>\n> ì´ ì• ë…¸í…Œì´ì…˜ì´ í´ë˜ìŠ¤ê°€ \"ì»¨íŠ¸ë¡¤ëŸ¬\" ì„ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. (ì˜ˆ: ì›¹ ì»¨íŠ¸ë¡¤ëŸ¬)\n> ì´ ì• ë…¸í…Œì´ì…˜ì€ í´ë˜ìŠ¤ ê²½ë¡œ íƒìƒ‰ì„ í†µí•´ ìë™ìœ¼ë¡œ íƒì§€ë˜ë„ë¡ í—ˆìš©í•¨ìœ¼ë¡œì¨  [@Component](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/stereotype/Component.html)ì˜ íŠ¹ë³„ì„±ì„ ì œê³µí•©ë‹ˆë‹¤.\n> ë³´í†µ [@RequestMapping](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html) ì´ ë‹¬ë¦° ë©”ì„œë“œì™€ í•¨ê»˜ ì‚¬ìš©ë©ë‹ˆë‹¤.\n\në˜í•œ ë‚´ë¶€ì— Optional Elementë¡œì„œ `String value` ë§Œì„ ê°€ì§‘ë‹ˆë‹¤.\nì´ valueëŠ” **logical component name**ì„ ê°€ë¦¬í‚¨ë‹¤ê³  í•©ë‹ˆë‹¤. ì¦‰, Controller í´ë˜ìŠ¤ê°€ Beanìœ¼ë¡œ ë“±ë¡ë  ë•Œì˜ **ì´ë¦„**ì„ ë³€ê²½í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•˜ëŠ” ìš”ì†Œì…ë‹ˆë‹¤.\n\n---\n\në‹¤ìŒìœ¼ë¡œ [@RestController docs](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RestController.html)ë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\n\n> A convenience annotation that is itself annotated with @Controller and @ResponseBody.\nTypes that carry this annotation are treated as controllers where @RequestMapping methods assume @ResponseBody semantics by default.\n>\n> @RestControllerëŠ” ê·¸ ìì²´ë¡œ @Controllerì™€ @ResponseBodyê°€ í•¨ê»˜ ìˆëŠ” í¸ë¦¬í•œ ì• ë…¸í…Œì´ì…˜ì…ë‹ˆë‹¤. ì´ ì• ë…¸í…Œì´ì…˜ì´ í¬í•¨ëœ íƒ€ì…ì€ @RequestMappingê°€ ë‹¬ë¦° ë©”ì„œë“œì— ê¸°ë³¸ì ìœ¼ë¡œ @ResponseBodyë„ í•¨ê»˜ ì˜ë¯¸í•©ë‹ˆë‹¤.\n>\n> NOTE: @RestController is processed if an appropriate HandlerMapping-HandlerAdapter pair is configured such as the RequestMappingHandlerMapping-RequestMappingHandlerAdapter pair which are the default in the MVC Java config and the MVC namespace.\n>\n> ì£¼ì˜: @RestControllerëŠ” `RequestMappingHandlerMapping-RequestMappingHanlderAdapter`ì™€ ê°™ì€ ê¸°ë³¸ì ì¸ MVC Java Configì™€ MVC namespaceë¥¼ ê°€ì§„ `HandlerMapping-HandlerAdapter` ìŒì´ ì„¤ì •ë˜ì—ˆì„ ë•Œ ì²˜ë¦¬ë©ë‹ˆë‹¤.\n\n@Controllerì™€ ë§ˆì°¬ê°€ì§€ë¡œ ë‚´ë¶€ì— `String value` Element ë§Œì„ ê°€ì§‘ë‹ˆë‹¤. ì˜ë¯¸í•˜ëŠ” ë°”ë„ ê°™ìŠµë‹ˆë‹¤.\ní•˜ì§€ë§Œ í° ì°¨ì´ê°€ í•˜ë‚˜ ìˆìŠµë‹ˆë‹¤. ë°”ë¡œ `@ResponseBody`ë¥¼ í¬í•¨í•œë‹¤ëŠ” ê²ƒì¸ë°ìš”.\nê·¸ë ‡ë‹¤ë©´ @ResponseBodyê°€ ë¬´ì—‡ì¸ì§€ ì•Œì•„ë³´ê¸° ìœ„í•´ [ê³µì‹ë¬¸ì„œ](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ResponseBody.html)ë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\n\n> Annotation that indicates a method return value should be bound to the web response body.\n>\n>As of version 4.0 this annotation can also be added on the type level in which case it is inherited and does not need to be added on the method level.\n>\n> ì´ ì• ë…¸í…Œì´ì…˜ì´ ê°€ë¦¬í‚¤ëŠ” ë©”ì„œë“œëŠ” ì›¹ ì‘ë‹µ bodyì— ê°’ì„ ë°˜í™˜í•˜ëŠ” ì˜ë¬´ë¥¼ ê°€ì§‘ë‹ˆë‹¤.\n>\n> ë²„ì „ 4.0ë¶€í„°ëŠ” type(class, interface, or enum)ì— ì¶”ê°€í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì´ ê²½ìš° ìƒì†ì´ ë˜ë©°, ë©”ì„œë“œì— ì¶”ê°€í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.\n\ní•µì‹¬ì€ **ì´ ì• ë…¸í…Œì´ì…˜ì´ ê°€ë¦¬í‚¤ëŠ” ë©”ì„œë“œëŠ” ì›¹ ì‘ë‹µì‹œ bodyë¶€ì— ê°’ì„ ë°˜í™˜í•œë‹¤** ì…ë‹ˆë‹¤.\nì¶”ê°€ë¡œ 'class, interface, enum'ì— ì‘ì„±í•  ìˆ˜ ìˆê³ , ì´ ê²½ìš° ë©”ì„œë“œì— ë”°ë¡œ ëª…ì‹œë¥¼ ì•ˆí•´ì¤˜ë„ ëœë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\n## ê²°ë¡ \n\nê·¸ë ‡ë‹¤ë©´ ì´ë ‡ê²Œ ê²°ë¡ ì§€ì„ ìˆ˜ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\n\n@ControllerëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì›¹ MVCì—ì„œ Controllerì˜ ì—­í• ì„ í•œë‹¤.\n@RestControllerëŠ” @Controllerì— @ResponseBodyì˜ ì˜ë¯¸ë¥¼ í•¨ê»˜ ê°€ì§„ë‹¤. ë”°ë¼ì„œ í•´ë‹¹ ì»¨íŠ¸ë¡¤ëŸ¬ ë‚´ ëª¨ë“  ë©”ì„œë“œë“¤ì€ ë°˜í™˜ ì‹œ, ì›¹ ì‘ë‹µ bodyë¶€ì— ê°’ì„ ë„£ì–´ ë°˜í™˜í•œë‹¤.\n\nì¦‰, ì‚¬ìš©ìì˜ ìš”ì²­ì— ë”°ë¼ **ë°ì´í„°ì˜ í˜•ì‹**ì„ ë‹¤ë¥´ê²Œ ë°˜í™˜í•˜ê³  ì‹¶ì„ ë•Œ, ì´ ë‘˜ì„ êµ¬ë¶„í•´ì„œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.\n\n## ì½”ë“œë¡œ ë¹„êµí•˜ê¸°\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>This is tmpPage.html</title>\n</head>\n<body>\nThis is tmpPage.html\n</body>\n</html>\n```\n\n```java\n@Controller\npublic class JustController {\n\n    @GetMapping(\"/Controller\")\n    public String justController() {\n        return \"tmpPage\";\n    }\n\n    @GetMapping(\"/RestController\")\n    @ResponseBody\n    public String restController() {\n        return \"tmpPage\";\n    }\n}\n\n```\n\në‘ ë©”ì„œë“œëŠ” URIë¥¼ ê°ê° \"/Controller\", \"/RestController\"ì— ë§¤í•‘í•˜ì—¬ ìš”ì²­ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.\n\nì´ë•Œ \"localhost:8080/Controller\"ì— Get ë°©ì‹ìœ¼ë¡œ ìš”ì²­í–ˆì„ ë•Œ ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ê°€ ë‚˜ì˜µë‹ˆë‹¤.\n\n![](https://velog.velcdn.com/images/donghokim1998/post/e7e0d11d-cc8f-4189-9a61-8b2221543629/image.png)\n\në‹¤ìŒì€ \"/RestController\" ì— Get ë°©ì‹ìœ¼ë¡œ ìš”ì²­í–ˆì„ ë•Œì˜ ê²°ê³¼ì…ë‹ˆë‹¤.\n\n![](https://velog.velcdn.com/images/donghokim1998/post/27ab1cd6-6895-4364-ad84-62bb6d187fb0/image.png)\n\nì½”ë“œ ìƒìœ¼ë¡œëŠ” ê°™ì€ \"tmpPage\" ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\ní•˜ì§€ë§Œ @ResponseBody ê°€ ë¶™ì§€ ì•Šì€ ë©”ì„œë“œì¸, `justController()`ì˜ ê²½ìš° Spring ë‚´ì˜ [ViewResolver](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/ViewResolver.html)ì— ì˜í•´ viewë¡œ ë³€í™˜ì´ ë©ë‹ˆë‹¤.\n\në°˜ë©´ `restController()`ì˜ ê²½ìš° ë¬¸ìì—´ \"tmpPage\"ì´ ê·¸ëŒ€ë¡œ Bodyì— ë°˜í™˜ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."},{"excerpt":"ë“¤ì–´ê°€ë©° MySQLì—ëŠ” 4ê°€ì§€ì˜ ê²©ë¦¬ ìˆ˜ì¤€ì´ ì¡´ì¬í•œë‹¤. ê²©ë¦¬ ìˆ˜ì¤€ì— ë”°ë¼ ê°™ì€ ìƒí™©, ê·¸ë¦¬ê³  ê°™ì€ ì¿¼ë¦¬ë¼ í•˜ë”ë¼ë„ ê²°ê³¼ê°€ ë§¤ë²ˆ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤.\nì´ë¡œ ì¸í•´ ì •í•©ì„± ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ìš°ë¦¬ê°€ ì‹¤í–‰í•˜ëŠ” ì¿¼ë¦¬ë¬¸ì´ ì ì–´ë„ ê²©ë¦¬ ìˆ˜ì¤€ì— ë”°ë¼ ì–´ë–¤ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¬ ì§€ ì •í™•í•˜ê²Œ ì˜ˆì¸¡í•  ìˆ˜ ìˆì–´ì•¼ í•˜ê¸°ì—, MySQLì˜ ê²©ë¦¬ ìˆ˜ì¤€ì— ëŒ€í•´ ì´í•´í•´ë³´ì. íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜â€¦","fields":{"slug":"/05-isolation-level-of-MySQL/"},"frontmatter":{"date":"January 11, 2024","title":"MySQLì˜ ê²©ë¦¬ ìˆ˜ì¤€","tags":["database","MySQL"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©°\n\nMySQLì—ëŠ” 4ê°€ì§€ì˜ ê²©ë¦¬ ìˆ˜ì¤€ì´ ì¡´ì¬í•œë‹¤.\n\nê²©ë¦¬ ìˆ˜ì¤€ì— ë”°ë¼ ê°™ì€ ìƒí™©, ê·¸ë¦¬ê³  ê°™ì€ ì¿¼ë¦¬ë¼ í•˜ë”ë¼ë„ ê²°ê³¼ê°€ ë§¤ë²ˆ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤.<br>\nì´ë¡œ ì¸í•´ ì •í•©ì„± ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\n\nìš°ë¦¬ê°€ ì‹¤í–‰í•˜ëŠ” ì¿¼ë¦¬ë¬¸ì´ ì ì–´ë„ ê²©ë¦¬ ìˆ˜ì¤€ì— ë”°ë¼ ì–´ë–¤ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¬ ì§€ ì •í™•í•˜ê²Œ ì˜ˆì¸¡í•  ìˆ˜ ìˆì–´ì•¼ í•˜ê¸°ì—, MySQLì˜ ê²©ë¦¬ ìˆ˜ì¤€ì— ëŒ€í•´ ì´í•´í•´ë³´ì.\n\n## íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€\n\níŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€ì´ë€, **ì—¬ëŸ¬ íŠ¸ëœì­ì…˜ì´ ë™ì‹œì— ì²˜ë¦¬ë  ë•Œ íŠ¹ì • íŠ¸ëœì­ì…˜ì´ ë³€ê²½í•˜ëŠ” ê°’ì„ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì´ ì¡°íšŒí•  ë•Œ ì–´ë–¤ ê°’ì„ ë°˜í™˜í•  ì§€ ê²°ì •í•˜ëŠ” ê²ƒ**ì´ë‹¤.\n\nMySQLì˜ íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€ì€ ì´ 4ê°€ì§€ë‹¤.\n\n- Read Uncommitted\n- Read Committed\n- Repeatable Reade\n- Serializable\n\nê° ê²©ë¦¬ ìˆ˜ì¤€ì— ë”°ë¼ ë™ì¼í•œ ìƒí™©ì—ì„œ ì¡°íšŒ ê²°ê³¼ê°€ ë‹¬ë¼ì§„ë‹¤.<br>\nê·¸ë¦¬ê³  íŠ¸ëœì­ì…˜ì„ ë™ì‹œì— ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ì„±ëŠ¥ì˜ ì°¨ì´ë„ ë°œìƒí•œë‹¤.\n\nì¼ë°˜ì ì¸ ì˜¨ë¼ì¸ ì„œë¹„ìŠ¤ ìš©ë„ì˜ ë°ì´í„°ë² ì´ìŠ¤ëŠ” _Read Committed_ì™€ _Repeatable Read_ ì¤‘ í•˜ë‚˜ë¥¼ ì‚¬ìš©í•œë‹¤.<br>\nMySQLì€ ì£¼ë¡œ _Repeatable Read_ë¥¼ ì‚¬ìš©í•œë‹¤.\n\n|                  | Dirty Read | Non-Repeatable Read | Phantom Read  |\n|:----------------:|:----------:|:-------------------:|:-------------:|\n| Read Uncommitted |     O      |          O          |       O       |\n|  Read Committed  |     X      |          O          |       O       |\n|  RepeatableRead  |     X      |          X          | O (InnoDBëŠ” X) |\n|   Serializable   |     X      |          X          |       X       |\n\n## Read Uncommitted\n\në¨¼ì € ê·¸ë¦¼ìœ¼ë¡œ ì´í•´í•´ë³´ì.\n\n![](read_uncommitted_1.png)\n\níŠ¸ëœì­ì…˜ 1ë²ˆì´ íŠ¹ì • ë ˆì½”ë“œì— UPDATE ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.<br>\në™ì‹œì— ì–¸ë‘ ë¡œê·¸ì—ëŠ” ë³€ê²½ë˜ê¸° ì „ì˜ ê°’ì´ ì €ì¥ëœë‹¤.\n\níŠ¸ëœì­ì…˜ 1ë²ˆì´ ì»¤ë°‹ì´ë‚˜ ë¡¤ë°±í•˜ê¸° ì „, íŠ¸ëœì­ì…˜ 2ë²ˆì— ì˜í•´ `id=2`ì¸ ë ˆì½”ë“œë¥¼ ì¡°íšŒí•˜ëŠ” ìƒí™©ì— Read UncommittedëŠ” ì•„ë˜ê°™ì´ ìˆ˜í–‰ëœë‹¤.\n\n![](read_uncommitted_2.png)\n\níŠ¸ëœì­ì…˜ 2ë²ˆì€ ë²„í¼ í’€ì— ìˆëŠ” ê°’ì„ ì¡°íšŒí•œë‹¤.\n\në§Œì•½ ì´í›„ì— íŠ¸ëœì­ì…˜ 1ë²ˆì´ ë¡¤ë°±ëœë‹¤ë©´, íŠ¸ëœì­ì…˜ 2ë²ˆì˜ ì¡°íšŒ ê²°ê³¼ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì— ì¡´ì¬í•˜ì§€ ì•Šì€ ê²°ê³¼ê°€ ëœë‹¤.<br>\nì¦‰, ì •í•©ì„±ì— í¬ë¦¬í‹°ì»¬í•œ ë¬¸ì œê°€ ë°œìƒí•œë‹¤.\n\níŠ¹ì • íŠ¸ëœì­ì…˜ì—ì„œ ì²˜ë¦¬í•œ ì‘ì—…ì´ ì™„ë£Œë˜ì§€ ì•Šì•˜ëŠ”ë°ë„ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ ë³¼ ìˆ˜ ìˆëŠ” í˜„ìƒì„ *Dirty Read*ë¼ê³  í•œë‹¤.<br>\n**_Read Uncommitted_ ì—ì„œëŠ” ì´ _Dirty Read_ ë¬¸ì œê°€ ë°œìƒí•œë‹¤.**\n\n## Read Committed\n\nì´ë²ˆì—ë„ ì—­ì‹œ ê·¸ë¦¼ìœ¼ë¡œ ì´í•´í•´ë³´ì.\n\n![](read_uncommitted_1.png)\n\nìœ„ì™€ ë™ì¼í•œ ìƒí™©ì´ë‹¤.<br>\në§ˆì°¬ê°€ì§€ë¡œ íŠ¸ëœì­ì…˜ 1ë²ˆì´ Commit ë˜ê¸° ì „, íŠ¸ëœì­ì…˜ 2ë²ˆì´ ì¡°íšŒí•˜ëŠ” ìƒí™©ì— Read Committed ê²©ë¦¬ ìˆ˜ì¤€ì€ ì•„ë˜ê°™ì´ ìˆ˜í–‰ëœë‹¤.\n\n![](read_committed.png)\n\n_Read Uncommitted_ ì™€ ë‹¬ë¦¬ ë²„í¼ í’€ì´ ì•„ë‹Œ, **ì–¸ë‘ ë¡œê·¸ì— ìˆëŠ” ê°’ì„ ì¡°íšŒí•œë‹¤.**<br>\nì¦‰, **ì»¤ë°‹ì´ë‚˜ ë¡¤ë°±ë˜ì§€ ì•Šì€ ë³€ê²½ì€ ì¡°íšŒí•˜ì§€ ì•Šê²Œ ëœë‹¤.**\n\në”°ë¼ì„œ Dirty Read ë¬¸ì œëŠ” ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.<br>\ní•˜ì§€ë§Œ ë‹¤ë¥¸ ë¬¸ì œê°€ ì¡´ì¬í•œë‹¤.\n\n![](non_repeatable_read.png)\n\níŠ¸ëœì­ì…˜ 2ë²ˆì˜ ì…ì¥ì—ì„œ **í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ ì•ˆì—ì„œ ë™ì¼í•œ ì¿¼ë¦¬ì˜ ê²°ê³¼ê°€ ë‹¬ë¼ì§„ë‹¤.**<br>\n\nì´ëŸ¬í•œ ë¬¸ì œë¥¼ _Non-Repeatable Read_ ë¬¸ì œë¼ê³  í•˜ë©°, ë¶„ëª…í•˜ê²Œ ì •í•©ì„±ì— ì˜¤ë¥˜ê°€ ì¡´ì¬í•˜ëŠ” ë¬¸ì œë‹¤.\n\n## Repeatable Read\n\n**MySQLì—ì„œ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ê²©ë¦¬ ìˆ˜ì¤€ì´ë‹¤.**\n\n_Read Committed_ ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ì–¸ë‘ ë¡œê·¸ì— ì¡´ì¬í•˜ëŠ” ê°’ì„ ì¡°íšŒí•œë‹¤.<br>\ní•˜ì§€ë§Œ ì°¨ì´ê°€ ìˆë‹¤ë©´, ì–¸ë‘ ë¡œê·¸ì— ë°±ì—…ëœ ë ˆì½”ë“œì˜ ì—¬ëŸ¬ ë²„ì „ ì¤‘ ëª‡ ë²ˆì§¸ ì´ì „ ë²„ì „ê¹Œì§€ ì¡°íšŒí•  ê²ƒì¸ê°€ì— ì°¨ì´ê°€ ìˆë‹¤.\n\në” ìì„¸íˆ ì•Œì•„ë³´ì.\n\nëª¨ë“  InnoDBì˜ íŠ¸ëœì­ì…˜ì€ ê³ ìœ  ë²ˆí˜¸ë¥¼ ê°€ì§€ë©°, ì–¸ë‘ ë¡œê·¸ì˜ ëª¨ë“  ë ˆì½”ë“œì—ëŠ” ë³€ê²½ì„ ë°œìƒì‹œí‚¨ íŠ¸ëœì­ì…˜ì˜ ë²ˆí˜¸ê°€ í¬í•¨ëœë‹¤.<br>\nê·¸ë¦¬ê³  ì–¸ë‘ ë¡œê·¸ì˜ ë°ì´í„°ëŠ” InnoDBê°€ ë¶ˆí•„ìš”í•˜ë‹¤ê³  íŒë‹¨ë˜ëŠ” ì‹œì ì— ì£¼ê¸°ì ìœ¼ë¡œ ì‚­ì œí•œë‹¤.\n\n_Repeatable Read_ ê²©ë¦¬ ìˆ˜ì¤€ì¼ ë•ŒëŠ” ì •í•©ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ **ì‹¤í–‰ ì¤‘ì¸ íŠ¸ëœì­ì…˜ ì¤‘, ê°€ì¥ ì˜¤ë˜ëœ íŠ¸ëœì­ì…˜ ë²ˆí˜¸ë³´ë‹¤ ë” ì•ì„  ì–¸ë‘ ë¡œê·¸ì˜ ë°ì´í„°ëŠ” ì‚­ì œí•  ìˆ˜ ì—†ë‹¤.**\n\në” ì •í™•í•˜ê²ŒëŠ” **íŠ¹ì • íŠ¸ëœì­ì…˜ ë²ˆí˜¸ì˜ êµ¬ê°„ ë‚´ì—ì„œ ë°±ì—…ëœ ì–¸ë‘ ë°ì´í„°ë¥¼ ëª¨ë‘ ë³´ì¡´í•œë‹¤.**\n\nê·¸ë¦¼ì„ í†µí•´ Repeatable Read ìˆ˜ì¤€ì—ì„œëŠ” ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ ì´í•´í•´ë³´ì.\n\n![](repeatable_read_1.png)\n\nì „ì œ ì¡°ê±´ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\n\níŠ¸ëœì­ì…˜ 1ë²ˆì´ 2ê°œì˜ ë ˆì½”ë“œë¥¼ ì‚½ì…í•œ ìƒí™©ì´ê³ , íŠ¸ëœì­ì…˜ 3ë²ˆì´ `id=2`ì¸ ë ˆì½”ë“œë¥¼ ì¡°íšŒí•œë‹¤.\n\nê·¸ ë‹¤ìŒ íŠ¸ëœì­ì…˜ 2ë²ˆì´ `id=2`ì¸ ë ˆì½”ë“œì— UPDATEë¥¼ ìˆ˜í–‰í•œë‹¤.\n\n![](repeatable_read_2.png)\n\në³€ê²½ë˜ëŠ” ë ˆì½”ë“œëŠ” ì–¸ë‘ ë¡œê·¸ì— ë°±ì—…ëœë‹¤.\n\nì´í›„ íŠ¸ëœì­ì…˜ 2ë²ˆì´ ì»¤ë°‹ í˜¹ì€ ë¡¤ë°±ë˜ê¸° ì „ì— íŠ¸ëœì­ì…˜ 3ë²ˆì´ `id=2`ë¥¼ ì¡°íšŒí•˜ëŠ” ìƒí™©ì´ë‹¤.\n\n![](repeatable_read_3.png)\n\nì‚¬ì‹¤ Read Committedì™€ ë™ì¼í•˜ë‹¤.\n\ní•˜ì§€ë§Œ ë‚´ë¶€ì ìœ¼ë¡œ íŠ¸ëœì­ì…˜ 3ë²ˆì—ì„œ ì‹¤í–‰ë˜ëŠ” ëª¨ë“  SELECT ì¿¼ë¦¬ëŠ”, í•´ë‹¹ íŠ¸ëœì­ì…˜ ë²ˆí˜¸ì¸ 3ë²ˆë³´ë‹¤ ì•ì„  íŠ¸ëœì­ì…˜ ë²ˆí˜¸ë¥¼ ê°€ì§„, ì–¸ë‘ ë¡œê·¸ì˜ ë°ì´í„°ë“¤ë§Œ ì¡°íšŒí•œë‹¤.\n\nì–¸ë‘ ë¡œê·¸ì—ëŠ” í•˜ë‚˜ì˜ ë ˆì½”ë“œì— ë‹¤ì–‘í•œ ë²„ì „ìœ¼ë¡œ ë°±ì—…ëœ ë ˆì½”ë“œê°€ ì¶©ë¶„íˆ ì¡´ì¬í•  ìˆ˜ ìˆë‹¤.<br>\nì´ëŸ¬í•œ ìƒí™©ì—ì„œ Repeatable Read ê²©ë¦¬ ìˆ˜ì¤€ì€ ì´ **íŠ¸ëœì­ì…˜ ë²ˆí˜¸ë¥¼ ì´ìš©í•´ì„œ, í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ë°œìƒí•˜ëŠ” SELECT ì¿¼ë¦¬ì— ëŒ€í•´ í•­ìƒ ë™ì¼í•œ ê°’ì„ ë°˜í™˜í•˜ë„ë¡ í•œë‹¤.**\n\nRepeatable Read ê²©ë¦¬ ìˆ˜ì¤€ì—ì„œë„ ë°œìƒí•˜ëŠ” ì •í•©ì„± ë¬¸ì œê°€ ìˆë‹¤.<br>\në°”ë¡œ _`Phantom Read`_ ë¬¸ì œë‹¤.\n\n![img.png](phantom_read.png)\n\níŠ¸ëœì­ì…˜ 3ë²ˆì´ 2ë²ˆì˜ `SELECT ... FOR UPDATE` ì¿¼ë¦¬ë¥¼ ë‚ ë¦¬ëŠ” ì‚¬ì´ì—, íŠ¸ëœì­ì…˜ 2ë²ˆì´ INSERTë¥¼ í†µí•´ ê°’ì„ ì¶”ê°€í•œë‹¤.<br>\nì´ë•Œ, íŠ¸ëœì­ì…˜ 3ë²ˆì´ ë‚ ë¦¬ëŠ” 2ê°œì˜ `SELECT ... FOR UPDATE` ì¿¼ë¦¬ ê²°ê³¼ëŠ” ë‹¬ë¼ì§„ë‹¤.<br>\nì´ë ‡ê²Œ ìƒˆë¡œìš´ ë°ì´í„°ê°€ ìƒê¸°ê±°ë‚˜ ì‚¬ë¼ì§€ëŠ” í˜„ìƒì„ _Phantom Read_ ë¼ê³  í•œë‹¤.\n\nì „ì œ ì¡°ê±´ì´ ìˆê¸´ í•œë°, í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ ì•ˆì—ì„œ `SELECT ... FOR UPDATE` ë‚˜ `SELECT ... FOR LOCK IN SHARE MODE` ë¡œ ì¡°íšŒí•˜ëŠ” ê²½ìš°ì— ë°œìƒí•œë‹¤.\n\nìœ„ì˜ ë‘ ì¿¼ë¦¬ëŠ” SELECT í•˜ëŠ” ë ˆì½”ë“œì— **ì“°ê¸° ì ê¸ˆ**ì„ ê±¸ì–´ì•¼ í•œë‹¤.<br>\ní•˜ì§€ë§Œ **ì–¸ë‘ ë¡œê·¸ì—ëŠ” ì ê¸ˆì„ ê±¸ ìˆ˜ ì—†ë‹¤.**<br>\nê·¸ë˜ì„œ ìœ„ ì¿¼ë¦¬ë¡œ ì¡°íšŒë˜ëŠ” ë ˆì½”ë“œëŠ” ì–¸ë‘ ì˜ì—­ì˜ ë ˆì½”ë“œê°€ ì•„ë‹Œ, ë²„í¼ í’€ì˜ ë ˆì½”ë“œì´ê¸° ë•Œë¬¸ì´ë‹¤.\n\n**InnoDB ì—”ì§„ì—ì„œëŠ” **ê°­ ë½ê³¼ ë„¥ìŠ¤íŠ¸ í‚¤ ë½** ë•ë¶„ì— í•´ë‹¹ ê²©ë¦¬ ìˆ˜ì¤€ì—ì„œë„ Phantom Read ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.**\n\n## Serializable\n\nê°€ì¥ ë‹¨ìˆœí•˜ë©° ì—„ê²©í•œ ê²©ë¦¬ ìˆ˜ì¤€ì´ë‹¤.\n\nê°„ë‹¨íˆ ìƒê°í•´ì„œ ë®¤í…ìŠ¤ì²˜ëŸ¼ ë™ì‘í•˜ëŠ” ê²©ë¦¬ ìˆ˜ì¤€ì´ë‹¤.\n\nInnoDB í…Œì´ë¸”ì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ìˆœìˆ˜í•œ SELECT ì‘ì—…ì€ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì˜ ë³€ê²½ ì‘ì—… ìˆ˜í–‰ ì—¬ë¶€ì™€ ìƒê´€ì—†ì´ ì ê¸ˆì„ ëŒ€ê¸°í•˜ì§€ ì•Šê³  ë°”ë¡œ ìˆ˜í–‰ëœë‹¤. (ì ê¸ˆ ì—†ëŠ” ì¼ê´€ëœ ì½ê¸°)\n\ní•˜ì§€ë§Œ ê²©ë¦¬ ìˆ˜ì¤€ì´ Serializableì¸ ê²½ìš° ìˆœìˆ˜ SELECT ì‘ì—…ë„ ê³µìœ  ì ê¸ˆ(ì½ê¸° ì ê¸ˆ)ì„ íšë“í•´ì•¼ í•œë‹¤.<br>\nì¦‰, íŠ¹ì • íŠ¸ëœì­ì…˜ì´ ë ˆì½”ë“œë¥¼ ì¡°íšŒí•˜ê³  ìˆì„ ë•Œì—ë„ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì€ ì¡°íšŒí•˜ì§€ ëª»í•˜ê³  ì ê¸ˆì„ ëŒ€ê¸°í•´ì•¼ í•œë‹¤.\n\nì´ëŸ¬í•œ íŠ¹ì§• ë•Œë¬¸ì— ì •í•©ì„± ê´€ë ¨ ë¬¸ì œëŠ” ë°œìƒí•˜ì§€ ì•Šì§€ë§Œ ë™ì‹œì„± ì²˜ë¦¬ ëŠ¥ë ¥ì€ ê°€ì¥ ë–¨ì–´ì§„ë‹¤.\n\n### Reference\n\n> - https://product.kyobobook.co.kr/detail/S000001766482"},{"excerpt":"Lockì—ëŠ” MySQL ì—”ì§„ì´ ê´€ë¦¬í•˜ëŠ” Lockê³¼ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ê´€ë¦¬í•˜ëŠ” ë½ì´ ìˆë‹¤. ì´ë²ˆì—ëŠ” InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ê´€ë¦¬í•˜ëŠ” Lockì— ëŒ€í•´ ì•Œì•„ë³´ì. ë ˆì½”ë“œ ë½ InnoDB ì—”ì§„ì´ ê´€ë¦¬í•˜ëŠ” ë½ ì¤‘ì—ì„œ í•µì‹¬ì´ë‹¤. ë‹¤ë¥¸ DBMSì˜ ë ˆì½”ë“œ ë½ê³¼ ë™ì¼í•˜ì§€ë§Œ í•œ ê°€ì§€ ì¤‘ìš”í•œ ì°¨ì´ëŠ” ë ˆì½”ë“œ ìì²´ê°€ ì•„ë‹ˆë¼ ì¸ë±ìŠ¤ì˜ ë ˆì½”ë“œë¥¼ ì ê·¼ë‹¤ëŠ” ê²ƒì´ë‹¤.\në”°â€¦","fields":{"slug":"/05-lock-of-innodb-storage-engine/"},"frontmatter":{"date":"January 11, 2024","title":"InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ë½","tags":["database","MySQL"]},"rawMarkdownBody":"\nLockì—ëŠ” MySQL ì—”ì§„ì´ ê´€ë¦¬í•˜ëŠ” Lockê³¼ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ê´€ë¦¬í•˜ëŠ” ë½ì´ ìˆë‹¤.\n\nì´ë²ˆì—ëŠ” InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ê´€ë¦¬í•˜ëŠ” Lockì— ëŒ€í•´ ì•Œì•„ë³´ì.\n\n## ë ˆì½”ë“œ ë½\n\nInnoDB ì—”ì§„ì´ ê´€ë¦¬í•˜ëŠ” ë½ ì¤‘ì—ì„œ í•µì‹¬ì´ë‹¤.\n\në‹¤ë¥¸ DBMSì˜ ë ˆì½”ë“œ ë½ê³¼ ë™ì¼í•˜ì§€ë§Œ í•œ ê°€ì§€ ì¤‘ìš”í•œ ì°¨ì´ëŠ” **ë ˆì½”ë“œ ìì²´ê°€ ì•„ë‹ˆë¼ ì¸ë±ìŠ¤ì˜ ë ˆì½”ë“œë¥¼ ì ê·¼ë‹¤ëŠ” ê²ƒì´ë‹¤.**<br>\në”°ë¡œ ìƒì„±í•œ ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ ë¿ë§Œ ì•„ë‹ˆë¼ PK ì¸ë±ìŠ¤ë„ ë§ˆì°¬ê°€ì§€ë‹¤.<br>\në‹¤ë§Œ, PK ì¸ë±ìŠ¤ëŠ” ê°­ ë½ì„ ê±¸ì§€ ì•Šê³  ë ˆì½”ë“œ ë½ë§Œ ê±¸ì§€ë§Œ ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ì—ì„œëŠ” ë„¥ìŠ¤íŠ¸ í‚¤ ë½ ë˜ëŠ” ê°­ ë½ì„ ì´ìš©í•œë‹¤.\n\n## ê°­ ë½\n\nê°­ ë½ì€ **ë ˆì½”ë“œì™€ í•´ë‹¹ ë ˆì½”ë“œì™€ ë°”ë¡œ ì¸ì ‘í•œ ë ˆì½”ë“œ ì‚¬ì´ ê°„ê²©ì„ ì ê·¸ëŠ” ê²ƒì„ ì˜ë¯¸**í•œë‹¤.\n\nê°­ ë½ì˜ ì—­í• ì€ **ë ˆì½”ë“œì™€ ë ˆì½”ë“œ ì‚¬ì´ì— ìƒˆë¡œìš´ ë ˆì½”ë“œê°€ INSERT ë˜ëŠ” ê²ƒì„ ë§‰ê¸° ìœ„í•¨**ì´ë‹¤.\n\nê°­ ë½ ê·¸ ìì²´ë³´ë‹¤ëŠ” ë„¥ìŠ¤íŠ¸ í‚¤ ë½ì˜ ì¼ë¶€ë¡œ ìì£¼ ì‚¬ìš©ëœë‹¤.\n\n## ë„¥ìŠ¤íŠ¸ í‚¤ ë½\n\në ˆì½”ë“œ ë½ê³¼ ê°­ ë½ì„ í•©ì³ë†“ì€ í˜•íƒœì˜ ì ê¸ˆì´ë‹¤.\n\nê°­ ë½ì´ë‚˜ ë„¥ìŠ¤íŠ¸ í‚¤ ë½ì˜ ì£¼ëª©ì ì€, ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— ê¸°ë¡ë˜ëŠ” ì¿¼ë¦¬ê°€ Slave ì„œë²„ì—ì„œ ì‹¤í–‰ë  ë•Œ Master ì„œë²„ì—ì„œ ë§Œë“¤ì–´ ë‚¸ ê²°ê³¼ì™€ ë™ì¼í•œ ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ë‚´ë„ë¡ ë³´ì¥í•˜ëŠ” ê²ƒì´ë‹¤.\n\n> [ë°”ì´ë„ˆë¦¬ ë¡œê·¸?](https://www.linux.co.kr/bbs/board.php?bo_table=lecture&wr_id=5775)\n\n## Auto Increment ë½\n\nMySQLì—ëŠ” í…Œì´ë¸”ì— INSERT í•  ë•Œ, ìë™ ì¦ê°€í•˜ëŠ” ìˆ«ìë¥¼ ë„£ì–´ì£¼ëŠ” `AUTO_INCREMENT` ì¹¼ëŸ¼ ì†ì„±ì´ ì¡´ì¬í•œë‹¤.\n\në³´í†µ ID ì¹¼ëŸ¼ì— ì‚¬ìš©í•˜ê³¤ í•˜ëŠ”ë°, í…Œì´ë¸”ì— ë™ì‹œì— ì—¬ëŸ¬ ê±´ì˜ INSERTê°€ ë°œìƒí•˜ëŠ” ê²½ìš° ì €ì¥ë˜ëŠ” ê° ë ˆì½”ë“œì˜ ID ê°’ì€ ì¤‘ë³µë˜ì§€ ì•Šê³  ìˆœì„œëŒ€ë¡œ ì¦ê°€í•˜ëŠ” ê°’ì´ ìë™ìœ¼ë¡œ ì €ì¥ëœë‹¤.\n\nInnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œëŠ” ì´ ì‘ì—…ì„ ìœ„í•´ ë‚´ë¶€ì ìœ¼ë¡œ **AUTO_INCREMENT ë½** ì´ë¼ê³  í•˜ëŠ” í…Œì´ë¸” ìˆ˜ì¤€ì˜ ì ê¸ˆì„ ì‚¬ìš©í•œë‹¤.\n\nì–´ì©Œë©´ ë‹¹ì—°í•˜ê²Œ ìƒˆë¡œìš´ ë ˆì½”ë“œë¥¼ ì €ì¥í•˜ëŠ” ì¿¼ë¦¬, INSERT, REPLACE ì¿¼ë¦¬ì—ì„œë§Œ ì‘ë™í•œë‹¤.\n\ní•´ë‹¹ ë½ì€, **íŠ¸ëœì­ì…˜ê³¼ ìƒê´€ì—†ì´ INSERT í˜¹ì€ REPLACE ì¿¼ë¦¬ì—ì„œ AUTO_INCREMENT ê°’ì„ ê°€ì ¸ì˜¬ ë•Œë§Œ ë½ì´ ê±¸ë ¸ë‹¤ê°€ ì¦‰ì‹œ í•´ì œí•œë‹¤.**\n\nAUTO_INCREMENT ë½ì€ í…Œì´ë¸” ë‹¹ í•˜ë‚˜ë§Œ ì¡´ì¬í•œë‹¤.<br>\në”°ë¼ì„œ 2ê°œ ì´ìƒì˜ INSERT ì¿¼ë¦¬ê°€ ë™ì‹œì— ì‹¤í–‰ë˜ëŠ” ê²½ìš°, í•˜ë‚˜ì˜ ì¿¼ë¦¬ê°€ í•´ë‹¹ í…Œì´ë¸”ì— AUTO_INCREMENT ë½ì„ ê±¸ë©´ ë‚˜ë¨¸ì§€ ì¿¼ë¦¬ëŠ” ë½ì´ í•´ì œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë ¤ì•¼ í•œë‹¤.\n\n> ì°¸ê³ ë¡œ AUTO_INCREMENT ì¹¼ëŸ¼ì— ê°’ì„ ëª…ì‹œì ìœ¼ë¡œ ë„£ì–´ì¤€ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ì–´ë„ AUTO_INCREMENT ë½ì€ ìˆ˜í–‰ëœë‹¤. ê·¸ ì´ìœ ëŠ”, AUTO_INCREMENT ì†ì„±ì´ ê±¸ë¦° ì¹¼ëŸ¼ì— ê°’ì´ ëª…ì‹œì ìœ¼ë¡œ ë‹´ê²¨ì ¸\n> INSERT ë˜ë©´, AUTO_INCREMENT ê°’ì„ ì¬ì„¤ì •í•˜ëŠ” ì‘ì—…ì´ ìˆ˜í–‰ë˜ê¸° ë–„ë¬¸ì´ë‹¤.\n\nAUTO_INCREMENT ë½ì€ ëª…ì‹œì ìœ¼ë¡œ íšë“í•˜ê³  í•´ì œí•˜ëŠ” ë°©ë²•ì€ ì—†ë‹¤.<br>\nê·¸ë¦¬ê³  ì•„ì£¼ ì§§ì€ ì‹œê°„ë™ì•ˆ ì¡´ì¬í•˜ëŠ” ë½ì´ê¸° ë•Œë¬¸ì— ëŒ€ë¶€ë¶„ ë¬¸ì œê°€ ì˜ ë˜ì§€ ì•ŠëŠ”ë‹¤.\n\nì§€ê¸ˆê¹Œì§€ëŠ” MySQL 5.0 ì´í•˜ ë²„ì „ì—ì„œ ì‚¬ìš©ë˜ë˜ ë°©ì‹ì´ë‹¤.<br>\nMySQL 5.1 ì´ìƒë¶€í„°ëŠ” `innodb_autoinc_lock_mode` ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì´ìš©í•´ ì‘ë™ ë°©ì‹ì„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.\n\n### innodb_autoinc_lock_mode = 0\n\nìœ„ì—ì„œ ì„¤ëª…ëœ ë°©ì‹ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•œë‹¤.\n\n### innodb_autoinc_lock_mode = 1\n\nMySQL ì„œë²„ê°€ INSERT ë˜ëŠ” ë ˆì½”ë“œì˜ ìˆ˜ë¥¼ ì •í™•íˆ ì˜ˆì¸¡í•  ìˆ˜ ìˆì„ ë•Œì—ëŠ” AUTO_INCREMENT ë½ì„ ê±¸ì§€ ì•Šê³ , í›¨ì”¬ ë¹ ë¥¸ ë˜ì¹˜(ë®¤í…ìŠ¤)ë¥¼ ì´ìš©í•œë‹¤.\n\në½ì´ ì¡´ì¬í•˜ëŠ” íƒ€ì´ë°ì´ ì¡´ì¬í•˜ê¸´ í•˜ì§€ë§Œ AUTO_INCREMNET ë½ë³´ë‹¤ëŠ” í›¨ì”¬ ë¹ ë¥´ê²Œ í…Œì´ë¸”ì— ë½ì„ ê±¸ê³  í•´ì œí•˜ê²Œ ëœë‹¤.\n\në‹¤ë§Œ, _INSERT ë˜ëŠ” ë ˆì½”ë“œì˜ ìˆ˜ë¥¼ ì •í™•íˆ ì˜ˆì¸¡í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤_ëŠ” ì „ì œ ì¡°ê±´ì´ ìˆê¸° ë•Œë¬¸ì— ì´ ì¡°ê±´ì„ ë§Œì¡±í•˜ì§€ ëª»í•˜ë©´ AUTO_INCREMENTë¥¼ ì‚¬ìš©í•œë‹¤.\n\nëŒ€ëŸ‰ì˜ INSERT ì¿¼ë¦¬ê°€ ì²˜ë¦¬ë  ë•ŒëŠ”, InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ AUTO_INCREMENT ê°’ì„ í•œ ë²ˆì— ì—¬ëŸ¬ ê°’ì„ í• ë‹¹ë°›ì•„ì„œ ì‚¬ìš©í•œë‹¤.<br>\ní•˜ì§€ë§Œ ì´ë•Œ í• ë‹¹ë°›ì€ ê°’ì„ ëª¨ë‘ ì‚¬ìš©í•˜ì§€ ëª»í•˜ê²Œ ë˜ë©´ íê¸°í•˜ê²Œ ë˜ì–´, ê·¸ ë‹¤ìŒ INSERT ì¿¼ë¦¬ì—ì„œ AUTO_INCREMENT ê°’ì€ ì¤‘ê°„ ê°’ì´ ëˆ„ë½ëœ ê°’ì´ ì €ì¥ë  ìˆ˜ ìˆë‹¤.\n\nìœ„ ì„¤ì •ì—ì„œëŠ” í•˜ë‚˜ì˜ INSERT ì¿¼ë¦¬ë¡œ ì €ì¥ë˜ëŠ” ë ˆì½”ë“œëŠ” ì—°ì†ëœ ìë™ ì¦ê°€ ê°’ì„ ê°€ì§„ë‹¤ëŠ” íŠ¹ì§•ì„ ê°€ì§„ë‹¤.<br>\në”°ë¼ì„œ ì´ ì„¤ì • ëª¨ë“œë¥¼ _ì—°ì† ëª¨ë“œ_ ë¼ê³ ë„ í•œë‹¤.\n\n### innodb_autoinc_lock_mode = 2\n\ní•´ë‹¹ ì„¤ì •ì€ AUTO_INCREMENT ë½ì„ ê±¸ì§€ ì•Šê³  ê°€ë²¼ìš´ ë˜ì¹˜(ë®¤í…ìŠ¤)ë¥¼ ì‚¬ìš©í•œë‹¤.\n\nì´ ì„¤ì •ì—ì„œëŠ” **ëŒ€ëŸ‰ INSERT ë¬¸ì¥ì´ ì‹¤í–‰ë˜ëŠ” ì¤‘ì—ë„ ë‹¤ë¥¸ ì»¤ë„¥ì…˜ì—ì„œ INSERTë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.**<br>\nê²°ê³¼ì ìœ¼ë¡œ ë™ì‹œ ì²˜ë¦¬ ì„±ëŠ¥ì´ ë†’ì•„ì§„ë‹¤.\n\ní•˜ì§€ë§Œ ìë™ ì¦ê°€ ê°’ì´ ì—°ì†ë˜ëŠ” ê²ƒì€ ë³´ì¥í•  ìˆ˜ ì—†ë‹¤. ë‹¨ì§€ ìœ ë‹ˆí¬í•œ ê°’ë§Œ ìƒì„±í•œë‹¤ëŠ” ê²ƒë§Œ ë³´ì¥í•œë‹¤.<br>\ní•˜ë‚˜ì˜ INSERT ì¿¼ë¦¬ë¡œ ì €ì¥í•  ë•Œì—ë„ ìˆœì„œëŠ” ë³´ì¥í•  ìˆ˜ ì—†ë‹¤. ë”°ë¼ì„œ _ì¸í„°ë¦¬ë¹™ ëª¨ë“œ_ ë¼ê³ ë„ í•œë‹¤.\n\nìœ„ ì„¤ì •ì—ì„œ **STATEMENT í¬ë§·ì˜ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ì‚¬ìš©í•˜ëŠ” Replication ì—ì„œëŠ” Masterì™€ Slaveì˜ AUTO_INCREMENT ê°’ì´ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤.**<br>\nSTATEMENT í¬ë§·ì˜ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ mode ê°’ì„ 1ë¡œ ì„¤ì •í•˜ì.\n\n## ì¸ë±ìŠ¤ì™€ InnoDBì˜ ì ê¸ˆ\n\në ˆì½”ë“œ ë½ì—ì„œ ì–¸ê¸‰í•œëŒ€ë¡œ InnoDBëŠ” **ë ˆì½”ë“œ ìì²´ê°€ ì•„ë‹ˆë¼ ì¸ë±ìŠ¤ì˜ ë ˆì½”ë“œë¥¼ ì ê·¼ë‹¤.**\n\nì´ ë§ì€ ì¦‰ìŠ¨, **SELECTë‚˜ UPDATE, DELETE ì²˜ëŸ¼ ë³€ê²½í•´ì•¼ í•  ë ˆì½”ë“œë¥¼ ì°¾ê¸° ìœ„í•´ ì¸ë±ìŠ¤ë¥¼ íƒ€ê³  ê²€ìƒ‰í•˜ê²Œ ë˜ëŠ”ë°, ì´ ê³¼ì •ì—ì„œ ì¡°ê±´ì— í•´ë‹¹í•˜ëŠ” ë ˆì½”ë“œë¥¼ ì „ë¶€ ì ê·¼ë‹¤.**\n\nMySQLì˜ InnoDBì—ì„œ ì¸ë±ìŠ¤ ì„¤ê³„ê°€ ì¤‘ìš”í•œ ì´ìœ  ë˜í•œ ì´ê²ƒì´ë‹¤.\n\n### ë ˆì½”ë“œ ìˆ˜ì¤€ì˜ ì ê¸ˆ í™•ì¸ ë° í•´ì œ\n\nMySQL 8.0ë¶€í„°ëŠ” performance_schemaì˜ data_locksì™€ data_lock_waits í…Œì´ë¸”ì„ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n\n```sql\n# í˜„ì¬ í”„ë¡œì„¸ìŠ¤ì˜ ëª©ë¡ì„ ì¡°íšŒí•œë‹¤.\nmysql> SHOW PROCESSLIST;\n\n# performance_schemaì˜ data_locksì™€ data_lock_waits í…Œì´ë¸”ì„ í†µí•´ ì ê¸ˆ ëŒ€ê¸° ìˆœì„œë¥¼ ì¡°íšŒí•œë‹¤.\nmysql> SELECT \n    r.trx_id waiting_trx_id, \n    r.trx_mysql_thread_id waiting_thread, \n    r.trx_query waiting_query, \n    b.trx_id blocking_trx_id,\n    b.trx_mysql_thread_id blocking_thread, \n    b.trx_query blocking_query \n    FROM performance_schema.data_lock_watis w\n    JOIN information_schema.innodb_trx b\n    ON b.trx_id = w.blocking_engine_transaction_id\n    JOIN infromation_schema.innodb_trx r\n    ON r.trx_id = w.requesting_engine_transaction_id;\n    \n# ê° ìŠ¤ë ˆë“œê°€ ì–´ë–¤ ì ê¸ˆì„ ê°€ì§€ëŠ”ì§€ ìƒì„¸í•˜ê²Œ ì¡°íšŒí•œë‹¤.\nmysql> SELECT * FROM performance_schema.data_locks\\G\n```\n\në¬¸ì œê°€ ë˜ëŠ” ì ê¸ˆì´ ìˆë‹¤ë©´ `mysql> KILL {thread_id}` ë¥¼ í†µí•´ ìŠ¤ë ˆë“œë¥¼ ê°•ì œ ì¢…ë£Œí•˜ì.\n\n### Reference\n\n> - https://dev.mysql.com/doc/refman/8.0/en/example-auto-increment.html\n> - https://product.kyobobook.co.kr/detail/S000001766482"},{"excerpt":"ë“¤ì–´ê°€ë©° ìµœê·¼ ê°œì¸ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•˜ë©´ì„œ ERD ì„¤ê³„ë¥¼ ì§„í–‰í–ˆìŠµë‹ˆë‹¤. ì´ë•Œ, ì‘ì„± ë‚ ì§œë‚˜ ì‹œì‘ ë‚ ì§œ ê°™ì€ ë‚ ì§œì— ëŒ€í•œ ê°’ì„ ì €ì¥í•  ì¹¼ëŸ¼ì´ í•„ìš”í–ˆê³  í•´ë‹¹ ì¹¼ëŸ¼ì˜ ìë£Œí˜•ì„ ê²°ì •í•˜ëŠ” ê³¼ì •ì—ì„œ DATETIMEê³¼ TIMESTAMPì˜ ì°¨ì´ì— ëŒ€í•´ ê¶ê¸ˆí•´ì¡ŒìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì´ ë‘˜ì„ ì´í•´í•´ë³´ê² ìŠµë‹ˆë‹¤. ê¸°ì¤€ì€ MySQL 8.0 ì…ë‹ˆë‹¤. DATETIMEê³¼ TIMESTAMPì˜â€¦","fields":{"slug":"/compare-of-datetime-and-timestamp/"},"frontmatter":{"date":"January 10, 2024","title":"[MySQL] DATETIME vs TIMESTAMP","tags":["database","MySQL","DATETIME","TIMESTAMP"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©°\n\nìµœê·¼ ê°œì¸ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•˜ë©´ì„œ ERD ì„¤ê³„ë¥¼ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.\n\nì´ë•Œ, ì‘ì„± ë‚ ì§œë‚˜ ì‹œì‘ ë‚ ì§œ ê°™ì€ **ë‚ ì§œ**ì— ëŒ€í•œ ê°’ì„ ì €ì¥í•  ì¹¼ëŸ¼ì´ í•„ìš”í–ˆê³  í•´ë‹¹ ì¹¼ëŸ¼ì˜ ìë£Œí˜•ì„ ê²°ì •í•˜ëŠ” ê³¼ì •ì—ì„œ **DATETIMEê³¼ TIMESTAMPì˜ ì°¨ì´ì— ëŒ€í•´ ê¶ê¸ˆí•´ì¡ŒìŠµë‹ˆë‹¤.**\n\në”°ë¼ì„œ ì´ ë‘˜ì„ ì´í•´í•´ë³´ê² ìŠµë‹ˆë‹¤.\n\n> ê¸°ì¤€ì€ MySQL 8.0 ì…ë‹ˆë‹¤.\n\n## DATETIMEê³¼ TIMESTAMPì˜ ê³µí†µì \n\n-  ë‘ íƒ€ì… ëª¨ë‘ **ë‚ ì§œì™€ ì‹œê°„ì„ í‘œí˜„í•©ë‹ˆë‹¤.**\n-  í‘œí˜„ í˜•ì‹ì€ `YYYY-MM-DD hh:mm:ss` ì…ë‹ˆë‹¤.\n-  ìµœëŒ€ 6ìë¦¬ ì •ë°€ë„ì˜ ì†Œìˆ˜ì  ì´ˆ ë¶€ë¶„ì´ í¬í•¨ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n-  í‘œí˜„í•  ìˆ˜ ìˆëŠ” ë²”ìœ„ì˜ ì°¨ì´ ë–„ë¬¸ì— ì•½ê°„ ë‹¤ë¥¸ ì ì´ ìˆìŠµë‹ˆë‹¤.\n  - DATETIMEì€ `1000-01-01 00:00:00.000000`ë¶€í„° `9999-12-31 23:59:59.499999` ê¹Œì§€ì…ë‹ˆë‹¤.\n  - TIMESTAMPëŠ” `1970-01-01 00:00:01.000000`ë¶€í„° `2038-01-19 03:14:07.499999` ê¹Œì§€ì…ë‹ˆë‹¤.\n- ìë™ìœ¼ë¡œ ì´ˆê¸°í™”í•˜ê±°ë‚˜ í˜„ì¬ì˜ ë‚ ì§œ ë° ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.\n  - ì˜ˆ) `DEFAULT CURRENT_TIMESTAMP` or `ON UPDATE CURRENT_TIMESTAMP`\n\n## DATETIMEê³¼ TIMESTAMPì˜ ì°¨ì´ì \n\n### 1. **ì§€ì›í•˜ëŠ” ê°’ì˜ ë²”ìœ„ì— ì°¨ì´ê°€ ìˆìŠµë‹ˆë‹¤.**\n\n- DATETIMEì€ `1000-01-01 00:00:00` ë¶€í„° `9999-12-31 24:59:59` ê¹Œì§€ì…ë‹ˆë‹¤.\n- TIMESTAMPëŠ” `1970-01-01 00:00:01`UTC ë¶€í„° `2038-01-19 03:14:07`UTC ê¹Œì§€ì…ë‹ˆë‹¤.\n\n### 2. **Current Time Zoneì— ë”°ë¼ UTC ê°’ìœ¼ë¡œ ë³€í™˜í•´ì£¼ëŠ” ì‘ì—…ì— ì°¨ì´ê°€ ìˆìŠµë‹ˆë‹¤.**\n\n- DATETIMEì€ ì‘ì—…ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n- TIMESTAMPëŠ” ì €ì¥ í˜¹ì€ ê²€ìƒ‰ ì‹œì— ë³€í™˜í•´ì¤ë‹ˆë‹¤.\n    - ì¦‰, TIMESTAMPëŠ” Time Zone ë³€í™”ì— ìœ ì—°í•©ë‹ˆë‹¤.\n    - ì¶”ê°€ë¡œ Session ë³„ë¡œ Time Zoneì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n### 3. **ê°’ì„ ì €ì¥í•˜ëŠ” ê³µê°„ì˜ í¬ê¸°ì—ë„ ì°¨ì´ê°€ ìˆìŠµë‹ˆë‹¤.**\n\n- DATETIMEì€ 8 byteë¥¼ ì°¨ì§€í•©ë‹ˆë‹¤.\n- TIMESTAMPëŠ” 4 byteë¥¼ ì°¨ì§€í•©ë‹ˆë‹¤.\n\n## ê²°ë¡ \n\në‚ ì§œì™€ ì‹œê°„ê¹Œì§€ í•¨ê»˜ ì €ì¥í•´ì•¼í•˜ëŠ” ì¹¼ëŸ¼ì˜ ìë£Œí˜•ì€, ê°€ê¸‰ì  **TIMESTAMPë¥¼ ì„ íƒí•˜ëŠ” ê²ƒì´ ì¢‹ì•„ë³´ì…ë‹ˆë‹¤.**\n\nì €ì¥ ê³µê°„ì˜ ì´ì ë„ ìˆì„ ë¿ë”ëŸ¬, ë¬´ì—‡ë³´ë‹¤ Time Zoneì— ë”°ë¥¸ UTC ê°’ìœ¼ë¡œ ìë™ ë³€í™˜í•´ì£¼ëŠ” ì‘ì—…ì˜ ìœ ë¬´ì—ì„œ í° ì°¨ì´ê°€ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\në”°ë¼ì„œ ë” ê°€ë³ê³  ìœ ì—°í•œ í…Œì´ë¸”ì„ ìœ„í•´ì„œëŠ” DATETIME ë³´ë‹¨ TIMESTAMPë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤.\n\n## ë²ˆì™¸: DATE íƒ€ì…\n\n- ì‹œê°„ì—†ì´ ë‚ ì§œì— ëŒ€í•œ ê°’ë§Œ ì§€ì›í•©ë‹ˆë‹¤.\n- `YYYY-MM-DD` í˜•ì‹ìœ¼ë¡œ í‘œí˜„í•©ë‹ˆë‹¤.\n- ì§€ì› ë²”ìœ„ëŠ” `1000-01-01` ë¶€í„° `9999-12-31` ê¹Œì§€ì…ë‹ˆë‹¤.\n\n> ### Reference\n> - https://dev.mysql.com/doc/refman/8.0/en/datetime.html\n> - https://dev.mysql.com/doc/refman/8.0/en/timestamp-initialization.html"},{"excerpt":"MySQL ë¡œê·¸ íŒŒì¼ MySQL ì„œë²„ì— ë¬¸ì œê°€ ìƒê²¼ì„ ë•Œ, ë¡œê·¸ íŒŒì¼ì„ ì´ìš©í•˜ë©´ ë¬¸ì œì˜ ì›ì¸ì„ ì‰½ê²Œ ì°¾ê³  í•´ê²°í•  ìˆ˜ ìˆë‹¤.\në”°ë¼ì„œ ê°€ê¸‰ì  ì•„ë˜ì— ë‚˜ì˜¬ ë¡œê·¸ íŒŒì¼ë“¤ì„ í†µí•´ ë¬¸ì œë¥¼ íŒŒì•…í•˜ë ¤ëŠ” íƒœë„ë¥¼ ê°€ì§€ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤. ë¡œê·¸ íŒŒì¼ì˜ ì¢…ë¥˜ëŠ” ì•„ë˜ì™€ ê°™ë‹¤. ì—ëŸ¬ ë¡œê·¸ ì„œë²„ê°€ ì‹œì‘ë˜ëŠ” ê³¼ì •ê³¼ ê´€ë ¨ëœ ì •ë³´ì„± ë¡œê·¸ ë° ì—ëŸ¬ ë©”ì‹œì§€ ì„œë²„ê°€ ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œë  ë•Œ ê¸°ë¡â€¦","fields":{"slug":"/04-mysql-log/"},"frontmatter":{"date":"January 03, 2024","title":"MySQL ë¡œê·¸ íŒŒì¼","tags":["database"]},"rawMarkdownBody":"\n## MySQL ë¡œê·¸ íŒŒì¼\n\nMySQL ì„œë²„ì— ë¬¸ì œê°€ ìƒê²¼ì„ ë•Œ, **ë¡œê·¸ íŒŒì¼ì„ ì´ìš©í•˜ë©´ ë¬¸ì œì˜ ì›ì¸ì„ ì‰½ê²Œ ì°¾ê³  í•´ê²°í•  ìˆ˜ ìˆë‹¤.**<br>\në”°ë¼ì„œ ê°€ê¸‰ì  ì•„ë˜ì— ë‚˜ì˜¬ ë¡œê·¸ íŒŒì¼ë“¤ì„ í†µí•´ ë¬¸ì œë¥¼ íŒŒì•…í•˜ë ¤ëŠ” íƒœë„ë¥¼ ê°€ì§€ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.\n\në¡œê·¸ íŒŒì¼ì˜ ì¢…ë¥˜ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.\n\n- ì—ëŸ¬ ë¡œê·¸\n  - ì„œë²„ê°€ ì‹œì‘ë˜ëŠ” ê³¼ì •ê³¼ ê´€ë ¨ëœ ì •ë³´ì„± ë¡œê·¸ ë° ì—ëŸ¬ ë©”ì‹œì§€\n  - ì„œë²„ê°€ ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œë  ë•Œ ê¸°ë¡ë˜ëŠ” InnoDBì˜ íŠ¸ëœì­ì…˜ ë³µêµ¬ ë©”ì‹œì§€\n  - ì¿¼ë¦¬ ì²˜ë¦¬ ë„ì¤‘ ë°œìƒí•˜ëŠ” ë¬¸ì œì— ëŒ€í•œ ì—ëŸ¬ ë©”ì‹œì§€\n  - ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œëœ Connectionì— ëŒ€í•œ Log\n  - InnoDBì˜ ëª¨ë‹ˆí„°ë§ ë˜ëŠ” ìƒíƒœ ì¡°íšŒ ëª…ë ¹ì˜ ê²°ê³¼ ë©”ì‹œì§€\n  - MySQLì˜ ì¢…ë£Œ ë©”ì‹œì§€\n- ì œë„¤ëŸ´ ì¿¼ë¦¬ ë¡œê·¸\n- ìŠ¬ë¡œìš° ì¿¼ë¦¬ ë¡œê·¸\n\n## 1. ì—ëŸ¬ ë¡œê·¸ íŒŒì¼\n\nì„œë²„ê°€ ì‹¤í–‰ë˜ëŠ” ë„ì¤‘ ë°œìƒí•˜ëŠ” ì—ëŸ¬ê°€ ì¶œë ¥ë˜ì–´ ê¸°ë¡ë˜ëŠ” ë¡œê·¸ íŒŒì¼ì´ë‹¤.\n\n`my.cnf`ì—ì„œ `log_error` íŒŒë¼ë¯¸í„°ì— ì •ì˜ëœ ê²½ë¡œë¡œ ì„¤ì •ëœë‹¤.<br>\në³„ë„ë¡œ ì§€ì •í•˜ì§€ ì•Šì•˜ìœ¼ë©´ `datadir` íŒŒë¼ë¯¸í„°ì— ì„¤ì •ëœ ë””ë ‰í„°ë¦¬ì— `.err` ë¼ëŠ” í™•ì¥ìê°€ ë¶™ì€ íŒŒì¼ë¡œ ìƒì„±ëœë‹¤.\n\n![ì´ˆê¸° my.cnf ì„¤ì •ê°’](my-cnf.png)\n\n![datadirì— ì„¤ì •ëœ ê²½ë¡œì˜ íŒŒì¼ë“¤](datadir.png)\n\n> ì—ëŸ¬ ë¡œê·¸ë¥¼ í•˜ë‚˜ì— íŒŒì¼ì— ëª¨ë‘ ê¸°ë¡í•˜ëŠ” ê±´ ê´€ë¦¬í•˜ê±°ë‚˜ ì‚¬ìš©í•˜ëŠ” ì¸¡ë©´ì—ì„œ ë¶ˆí¸í•¨ì´ ì˜ˆìƒë˜ì–´, ì¼ë³„ë¡œ ì €ì¥í•˜ê±°ë‚˜ mysqlì´ ì•Œì•„ì„œ error ë¡œê·¸ì˜ ìš©ëŸ‰ì„ ì¼ì • ìˆ˜ì¤€ì„ ìœ ì§€í•´ì£¼ëŠ”ì§€ì— ëŒ€í•´ ì°¾ì•„ë´¤ì§€ë§Œ ì˜ ë³´ì´ì§€ ì•ŠëŠ”ë‹¤.<br>\n> MySQLì˜ Error Logì™€ ê´€ë ¨ëœ ìì„¸í•œ ë‚´ìš©ì€ [ê³µì‹ ë¬¸ì„œ](https://dev.mysql.com/doc/refman/8.0/en/error-log-configuration.html)ë¥¼ ì°¸ê³ í•˜ì.\n\nê·¸ëŸ¼ ì´ì œ ì—ëŸ¬ ë¡œê·¸ì—ì„œ ì£¼ë¡œ ë³´ê²Œ ë  ë‚´ìš©ë“¤ì€ ì–´ë–¤ ê²ƒë“¤ì´ ìˆëŠ”ì§€ ì•Œì•„ë³´ì.\n\n### 1.1 MySQLì´ ì‹œì‘í•˜ëŠ” ê³¼ì •ê³¼ ê´€ë ¨ëœ ì •ë³´ì„± ë° ì—ëŸ¬ ë¡œê·¸\n\nì„¤ì • íŒŒì¼ì„ ë³€ê²½í•˜ê±°ë‚˜ DBê°€ ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œëœ ì´í›„ ë‹¤ì‹œ ì‹œì‘í•˜ëŠ” ê²½ìš°ì—, ë°˜ë“œì‹œ MySQL ì—ëŸ¬ ë¡œê·¸ íŒŒì¼ì„ í†µí•´ ë³€ê²½ì´ ì œëŒ€ë¡œ ì ìš©ëëŠ”ì§€ í™•ì¸í•´ì•¼ í•œë‹¤.\n\në§Œì•½ ì •ìƒì ìœ¼ë¡œ ê°€ë™ëë‹¤ë©´ `mysqld:ready for connection` ë©”ì‹œì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n\n### 1.2 ì„œë²„ê°€ ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œëœ ê²½ìš° ë‚˜íƒ€ë‚˜ëŠ” InnoDBì˜ íŠ¸ëœì­ì…˜ ë³µêµ¬ ë©”ì‹œì§€\n\nInnoDBì˜ ê²½ìš°, MySQLì´ ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œë˜ë©´ ì™„ë£Œë˜ì§€ ëª»í•œ íŠ¸ëœì­ì…˜ì„ ì •ë¦¬í•˜ê³  ë””ìŠ¤í¬ì— ê¸°ë¡ë˜ì§€ ëª»í•œ ë°ì´í„°ê°€ ìˆë‹¤ë©´ ê¸°ë¡í•˜ëŠ” ì‘ì—…ì„ ì§„í–‰í•œë‹¤.\n\nì´ ê³¼ì •ì— ëŒ€í•œ ê°„ë‹¨í•œ ë©”ì‹œì§€ê°€ ì¶œë ¥ë˜ëŠ”ë°, ê°„í˜¹ ë¬¸ì œê°€ ìˆì–´ ë³µêµ¬ë˜ì§€ ëª»í•  ë•Œì—ëŠ” ì—ëŸ¬ ë¡œê·¸ë¥¼ ë‚¨ê¸°ê³  MySQLì€ ë‹¤ì‹œ ì¢…ë£Œëœë‹¤.\n\n### 1.3 ì¿¼ë¦¬ ì²˜ë¦¬ ë„ì¤‘ ë°œìƒí•˜ëŠ” ë¬¸ì œì— ëŒ€í•œ ë¡œê·¸\n\nì¿¼ë¦¬ ë„ì¤‘ ë°œìƒí•˜ëŠ” ë¬¸ì œì ì€ ì‚¬ì „ ì˜ˆë°©ì´ ì–´ë ¤ìš°ë©°, ì£¼ê¸°ì ìœ¼ë¡œ ì—ëŸ¬ ë¡œê·¸ íŒŒì¼ì„ ê²€í† í•˜ëŠ” ê³¼ì •ì—ì„œ ì•Œê²Œ ëœë‹¤.\n\n**ì¿¼ë¦¬ì˜ ì‹¤í–‰ ë„ì¤‘ ë°œìƒí•œ ì—ëŸ¬ë‚˜ ë³µì œì—ì„œ ë¬¸ì œê°€ ë  ë§Œí•œ ì¿¼ë¦¬ì— ëŒ€í•œ ê²½ê³  ë©”ì‹œì§€ê°€ ì—ëŸ¬ ë¡œê·¸ì— ê¸°ë¡ëœë‹¤.**\n\n### 1.4 ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œëœ ì»¤ë„¥ì…˜ ë©”ì‹œì§€\n\ní´ë¼ì´ì–¸íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì •ìƒì ìœ¼ë¡œ ì ‘ì† ì¢…ë£Œë¥¼ í•˜ì§€ ëª»í•˜ê³  ì»¤ë„¥ì…˜ì´ ì¢…ë£Œëœ ê²½ìš°ì˜ ë‚´ìš©ì´ ê¸°ë¡ëœë‹¤.\n\n### 1.5 InnoDBì˜ ëª¨ë‹ˆí„°ë§ ë˜ëŠ” ìƒíƒœ ì¡°íšŒ ëª…ë ¹ì–´(`SHOW ENGINE INNODB STATUS`ê°™ì€)ì˜ ê²°ê³¼ ë©”ì‹œì§€\n\nInnoDBì˜ í…Œì´ë¸” ëª¨ë‹ˆí„°ë§ì´ë‚˜ ë½ ëª¨ë‹ˆí„°ë§, ë˜ëŠ” ì—”ì§„ ìƒíƒœë¥¼ ì¡°íšŒí•˜ëŠ” ëª…ë ¹ì€ ìƒëŒ€ì ìœ¼ë¡œ í° ë©”ì‹œì§€ë¥¼ ë¡œê·¸ íŒŒì¼ì— ê¸°ë¡í•œë‹¤.\n\nì—”ì§„ ëª¨ë‹ˆí„°ë§ì„ í™œì„±í™”í•œ ìƒíƒœë¡œ ìœ ì§€í•˜ëŠ” ê²½ìš° íŒŒì¼ ì‹œìŠ¤í…œì˜ ê³µê°„ì„ ë‹¤ ì°¨ì§€í•  ìˆ˜ë„ ìˆë‹¤.\n\në”°ë¼ì„œ ëª¨ë‹ˆí„°ë§ì„ ì‚¬ìš©í•œ ì´í›„ì—ëŠ” ë‹¤ì‹œ ë¹„í™œì„±í™”í•´ì„œ ì—ëŸ¬ ë¡œê·¸ íŒŒì¼ì´ ì»¤ì§€ì§€ ì•Šê²Œ ë§Œë“¤ì–´ì•¼ í•œë‹¤.\n\n### 1.6 MySQLì˜ ì¢…ë£Œ ë©”ì‹œì§€\n\nëˆ„êµ°ê°€ê°€ MySQL ì„œë²„ë¥¼ ì¢…ë£Œì‹œí‚¨ ê²½ìš° `Received SHUTDOWN from user ...`ì˜ ë©”ì‹œì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n\nê·¸ë ‡ì§€ ì•Šê³ , ì•„ë¬´ëŸ° ì¢…ë£Œ ê´€ë ¨ ë©”ì‹œì§€ê°€ ì—†ê±°ë‚˜ ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ ê°™ì€ ë‚´ìš©ì´ ì¶œë ¥ë˜ëŠ” ê²½ìš°ì—ëŠ” MySQL ì„œë²„ê°€ ì„¸ê·¸ë©˜í…Œì´ì…˜ í´íŠ¸ë¡œ ë¹„ì •ìƒ ì¢…ë£Œëœ ê²ƒìœ¼ë¡œ íŒë‹¨í•  ìˆ˜ ìˆë‹¤.\n\n> ì„¸ê·¸ë©˜í…Œì´ì…˜ í´íŠ¸<br>\n> : í”„ë¡œê·¸ë¨ì´ í—ˆìš©ë˜ì§€ ì•Šì€ ë©”ëª¨ë¦¬ ì˜ì—­ì— ì ‘ê·¼ì„ ì‹œë„í•˜ê±°ë‚˜, í—ˆìš©ë˜ì§€ ì•Šì€ ë°©ë²•ìœ¼ë¡œ ë©”ëª¨ë¦¬ ì˜ì—­ì— ì ‘ê·¼ì„ ì‹œë„í•  ê²½ìš° ë°œìƒí•œë‹¤.<br>\n\n## 2. ì œë„¤ëŸ´ ì¿¼ë¦¬ ë¡œê·¸ íŒŒì¼(ì œë„¤ëŸ´ ë¡œê·¸ íŒŒì¼, General Log)\n\nì œë„¤ëŸ´ ì¿¼ë¦¬ ë¡œê·¸ íŒŒì¼ì€, ì¿¼ë¦¬ ìš”ì²­ì„ ë°›ìœ¼ë©´ í•´ë‹¹ ìš”ì²­ì— ëŒ€í•œ ë‚´ìš©ì„ ê¸°ë¡í•˜ëŠ” íŒŒì¼ì´ë‹¤.\n\nì‹¤í–‰ ê³„íš ë¶„ì„ì„ í•˜ëŠ” ê²½ìš°ì²˜ëŸ¼, í˜„ì¬ ì„œë¹„ìŠ¤ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì¿¼ë¦¬ì—ëŠ” ì–´ë–¤ ê²ƒë“¤ì´ ìˆëŠ”ì§€ ê²€í† í•˜ê³  ì‹¶ì€ ê²½ìš°ê°€ ìˆì„ ìˆ˜ ìˆë‹¤.<br>\n  (ìŠ¤í”„ë§ ì• í”Œë¦¬ì¼€ì´ì…˜ ê¸°ì¤€, í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ìˆë‹¤ë©´ JPAê°€ ë½‘ì•„ì£¼ëŠ” ë¡œê·¸ë¡œë„ ì¶”ì¶œí•˜ëŠ” ë°©ë²•ë„ ìˆë‹¤.)<br>\n  ì´ ê²½ìš°, **ì œë„¤ëŸ´ ì¿¼ë¦¬ ë¡œê·¸ë¥¼ í™œì„±í™”**í•´ì„œ ì¿¼ë¦¬ë¥¼ ë¡œê·¸ íŒŒì¼ë¡œ ê¸°ë¡í•˜ê²Œ í•œ ë‹¤ìŒ í•´ë‹¹ íŒŒì¼ì„ ê²€í† í•˜ë©´ ëœë‹¤.\n\nì‹œê°„ ë‹¨ìœ„ë¡œ ì‹¤í–‰ëë˜ ì¿¼ë¦¬ ë‚´ìš©ì´ ëª¨ë‘ ê¸°ë¡ëœë‹¤.\n\nìŠ¬ë¡œìš° ì¿¼ë¦¬ ë¡œê·¸ì™€ëŠ” ë‹¬ë¦¬ MySQLì´ ì¿¼ë¦¬ ìš”ì²­ì„ ë°›ìœ¼ë©´ ì‹¤í–‰ë˜ê¸° ì „ì— ë°”ë¡œ ê¸°ë¡í•œë‹¤.<br>\n(í›„ìˆ í•˜ê² ì§€ë§Œ ìŠ¬ë¡œìš° ì¿¼ë¦¬ ë¡œê·¸ëŠ” **ì¿¼ë¦¬ê°€ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ì´ ë˜ì–´ì•¼** ê¸°ë¡ëœë‹¤.)\n\nì œë„¤ëŸ´ ë¡œê·¸ íŒŒì¼ì˜ ìœ„ì¹˜ëŠ” `general_log_file` ì´ë¦„ì˜ ì‹œìŠ¤í…œ ë³€ìˆ˜ë¡œ ì„¤ì •ë¼ ìˆë‹¤.<br>\në³„ë„ë¡œ ì„¤ì •ë˜ì§€ ì•Šì€ ê²½ìš°ì—ëŠ”, ì•„ë˜ì™€ ê°™ì´ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n![ì´ˆê¸° general log ì„¤ì •](init-general-config.png)\n\nê¸°ë³¸ì ìœ¼ë¡œ general_log ì„¤ì •ì€ êº¼ì ¸ìˆë‹¤.<br>\n`SET GLOBAL general_log = 'ON';` ëª…ë ¹ì–´ë¡œ ì„¤ì •ì„ í‚¤ê³  ë‚˜ë©´ ì•„ë˜ ì‚¬ì§„ê³¼ ê°™ì´ ë¡œê·¸ê°€ ë‚¨ëŠ”ë‹¤.\n![general logë¥¼ í‚¨ í›„](see-general-log.png)\n\nì œë„¤ëŸ´ ë¡œê·¸ë¥¼ íŒŒì¼ì´ ì•„ë‹Œ í…Œì´ë¸”ë¡œë„ ì €ì¥í•  ìˆ˜ ìˆë‹¤.<br>\n`log_output` ì‹œìŠ¤í…œ ë³€ìˆ˜ë¡œ ì„¤ì •í•  ìˆ˜ ìˆëŠ”ë°, defaultëŠ” `FILE`ì´ê³  í…Œì´ë¸”ì— ì €ì¥í•˜ë ¤ë©´ `TABLE`ë¡œ ì„¤ì •í•˜ë©´ ëœë‹¤.<br> \n![log_output ì„¤ì • ìƒíƒœ](log-output-config.png)<br>\ní•´ë‹¹ ì„¤ì •ì€ ìŠ¬ë¡œìš° ì¿¼ë¦¬ ë¡œê·¸ì™€ í•¨ê»˜ ì ìš©ëœë‹¤.\n\n  ì˜µì…˜ì„ `TABLE`ë¡œ ì„¤ì •í•˜ë”ë¼ë„ mysql databaseì˜ *slow_log* í…Œì´ë¸”ê³¼ *general_log* í…Œì´ë¸”ì€ CSV ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ê²°êµ­ CSV íŒŒì¼ë¡œ ì €ì¥í•˜ëŠ” ê²ƒê³¼ ë™ì¼í•˜ê²Œ ì‘ë™í•œë‹¤.\n\në” ìì„¸í•œ ë‚´ìš©ì€ [MySQL ê³µì‹ë¬¸ì„œ](https://dev.mysql.com/doc/refman/8.0/en/query-log.html)ë¥¼ ì°¸ì¡°í•˜ì\n\n## 3. ìŠ¬ë¡œìš° ì¿¼ë¦¬ ë¡œê·¸\n\nìŠ¬ë¡œìš° ì¿¼ë¦¬ ë¡œê·¸ëŠ” `long_query_time` ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì„¤ì •í•œ ì‹œê°„ ì´ìƒì˜ ì‹œê°„ì´ ì†Œìš”ëœ ì¿¼ë¦¬ê°€ ëª¨ë‘ ê¸°ë¡ëœë‹¤.<br>\nì´ë¦„ ê·¸ëŒ€ë¡œ ìŠ¬ë¡œìš° ì¿¼ë¦¬ë“¤ì„ í™•ì¸í•  ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤.\n\nMySQLì´ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•œ í›„, ì‹¤ì œ ì†Œìš”ëœ ì‹œê°„ì„ ê¸°ì¤€ìœ¼ë¡œ ê¸°ë¡í•˜ê¸° ë•Œë¬¸ì— ë°˜ë“œì‹œ ì¿¼ë¦¬ê°€ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ì´ ì™„ë£Œë¼ì•¼ ê¸°ë¡ë  ìˆ˜ ìˆë‹¤.\n\nì•„ë˜ ì‚¬ì§„ì€ ìŠ¬ë¡œìš° ì¿¼ë¦¬ ë¡œê·¸ì˜ ì¼ë¶€ì´ë‹¤.\n![ìŠ¬ë¡œìš° ì¿¼ë¦¬ ë¡œê·¸](slow-query-log.jpeg)\n\nìŠ¬ë¡œìš° ì¿¼ë¦¬ì—ì„œ ì¤‘ìš”í•˜ê²Œ ë³¼ ê°’ë“¤ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\n\n### Time\nì¿¼ë¦¬ê°€ ì¢…ë£Œëœ ì‹œì ì´ë‹¤.\n  \n### Query_time\nì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ëŠ” ë° ê±¸ë¦° ì „ì²´ ì‹œê°„ì´ë‹¤.\n\n### Lock_time\në‘ ê°€ì§€ ë ˆë²¨(MySQL ì—”ì§„ ë ˆë²¨, ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ë ˆë²¨)ì˜ Lock ì¤‘ MySQL ì—”ì§„ ë ˆë²¨ì—ì„œ ê´€ì¥í•˜ëŠ” í…Œì´ë¸” Lockì— ëŒ€í•œ ëŒ€ê¸° ì‹œê°„ë§Œ í‘œí˜„í•œë‹¤.\n\nê°’ì´ 0ì´ ì•„ë‹ˆë¼ê³  í•´ì„œ ë¬´ì¡°ê±´ Lock ëŒ€ê¸°ê°€ ìˆì—ˆë‹¤ê³  íŒë‹¨í•˜ê¸°ëŠ” ì–´ë µë‹¤.<br>\nì‹¤ì œ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ëŠ” ë° í•„ìš”í•œ ì ê¸ˆ ì²´í‚¤ì™€ ê°™ì€ ì½”ë“œ ì‹¤í–‰ ë¶€ë¶„ì˜ ì‹œê°„ê¹Œì§€ ëª¨ë‘ í¬í•¨ë˜ê¸° ë•Œë¬¸ì´ë‹¤.<br>\në”°ë¼ì„œ ë§¤ìš° ì‘ì€ ê°’ì´ë©´ ë¬´ì‹œí•´ë„ ëœë‹¤.\n\nInnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ë ˆë²¨ì—ì„œ Lockì„ ì§€ì›í•œë‹¤.<br>\nê°€ë” InnoDB í…Œì´ë¸”ì— ëŒ€í•œ SELECT ì¿¼ë¦¬ì˜ ê²½ìš°ì—ë„ ê°’ì´ ìƒëŒ€ì ìœ¼ë¡œ í° ê°’ì´ ë°œìƒí•  ìˆ˜ ìˆëŠ”ë°, ì´ëŠ” InnoDBì˜ ë ˆì½”ë“œ ìˆ˜ì¤€ì˜ Lockì´ ì•„ë‹Œ MySQL ì—”ì§„ ë ˆë²¨ì—ì„œ ì„¤ì¥í•œ í…Œì´ë¸” Lock ë•Œë¬¸ì¼ ê°€ëŠ¥ì„±ì´ ë†’ë‹¤.<br>\në”°ë¼ì„œ InnoDB í…Œì´ë¸”ì—ë§Œ ì ‘ê·¼í•˜ëŠ” ì¿¼ë¦¬ ë¬¸ì¥ì˜ ìŠ¬ë¡œìš° ì¿¼ë¦¬ ë¡œê·¸ì—ì„œëŠ” Lock_timeì€ íŠœë‹ì´ë‚˜ ì¿¼ë¦¬ ë¶„ì„ì— ë³„ë¡œ ë„ì›€ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤.\n\n### Rows_examined\nì¿¼ë¦¬ê°€ ì²˜ë¦¬ë˜ê¸° ìœ„í•´ ëª‡ ê±´ì˜ ë ˆì½”ë“œì— ì ‘ê·¼í–ˆëŠ”ì§€ë¥¼ ì˜ë¯¸í•œë‹¤.\n\n### Rows_sent\nì‹¤ì œ ëª‡ ê±´ì˜ ì²˜ë¦¬ ê²°ê³¼ë¥¼ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë³´ëƒˆëŠ”ì§€ë¥¼ ì˜ë¯¸í•œë‹¤.<br>\nì¼ë°˜ì ìœ¼ë¡œ Rows_examined ê°’ì€ ë†’ì§€ë§Œ Rows_sent ê°’ì´ ì ë‹¤ë©´, í•´ë‹¹ ì¿¼ë¦¬ëŠ” ë” ì ì€ ë ˆì½”ë“œë§Œ ì ‘ê·¼í•˜ë„ë¡ íŠœë‹í•  ê°€ì¹˜ê°€ ìˆë‹¤. "},{"excerpt":"íŠ¸ëœì­ì…˜ íŠ¸ëœì­ì…˜ì€ ìµœì†Œí•œì˜ ë…¼ë¦¬ì ì¸ ì‘ì—… ë‹¨ìœ„ì´ë‹¤. í•˜ë‚˜ì˜ ì‘ì—… ë‹¨ìœ„ì— í¬í•¨ë˜ëŠ” ëª¨ë“  ì‘ì—…ë“¤ì´ 100% ì„±ê³µí•´ì•¼ íŠ¸ëœì­ì…˜ì´ commit ë˜ë©°, ì¤‘ê°„ì— ì‘ì—… í•˜ë‚˜ë¼ë„ ë¬¸ì œê°€ ìƒê²¼ì„ ë• ì‘ì—… ì „ì²´ë¥¼ ë¬´íš¨í™”í•œë‹¤. (All or Nothing) ì´ë¥¼ í†µí•´ ë°ì´í„°ì˜ ì •í•©ì„±ì„ ë³´ì¥í•œë‹¤. ACID ëª¨ë¸ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ì›ì¹™ìœ¼ë¡œ ACID ëª¨ë¸ì´ ìˆë‹¤.  InnoDBâ€¦","fields":{"slug":"/05-transaction-and-lock/"},"frontmatter":{"date":"January 03, 2024","title":"MySQLì—ì„œì˜ íŠ¸ëœì­ì…˜ê³¼ Lock","tags":["database"]},"rawMarkdownBody":"\n## íŠ¸ëœì­ì…˜\n\níŠ¸ëœì­ì…˜ì€ **ìµœì†Œí•œì˜ ë…¼ë¦¬ì ì¸ ì‘ì—… ë‹¨ìœ„ì´ë‹¤.**\n\ní•˜ë‚˜ì˜ ì‘ì—… ë‹¨ìœ„ì— í¬í•¨ë˜ëŠ” ëª¨ë“  ì‘ì—…ë“¤ì´ 100% ì„±ê³µí•´ì•¼ íŠ¸ëœì­ì…˜ì´ commit ë˜ë©°, ì¤‘ê°„ì— ì‘ì—… í•˜ë‚˜ë¼ë„ ë¬¸ì œê°€ ìƒê²¼ì„ ë• ì‘ì—… ì „ì²´ë¥¼ ë¬´íš¨í™”í•œë‹¤. (*All or Nothing*)\n\nì´ë¥¼ í†µí•´ ë°ì´í„°ì˜ ì •í•©ì„±ì„ ë³´ì¥í•œë‹¤.\n\n### ACID ëª¨ë¸\n\në°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ì›ì¹™ìœ¼ë¡œ ACID ëª¨ë¸ì´ ìˆë‹¤.\n\n![](img.png)\n\nInnoDBì˜ íŠ¸ëœì­ì…˜ì€ ì´ ACID ëª¨ë¸ì„ ì¤€ìˆ˜í•œë‹¤.\n\n- **Atomic**: ì›ìì„±, íŠ¸ëœì­ì…˜ì˜ ì‘ì—…ì€ ì „ë¶€ ì ìš©ë˜ê±°ë‚˜ ì „ë¶€ ì ìš©ë˜ì§€ ì•Šì•„ì•¼ í•œë‹¤.\n- **Consistency**: ì¼ê´€ì„±, ë°ì´í„°ë² ì´ìŠ¤ëŠ” íŠ¸ëœì­ì…˜ì´ ì§„í–‰ë˜ê±°ë‚˜ ì»¤ë°‹ë˜ê±°ë‚˜ ë¡¤ë°±ëœ ëª¨ë“  ê²½ìš°ì— í•­ìƒ ì¼ê´€ëœ ìƒíƒœë¡œ ìœ ì§€ëœë‹¤. \n- **Isolation**: ê³ ë¦½ì„±, íŠ¸ëœì­ì…˜ë¼ë¦¬ëŠ” ì„œë¡œ ê°„ì„­í•  ìˆ˜ ì—†ë‹¤. ë’·ì¥ì— ë‚˜ì˜¬ ê³ ë¦½ ìˆ˜ì¤€ìœ¼ë¡œ ê³ ë¦½ì„±ì˜ ì •ë„ë¥¼ ì¡°ì ˆí•  ìˆ˜ ìˆë‹¤.\n- **Durability**: ì§€ì†ì„±, íŠ¸ëœì­ì…˜ì´ commit ëœ í›„ì—ëŠ” ë°˜ë“œì‹œ ë””ìŠ¤í¬ì— ë°˜ì˜í•´ì•¼ í•œë‹¤.\n\nìì„¸í•œ ë‚´ìš©ì€ [MySQL ê³µì‹ë¬¸ì„œ](https://dev.mysql.com/doc/refman/8.0/en/mysql-acid.html) ì°¸ê³ \n\n### ì£¼ì˜í•  ì \n\níŠ¸ëœì­ì…˜ ë˜í•œ DB Connectionê³¼ ë§ˆì°¬ê°€ì§€ë¡œ **ìµœì†Œí•œì˜ ë²”ìœ„ë¡œ ì ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.**\n\níŠ¸ëœì­ì…˜ì˜ ë²”ìœ„ê°€ ë§ë‹¤ëŠ” ê²ƒì€ ì²˜ë¦¬í•´ì•¼ í•  ì‘ì—…ì´ ë§ë‹¤ëŠ” ê²ƒì´ê³  ì´ëŠ” Connectionì´ ì¡´ì¬í•˜ëŠ” ì‹œê°„ì´ ê¸¸ì–´ì§„ë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.<br>\nDB Connectionì˜ ìˆ˜ëŠ” í•œì •ì ì´ë¯€ë¡œ í•˜ë‚˜ì˜ Connectionì´ ì¡´ì¬í•˜ëŠ” ì‹œê°„ì´ ê¸¸ì–´ì§€ë©´ ê·¸ë§Œí¼ ë‹¤ë¥¸ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ë°ì— ì¥ì• ê°€ ìƒê¸¸ í™•ë¥ ì´ ë†’ì•„ì§„ë‹¤.\n\nê·¸ë¦¬ê³  íŠ¸ëœì­ì…˜ì— **ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ì›ê²© ì„œë²„ì™€ í†µì‹ í•˜ëŠ” ë“±ì˜ ì‘ì—…ì€ ì–´ë–»ê²Œ í•´ì„œë“  íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ì œê±°í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.**<br>\níŠ¸ëœì­ì…˜ì´ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆ ì™¸ë¶€ ì„œë²„ì™€ í†µì‹ í•  ìˆ˜ ì—†ëŠ” ìƒíƒœë¼ë©´, í•´ë‹¹ íŠ¸ëœì­ì…˜ì€ ì˜ì˜ ì²˜ë¦¬ë˜ì§€ ëª»í•˜ê²Œ ë˜ë©° ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ë„ ì•…ì˜í–¥ì„ ë¼ì¹  ìˆ˜ ìˆë‹¤.\n\n## MySQL ì—”ì§„ì˜ Lock\n\nLockì€ ë™ì‹œì„±ì„ ì œì–´í•˜ê¸° ìœ„í•œ ê¸°ëŠ¥ì´ë‹¤.\n\nì—¬ëŸ¬ Connectionì´ ë™ì‹œì— ë™ì¼í•œ ìì›ì— ëŒ€í•´ ë³€ê²½ì„ ìš”ì²­í•œ ê²½ìš°, ê²½ìŸ ì¡°ê±´ì´ ë°œìƒí•˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•œ ì—­í• ì„ í•œë‹¤.\n\ní¬ê²Œ MySQL ì—”ì§„ ë ˆë²¨ê³¼ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ë ˆë²¨ì˜ Lockìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.\n\nMySQL ì—”ì§„ ë ˆë²¨ì˜ Lockì€ ëª¨ë“  ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ë§Œ, ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ë ˆë²¨ì˜ Lockì€ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ê°„ ìƒí˜¸ ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•ŠëŠ”ë‹¤.\n\n### ê¸€ë¡œë²Œ ë½\n\n- `FLUSH TABLES WITH READ LOCK;` ëª…ë ¹ìœ¼ë¡œ ê¸€ë¡œë²Œ ë½ì„ íšë“í•  ìˆ˜ ìˆë‹¤.\n\n- MySQLì—ì„œ ì œê³µí•˜ëŠ” Lock ê°€ìš´ë° ë²”ìœ„ê°€ ê°€ì¥ í¬ë‹¤.\n\n- í•˜ë‚˜ì˜ Connectionì—ì„œ ê¸€ë¡œë²Œ ë½ì„ íšë“í•˜ë©´ ë‹¤ë¥¸ Connectionì—ì„œ SELECTë¥¼ ì œì™¸í•œ ëŒ€ë¶€ë¶„ì˜ DDLì´ë‚˜ DMLì„ ì‹¤í–‰í•œ ê²½ìš° ê¸€ë¡œë²Œ ë½ì´ í•´ì œë  ë•Œê¹Œì§€ ëŒ€ê¸°í•œë‹¤.\n\n- ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ë²”ìœ„ëŠ” MySQL ì„œë²„ ì „ì²´ì´ë©°, ì‘ì—… ëŒ€ìƒ í…Œì´ë¸”ì´ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ê°€ ë‹¤ë¥´ë”ë¼ë„ ë™ì¼í•˜ê²Œ ì˜í–¥ì„ ë¯¸ì¹œë‹¤.\n\n### í…Œì´ë¸” ë½\n\n- ê°œë³„ í…Œì´ë¸” ë‹¨ìœ„ì— ì„¤ì •í•˜ëŠ” ë½ì´ë‹¤.\n\n- ë¬µì‹œì ìœ¼ë¡œë„ í…Œì´ë¸” ë½ì„ íšë“í•  ìˆ˜ ìˆìœ¼ë‚˜, ëª…ì‹œì ìœ¼ë¡œëŠ” `LOCK TABLES table_name [ READ | WRITE ];` ëª…ë ìœ¼ë¡œ íŠ¹ì • í…Œì´ë¸”ì— ëŒ€í•œ ë½ì„ íšë“í•  ìˆ˜ ìˆë‹¤.<br>\n  ì´ë ‡ê²Œ ëª…ì‹œì ìœ¼ë¡œ íšë“í•œ ë½ì€ `UNLOCK TABLES` ëª…ë ¹ìœ¼ë¡œ ë½ì„ ë°˜í™˜í•  ìˆ˜ ìˆë‹¤.<br>\n  ì‚¬ì‹¤ ëª…ì‹œì ì¸ ì ê¸ˆì€ ê¸€ë¡œë²Œ ë½ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ íŠ¹ë³„í•œ ìƒí™©ì´ ì•„ë‹ˆë¼ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ê±°ì˜ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ë‹¤.\n\n- ë¬µì‹œì  í…Œì´ë¸” ë½ì€ MyISAMì´ë‚˜ MEMORY í…Œì´ë¸”ì— ì“°ê¸° ì‘ì—…ì˜ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ë©´ ë°œìƒí•œë‹¤.<br>\n  ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆ ìë™ìœ¼ë¡œ íšë“í–ˆë‹¤ê°€ ì¿¼ë¦¬ê°€ ì™„ë£Œëœ í›„ ìë™ í•´ì œë˜ëŠ” ì‹ìœ¼ë¡œ ë™ì‘í•œë‹¤.\n  - InnoDB í…Œì´ë¸”ì˜ ê²½ìš°, ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì°¨ì›ì—ì„œ ë ˆì½”ë“œ ê¸°ë°˜ Lockì„ ì§€ì›í•˜ë¯€ë¡œ DML ì¿¼ë¦¬ì—ì„œëŠ” ë¬µì‹œì  í…Œì´ë¸” ë½ì´ ì ìš©ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.<br>\n    DDLì˜ ê²½ìš°ì—ë§Œ ë¬µì‹œì  í…Œì´ë¸” ë½ì„ íšë“í•œë‹¤.\n\n### ë„¤ì„ë“œ ë½\n\n- `GET_LOCK()` í•¨ìˆ˜ë¥¼ ì´ìš©í•´ **ì„ì˜ì˜ ë¬¸ìì—´ì— ëŒ€í•´ Lockì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.**\n\n- Lockì˜ ëŒ€ìƒì´ ë°ì´í„°ë² ì´ìŠ¤ ê°ì²´ê°€ ì•„ë‹ˆë¼ëŠ” íŠ¹ì§•ì´ ìˆë‹¤.<br>\n  ë‹¨ìˆœíˆ ì‚¬ìš©ìê°€ ì§€ì •í•œ ë¬¸ìì—´ì— ëŒ€í•´ íšë“í•˜ê³  ë°˜ë‚©í•˜ëŠ” Lockì´ë‹¤.\n\n- ìì£¼ ì‚¬ìš©ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.<br>\n  ì—¬ëŸ¬ í´ë¼ì´ì–¸íŠ¸ê°€ ìƒí˜¸ ë™ê¸°í™”ë¥¼ ì²˜ë¦¬í•´ì•¼ í•  ë•Œ ë„¤ì„ë“œ ë½ì„ ì´ìš©í•˜ë©´ ì‰½ê²Œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.<br>\n  ë˜, ë§ì€ ë ˆì½”ë“œì— ëŒ€í•´ ë³µì¡í•œ ìš”ê±´ìœ¼ë¡œ ë ˆì½”ë“œë¥¼ ë³€ê²½í•˜ëŠ” íŠ¸ëœì­ì…˜ì— ìœ ìš©í•  ìˆ˜ ìˆë‹¤.\n\nìì„¸í•œ ë‚´ìš©ì€ [MySQL ê³µì‹ë¬¸ì„œ](https://dev.mysql.com/doc/refman/8.0/en/locking-functions.html) ì°¸ê³ \n\n> í•œë²ˆ ë³´ë©´ ì¢‹ì„ë§Œí•œ ê¸€<br>\n> [ìš°ì•„í•œê¸°ìˆ ë¸”ë¡œê·¸ - MySQLì˜ ë„¤ì„ë“œ ë½ì„ ì´ìš©í•œ ë¶„ì‚° ë½ìœ¼ë¡œ ì—¬ëŸ¬ ì„œë²„ì— ê±¸ì¹œ ë™ì‹œì„± ê´€ë¦¬](https://techblog.woowahan.com/2631/)\n\n### ë©”íƒ€ë°ì´í„° ë½\n\n- ë°ì´í„°ë² ì´ìŠ¤ ê°ì²´(í…Œì´ë¸” or ë·°)ì˜ ì´ë¦„ì´ë‚˜ êµ¬ì¡°ë¥¼ ë³€ê²½í•˜ëŠ” ê²½ìš°ì— íšë“í•˜ëŠ” Lockì´ë‹¤.\n\n- ëª…ì‹œì ìœ¼ë¡œ íšë“í•  ìˆ˜ëŠ” ì—†ê³ , í…Œì´ë¸”ì˜ ì´ë¦„ì„ ë³€ê²½ê³¼ ê°™ì€ ê²½ìš°ì— ìë™ìœ¼ë¡œ íšë“í•˜ëŠ” Lockì´ë‹¤.\n  - í…Œì´ë¸”ì„ ë³€ê²½í•˜ëŠ” ì‘ì—…ì˜ ê²½ìš° ì›ë³¸ ì´ë¦„ê³¼ ë³€ê²½ë  ì´ë¦„ ë‘ ê°œ ëª¨ë‘ í•œêº¼ë²ˆì— Lockì„ íšë“í•œë‹¤."},{"excerpt":"2024ë…„ì„ ì‹œì‘í•˜ëŠ” ì˜¤ëŠ˜, ì§€ë‚œ í•œ í•´ë¥¼ ë˜ëŒì•„ë³´ê³  ì˜¬ í•œ í•´ë¥¼ ì–´ë–»ê²Œ ë³´ë‚¼ ì§€ ë¯¸ë¦¬ ìƒê°í•´ë³´ë ¤ê³  í•œë‹¤. ìš°ì•„í•œí…Œí¬ì½”ìŠ¤ 2ì›”ë¶€í„° 11ì›”ê¹Œì§€ ì§„í–‰í–ˆë˜ ìš°ì•„í•œí…Œí¬ì½”ìŠ¤ê°€ ì‚¬ì‹¤ìƒ 2023ë…„ì—ì„œ ê°€ì¥ í•µì‹¬ì´ë©° ìœ ì¼í•œ ì´ì•¼ê¹ƒê±°ë¦¬ë‹¤. ë•Œë¬¸ì— ìš°í…Œì½”ì—ì„œ ê²½í—˜í–ˆë˜ ê²ƒë“¤ì— ëŒ€í•´ ì ì–´ë³´ê³ ì í•œë‹¤. ì§€ì›í•˜ê¸° ì „ ê°œë°œì„ ë„ˆë¬´ë‚˜ë„ ë°°ìš°ê³  ì‹¶ì—ˆë˜ ë§ˆìŒì´ ì»¸ë˜ ì‹œê¸°ì—, ìš´ ì¢‹ê²Œë„ â€¦","fields":{"slug":"/2023-retrospection/"},"frontmatter":{"date":"January 01, 2024","title":"2023ë…„ íšŒê³ ë¡","tags":["retrospection"]},"rawMarkdownBody":"\n2024ë…„ì„ ì‹œì‘í•˜ëŠ” ì˜¤ëŠ˜, ì§€ë‚œ í•œ í•´ë¥¼ ë˜ëŒì•„ë³´ê³  ì˜¬ í•œ í•´ë¥¼ ì–´ë–»ê²Œ ë³´ë‚¼ ì§€ ë¯¸ë¦¬ ìƒê°í•´ë³´ë ¤ê³  í•œë‹¤.\n\n## ìš°ì•„í•œí…Œí¬ì½”ìŠ¤\n\n2ì›”ë¶€í„° 11ì›”ê¹Œì§€ ì§„í–‰í–ˆë˜ ìš°ì•„í•œí…Œí¬ì½”ìŠ¤ê°€ ì‚¬ì‹¤ìƒ 2023ë…„ì—ì„œ ê°€ì¥ í•µì‹¬ì´ë©° ìœ ì¼í•œ ì´ì•¼ê¹ƒê±°ë¦¬ë‹¤.\n\në•Œë¬¸ì— ìš°í…Œì½”ì—ì„œ ê²½í—˜í–ˆë˜ ê²ƒë“¤ì— ëŒ€í•´ ì ì–´ë³´ê³ ì í•œë‹¤.\n\n### ì§€ì›í•˜ê¸° ì „\n\nê°œë°œì„ ë„ˆë¬´ë‚˜ë„ ë°°ìš°ê³  ì‹¶ì—ˆë˜ ë§ˆìŒì´ ì»¸ë˜ ì‹œê¸°ì—, ìš´ ì¢‹ê²Œë„ í˜„ì¥ ì‹¤ìŠµì„ ì§„í–‰í•˜ë©° ë™ì‹œì— í”„ë¦¬ì½”ìŠ¤ë¥¼ ì§„í–‰í–ˆë‹¤.\n\nì´ ìˆœê°„ì€ ì‚´ë©´ì„œ ë¬´ì–¸ê°€ì— ëª°ì…í–ˆë˜ ì²« ìˆœê°„ì´ì—ˆë‹¤. í”„ë¦¬ì½”ìŠ¤ë¥¼ ì§„í–‰í•˜ê¸°ì— í•˜ë£¨ëŠ” ë„ˆë¬´ ì§§ì•˜ê³  ì–¼ë¥¸ ë‚´ì¼ì´ ì™”ìœ¼ë©´ ì¢‹ê² ë‹¤ëŠ” ë§ˆìŒì´ ë“  ê²ƒë„ ì²˜ìŒì´ì—ˆë‹¤.\n\nê·¸ ì •ë„ë¡œ ì¦ê²ê³  ì—´ì‹¬íˆ í–ˆë˜ ìˆœê°„ì´ì—ˆë‹¤. ë•ë¶„ì— í”„ë¦¬ì½”ìŠ¤ ì „ê³¼ ë¹„êµí•´ ì •ë§ ë§ì€ ê²ƒì„ ë°°ì› ê¸°ì— ê·¸ê²ƒë§Œìœ¼ë¡œë„ ê°ì‚¬í•œ ë§ˆìŒìœ¼ë¡œ ìµœì¢… í•©ê²©ì„ í¬ê²Œ ê¸°ëŒ€í•˜ì§€ ì•Šì•˜ë‹¤.\n\ní•˜ì§€ë§Œ ë”ìš± ê°ì‚¬í•˜ê²Œë„ ìµœì¢… í•©ê²© ë©”ì¼ì„ ë°›ì•˜ê³ , ë‹¹ì‹œ ëˆˆë¬¼ ë‚  ì •ë„ë¡œ ê¸°ë»¤ë‹¤.\n\n### ì§„í–‰í•˜ë©°\n\nì°¸ ë§ì€ í•™ìŠµê³¼ ìƒê°, ê·¸ë¦¬ê³  ê²½í—˜ì´ ìˆì—ˆë‹¤.\n\nê¸°ë³¸ì ìœ¼ë¡œ ê°œë°œì„ ë„ˆë¬´ ë°°ìš°ê³  ì‹¶ì—ˆë˜ ë‚˜ì—ê²Œ ì •ë§ ê³¼ë¶„í•œ ì‹œê°„ì´ì—ˆë‹¤.<br>\në•ë¶„ì— ì§§ì€ ì‹œê°„ ë™ì•ˆ í­ë°œì ì¸ ì„±ì¥ì„ í–ˆê³  ê·¸ ì‹œê°„ì„ ê¸°ë°˜ìœ¼ë¡œ **ì•ìœ¼ë¡œ ê¾¸ì¤€í•˜ê²Œ í•™ìŠµí•˜ê³  ë‚˜ë§Œì˜ ì†ë„ëŒ€ë¡œ ë‚˜ì•„ê°€ëŠ” ë°©ë²•ê³¼ í˜ì„ ì–»ì—ˆë‹¤.**\n\nê·¸ ê³¼ì •ì—ì„œ íƒ€ì¸ê³¼ ë¹„êµí•˜ëŠ” í–‰ìœ„ê°€ ì–´ì©Œë©´ ë°±í•´ë¬´ìµí•˜ë‹¤ëŠ” ê²ƒì„ ëŠê¼ˆëŠ”ë°, ì´ ê²½í—˜ì„ ê³„ê¸°ë¡œ ë” í° ì„±ì¥ì„ í–ˆë‹¤.<br>\në‹¹ì‹œì— í–ˆë˜ ë§ì€ ìƒê°ë“¤ì„ í†µí•´ ë‚˜ë§Œì˜ ì†ë„ì™€ ë°©ë²•ì„ íŒŒì•…í•˜ê²Œ ëœ ìˆœê°„ì´ì—ˆê¸° ë•Œë¬¸ì´ë‹¤.\n\nê·¸ë¦¬ê³  ë” í° í­ì˜ ì„±ì¥ì„ ìœ„í•´ ê²½ìŸì´ ì•„ë‹Œ, í˜‘ë ¥í–ˆì„ ë•Œ ë” ë§ì€ ì„±ì¥ì´ ì´ë¤„ì§„ë‹¤ëŠ” ê²ƒì„ ëª¸ì†Œ ê²½í—˜í–ˆë‹¤.<br>\nìì—°ìŠ¤ë ˆ ì¡ë‹´ê³¼ ê¸°ë¡, íšŒê³ ì˜ ì¤‘ìš”ì„±ë„ ì´í•´í•  ìˆ˜ ìˆì—ˆë‹¤.\n\në ˆë²¨ 5 ë•ŒëŠ” ì·¨ì—… ì¤€ë¹„ë¥¼ ì‹œì‘í•˜ë©° ë‚˜ë¥¼ ë˜ëŒì•„ë³´ê³  ì–´ë–¤ ê°œë°œìê°€ ë˜ê¸° ìœ„í•´ ìš°í…Œì½”ë¥¼ ì§€ì›í–ˆê³  ê·¸í† ë¡ ì—´ì‹¬íˆ í•™ìŠµí–ˆëŠ”ì§€ì— ëŒ€í•´ ìƒê°í•˜ëŠ” ê³„ê¸°ê°€ ëë‹¤.\n\n**ê²°ê³¼ì ìœ¼ë¡œ ì•½ 10ê°œì›” ë™ì•ˆ ì—´ì‹¬íˆ ì‚´ì•˜ë˜ ì‹œê°„ ë•ë¶„ì— ì¸ê°„ìœ¼ë¡œì„œ, ê·¸ë¦¬ê³  ê°œë°œìë¡œì„œ ë§ì€ ì„±ì¥ì„ ì´ë¤„ëƒˆë˜ ê²ƒ ê°™ë‹¤.**\n\n### ì•„ì‰¬ì› ë˜ ì \n\nì£¼ë³€ ì‚¬ëŒë“¤ê³¼ ë¹„êµí•˜ë©° ë‚˜ë¥¼ ë§ì§€ë„ ì•ŠëŠ” í‹€ì— ìš±ì—¬ë„£ìœ¼ë ¤ê³  í–ˆë‹¤.\n\nê·¸ë¦¬ê³  ëª¨ë¥´ëŠ” ê²ƒì´ ë§ë‹¤ëŠ” í•‘ê³„ë¡œ ê³µìœ ë¥¼ ì˜í•˜ì§€ ëª»í–ˆë‹¤.<br>\nê³µìœ í•˜ê³  ì‹¶ì€ ë‚´ìš©ì´ ìˆë‹¤ë©´ ê³µë¶€í•´ì„œ í•˜ë©´ ë˜ëŠ” ë¬¸ì œì¸ë° ë‹¹ì‹œì—ëŠ” ëª°ëë‹¤.<br>\nì£¼ë³€ í¬ë£¨ë“¤ì´ ì•„ëŠ” ê±´ ëª¨ë‘ ë”°ë¼ì„œ ì•Œê³  ì‹¶ì—ˆê¸° ë•Œë¬¸ì´ë‹¤.\n\nê¸°ë¡ì„ ë§ì´ í•˜ì§€ ì•Šì•˜ë‹¤.<br>\në•Œë¬¸ì— ì·¨ì—… ì¤€ë¹„ë¥¼ í•  ë•Œ ê½¤ë‚˜ ê³ ìƒí–ˆë‹¤.\n\në°”ì˜ë‹¤ëŠ” í•‘ê³„ë¡œ ìš´ë™ì„ í•˜ì§€ ì•Šì•˜ë‹¤.<br>\nê·¸ ê²°ê³¼ ê·¼ìœ¡ì€ ë‹¤ ë¹ ì ¸ë²„ë ¸ê³  ìš´ë™ì— í¥ë¯¸ë„ ìƒì–´ë²„ë ¸ë‹¤.\n\n## 2024ë…„\n\nëˆ„êµ¬ë‚˜ ëŠ˜ ê·¸ë ‡ë“¯, ìƒˆí•´ ê¸°ë… ëª©í‘œë¥¼ ì„¤ì •í•´ë´¤ë‹¤.\n\n- [ ] ëˆ„êµ¬ë³´ë‹¤ ë‚˜ë¥¼ ì˜ ì´í•´í•˜ëŠ” í•œ í•´ ë§Œë“¤ê¸°\n- [ ] ëª¸ê³¼ ë§ˆìŒì„ ë‹¤ì‹œ ê±´ê°•í•˜ê²Œ ë§Œë“¤ê¸°\n- [ ] ê²½ì œ ê³µë¶€í•˜ê¸°\n- [ ] ì†ë„ë³´ë‹¤ ë°©í–¥ì— ì§‘ì¤‘í•˜ê¸°\n\nì•ìœ¼ë¡œ ì–¼ë§ˆë‚˜ ì§€ì†ë  ì§„ ëª¨ë¥´ê² ì§€ë§Œ í¬ê¸°ë§Œ í•˜ì§€ë§ê³  ì¡°ê¸ˆì”©ì´ë¼ë„ ì˜ì‹í•˜ë©° ì‹¤ì²œí•´ë³´ë ¤ê³  í•œë‹¤.\n\nìº¡í‹´ í¬ë¹„ê°€ ë‚¨ê²¨ì£¼ì‹  ê¸€ì„ ëìœ¼ë¡œ íšŒê³ ë¡ì„ ëë‚´ë³´ì \n\n![](comment-of-pobi.png)"},{"excerpt":"InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ MySQLì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì¤‘ ê±°ì˜ ìœ ì¼í•˜ê²Œ ë ˆì½”ë“œ ê¸°ë°˜ Lockì„ ì§€ì›í•œë‹¤. ë•ë¶„ì— ë†’ì€ ë™ì‹œì„± ì²˜ë¦¬ì™€ ë›°ì–´ë‚œ ì„±ëŠ¥ì„ ê°€ì§„ë‹¤. ì•„í‚¤í…ì²˜ InnoDBì˜ ì „ë°˜ì ì¸ ì•„í‚¤í…ì²˜ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.  InnoDBì˜ ì£¼ìš” íŠ¹ì§• í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì— ì˜í•œ í´ëŸ¬ìŠ¤í„°ë§ ëª¨ë“  InnoDB í…Œì´ë¸”ì€ PKì— ì˜í•´ í´ëŸ¬ìŠ¤í„°ë§ ì¸ë±ìŠ¤ê°€ ìƒì„±ëœë‹¤â€¦","fields":{"slug":"/04-innodb-engine/"},"frontmatter":{"date":"December 17, 2023","title":"InnoDB ì—”ì§„ ì´í•´í•˜ê¸°","tags":["database"]},"rawMarkdownBody":"\n## InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„\n\nMySQLì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì¤‘ ê±°ì˜ ìœ ì¼í•˜ê²Œ **ë ˆì½”ë“œ ê¸°ë°˜ Lock**ì„ ì§€ì›í•œë‹¤.\n\në•ë¶„ì— **ë†’ì€ ë™ì‹œì„± ì²˜ë¦¬**ì™€ **ë›°ì–´ë‚œ ì„±ëŠ¥**ì„ ê°€ì§„ë‹¤.\n\n### ì•„í‚¤í…ì²˜\n\nInnoDBì˜ ì „ë°˜ì ì¸ ì•„í‚¤í…ì²˜ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\n\n![InnoDB ì•„í‚¤í…ì²˜](InnoDB-Architecture.png)\n\n## InnoDBì˜ ì£¼ìš” íŠ¹ì§•\n\n### í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì— ì˜í•œ í´ëŸ¬ìŠ¤í„°ë§\n\nëª¨ë“  InnoDB í…Œì´ë¸”ì€ PKì— ì˜í•´ í´ëŸ¬ìŠ¤í„°ë§ ì¸ë±ìŠ¤ê°€ ìƒì„±ëœë‹¤.\n\në”°ë¼ì„œ PKë¥¼ ì´ìš©í•œ ì¡°íšŒê°€ ì„±ëŠ¥ì— í° ì˜í–¥ì„ ë¼ì¹œë‹¤.\n\n### ì™¸ë˜ í‚¤ ì§€ì›\n\nFKë¥¼ ì§€ì›í•œë‹¤.\n\në‹¤ë§Œ, FKë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ë¶€ëª¨ í…Œì´ë¸”ê³¼ ìì‹ í…Œì´ë¸”ì— ë°ì´í„° ì¡´ì¬ ìœ ë¬´ë¥¼ ì²´í¬í•˜ëŠ” ì‘ì—…ì´ í•„ìš”í•˜ë‹¤.\n\nì´ë•Œ Lockì´ ì—¬ëŸ¬ í…Œì´ë¸”ë¡œ ì „íŒŒë˜ê³ , ì´ë¡œ ì¸í•´ ë°ë“œë½ì´ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ë§ìœ¼ë¯€ë¡œ ì‚¬ìš©ì— ì£¼ì˜í•´ì•¼ í•œë‹¤.\n\n`foregin_key_checks` ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ OFFë¡œ ì„¤ì •í•˜ë©´ ì™¸ë˜ í‚¤ ê´€ê³„ì— ëŒ€í•œ ì²´í¬ ì‘ì—…ì„ ì¼ì‹œì ìœ¼ë¡œ ë©ˆì¶œ ìˆ˜ ìˆë‹¤.<br>\në°ì´í„° ì¶”ê°€ ë° ì‚­ì œ ì‹œì—, ë¶€ê°€ì ì¸ ì‘ì—…ì´ ë°œìƒí•˜ì§€ ì•Šê²Œ ëœë‹¤.<br>\në‹¤ë§Œ, `foregin_key_checks`ê°€ ë¹„í™œì„±í™”ë˜ë©´ `ON DELETE CASCADE` ë‚˜ `ON UPDATE CASCADE`ë„ ë¬´ì‹œí•˜ê²Œ ëœë‹¤.\n\n> `foregin_key_checks` ì‹œìŠ¤í…œ ë³€ìˆ˜ëŠ” ì ìš© ë²”ìœ„ë¥¼ GLOBALê³¼ SESSION ëª¨ë‘ ì„¤ì • ê°€ëŠ¥í•˜ë‹¤.<br>\n> ë”°ë¼ì„œ ë³¸ ì‘ì—…ì„ ìˆ˜í–‰í•  ë•ŒëŠ” ë°˜ë“œì‹œ í˜„ì¬ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” SESSIONì—ì„œë§Œ ì™¸ë˜ í‚¤ ì²´í¬ ê¸°ëŠ¥ì„ í•´ì œí•˜ëŠ” ê²ƒì´ ì•ˆì „í•˜ë‹¤.<br>\n> ëª…ë ¹ì–´ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.<br>\n> `mysql> SET SESSION foreign_key_checks=OFF;`<br>\n> ì‘ì—…ì´ ì™„ë£Œë˜ë©´ ë°˜ë“œì‹œ í˜„ì¬ ì„¸ì…˜ì„ ì¢…ë£Œí•˜ê¸° ì „, ë‹¤ì‹œ í™œì„±í™”í•´ì•¼ í•œë‹¤.\n\n### MVCC(Multi Version Concurrency Control)\n\nMVCCì˜ ê°€ì¥ í° ëª©ì ì€, **ì ê¸ˆì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì¼ê´€ëœ ì½ê¸°ë¥¼ ì œê³µí•˜ëŠ” ë° ìˆë‹¤.**\n\nInnoDBëŠ” **ì–¸ë‘ ë¡œê·¸ë¥¼ ì´ìš©í•´ ì´ ê¸°ëŠ¥ì„ êµ¬í˜„í•œë‹¤.**\n\nì—¬ê¸°ì„œ Multi Versionì´ë¼ í•¨ì€ í•˜ë‚˜ì˜ ë ˆì½”ë“œì— ëŒ€í•´ ì—¬ëŸ¬ ê°œì˜ ë²„ì „ì´ ë™ì‹œì— ê´€ë¦¬ëœë‹¤ëŠ” ì˜ë¯¸ë‹¤.\n\nì˜ˆì‹œë¥¼ í†µí•´ ë” ìì„¸íˆ ì•Œì•„ë³´ì.\n\n```sql\nCREATE TABLE member (\n    id      BIGINT PRIMARY KEY AUTO_INCREMENT,\n    name    VARCHAR(20) NOTNULL,\n    area    VARCHAR(100) NOT NUL,\n    INDEX idx_area (area)\n);\n\nINSERT INTO member VALUES ('í™ê¸¸ë™', 'ì„œìš¸');\n```\n\níšŒì› ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” member í…Œì´ë¸”ì„ ìƒì„±í•˜ê³  ì´ë¦„ì€ í™ê¸¸ë™, ì§€ì—­ì€ ì„œìš¸ì¸ ë ˆì½”ë“œë¥¼ ì¶”ê°€í•œë‹¤.\n\në°ì´í„°ë² ì´ìŠ¤ì˜ ìƒíƒœëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë°”ë€” ê²ƒì´ë‹¤.\n\n![](insert-state.png)\n\nì´í›„, ì§€ì—­ì„ ì„œìš¸ì—ì„œ ê²½ê¸°ë¡œ ìˆ˜ì •í•œë‹¤.\n\n```sql\nUPDATE member SET area='ê²½ê¸°' where id = 1;\n```\n\nUPDATE ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ë©´ InnoDB ë²„í¼ í’€ì—ëŠ” ì»¤ë°‹ ì—¬ë¶€ì™€ ìƒê´€ì—†ì´ ìƒˆë¡œìš´ ê°’ì¸ ê²½ê¸°ë¡œ ìˆ˜ì •ëœë‹¤.\n\në””ìŠ¤í¬ì—ëŠ” ì²´í¬í¬ì¸íŠ¸ë‚˜ Write ì“°ë ˆë“œì— ì˜í•´ ìƒˆë¡œìš´ ê°’ìœ¼ë¡œ ìˆ˜ì •ëì„ ìˆ˜ë„, ì•„ë‹ ìˆ˜ë„ ìˆë‹¤.\n\nì•„ì§ ì»¤ë°‹ì´ë‚˜ ë¡¤ë°±ì´ ë˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ ë‹¤ë¥¸ ì„¸ì…˜ì— ì˜í•´ í•´ë‹¹ ë°ì´í„°ì˜ ì¡°íšŒê°€ ë°œìƒí•˜ë©´ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì–´ë–»ê²Œ ì‘ì—…ì„ ìˆ˜í–‰í• ê¹Œ?\n\nì´ë•ŒëŠ” **MySQL ì„œë²„ì˜ ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì„¤ì •ëœ ê²©ë¦¬ ìˆ˜ì¤€ì— ë”°ë¼ ë‹¤ë¥´ë‹¤.**\n\nê²©ë¦¬ ìˆ˜ì¤€ì´ READ_UNCOMMITEDì¸ ê²½ìš°ì—ëŠ”, ë²„í¼ í’€ì˜ ë°ì´í„°ë¥¼ ì¡°íšŒí•œë‹¤.\n\nê²©ë¦¬ ìˆ˜ì¤€ì´ READ_COMMITED í˜¹ì€ REPEATABLE_READ, SERIALIZABLEì¸ ê²½ìš°ì—ëŠ” ì–¸ë‘ ë¡œê·¸ì˜ ê°’ì„ ì¡°íšŒí•œë‹¤.\n\n![](after-update.png)\n\nì´ëŸ¬í•œ ê³¼ì •ì„ DBMSì—ì„œ MVCCë¼ê³  í‘œí˜„í•œë‹¤.\n\në§Œì•½ UPDATE ì¿¼ë¦¬ê°€ COMMIT ë˜ë©´ ì§€ê¸ˆì˜ ìƒíƒœë¥¼ ì˜êµ¬ì ì¸ ë°ì´í„°ë¡œ ë§Œë“ ë‹¤.\n\në°˜ëŒ€ë¡œ **ROLLBACK ë˜ë©´ ì–¸ë‘ ë¡œê·¸ì— ìˆëŠ” ë°ì´í„°ë¥¼ ë²„í¼ í’€ë¡œ ë‹¤ì‹œ ë³µêµ¬í•˜ê³  ì–¸ë‘ ë¡œê·¸ì˜ ë°ì´í„°ë¥¼ ì‚­ì œí•œë‹¤.**<br>\n\nì–¸ë‘ ë¡œê·¸ì˜ ë°ì´í„°ëŠ”ëŠ”, í•´ë‹¹ ë°ì´í„°ë¥¼ í•„ìš”ë¡œ í•˜ëŠ” íŠ¸ëœì­ì…˜ì´ ë”ëŠ” ì—†ì„ ë•Œ ë¹„ë¡œì†Œ ì‚­ì œëœë‹¤.\n\n### ì ê¸ˆ ì—†ëŠ” ì¼ê´€ëœ ì½ê¸°(Non-Locking Consistent Read)\n\nìœ„ì˜ MVCC ê¸°ìˆ ì„ ì´ìš©í•´ ì ê¸ˆì„ ê±¸ì§€ ì•Šê³  ì½ê¸° ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.\n\nê²©ë¦¬ ìˆ˜ì¤€ì´ SERIALIZABLEì´ ì•„ë‹ˆë©° INSERTì™€ ì—°ê²°ë˜ì§€ ì•Šì€ ìˆœìˆ˜í•œ SELECT ì‘ì—…ì€, ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì˜ ë³€ê²½ ì‘ì—…ê³¼ ê´€ê³„ì—†ì´ í•­ìƒ Lockì„ ëŒ€ê¸°í•˜ì§€ ì•Šê³  ë°”ë¡œ ì‹¤í–‰ëœë‹¤.\n\n### ìë™ ë°ë“œë½ ê°ì§€\n\në‚´ë¶€ì ìœ¼ë¡œ ì ê¸ˆ ëŒ€ê¸° ëª©ë¡ì„ ê·¸ë˜í”„(Wait-for List) í˜•íƒœë¡œ ê´€ë¦¬í•œë‹¤.\n\në°ë“œë½ ê°ì§€ ì“°ë ˆë“œê°€ ì£¼ê¸°ì ìœ¼ë¡œ ì ê¸ˆ ëŒ€ê¸° ê·¸ë˜í”„ë¥¼ ê²€ì‚¬í•´ ë°ë“œë½ì— ë¹ ì§„ Txë“¤ì„ ì°¾ì•„ ê·¸ ì¤‘ í•˜ë‚˜ë¥¼ ê°•ì œ ì¢…ë£Œí•œë‹¤.\n\nì´ë•Œ ê¸°ì¤€ì€ ì–¸ë‘ ë¡œê·¸ ë ˆì½”ë“œë¥¼ ë” ì ê²Œ ê°€ì§„ Txë¥¼ ê°•ì œ ì¢…ë£Œí•œë‹¤.\n\n> InnoDBëŠ” ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ê¸°ì— MySQL ì—”ì§„ì—ì„œ ê´€ë¦¬ë˜ëŠ” í…Œì´ë¸” ì ê¸ˆì€ ë³¼ ìˆ˜ê°€ ì—†ì–´ ë°ë“œë½ ê°ì§€ê°€ ë¶ˆí™•ì‹¤í•  ìˆ˜ ìˆë‹¤.<br>\n> í•˜ì§€ë§Œ `innodb_table_locks` ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ í™œì„±í™”í•˜ë©´ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ë ˆì½”ë“œ ì ê¸ˆë¿ë§Œ ì•„ë‹ˆë¼ í…Œì´ë¸” ë ˆë²¨ì˜ ì ê¸ˆê¹Œì§€ ê°ì§€í•  ìˆ˜ ìˆê²Œ ëœë‹¤.<br>\n> ë”°ë¼ì„œ íŠ¹ë³„í•œ ì´ìœ ê°€ ìˆëŠ” ê²ƒì´ ì•„ë‹ˆë¼ë©´ ìœ„ ë³€ìˆ˜ë¥¼ í™œì„±í™”í•˜ì.\n\nì¼ë°˜ì ì¸ ì„œë¹„ìŠ¤ì—ì„œëŠ” ë°ë“œë½ ê°ì§€ ìŠ¤ë ˆë“œì˜ ì‘ì—…ì´ ë¶€ë‹´ë˜ì§€ ì•ŠëŠ”ë‹¤.<br>\ní•˜ì§€ë§Œ ë™ì‹œì— ì²˜ë¦¬í•´ì•¼í•˜ëŠ” ìŠ¤ë ˆë“œì˜ ìˆ˜ê°€ ë§¤ìš° ë§ì•„ì§€ê±°ë‚˜ ê° Txì´ ê°€ì§€ëŠ” ì ê¸ˆì´ ë§ì•„ì§€ë©´ ë°ë“œë½ ê°ì§€ ìŠ¤ë ˆë“œì˜ ì‘ì—…ì´ ëŠë ¤ì§„ë‹¤.\n\në°ë“œë½ ê°ì§€ ìŠ¤ë ˆë“œëŠ” ì ê¸ˆ ëª©ë¡ì„ ê²€ì‚¬í•œë‹¤.<br>\në‹¹ì‹œì˜ ì ê¸ˆ ìƒíƒœê°€ ë³€ê²½ë˜ì§€ ì•Šë„ë¡ ì ê¸ˆ ëª©ë¡ì´ ì €ì¥ëœ ë¦¬ìŠ¤íŠ¸(ì ê¸ˆ í…Œì´ë¸”)ì— ìƒˆë¡œìš´ ì ê¸ˆì„ ê±¸ê²Œ ëœë‹¤.<br>\nì¦‰, ë°ë“œë½ ê°ì§€ ìŠ¤ë ˆë“œê°€ ëŠë ¤ì§€ë©´ ì„œë¹„ìŠ¤ ì¿¼ë¦¬ì—ë„ ì•…ì˜í–¥ì´ ë¯¸ì¹˜ê²Œ ëœë‹¤.\n\nìœ„ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ `innodb_deadlock_detect` ì‹œìŠ¤í…œ ë³€ìˆ˜ê°€ ì¡´ì¬í•˜ê³  í•´ë‹¹ ë³€ìˆ˜ë¥¼ ë¹„í™œì„±í™”í•˜ì—¬ ë°ë“œë½ ê°ì§€ ìŠ¤ë ˆë“œë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.\n\ní•˜ì§€ë§Œ ì´ë ‡ê²Œ ë˜ë©´ ë°ë“œë½ì´ ë°œìƒí•  ìˆ˜ ìˆëŠ” ê°€ëŠ¥ì„±ì´ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ëŒ€ì•ˆì´ í•„ìš”í•˜ë‹¤.\n\nì´ëŸ´ ë• `innodb_lock_wait_timeout` ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ í™œì„±í™”í•  ìˆ˜ ìˆë‹¤.\n\ndefault ê°’ì€ 50ì´ˆì¸ë°, ì´ë³´ë‹¤ í›¨ì”¬ ë‚®ì€ ì‹œê°„ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ ë°ë“œë½ì„ ë°©ì§€í•˜ì.\n\n### ìë™í™”ëœ ì¥ì•  ë³µêµ¬\n\nMySQL ì„œë²„ê°€ ì‹œì‘ë  ë•Œ ì™„ë£Œë˜ì§€ ëª»í•œ Txì´ë‚˜ ë””ìŠ¤í¬ì— ì¼ë¶€ë§Œ ê¸°ë¡ëœ ë°ì´í„° í˜ì´ì§€ ë“±ì— ëŒ€í•œ ì¼ë ¨ì˜ ë³µêµ¬ ì‘ì—…ì´ ì•Œì•„ì„œ ì§„í–‰ëœë‹¤.\n\në§Œì•½ ìë™ìœ¼ë¡œ ë³µêµ¬ë  ìˆ˜ ì—†ëŠ” ì •ë„ì˜ ì†ìƒì´ë¼ë©´ ìë™ ë³µêµ¬ë¥¼ ë©ˆì¶”ê³  MySQL ì„œë²„ë¥¼ ì¢…ë£Œì‹œí‚¨ë‹¤.\n\n### InnoDB ë²„í¼ í’€\n\n**InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œ ê°€ì¥ í•µì‹¬ì ì¸ ë¶€ë¶„ì´ë‹¤.**\n\n**ë””ìŠ¤í¬ì˜ ë°ì´í„° íŒŒì¼ì´ë‚˜ ì¸ë±ìŠ¤ ì •ë³´ë¥¼ ë©”ëª¨ë¦¬ì— ìºì‹œí•´ ë‘ëŠ” ê³µê°„ì´ë‹¤.**\n\nì“°ê¸° ì‘ì—…ì„ ì§€ì—°ì‹œì¼œ ì¼ê´„ ì‘ì—…ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ë²„í¼ì˜ ì—­í• ë„ ìˆ˜í–‰í•œë‹¤.\n\n#### ë²„í¼ í’€ì˜ í¬ê¸° ì„¤ì •\n\në²„í¼ í’€ì˜ í¬ê¸°ëŠ” ì ì ˆíˆ ì‘ì€ ê°’ë¶€í„° ì‹œì‘í•´ ì¡°ê¸ˆì”© í° ê°’ìœ¼ë¡œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ìµœì ì˜ ë°©ë²•ì´ë‹¤.\n\nê¸°ì¡´ì— ì‚¬ìš©í•˜ëŠ” MySQL ì„œë²„ê°€ ìˆë‹¤ë©´ í•´ë‹¹ ì„œë²„ì˜ ë©”ëª¨ë¦¬ ì„¤ì •ì„ ê¸°ì¤€ìœ¼ë¡œ í¬ê¸°ë¥¼ ì¡°ì •í•˜ì.<br>\në§Œì•½ ì²˜ìŒìœ¼ë¡œ MySQL ì„œë²„ë¥¼ ì¤€ë¹„í•œë‹¤ê³  í–ˆì„ ë•, ìš´ì˜ì²´ì œì˜ ì „ì²´ ë©”ëª¨ë¦¬ ê³µê°„ì´ 8GB ë¯¸ë§Œì´ë¼ë©´ 50% ì •ë„ë¡œ ì„¤ì •í•œë‹¤.<br>\nì „ì²´ ë©”ëª¨ë¦¬ ê³µê°„ì´ 8GB ì´ìƒì´ë¼ë©´ 50% ì—ì„œ ì‹œì‘í•´ì„œ ì¡°ê¸ˆì”© ì˜¬ë ¤ê°€ë©° ìµœì ì ì„ ì°¾ëŠ”ë‹¤.\n\n`innodb_buffer_pool_size` ì‹œìŠ¤í…œ ë³€ìˆ˜ë¡œ í¬ê¸°ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.\n\ní•˜ì§€ë§Œ ë²„í¼ í’€ í¬ê¸° ë³€ê²½ì€ í¬ë¦¬í‹°ì»¬í•œ ë³€ê²½ì´ë¯€ë¡œ ì„œë²„ê°€ í•œê°€í•œ ì‹œê°„ì— ìˆ˜í–‰í•´ì•¼ í•œë‹¤.<br>\nê·¸ë¦¬ê³  ìš©ëŸ‰ì„ ë” í¬ê²Œ ë³€ê²½í•˜ëŠ” ê±´ ì‹œìŠ¤í…œ ì˜í–¥ë„ê°€ í¬ì§„ ì•Šì§€ë§Œ ì¤„ì´ëŠ” ì‘ì—…ì€ ì˜í–¥ë„ê°€ ë§¤ìš° í¬ë¯€ë¡œ ê°€ëŠ¥í•œ í•˜ì§€ ì•Šë„ë¡ í•˜ì.\n\në²„í¼ í’€ì€ ë‚´ë¶€ì ìœ¼ë¡œ 128MB ì²­í¬ ë‹¨ìœ„ë¡œ ìª¼ê°œì–´ ê´€ë¦¬ëœë‹¤.<br>\nì´ëŠ” ë²„í¼ í’€ì˜ í¬ê¸°ë¥¼ ë³€ê²½í•˜ëŠ” ë‹¨ìœ„ë¡œ ì‚¬ìš©ëœë‹¤.\n\n#### ë²„í¼ í’€ì˜ êµ¬ì¡°\n\në²„í¼ í’€ì€ 3ê°œì˜ ìë£Œ êµ¬ì¡°ë¥¼ ê´€ë¦¬í•œë‹¤.\n\n- LRU(Least Recently Used) List\n  - ë””ìŠ¤í¬ë¡œë¶€í„° í•œ ë²ˆ ì½ì–´ì˜¨ í˜ì´ì§€ë¥¼ ìµœëŒ€í•œ ì˜¤ë«ë™ì•ˆ ë³´ê´€í•˜ì—¬ ë””ìŠ¤í¬ IOë¥¼ ìµœì†Œí™”í•˜ê¸° ìœ„í•´ ì‚¬ìš©\n- Flush List\n  - ë””ìŠ¤í¬ë¡œ ë™ê¸°í™”ë˜ì§€ ì•Šì€ ë°ì´í„°ë¥¼ ê°€ì§„ ë°ì´í„° í˜ì´ì§€(ë”í‹° í˜ì´ì§€)ì˜ ë³€ê²½ ì‹œì  ê¸°ì¤€ì˜ í˜ì´ì§€ ëª©ë¡ì„ ê´€ë¦¬\n- Free List\n  - ì‹¤ì œ ì‚¬ìš©ì ë°ì´í„°ë¡œ ì±„ì›Œì§€ì§€ ì•Šì€ ë¹„ì–´ ìˆëŠ” í˜ì´ì§€ë“¤ì˜ ëª©ë¡\n  - ì‚¬ìš©ìì˜ ì¿¼ë¦¬ê°€ ìƒˆë¡­ê²Œ ë””ìŠ¤í¬ì˜ ë°ì´í„° í˜ì´ì§€ë¥¼ ì½ì–´ì™€ì•¼ í•˜ëŠ” ê²½ìš° ì‚¬ìš©\n\n### Double Write Buffer\n\nInnoDBì˜ ë¦¬ë‘ ë¡œê·¸ëŠ” ê³µê°„ì„ íš¨ìš¸ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ í˜ì´ì§€ì˜ ë³€ê²½ëœ ë‚´ìš©ë§Œ ê¸°ë¡í•œë‹¤.<br>\nì´ë¡œ ì¸í•´ ë”í‹° í˜ì´ì§€ë¥¼ ë””ìŠ¤í¬ íŒŒì¼ë¡œ í”ŒëŸ¬ì‹œí•  ë•Œ ì¼ë¶€ë§Œ ê¸°ë¡ë˜ëŠ” ë¬¸ì œê°€ ë°œìƒí•˜ë©´ ê·¸ í˜ì´ì§€ì˜ ë‚´ìš©ì€ ë³µêµ¬í•  ìˆ˜ ì—†ì„ ìˆ˜ë„ ìˆë‹¤.<br>\nì´ë ‡ê²Œ í˜ì´ì§€ê°€ ì¼ë¶€ë§Œ ê¸°ë¡ë˜ëŠ” í˜„ìƒì„ Partial-page ë˜ëŠ” Torn-page ë¼ê³  í•˜ëŠ”ë°, í•˜ë“œì›¨ì–´ì˜ ì˜¤ì‘ë™ì´ë‚˜ ì‹œìŠ¤í…œ ë¹„ì •ìƒ ì¢…ë£Œ ë“±ì˜¬ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\n\nì´ ê°™ì€ ë¬¸ì œë¥¼ ë§‰ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ê¸°ë²•ì´ Double-Write ê¸°ë²•ì´ë‹¤.\n\nInnoDB ë²„í¼ í’€ì— ì¡´ì¬í•˜ëŠ” ë”í‹° í˜ì´ì§€ë¥¼ í•œ ë²ˆì˜ ë””ìŠ¤í¬ ì“°ê¸°ë¡œ ì‹œìŠ¤í…œ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ì˜ DoubleWrite ë²„í¼ì— ê¸°ë¡í•œë‹¤.<br>\nê·¸ë¦¬ê³  ê° ë”í‹° í˜ì´ì§€ë¥¼ ë°ì´í„° íŒŒì¼ì— í•˜ë‚˜ì”© ëœë¤ìœ¼ë¡œ ì“°ê¸°ë¥¼ ì‹¤í–‰í•œë‹¤.\n\nì´ë ‡ê²Œ ì‹œìŠ¤í…œ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ì˜ DoubleWrite ë²„í¼ì— ê¸°ë¡ëœ ë³€ê²½ ë‚´ìš©ì€ ë””ìŠ¤í¬ì— ëª¨ë‘ ì •ìƒì ìœ¼ë¡œ ê¸°ë¡ë˜ë©´ í•„ìš”ê°€ ì—†ì–´ì§„ë‹¤.<br>\ní•˜ì§€ë§Œ ì‹¤ì œ ë°ì´í„° íŒŒì¼ì˜ ì“°ê¸°ê°€ ì¤‘ê°„ì— ì‹¤íŒ¨í•  ë•Œë§Œ ì›ë˜ì˜ ëª©ì ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤.\n\nInnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì¬ì‹œì‘ë  ë•Œ í•­ìƒ DoubleWrite ë²„í¼ì˜ ë‚´ìš©ê³¼ ë””ìŠ¤í¬ ë°ì´í„° íŒŒì¼ì„ ëª¨ë‘ ë¹„êµí•´ì„œ ë‹¤ë¥¸ ë‚´ìš©ì„ ë‹´ê³  ìˆëŠ” í˜ì´ì§€ê°€ ì¡´ì¬í•œë‹¤ë©´, DoubleWrite ë²„í¼ì˜ ë‚´ìš©ì„ ë””ìŠ¤í¬ ë°ì´í„° íŒŒì¼ì˜ í˜ì´ì§€ë¡œ ë³µì‚¬í•œë‹¤.\n\n### ì–¸ë‘ ë¡œê·¸\n\níŠ¸ëœì­ì…˜ê³¼ ê²©ë¦¬ ìˆ˜ì¤€ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ **ë³€ê²½ë˜ê¸° ì´ì „ ë²„ì „ì˜ ë°ì´í„°ë¥¼ ë³„ë„ë¡œ ë°±ì—…í•œë‹¤.**<br>\nì´ë ‡ê²Œ **ë°±ì—…ëœ ë°ì´í„°ë¥¼ ì–¸ë‘ ë¡œê·¸ë¼ê³  í•œë‹¤.**\n\n### ì²´ì¸ì§€ ë²„í¼\n\në ˆì½”ë“œê°€ INSERT ë˜ê±°ë‚˜ UPDATE ë  ë•ŒëŠ” ë°ì´í„° íŒŒì¼ ë¿ë§Œ ì•„ë‹ˆë¼ í•´ë‹¹ í…Œì´ë¸”ì— í¬í•¨ëœ ì¸ë±ìŠ¤ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ì‘ì—…ë„ í•„ìš”í•˜ë‹¤.<br>\ní•˜ì§€ë§Œ ì¸ë±ìŠ¤ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ì‘ì—…ì€ ë””ìŠ¤í¬ë¥¼ ëœë¤í•˜ê²Œ ì½ëŠ” ì‘ì—…ì´ í¬í•¨ëœë‹¤.\n\në³€ê²½í•´ì•¼ í•  ì¸ë±ìŠ¤ í˜ì´ì§€ê°€ ë²„í¼ í’€ì— ìˆìœ¼ë©´ ë°”ë¡œ ì—…ë°ì´íŠ¸ë¥¼ ìˆ˜í–‰í•˜ì§€ë§Œ, ê·¸ë ‡ì§€ ì•Šê³  ë””ìŠ¤í¬ë¡œë¶€í„° ì½ì–´ì™€ì„œ ì—…ë°ì´íŠ¸í•´ì•¼ í•˜ëŠ” ìƒí™©ì´ë¼ë©´ ì„ì‹œ ê³µê°„ì— ì €ì¥í•´ë‘ê³  ê³§ë°”ë¡œ ì‚¬ìš©ìì—ê²Œ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ëŠ” í˜•íƒœë¡œ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¨ë‹¤.<br>\nì´ë•Œì˜ ì„ì‹œ ê³µê°„ì´ ì²´ì¸ì§€ ë²„í¼ë‹¤.\n\n### ë¦¬ë‘ ë¡œê·¸ ë° ë¡œê·¸ ë²„í¼\n\nACID ì¤‘, ì˜ì†ì„±ê³¼ ë°€ì ‘í•œ ê´€ë ¨ì´ ìˆë‹¤.<br>\nëª¨ì¢…ì˜ ì´ìœ ë¡œ ì¸í•´ MySQL ì„œë²„ê°€ ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œëì„ ë•Œ ë°ì´í„° íŒŒì¼ì— ê¸°ë¡ë˜ì§€ ëª»í•œ ë°ì´í„°ë¥¼ ë³µêµ¬í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë¦¬ë‘ ë¡œê·¸ë‹¤.\n\nëŒ€ë¶€ë¶„ì˜ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ë°ì´í„° ë³€ê²½ ë‚´ìš©ì„ ë¡œê·¸ë¡œ ë¨¼ì € ê¸°ë¡í•œë‹¤.<br>\nì´ìœ ëŠ”, ë³´í†µ ì“°ê¸°ë³´ë‹¤ ì½ê¸°ì˜ ì„±ëŠ¥ì„ ê³ ë ¤í•œ ìë£Œ êµ¬ì¡°ë¥¼ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— ë°ì´í„° íŒŒì¼ ì“°ê¸°ëŠ” ëœë¤ ë””ìŠ¤í¬ ì•¡ì„¸ìŠ¤ê°€ í•„ìš”í•˜ë‹¤.<br>\nê·¸ë˜ì„œ ë³€ê²½ëœ ë°ì´í„°ë¥¼ ë°ì´í„° íŒŒì¼ì— ê¸°ë¡í•˜ë ¤ë©´ ìƒëŒ€ì ìœ¼ë¡œ í° ë¹„ìš©ì´ í•„ìš”í•˜ë‹¤.\n\nì´ë¡œ ì¸í•œ **ì“°ê¸° ì„±ëŠ¥ ì €í•˜ë¥¼ ë§‰ê¸° ìœ„í•´ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ëŠ” ì“°ê¸° ë¹„ìš©ì´ ë‚®ì€ ìë£Œ êµ¬ì¡°ì¸, ë¦¬ë‘ ë¡œê·¸ë¥¼ ê°€ì§„ë‹¤.**\n\në¹„ì •ìƒ ì¢…ë£Œê°€ ë°œìƒí•˜ë©´ ë¦¬ë‘ ë¡œê·¸ì˜ ë‚´ìš©ì„ ì´ìš©í•´ ë°ì´í„° íŒŒì¼ì„ ë‹¤ì‹œ ì„œë²„ê°€ ì¢…ë£Œë˜ê¸° ì „ìœ¼ë¡œ ë³µêµ¬í•œë‹¤.\n\n### ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤\n\nInnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œ **ì‚¬ìš©ìê°€ ìì£¼ ìš”ì²­í•˜ëŠ” ë°ì´í„°ì— ëŒ€í•´ ìë™ìœ¼ë¡œ ìƒì„±í•˜ëŠ” ì¸ë±ìŠ¤ì´ë‹¤.**\n\nì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ëŠ” B-Tree ê²€ìƒ‰ ì‹œê°„ì„ ì¤„ì—¬ì£¼ê¸° ìœ„í•´ ë„ì…ëœ ê¸°ëŠ¥ì´ë‹¤.\n\nìì£¼ ì½íˆëŠ” ë°ì´í„° í˜ì´ì§€ì˜ í‚¤ ê°’ì„ ì´ìš©í•´ í•´ì‹œ ì¸ë±ìŠ¤ë¥¼ ë§Œë“¤ê³ , í•„ìš”í•  ë•Œë§ˆë‹¤ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ë¥¼ ê²€ìƒ‰í•´ì„œ í•´ë‹¹ ë ˆì½”ë“œê°€ ì €ì¥ëœ ë°ì´í„° í˜ì´ì§€ë¥¼ ì¦‰ì‹œ ì°¾ì•„ê°ˆ ìˆ˜ ìˆë‹¤.\n\ní•´ì‹œ ì¸ë±ìŠ¤ëŠ” 'ì¸ë±ìŠ¤ í‚¤ ê°’'ê³¼ í•´ë‹¹ ì¸ë±ìŠ¤ í‚¤ ê°’ì´ ì €ì¥ëœ 'ë°ì´í„° í˜ì´ì§€ ì£¼ì†Œ'ì˜ ìŒìœ¼ë¡œ ê´€ë¦¬ëœë‹¤.\n\nì¸ë±ìŠ¤ í‚¤ ê°’ì€, 'B-Tree ì¸ë±ìŠ¤ì˜ ê³ ìœ  ë²ˆí˜¸'ì™€ 'B-Tree ì¸ë±ìŠ¤ì˜ ì‹¤ì œ í‚¤ ê°’'ì˜ ì¡°í•©ìœ¼ë¡œ ìƒì„±ëœë‹¤.\n\në°ì´í„° í˜ì´ì§€ ì£¼ì†ŒëŠ”, ì‹¤ì œ í‚¤ ê°’ì´ ì €ì¥ëœ ë°ì´í„° í˜ì´ì§€ì˜ ë©”ëª¨ë¦¬ ì£¼ì†Œë¥¼ ê°€ì§„ë‹¤. ì´ëŠ” InnoDB ë²„í¼ í’€ì— ë¡œë”©ëœ í˜ì´ì§€ì˜ ì£¼ì†Œë¥¼ ì˜ë¯¸í•œë‹¤. ë”°ë¼ì„œ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ëŠ” ë²„í¼ í’€ì— ì˜¬ë ¤ì§„ ë°ì´í„° í˜ì´ì§€ì— ëŒ€í•´ì„œë§Œ ê´€ë¦¬ë˜ê³ , ë²„í¼ í’€ì— í•´ë‹¹ ë°ì´í„° í˜ì´ì§€ê°€ ì—†ì–´ì§€ë©´ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ì—ì„œë„ í•´ë‹¹ ë°ì´í„° í˜ì´ì§€ì— ëŒ€í•œ ì •ë³´ê°€ ì‚¬ë¼ì§„ë‹¤."},{"excerpt":"MySQL ì—”ì§„ ì•„í‚¤í…ì²˜  MySQL ì„œë²„ëŠ” í¬ê²Œ MySQL ì—”ì§„ê³¼ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œ ë‚˜ë‰œë‹¤. MySQL ì—”ì§„ í´ë¼ì´ì–¸íŠ¸ì™€ì˜ ì—°ê²°, ìš”ì²­ëœ ì¿¼ë¦¬ë¬¸ì„ íŒŒì•…í•˜ê³  ë¶„ì„ ë° ìµœì í™”í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤. ê·¸ í›„, ì‹¤ì œ ë™ì‘ì€ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì— ìš”ì²­í•œë‹¤. ì´ë¥¼ í•¸ë“¤ëŸ¬ ìš”ì²­ì´ë¼ê³  í•˜ê³ , ì—¬ê¸°ì— ì‚¬ìš©ë˜ëŠ” APIë¥¼ í•¸ë“¤ëŸ¬ APIë¼ê³  í•œë‹¤. ëª…ë ¹ì–´ë¡œ í•¸ë“¤ëŸ¬ APIë¥¼ í™•ì¸í•  â€¦","fields":{"slug":"/04-mysql-engine-architecture/"},"frontmatter":{"date":"December 14, 2023","title":"MySQL ì—”ì§„ ì•„í‚¤í…ì²˜","tags":["database"]},"rawMarkdownBody":"\n## MySQL ì—”ì§„ ì•„í‚¤í…ì²˜\n\n![MySQLì˜ ì „ì²´ êµ¬ì¡°](entire-structure-mysql.jpeg)\n\nMySQL ì„œë²„ëŠ” í¬ê²Œ **MySQL ì—”ì§„**ê³¼ **ìŠ¤í† ë¦¬ì§€ ì—”ì§„**ìœ¼ë¡œ ë‚˜ë‰œë‹¤.\n\n### MySQL ì—”ì§„\n\ní´ë¼ì´ì–¸íŠ¸ì™€ì˜ ì—°ê²°, ìš”ì²­ëœ ì¿¼ë¦¬ë¬¸ì„ íŒŒì•…í•˜ê³  ë¶„ì„ ë° ìµœì í™”í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.\n\nê·¸ í›„, ì‹¤ì œ ë™ì‘ì€ *ìŠ¤í† ë¦¬ì§€ ì—”ì§„*ì— ìš”ì²­í•œë‹¤.\n\nì´ë¥¼ *í•¸ë“¤ëŸ¬ ìš”ì²­*ì´ë¼ê³  í•˜ê³ , ì—¬ê¸°ì— ì‚¬ìš©ë˜ëŠ” APIë¥¼ *í•¸ë“¤ëŸ¬ API*ë¼ê³  í•œë‹¤.\n\n```sql\nmysql> `SHOW GLOBAL STATUS LIKE Handler%`;\n```\n\nëª…ë ¹ì–´ë¡œ í•¸ë“¤ëŸ¬ APIë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n\nMySQL ì—”ì§„ì€ ì•„ë˜ì™€ ê°™ì€ ê¸°ëŠ¥ë“¤ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤.\n\n- ì»¤ë„¥ì…˜ í•¸ë“¤ëŸ¬\n- SQL ì¸í„°í˜ì´ìŠ¤\n- SQL íŒŒì„œ\n- SQL ì˜µí‹°ë§ˆì´ì €\n- ìºì‹œ & ë²„í¼\n\n### ìŠ¤í† ë¦¬ì§€ ì—”ì§„\n\nì¢…ë¥˜ë¡œëŠ” MyISAM, InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ìˆë‹¤.\n\nì‹¤ì œ ë°ì´í„°ë¥¼ ë””ìŠ¤í¬ì—ì„œ ì½ê±°ë‚˜ ì“°ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.\n\n## MySQL ìŠ¤ë ˆë”© êµ¬ì¡°\n\nMySQLì€ í”„ë¡œì„¸ìŠ¤ ê¸°ë°˜ì´ ì•„ë‹Œ ì“°ë ˆë“œ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•œë‹¤.\n\n```sql\nmysql> SELECT thread_id, name, type, processlist_user, processlist_host FROM performance_schema.threads ORDER BY type, thread_id;\n```\n\nìœ„ ëª…ë ¹ì–´ë¡œ ì‹¤í–‰ ì¤‘ì¸ ì“°ë ˆë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n\n### Foreground Thread\n\ní´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ì“°ë ˆë“œì´ë‹¤. ë•Œë¬¸ì— í´ë¼ì´ì–¸íŠ¸ ì“°ë ˆë“œ í˜¹ì€ ì‚¬ìš©ì ì“°ë ˆë“œë¼ê³ ë„ ë¶€ë¥¸ë‹¤.\n\ní´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ëª¨ë‘ ì²˜ë¦¬í•˜ë©´, ì“°ë ˆë“œ ìºì‹œë¡œ ëŒì•„ê°„ë‹¤.<br>\nì´ë•Œ, ì“°ë ˆë“œ ìºì‹œê°€ ê°€ë“ ì°¬ ìƒíƒœë¼ë©´ ì“°ë ˆë“œë¥¼ ì¢…ë£Œì‹œí‚¨ë‹¤.\n\në°ì´í„°ë¥¼ MySQLì˜ **ë°ì´í„° ë²„í¼**ë‚˜ **ìºì‹œ**ë¡œë¶€í„° ê°€ì ¸ì˜¤ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.\n\ní•˜ì§€ë§Œ ë²„í¼ë‚˜ ìºì‹œì— ë°ì´í„°ê°€ ì—†ëŠ” ê²½ìš°, InnoDB ê¸°ì¤€ìœ¼ë¡œëŠ” ì§ì ‘ ë””ìŠ¤í¬ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì‘ì—…ì€ **ë°±ê·¸ë¼ìš´ë“œ ì“°ë ˆë“œ**ì—ì„œ ì²˜ë¦¬ëœë‹¤.\n\n### Background Thread\n\nInnoDB ê¸°ì¤€, ì•„ë˜ì™€ ê°™ì€ ì—¬ëŸ¬ ì‘ì—…ë“¤ì´ ë°±ê·¸ë¼ìš´ë“œ ì“°ë ˆë“œì— ì˜í•´ ì²˜ë¦¬ëœë‹¤.\n\n- Insert Bufferë¥¼ ë³‘í•©í•˜ëŠ” ì‘ì—…\n- ë¡œê·¸ë¥¼ ë””ìŠ¤í¬ì— ì“°ëŠ” ì‘ì—…\n- InnoDB ë²„í¼ í’€ì˜ ë°ì´í„°ë¥¼ ë””ìŠ¤í¬ì— ì“°ëŠ” ì‘ì—…\n- ë°ì´í„°ë¥¼ ë²„í¼ë¡œ ì½ì–´ì˜¤ëŠ” ì‘ì—…\n- ì ê¸ˆì´ë‚˜ ë°ë“œë½ì„ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ì‘ì—…\n\nì•„ìš¸ëŸ¬, ì£¼ë¡œ ë””ìŠ¤í¬ì— ì“°ê¸° ì‘ì—…ì„ ìˆ˜í–‰í•˜ê¸° ë•Œë¬¸ì— ë°±ê·¸ë¼ìš´ë“œ ì“°ë ˆë“œì˜ ê°œìˆ˜ëŠ” ì ì • ìˆ˜ë¥¼ ìœ ì§€í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.\n\nì“°ê¸° ì‘ì—…ì€ ë²„í¼ë§ì„ í†µí•´ ì¼ê´„ ì‘ì—…í•´ë„ ê´œì°®ë‹¤. ì˜¤íˆë ¤ íš¨ìœ¨ì ì´ë‹¤. ë”°ë¼ì„œ ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤.\n\n## ë©”ëª¨ë¦¬ í• ë‹¹ ë° ì‚¬ìš© êµ¬ì¡°\n\n### ê¸€ë¡œë²Œ ë©”ëª¨ë¦¬ ì˜ì—­\n\nMySQL ì„œë²„ê°€ ì‹¤í–‰ë˜ë©´ì„œ ìš´ì˜ì²´ì œë¡œë¶€í„° í• ë‹¹ë°›ëŠ” ê³µê°„ì´ë‹¤.\n\ní•„ìš”ì— ë”°ë¼ 2ê°œ ì´ìƒì˜ ë©”ëª¨ë¦¬ ê³µê°„ì„ í• ë‹¹ë°›ì„ ìˆ˜ ìˆë‹¤.\n\nê¸€ë¡œë²Œ ë©”ëª¨ë¦¬ ì˜ì—­ì´ 2ê°œ ì´ìƒì´ë”ë¼ë„ ëª¨ë“  ì“°ë ˆë“œì— ì˜í•´ ê³µìœ ëœë‹¤.\n\nì•„ë˜ì˜ ê¸°ëŠ¥ë“¤ì´ ê¸€ë¡œë²Œ ë©”ëª¨ë¦¬ ì˜ì—­ì— ì¡´ì¬í•œë‹¤.\n\n- í…Œì´ë¸” ìºì‹œ\n- InnoDB ë²„í¼ í’€\n- InnoDB ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤\n- InnoDB ë¦¬ë‘ ë¡œê·¸ ë²„í¼\n\n### ë¡œì»¬ ë©”ëª¨ë¦¬ ì˜ì—­\n\ní´ë¼ì´ì–¸íŠ¸ ì“°ë ˆë“œê°€ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ë©”ëª¨ë¦¬ ì˜ì—­ì´ê¸°ì—, í´ë¼ì´ì–¸íŠ¸ ë©”ëª¨ë¦¬ ì˜ì—­ì´ë¼ê³ ë„ í•œë‹¤.<br>\ní´ë¼ì´ì–¸íŠ¸ì™€ì˜ ì»¤ë„¥ì…˜ì„ *ì„¸ì…˜*ì´ë¼ê³ ë„ í•˜ê¸°ì—, ì„¸ì…˜ ë©”ëª¨ë¦¬ ì˜ì—­ì´ë¼ê³ ë„ í•œë‹¤.\n\në¡œì»¬ ë©”ëª¨ë¦¬ëŠ” ê° í´ë¼ì´ì–¸íŠ¸ ì“°ë ˆë“œ ë³„ë¡œ ë…ë¦½ì ìœ¼ë¡œ í• ë‹¹ë˜ë©° ì‚¬ìš©ëœë‹¤.\n\nëŒ€í‘œì ì¸ ë¡œì»¬ ë©”ëª¨ë¦¬ ì˜ì—­ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\n\n- ì •ë ¬ ë²„í¼\n- ì¡°ì¸ ë²„í¼\n- ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ìºì‹œ\n- ë„¤íŠ¸ì›Œí¬ ë²„í¼\n\n## ì¿¼ë¦¬ ì‹¤í–‰ êµ¬ì¡°\n\ní´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ì¿¼ë¦¬ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ ìˆœìœ¼ë¡œ ì²˜ë¦¬ëœë‹¤.\n\nì¿¼ë¦¬ íŒŒì„œ -> ì „ì²˜ë¦¬ê¸° -> ì˜µí‹°ë§ˆì´ì € -> ì¿¼ë¦¬ ì‹¤í–‰ê¸°\n\n### ì¿¼ë¦¬ íŒŒì„œ\n\nìš”ì²­ìœ¼ë¡œ ë„˜ì–´ì˜¨ SQLë¬¸ì„ MySQLì´ ì¸ì‹í•  ìˆ˜ ìˆëŠ” ìµœì†Œí•œì˜ ë‹¨ìœ„ì¸ í† í°ìœ¼ë¡œ ë¶„ë¦¬í•´ íŠ¸ë¦¬ êµ¬ì¡°ë¡œ ë§Œë“œëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.\n\nSQL ë¬¸ë²• ì˜¤ë¥˜ëŠ” ì¿¼ë¦¬ íŒŒì„œì— ì˜í•´ ê°ì§€ë˜ê³  ì—ëŸ¬ë¥¼ ë°œìƒí•œë‹¤.\n\n### ì „ì²˜ë¦¬ê¸°\n\nì¿¼ë¦¬ íŒŒì„œì˜ ê²°ê³¼ì¸ *íŒŒì„œ íŠ¸ë¦¬*ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì¿¼ë¦¬ ë¬¸ì¥ì— êµ¬ì¡°ì  ë¬¸ì œë¥¼ íŒŒì•…í•œë‹¤.\n\ní…Œì´ë¸”ì´ ì¡´ì¬í•˜ëŠ”ì§€? ì¹¼ëŸ¼ì´ ì¡´ì¬í•˜ëŠ”ì§€? ê¶Œí•œì´ ìˆëŠ”ì§€? ì™€ ê°™ì´, ì‹¤ì œ ì¿¼ë¦¬ë¥¼ ë™ì‘í–ˆì„ ë•Œ ì´ìƒì´ ì—†ì„ ì§€ë¥¼ íŒë‹¨í•œë‹¤.\n\n### ì˜µí‹°ë§ˆì´ì €\n\nSQLë¬¸ì„ ê°€ì¥ íš¨ìœ¨ì ìœ¼ë¡œ ì‹¤í–‰í•˜ê¸° ìœ„í•œ **ì‹¤í–‰ ê³„íš**ì„ ìˆ˜ë¦½í•œë‹¤.\n\n### ì¿¼ë¦¬ ì‹¤í–‰ê¸°\n\nì‹¤í–‰ ê³„íšì„ ë°”íƒ•ìœ¼ë¡œ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ê²Œ ì‘ì—…ì„ ìš”ì²­í•˜ê³ , ê·¸ ê²°ê³¼ë¥¼ ì‚¬ìš©ìì—ê²Œ ë°˜í™˜í•œë‹¤. "},{"excerpt":"ì„¸ ì¤„ ìš”ì•½ ì½”ë“œì˜ ê°€ë…ì„±ì´ ì¢‹ì•„ì§„ë‹¤.  ì½”ë“œë¥¼ ê°ì²´ì§€í–¥ìœ¼ë¡œ ì§¤ ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ ìœ ì§€ë³´ìˆ˜ê°€ ì‰½ë‹¤. ì›ì‹œê°’ê³¼ ë¬¸ìì—´ì„ í¬ì¥í•˜ì§€ ì•Šì•˜ì„ ë•Œ ì´ ì½”ë“œë¥¼ ë³´ê³  íŒŒë¼ë¯¸í„°ë¡œ ë„˜ì–´ê°€ëŠ” ê° ê°’ë“¤ì´ ì–´ë–¤ ê°’ë“¤ì¸ì§€ ë°”ë¡œ íŒŒì•…í•  ìˆ˜ ìˆì„ê¹Œ? ì ì–´ë„ í•´ë‹¹ í”„ë¡œì íŠ¸ì— ëŒ€í•œ ì´í•´ë„ê°€ ì—†ë‹¤ë©´ ì ˆëŒ€ ë¶ˆê°€ëŠ¥í•  ê²ƒì´ë‹¤. ë¬¼ë¡  ì•„ë˜ ì½”ë“œì²˜ëŸ¼ ê° íŒŒë¼ë¯¸í„°ë¥¼ ë³€ìˆ˜ë¡œ í• ë‹¹í•˜ê³  ë³€ìˆ˜ëª…ìœ¼ë¡œ ìœ ì¶”â€¦","fields":{"slug":"/why-wrap-primitive-type-and-string/"},"frontmatter":{"date":"December 13, 2023","title":"ëª¨ë“  ì›ì‹œê°’ê³¼ ë¬¸ìì—´ì„ í¬ì¥í•œë‹¤. ì™œ?","tags":["java","oop","clean-code"]},"rawMarkdownBody":"\n## ì„¸ ì¤„ ìš”ì•½\n\n1. ì½”ë“œì˜ ê°€ë…ì„±ì´ ì¢‹ì•„ì§„ë‹¤. \n2. ì½”ë“œë¥¼ ê°ì²´ì§€í–¥ìœ¼ë¡œ ì§¤ ìˆ˜ ìˆë‹¤.\n3. ë”°ë¼ì„œ ìœ ì§€ë³´ìˆ˜ê°€ ì‰½ë‹¤.\n\n## ì›ì‹œê°’ê³¼ ë¬¸ìì—´ì„ í¬ì¥í•˜ì§€ ì•Šì•˜ì„ ë•Œ\n\n```java\nnew RacingGame(List.of(\"doggy\", \"dazzle\", \"0chil\"), 10);\n```\n\nì´ ì½”ë“œë¥¼ ë³´ê³  íŒŒë¼ë¯¸í„°ë¡œ ë„˜ì–´ê°€ëŠ” ê° ê°’ë“¤ì´ ì–´ë–¤ ê°’ë“¤ì¸ì§€ ë°”ë¡œ íŒŒì•…í•  ìˆ˜ ìˆì„ê¹Œ?\n\nì ì–´ë„ í•´ë‹¹ í”„ë¡œì íŠ¸ì— ëŒ€í•œ ì´í•´ë„ê°€ ì—†ë‹¤ë©´ ì ˆëŒ€ ë¶ˆê°€ëŠ¥í•  ê²ƒì´ë‹¤.\n\në¬¼ë¡  ì•„ë˜ ì½”ë“œì²˜ëŸ¼ ê° íŒŒë¼ë¯¸í„°ë¥¼ ë³€ìˆ˜ë¡œ í• ë‹¹í•˜ê³  ë³€ìˆ˜ëª…ìœ¼ë¡œ ìœ ì¶”í•  ìˆ˜ ìˆë‹¤.\n\n```java\nList<String> players = List.of(\"doggy\", \"dazzle\", \"0chil\");\nint playCount = 10;\n\nnew RacingGame(players, playCount);\n```\n\nê·¸ë ‡ë‹¤ë©´ ì•„ë˜ ì½”ë“œë¥¼ í•œë²ˆ ë³´ì\n\n```java\nPlayers players = new Players(List.of(\"doggy\", \"dazzle\", \"0chil\"));\nPlayCount playCount = new PlayCount(10);\n\nnew RacingGame(players, playCount);\n```\n\në¶„ëª… ë³€ìˆ˜ëª…ì€ ê°™ì§€ë§Œ, íƒ€ì…ì´ ì£¼ëŠ” í˜ì´ ëŠê»´ì§„ë‹¤.\n\n## ë°˜ë³µë˜ëŠ” í–‰ìœ„ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤\n\në§Œì•½ ìœ„ ì½”ë“œì—ì„œ `List<String> players`ì™€ `int playCount`ê°€ ë„“ì€ ë²”ìœ„ì—ì„œ ì‚¬ìš©ë˜ë©´ì„œ, ë™ì‹œì— ê° ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ë° ìˆì–´ ë°˜ë³µë˜ëŠ” í–‰ìœ„ê°€ ìˆë‹¤ë©´ ì–´ë–¨ê¹Œ?\n\nê°€ë ¹, ë‹¤ì–‘í•œ ê³³ì—ì„œ ê° Playerë“¤ì—ê²Œ playCountë§Œí¼ ê²Œì„ì„ Playí•˜ëŠ” í–‰ìœ„ê°€ ì´ë¤„ì ¸ì•¼ í•œë‹¤ë©´ ê° ë³€ìˆ˜ê°€ ì¡´ì¬í•˜ëŠ” ë©”ì„œë“œë§ˆë‹¤ ì‹¤í–‰ ì½”ë“œë¥¼ ì‘ì„±í•´ì¤˜ì•¼ í•  ê²ƒì´ë‹¤.\n\ní•˜ì§€ë§Œ ê°’ì„ í¬ì¥í•˜ì—¬ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë§Œë“ ë‹¤ë©´, ê°ì²´ ê°„ì˜ í˜‘ë ¥ì„ í†µí•´ ì¶©ë¶„íˆ ìˆ˜í–‰í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.\n\nì´ëŠ” ìœ ì§€ë³´ìˆ˜ ê´€ì ì—ì„œ í° ê°•ì ì´ë‹¤!\n\n---\n\nì¶”ê°€ë¡œ, ë§Œì•½ playCountê°€ ëª‡ íšŒ ì´í•˜ì—¬ì•¼ í•œë‹¤ëŠ” ìš”êµ¬ì‚¬í•­ì´ ìˆì„ ê²½ìš°ë¥¼ ìƒê°í•´ë³´ì.\n\ní•´ë‹¹ ê²½ìš°ì—ë„ `PlayCount` ê°ì²´ì—ì„œ ì• ì´ˆì— ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ ê²€ì¦ì„ í•´ì£¼ë©´ ëœë‹¤.\n\nê·¸ëŸ¬ë©´ í•´ë‹¹ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ê³³ì—ì„œ ê²€ì¦ì„ í•´ì£¼ì§€ ì•Šì•„ë„ ëœë‹¤!\n\n## ì¼ê¸‰ ì»¬ë ‰ì…˜\n\nì¼ê¸‰ ì»¬ë ‰ì…˜ì€ ì»¬ë ‰ì…˜ì„ ê°ì‹¼ ê°ì²´ì´ë‹¤.\n\nì‚¬ì‹¤, ì¼ê¸‰ ì»¬ë ‰ì…˜ë„ ê°’ì„ í¬ì¥í•œ ê°ì²´ì´ë¯€ë¡œ ìœ„ì—ì„œ ì–¸ê¸‰í•œ ì¥ì ë“¤ì´ ëª¨ë‘ ì ìš©ëœë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤."},{"excerpt":"ë¬¸ì œ ìƒí™© ì¸ìŠ¤í„´ìŠ¤ í•„ë“œë¡œ Listë§Œì„ ê°€ì§€ëŠ” ì¼ê¸‰ ì»¬ë ‰ì…˜ ê°ì²´ê°€ ìˆìŠµë‹ˆë‹¤. í•„ë“œì—   í‚¤ì›Œë“œê°€ ì¡´ì¬í•˜ê¸° ë–„ë¬¸ì— í•­ìƒ ì´ˆê¸°í™”ë¥¼ í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤. ë”°ë¼ì„œ ê°ì²´ë¥¼ ìƒì„±í•˜ë ¤ë©´ ìƒì„±ìë¥¼ Listë¥¼ í•­ìƒ ì£¼ì…ë°›ì•„ì•¼ í•©ë‹ˆë‹¤. ì´ë•Œ, ë¬¸ì œê°€ ë°œìƒí•©ë‹ˆë‹¤.  ìœ„ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë³´ë©´ MyList ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ë•Œ,  ë¼ëŠ” Listê°€ ìƒì„±ì íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ë©ë‹ˆë‹¤. ê·¸ë ‡ê²Œ â€¦","fields":{"slug":"/cautions-for-using-collections-in-Java/"},"frontmatter":{"date":"December 11, 2023","title":"Javaì—ì„œ ì»¬ë ‰ì…˜ì„ ì‚¬ìš©í•  ë•Œ ì£¼ì˜í•  ì ","tags":["java"]},"rawMarkdownBody":"\n## ë¬¸ì œ ìƒí™©\n\n```java\npublic final class MyList {\n\n    private final List<String> list;\n\n    public MyList(List<String> list) {\n        this.list = list;\n    }\n\n    public void add(String value) {\n        list.add(value);\n    }\n    \n    public int size() {\n        return list.size();\n    }\n    \n    public List<String> list() {\n        return list;\n    }\n}\n```\n\nì¸ìŠ¤í„´ìŠ¤ í•„ë“œë¡œ Listë§Œì„ ê°€ì§€ëŠ” ì¼ê¸‰ ì»¬ë ‰ì…˜ ê°ì²´ê°€ ìˆìŠµë‹ˆë‹¤.\n\ní•„ë“œì— `final`  í‚¤ì›Œë“œê°€ ì¡´ì¬í•˜ê¸° ë–„ë¬¸ì— í•­ìƒ ì´ˆê¸°í™”ë¥¼ í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤.\n\në”°ë¼ì„œ ê°ì²´ë¥¼ ìƒì„±í•˜ë ¤ë©´ ìƒì„±ìë¥¼ Listë¥¼ í•­ìƒ ì£¼ì…ë°›ì•„ì•¼ í•©ë‹ˆë‹¤.\n\nì´ë•Œ, ë¬¸ì œê°€ ë°œìƒí•©ë‹ˆë‹¤.\n\n![ë¬¸ì œ ìƒí™©](problem.png)\n\nìœ„ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë³´ë©´ MyList ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ë•Œ, `list` ë¼ëŠ” Listê°€ ìƒì„±ì íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ë©ë‹ˆë‹¤.\n\nê·¸ë ‡ê²Œ `myList` ë¼ëŠ” ì´ë¦„ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ëœ í›„, `list`ì— \"c\"ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.\n\nê·¸ëŸ°ë° ê²€ì¦ë¬¸ì„ ë³´ë©´, `myList` ì¸ìŠ¤í„´ìŠ¤ì˜ í•„ë“œì—ëŠ” `a, b, c`ê°€ ì¡´ì¬í•©ë‹ˆë‹¤.\n\nì´ ë¬¸ì œëŠ” `myList`ê°€ ê°€ì§€ëŠ” í•„ë“œì™€, `list` ì»¬ë ‰ì…˜ì´ **ê°™ì€ ì°¸ì¡° ê°’ì„ ê°€ì§€ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.**\n\n> ì°¸ì¡° ê°’ì— ëŒ€í•œ ë‚´ìš©ì€ [í…Œì½”í†¡ - íˆì´ë¡œì˜ ë¶ˆë³€](https://www.youtube.com/watch?v=AjpJS9WrDrs) ì¶”ì²œë“œë¦½ë‹ˆë‹¤\n\nê²°êµ­ ê°ì²´ ë‚´ë¶€ì˜ ì°¸ì¡°ê°’ê³¼ ì™¸ë¶€ì˜ ì°¸ì¡°ê°’ì„ ëŠì–´ì£¼ëŠ” ì‘ì—…ì´ í•„ìš”í•©ë‹ˆë‹¤.\n\nì´ë¥¼ **ë°©ì–´ì  ë³µì‚¬**ë¼ê³  í•©ë‹ˆë‹¤.\n\n## ë°©ì–´ì  ë³µì‚¬ ì²« ë²ˆì§¸ ë°©ë²•: ìƒˆë¡œìš´ ê°ì²´ í• ë‹¹ (new)\n\n```java\npublic final class MyList {\n\n    private final List<String> list;\n\n    public MyList(List<String> list) {\n        this.list = new ArrayList<>(list);\n    }\n}\n```\n\në©”ì„œë“œ íŒŒë¼ë¯¸í„°ë¡œ ì™¸ë¶€ì˜ ì»¬ë ‰ì…˜ì´ ë“¤ì–´ì˜¬ ë•Œ, **ìƒˆë¡œìš´ ì»¬ë ‰ì…˜ì„ ë§Œë“¤ì–´** ê·¸ ì•ˆì— ê°’ì„ ë³µì‚¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n![ìƒˆë¡œìš´ ê°ì²´ í• ë‹¹](defensive_copy.png)\n\n## List.copyOf()\n\në˜ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ `List.copyOf()` ë©”ì„œë“œê°€ ìˆìŠµë‹ˆë‹¤.\n\n```java\npublic final class MyList {\n\n    private final List<String> list;\n\n    public MyList(List<String> list) {\n        this.list = List.copyOf(list);\n    }\n}\n```\n\n![List.copyOf()](list_copyof.png)\n\ní•˜ì§€ë§Œ ì´ ë©”ì„œë“œì˜ ê²½ìš°, ìœ„ í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´ ê°’ì„ ì“°ê±°ë‚˜ ìˆ˜ì •í•˜ê±°ë‚˜ ì‚­ì œí•˜ëŠ” ë©”ì„œë“œì— ëŒ€í•´ì„œëŠ” `UnsupportedOperationException`ì„ ë°œìƒí•©ë‹ˆë‹¤.\n\nê·¸ ì´ìœ ë¡œëŠ” `copyOf()` ë©”ì„œë“œë¥¼ ê¹Œë³´ë©´ ìµœì¢…ì ìœ¼ë¡œ `ImmutableCollections.ListN<>()` ë©”ì„œë“œê°€ í˜¸ì¶œë˜ëŠ”ë°ìš”.<br>\n`ImmutableCollections.ListN<E>`ëŠ” `AbstractImmutableList<E>`ë¥¼ ìƒì†í•˜ê³  ìˆìœ¼ë©°<br>\n`AbstractImmutableList<E>`ëŠ” ì•„ë˜ì™€ ê°™ì´ ì“°ê¸° ì‘ì—…ì— ëŒ€í•´ ì˜ˆì™¸ë¥¼ ë˜ì§€ê³  ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\n![AbstractImmutableListì˜ ì“°ê¸° ì‘ì—… ë©”ì„œë“œë“¤](AbstractImmutableList.png)\n\nì¶”ê°€ë¡œ `List.copyOf()`ë„ ìƒˆë¡œìš´ ê°ì²´ê°€ ìƒì„±ë˜ê³  ê°’ì„ ë³µì‚¬í•˜ëŠ” *ë°©ì–´ì  ë³µì‚¬*ê°€ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.\n\nì•„ë˜ ì‚¬ì§„ì€ `ImmutableCollections.ListN<>()`ì˜ ìƒì„±ìì…ë‹ˆë‹¤.\n\n![List.copyOf()ì˜ ìµœì¢… ì‹¤í–‰ ë©”ì„œë“œ](last_method_of_copyof.png)\n\nê°€ë³€ ì¸ìë¡œ ê°’ì„ ë°›ê³  ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë§Œë“¤ê³  ëª¨ë“  ìš”ì†Œì— ëŒ€í•´ null ì²´í¬ë¥¼ í•˜ë©° ê°’ì„ ë³µì‚¬í•©ë‹ˆë‹¤.\n\nê²°ê³¼ì ìœ¼ë¡œ ë‹¤ë¥¸ ê°ì²´ê°€ ìƒì„±ë˜ì–´ ì™¸ë¶€ ì»¬ë ‰ì…˜ê³¼ ì°¸ì¡°ê°€ ëŠì–´ì§‘ë‹ˆë‹¤.\n\n## Collections.unmodifiableList()\n\nì´ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ì½ê¸° ì „ìš© ì»¬ë ‰ì…˜ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```java\npublic final class MyList {\n\n    private final List<String> list;\n\n    public MyList(List<String> list) {\n        this.list = Collections.unmodifiableList(list);\n    }\n}\n```\n\n![Collections.unmodifiableList()](unmodifiable_list.png)\n\ní•˜ì§€ë§Œ `List.copyOf()`ì™€ ë¹„êµí•´ì„œ í•œ ê°€ì§€ ì¤‘ìš”í•œ ì ì´ ìˆìŠµë‹ˆë‹¤.\n\nì•„ë˜ í…ŒìŠ¤íŠ¸ ì½”ë“œì²˜ëŸ¼, ì™¸ë¶€ì— ì¡´ì¬í•˜ëŠ” ì»¬ë ‰ì…˜ì˜ ê°’ì„ ìˆ˜ì •í•˜ë©´ ê·¸ëŒ€ë¡œ `myList`ì— ë°˜ì˜ì´ ëœë‹¤ëŠ” ì‚¬ì‹¤ì…ë‹ˆë‹¤.\n\n![Collections.unmodifiableList()ì˜ ì•½ì ](weekpoint_of_unmodifialeList.png)\n\nê·¸ ì›ì¸ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n![Collections.unmodifiableList()ì˜ ìµœì¢… ì‹¤í–‰ ë©”ì„œë“œ](last_method_of_unmodifiableList.png)\n\níŒŒë¼ë¯¸í„°ë¡œ ë„˜ì–´ì˜¤ëŠ” ì™¸ë¶€ ì»¬ë ‰ì…˜ì¸ `list`ë¥¼ ì•„ë¬´ëŸ° ì¡°ì¹˜ì—†ì´ ê·¸ëŒ€ë¡œ í• ë‹¹í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në”°ë¼ì„œ, ë‚´ë¶€ì ìœ¼ë¡œëŠ” ê°’ì˜ ë³€ê²½ì´ ë§‰í˜€ìˆì§€ë§Œ, ì™¸ë¶€ì˜ ì»¬ë ‰ì…˜ê³¼ëŠ” ê°™ì€ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ì°¸ì¡°í•˜ê³  ìˆë‹¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."},{"excerpt":"ìš°ì•„í•œí…Œí¬ì½”ìŠ¤ì˜ ëª¨ë“  ë¯¸ì…˜ì— \"ë°°ì—´ ëŒ€ì‹  ì»¬ë ‰ì…˜ì„ ì‚¬ìš©í•˜ë¼\"ëŠ” ìš”êµ¬ ì‚¬í•­ì´ í•­ìƒ ì¡´ì¬í•œë‹¤. ê·¸ ì´ìœ ë¥¼ ì•Œì•„ë³´ì. ë‘ ì¤„ ìš”ì•½ Javaê°€ ì´ë¯¸ ì˜ ë§Œë“¤ì–´ë†“ì€ JCFê°€ ì¡´ì¬í•œë‹¤. ì œë„¤ë¦­ì„ ì§€ì›í•œë‹¤. JCF  JavaëŠ” ë‹¤ì–‘í•œ ìë£Œêµ¬ì¡°ì™€ ë‹¤ì–‘í•œ ì•Œê³ ë¦¬ì¦˜ì„ ì§€ì›í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë™ì  ë°°ì—´ì€ , ì—°ê²° ë¦¬ìŠ¤íŠ¸ëŠ”  ì²˜ëŸ¼ ë§ì´ë‹¤. ê²Œë‹¤ê°€ ê° ìë£Œêµ¬ì¡°ì— í•„ìš”í•œ ë™ì‘ë“¤, â€¦","fields":{"slug":"/why-use-collection-instead-of-array/"},"frontmatter":{"date":"December 11, 2023","title":"ë°°ì—´ ëŒ€ì‹  ì»¬ë ‰ì…˜ì„ ì“´ë‹¤. ì™œ?","tags":["java","clean-code"]},"rawMarkdownBody":"\nìš°ì•„í•œí…Œí¬ì½”ìŠ¤ì˜ ëª¨ë“  ë¯¸ì…˜ì— \"ë°°ì—´ ëŒ€ì‹  ì»¬ë ‰ì…˜ì„ ì‚¬ìš©í•˜ë¼\"ëŠ” ìš”êµ¬ ì‚¬í•­ì´ í•­ìƒ ì¡´ì¬í•œë‹¤.\n\nê·¸ ì´ìœ ë¥¼ ì•Œì•„ë³´ì.\n\n## ë‘ ì¤„ ìš”ì•½\n\n1. Javaê°€ ì´ë¯¸ ì˜ ë§Œë“¤ì–´ë†“ì€ [JCF](https://steady-coding.tistory.com/354)ê°€ ì¡´ì¬í•œë‹¤.\n2. ì œë„¤ë¦­ì„ ì§€ì›í•œë‹¤.\n\n## JCF\n\n![JCF ê³„ì¸µ êµ¬ì¡°](hierarchy-of-jcf.png)\n\nJavaëŠ” ë‹¤ì–‘í•œ ìë£Œêµ¬ì¡°ì™€ ë‹¤ì–‘í•œ ì•Œê³ ë¦¬ì¦˜ì„ ì§€ì›í•œë‹¤.\n\nì˜ˆë¥¼ ë“¤ì–´ ë™ì  ë°°ì—´ì€ `ArrayList`, ì—°ê²° ë¦¬ìŠ¤íŠ¸ëŠ” `LinkedList` ì²˜ëŸ¼ ë§ì´ë‹¤.\n\nê²Œë‹¤ê°€ ê° ìë£Œêµ¬ì¡°ì— í•„ìš”í•œ ë™ì‘ë“¤, ì˜ˆë¥¼ ë“¤ì–´ ì¤‘ê°„ì— ê°’ ì‚½ì… í˜¹ì€ ì‚­ì œì™€ ê°™ì€ ë™ì‘ë“¤ ì—­ì‹œ ë¯¸ë¦¬ ì œê³µí•œë‹¤.\n\në¿ë§Œ ì•„ë‹ˆë¼, `isEmpty()`, `sort()`, `clear()`, `contains()` ê°™ì€ ë©”ì„œë“œê°€ ì¡´ì¬í•œë‹¤.\n\nì‹¤ì œë¡œ ê°œë°œí•˜ë‹¤ë³´ë©´ ìœ„ ë©”ì„œë“œë“¤ì´ ì •ë§ ë§ì´ ì‚¬ìš©ë˜ëŠ”ë°, ë§Œì•½ ì»¬ë ‰ì…˜ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  ë°°ì—´ì„ ì‚¬ìš©í•œë‹¤ë©´ ìœ„ ë©”ì„œë“œë“¤ì„ **ì¬ë°œëª…**í•´ì•¼ í•  ê²ƒì´ë‹¤. ~~ê·¸ëŸ¬ë©´ í‡´ê·¼ì´ ëŠ¦ì–´ì§ˆ ê²ƒì´ë‹¤.~~\n\në”°ë¼ì„œ ìƒí™©ì— ë”°ë¼ í•„ìš”í•œ ìë£Œêµ¬ì¡°ì™€ ì œê³µë˜ëŠ” ë©”ì„œë“œë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ë°°ì—´ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒë³´ë‹¤ í› ì–´ì–¼ì”¬ **íš¨ìœ¨ì ì¸ ê°œë°œ**ì„ í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.\n\nì¶”ê°€ë¡œ `java.util.concurrent` íŒ¨í‚¤ì§€ì—ì„œ ì œê³µí•˜ëŠ” ì»¬ë ‰ì…˜ë“¤ì„ í†µí•´ **Thread-safeí•œ ìë£Œêµ¬ì¡°**ë„ í¸í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n\në˜ `Collections` í´ë˜ìŠ¤ ë‚´ì— `UnmodifiableXXX` ë¥¼ í†µí•´ ë¶ˆë³€ì‹ ë˜í•œ ì§€í‚¬ ìˆ˜ ìˆë‹¤.\n\n![Unmodifiable Collections](unmodifable-collections.png)\n\n## ì œë„¤ë¦­ì„ ì§€ì›í•œë‹¤\n\nì œë„¤ë¦­ì€ JAVAê°€ ì œê³µí•˜ëŠ” ìœ ì—°í•˜ê³  ì•ˆì „í•œ ê¸°ìˆ  ì¤‘ í•˜ë‚˜ì´ë‹¤.\n\nì»¬ë ‰ì…˜ì€ ì œë„¤ë¦­ì„ ì§€ì›í•œë‹¤. í•˜ì§€ë§Œ ë°°ì—´ì€ ê·¸ë ‡ì§€ ì•Šë‹¤.\n\n> ì œë„¤ë¦­ì— ëŒ€í•œ ì´í•´ëŠ” [ì´ í¬ìŠ¤íŒ…](https://kdkdhoho.github.io/about-generic) ì°¸ê³ \n\nì´ ì œë„¤ë¦­ì„ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒì€, ê°œë°œìë¡œ í•˜ì—¬ê¸ˆ **ì»´íŒŒì¼ íƒ€ì„ì— íƒ€ì… ì•ˆì •ì„±ì„ ë³´ì¥í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒ**ì´ë‹¤.\n\nì´ëŠ” ì–´ë§ˆì–´ë§ˆí•œ ë©”ë¦¬íŠ¸ì´ë‹¤. ì—ëŸ¬ê°€ ìƒê²¨ë„ ê°€ì¥ ì¢‹ì€ íƒ€ì´ë°ì€ **ì»´íŒŒì¼ íƒ€ì„**ì¸ë°, ì œë„¤ë¦­ì´ ì´ë¥¼ ë³´ì¥í•œë‹¤.<br>\n~~ì¼ë‹¨ ì´ê±°ë§Œìœ¼ë¡œë„ ë°°ì—´ ëŒ€ì‹  ì»¬ë ‰ì…˜ì„ ì“¸ ì´ìœ ê°€ ì¶©ë¶„í•´ë³´ì¸ë‹¤.~~\n"},{"excerpt":"ì§€ë‚œ ë²ˆì—” Garbage Collectionê³¼ ë™ì‘ ì›ë¦¬ì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ë‹¤.\nì´ë²ˆ ê¸€ì—ì„  GCì— ì–´ë–¤ ì•Œê³ ë¦¬ì¦˜ì´ ìˆê³ , ê° ì•Œê³ ë¦¬ì¦˜ì˜ íŠ¹ì§•ì— ëŒ€í•´ ì‚´í´ë³´ì. 1. Serial Collector ë‹¨ì¼ ì“°ë ˆë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë“  GC ì‘ì—…ì„ ìˆ˜í–‰í•˜ë¯€ë¡œ ì‘ì—… ì¤‘, ì“°ë ˆë“œ ê°„ í†µì‹  ì˜¤ë²„í—¤ë“œê°€ ì—†ë‹¤. ì“°ë ˆë“œ ê°„ í†µì‹ ì€ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ê³  ì¡°ìœ¨í•˜ëŠ” ê³¼ì •ì„ ì˜ë¯¸í•œë‹¤.\në‹¤ë¥¸â€¦","fields":{"slug":"/garbage-collection-algorithms/"},"frontmatter":{"date":"December 10, 2023","title":"Garbage Collection ì•Œê³ ë¦¬ì¦˜","tags":["java","garbage-collection"]},"rawMarkdownBody":"\nì§€ë‚œ ë²ˆì—” [Garbage Collectionê³¼ ë™ì‘ ì›ë¦¬](https://kdkdhoho.github.io/about-garbage-collection/)ì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ë‹¤.<br>\nì´ë²ˆ ê¸€ì—ì„  GCì— ì–´ë–¤ ì•Œê³ ë¦¬ì¦˜ì´ ìˆê³ , ê° ì•Œê³ ë¦¬ì¦˜ì˜ íŠ¹ì§•ì— ëŒ€í•´ ì‚´í´ë³´ì.\n\n## 1. Serial Collector\n\n**ë‹¨ì¼ ì“°ë ˆë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë“  GC ì‘ì—…ì„ ìˆ˜í–‰**í•˜ë¯€ë¡œ ì‘ì—… ì¤‘, ì“°ë ˆë“œ ê°„ í†µì‹  ì˜¤ë²„í—¤ë“œê°€ ì—†ë‹¤.\n\n> ì“°ë ˆë“œ ê°„ í†µì‹ ì€ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ê³  ì¡°ìœ¨í•˜ëŠ” ê³¼ì •ì„ ì˜ë¯¸í•œë‹¤.<br>\n> ë‹¤ë¥¸ ì˜ë¯¸ë¡œëŠ” ì“°ë ˆë“œ ê°„ ë™ê¸°í™” ì‘ì—…ì´ ìˆ˜í–‰ëœë‹¤ê³  í•  ìˆ˜ ìˆë‹¤. (== ì˜¤ë²„í—¤ë“œ ë°œìƒ)\n\nê²°ê³¼ì ìœ¼ë¡œ **Serial GC ì“°ë ˆë“œì˜ ì‘ì—… ì‹œê°„ì´ í”„ë¡œê·¸ë¨ì˜ ì‘ë‹µ ì‹œê°„ì— ì§ì ‘ì ì¸ ì˜í–¥ì„ ì¤€ë‹¤**.\n\nì‹±ê¸€ í”„ë¡œì„¸ì„œ í™˜ê²½ì— ì í•©í•œ ì•Œê³ ë¦¬ì¦˜ì´ë‹¤.<br>\ní•˜ì§€ë§Œ ì²˜ë¦¬í•˜ëŠ” ë°ì´í„°ì˜ ìš©ëŸ‰ì´ ìµœëŒ€ ì•½ 100MBë¡œ ë§¤ìš° ì‘ì€ ê²½ìš° ë©€í‹° í”„ë¡œì„¸ì„œì—ì„œë„ ìœ ìš©í•˜ê²Œ ì“°ì¼ ìˆ˜ ìˆë‹¤.\n\nSerial CollectorëŠ” íŠ¹ì • í•˜ë“œì›¨ì–´ ë° OS êµ¬ì„±ì—ì„œ defaultë¡œ ì„ íƒë˜ê±°ë‚˜,<br>\n`-XX:+UseSerialGC` ì˜µì…˜ì„ í†µí•´ ëª…ì‹œì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n\nJava 8, 11, 17 ë²„ì „ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.\n\nì¶”ê°€ë¡œ Major Collection ì´í›„ íŒŒí¸í™” ëœ ë©”ëª¨ë¦¬ë¥¼ ì••ì¶•í•´ Holeì„ ìµœëŒ€í™” í•˜ëŠ” _Compaction_ ê³¼ì •ì´ ë°œìƒí•œë‹¤.\n\n## Parallel Collector\n\n_Throughput GC_ ë¼ê³ ë„ ë¶€ë¥¸ë‹¤.\n\n*Serial Collector*ì™€ ìœ ì‚¬í•˜ê²Œ ë™ì‘í•œë‹¤. í•˜ì§€ë§Œ Parallel Collectorì˜ ê²½ìš° **ë©€í‹° ì“°ë ˆë“œë¡œ GC ì‘ì—…ì„ ì§„í–‰í•œë‹¤**ëŠ” ì ì—ì„œ í° ì°¨ì´ê°€ ìˆë‹¤.<br>\në”°ë¼ì„œ ë©€í‹° í”„ë¡œì„¸ì„œ í™˜ê²½ì— ì í•©í•œ ì•Œê³ ë¦¬ì¦˜ì´ë‹¤.\n\n![Serial Collectorì™€ Parallel Collectorì˜ ì°¨ì´ [ì¶œì²˜](https://d2.naver.com/helloworld/1329](difference_serial_and_parallel.png)\n\n`-XX:+UseParallelGC` ì˜µì…˜ì„ í†µí•´ ëª…ì‹œì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n\nJava 8, 11 17 ë²„ì „ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.\n\n## CMS Collector\n\n*Concurrent Mark Sweep*ì˜ ì•½ìë¡œ, **í•„ìš”í•˜ì§€ ì•Šì€ ê°ì²´ë¥¼ Mark í•˜ê³  ì œê±°í•˜ëŠ” ê³¼ì •ì¸ Sweepì„ ë‹¤ë¥¸ ì“°ë ˆë“œì™€ ë™ì‹œì— ì²˜ë¦¬í•œë‹¤**.\n\nì•„ë˜ ê·¸ë¦¼ì€ *Serial Collector* ì™€ ë¹„êµí•˜ëŠ” ê·¸ë¦¼ì´ë‹¤.<br>\nê·¸ë¦¼ì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´, Initial Mark ì™€ Remark ì‹œê°„ì„ ì œì™¸í•˜ê³ ëŠ” GC ì‘ì—…ì´ ë‹¤ë¥¸ ì“°ë ˆë“œì™€ ë™ì‹œì— ì²˜ë¦¬ëœë‹¤. \n\n![Serial Collectorì™€ CMS Collector](cms-image.png)\n\nê·¸ë¦¼ì—ì„œ ì•Œ ìˆ˜ ìˆë“¯ì´ **Stop the world ì‹œê°„ì´ ë§¤ìš° ì§§ë‹¤**. ë”°ë¼ì„œ ì‘ë‹µì„±ì´ ë§¤ìš° ì¤‘ìš”í•œ í”„ë¡œê·¸ë¨ì˜ ê²½ìš° ì¢‹ì€ ì„ íƒì§€ê°€ ë  ìˆ˜ ìˆë‹¤.<br>\ní•˜ì§€ë§Œ, ë‹¤ë¥¸ GC ë°©ì‹ì— ë¹„í•´ **ë” ë§ì€ CPUì™€ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©**í•˜ê²Œ ë˜ê³ , ë¬´ì—‡ë³´ë‹¤ **Memory Compactionì´ ì´ë£¨ì–´ì§€ì§€ ì•Šì•„ ë” í° ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤**.\n\nJava 9 ë²„ì „ë¶€í„°ëŠ” Deprecated ë˜ì–´ Java 8 ë²„ì „ì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.\n\n## G1 Collector\n\n**ëŒ€ìš©ëŸ‰ì˜ ë©”ëª¨ë¦¬ì™€ ë©€í‹° í”„ë¡œì„¸ìŠ¤ í™˜ê²½ì„ ìœ„í•´ íƒ„ìƒí•œ ì•Œê³ ë¦¬ì¦˜**ì´ë‹¤.<br>\nì§€ê¸ˆê¹Œì§€ì˜ ì•Œê³ ë¦¬ì¦˜ ì¤‘, **ì„±ëŠ¥ ë©´ì—ì„œ ê°€ì¥ ë›°ì–´ë‚œ ì•Œê³ ë¦¬ì¦˜**ì´ë‹¤.<br>\nì´ë¡œ ì¸í•´ **Java 9ë¶€í„° Default GCë¡œ ì„¤ì •ë˜ì—ˆë‹¤.**\n\nG1 Collectorì˜ ê²½ìš° **GC ì‘ì—…ì´ íš¨ìœ¨ì´ ì¢‹ì€ Young Generationì— ì§‘ì¤‘**ëœë‹¤.\n\nì²˜ë¦¬ëŸ‰ í–¥ìƒì„ ìœ„í•´ ì¼ë¶€ ì—°ì‚°ì€ í•­ìƒ Stop-the-world ìƒíƒœì—ì„œ ìˆ˜í–‰í•œë‹¤.<br>  \ní•˜ì§€ë§Œ Global Marking ê³¼ ê°™ì€ í™ ì˜ì—­ ì „ì²´ë¥¼ ëŒ€ìƒìœ¼ë¡œ í•˜ëŠ” ì‘ì—…ì€ ë‹¤ë¥¸ ì“°ë ˆë“œì™€ ë³‘ë ¬ì ìœ¼ë¡œ ìˆ˜í–‰ëœë‹¤.<br>\n\nê°€ì¥ í° íŠ¹ì§•ì€, **ì´ì „ì˜ í”„ë¡œê·¸ë¨ ë™ì‘ê³¼ GCë¡œ ì¸í•œ Stop-the-world ì •ë³´ë¥¼ ì¶”ì **í•œë‹¤.<br>\nì¶”ì í•œ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ Stop-the-world ìƒíƒœì—ì„œ ìˆ˜í–‰í•  ì‘ì—…ì˜ ì–‘ì„ ì¡°ì ˆí•œë‹¤.<br>\nì¦‰, **Garbageê°€ ë§ì´ ì°¨ìˆëŠ” ì˜ì—­ê³¼ ê°™ì´ íš¨ìœ¨ì ì¸ ì˜ì—­ì„ ìš°ì„ ì ìœ¼ë¡œ ì²˜ë¦¬**í•œë‹¤.<br>\n*Garbage First Collector*ë¼ê³  ë¶ˆë¦¬ëŠ” ì´ìœ ê°€ ì—¬ê¸°ì— ìˆëŠ” ê²ƒì´ë‹¤.\n\nMemory Compacting ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.\n\nG1 CollectorëŠ” ê¸°ì¡´ Heap ë©”ëª¨ë¦¬ êµ¬ì¡°ë¥¼ ë¬¼ë¦¬ì ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ê° ì˜ì—­ ë³„ë¡œ ê´€ë¦¬í•˜ë˜ ë°©ì‹ê³¼ëŠ” ë‹¤ë¥´ë‹¤.<br>\nì•„ë˜ ê·¸ë¦¼ì²˜ëŸ¼ **Heap ì˜ì—­ì„ ë™ì¼í•œ í¬ê¸°ì˜ ë…¼ë¦¬ì ì¸ Regionìœ¼ë¡œ ë‚˜ëˆ„ì–´ ê° ì˜ì—­ì„ ê´€ë¦¬**í•œë‹¤.\n\n![í™ ì˜ì—­ ë ˆì´ì•„ì›ƒ](garbage_collector_heap_layout.png)\n\nìœ„ ê·¸ë¦¼ì—ì„œ ë¹¨ê°„ìƒ‰ìœ¼ë¡œ ì¹ í•´ì§„ Regionì€ Young Genration, íŒŒë€ìƒ‰ì€ Old Generationì´ë‹¤.\n\në¹¨ê°„ìƒ‰ ì¤‘ì—ì„œë„ \"S\"ê°€ ì¡´ì¬í•˜ëŠ” ì˜ì—­ì€ Survivor ì˜ì—­ì´ë‹¤.\n\níŒŒë€ìƒ‰ ì¤‘ì—ì„œë„ \"H\"ê°€ ì¡´ì¬í•˜ëŠ” ì˜ì—­ì€ *Homongous*ë¡œ, ì—¬ëŸ¬ ì˜ì—­ì— ê±¸ì³ ì¡´ì¬í•˜ëŠ” ì˜ì—­ì„ì„ ì˜ë¯¸í•œë‹¤.<br>\nì´ ì˜ì—­ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì§ì ‘ í• ë‹¹í•˜ëŠ” ê±°ëŒ€í•œ ê°ì²´ì´ë‹¤.\n\nìœ„ êµ¬ì¡°ì—ì„œ G1 Collectorì˜ GC ì‘ì—…ì€ í¬ê²Œ *Young-only* ì™€ *Space Reclamation* ìœ¼ë¡œ ë‚˜ë‰œë‹¤.\n\n![G1 Collectorì˜ ì§„í–‰ ì‹¸ì´í´](garbage-collection-cycle-overview.png)\n\n- Young-only\n  1. ì¼ë°˜ì ì¸ Minor Collectionìœ¼ë¡œ ì‹œì‘í•œë‹¤.\n  2. ì´ë•Œ, Old Generationì˜ í™ ì ìœ ìœ¨ì´ ì„ê³„ê°’ì„ ë„˜ìœ¼ë©´ Space Reclamationìœ¼ë¡œ ì „í™˜í•œë‹¤.\n  3. ë™ì‹œì— Minor Collection ëŒ€ì‹  *Concurrent Start Minor Collection*ì„ ìˆ˜í–‰í•œë‹¤.\n\n> _Concurrent Start Minor Collection_<br>\n> Minor Collection ì™¸ì—ë„ Marking ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.<br>\n> ìœ„ì—ì„œì˜ Marking ì‘ì—…ì€ Space-Reclamation ì‘ì—…ì„ ìœ„í•´ **Old Generation**ì—ì„œ Reachableí•œ ê°ì²´ë“¤ì€ ìœ ì§€í•œë‹¤.\n\n- Space-Reclamation\n  1. ì´ ë‹¨ê³„ì—ì„œëŠ” ì—¬ëŸ¬ ê°œì˜ Collectionì´ í˜¼í•©ë˜ì–´ êµ¬ì„±ëœë‹¤. ì¦‰, Old Generationì— ì¡´ì¬í•˜ëŠ” ê°ì²´ë“¤ë„ GC ì‘ì—…ì— í¬í•¨ëœë‹¤.\n  2. G1ì´ ë” ì´ìƒ Old Generationì„ ì‘ì—…í•´ë„, ê°€ì¹˜ìˆëŠ” ê³µê°„ì´ í™•ë³´ë˜ì§€ ì•ŠëŠ”ë‹¤ê³  íŒë‹¨í•˜ë©´ ì¢…ë£Œëœë‹¤.\n  3. ì´ ë‹¨ê³„ê°€ ëë‚˜ë©´ Young-only ë‹¨ê³„ê°€ ë‹¤ì‹œ ì‹œì‘ëœë‹¤.\n\në°±ì—…ì˜ ê°œë…ìœ¼ë¡œ, í•„ìš”ì—†ì–´ì§„ ê°ì²´ë¥¼ ì°¾ë‹¤ê°€ ë©”ëª¨ë¦¬ê°€ ë¶€ì¡±í•´ì§€ë©´ ë‹¤ë¥¸ Collectorì™€ ë§ˆì°¬ê°€ì§€ë¡œ *Full GC*ë¥¼ ìˆ˜í–‰í•œë‹¤.\n\n`-XX:+UseG1GC` ì˜µì…˜ì„ í†µí•´ ëª…ì‹œì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n\nJava 11, 17ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.\n\n> ### ì°¸ê³ \n> - https://youtu.be/FMUpVA0Vvjw?feature=shared <br>\n> - https://youtu.be/vZRmCbl871I?feature=shared <br>\n> - https://mangkyu.tistory.com/118 <br>\n> - https://mangkyu.tistory.com/119 <br>\n> - https://mangkyu.tistory.com/120 <br>\n> - https://docs.oracle.com/en/java/javase/17/gctuning/available-collectors.html#GUID-45794DA6-AB96-4856-A96D-FDE5F7DEE498 <br>\n> - https://stackoverflow.com/questions/70664562/criteria-for-default-garbage-collector-hotspot-jvm-11-17 <br>\n> - https://medium.com/javarevisited/java-17-vs-java-11-exploring-the-latest-features-and-improvements-6d13290e4e1a <br>\n> - https://www.optaplanner.org/blog/2021/09/15/HowMuchFasterIsJava17.html <br>\n> - https://www.baeldung.com/jvm-garbage-collectors <br>"},{"excerpt":"GCì—ì„œ ê³ ë ¤í•  ì„±ëŠ¥ GCì˜ ì£¼ìš” ì¸¡ì • ê¸°ì¤€ì€ ì²˜ë¦¬ëŸ‰ê³¼ ì§€ì—° ì‹œê°„ì´ë‹¤. ì²˜ë¦¬ëŸ‰ì€ ì˜¤ëœ ì‹œê°„ë™ì•ˆ ì¸¡ì •í•˜ë©°, (GCì— ì†Œìš”ë˜ì§€ ì•ŠëŠ” ì‹œê°„ / ì „ì²´ ì‹œê°„) * 100ì„ ì˜ë¯¸í•œë‹¤. ì§€ì—° ì‹œê°„ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‘ë‹µ ì†ë„ì´ë‹¤. ì¦‰, GCë¥¼ ì–¼ë§ˆë‚˜ ë¹ ë¥´ê³  ë” ì ì€ íšŸìˆ˜ë¡œ ìˆ˜í–‰í•  ê²ƒì¸ê°€ê°€ GC íŠœë‹ì—ì„œ ê³ ë ¤í•  í¬ì¸íŠ¸ê°€ ë˜ëŠ” ê²ƒì´ë‹¤. GC íŠœë‹ì— ëŒ€í•œ ë‚´ìš©ì€ ì–¸ì  ê°€ ì•Œì•„â€¦","fields":{"slug":"/garbage-collection-tuning/"},"frontmatter":{"date":"December 09, 2023","title":"Garbage Collection íŠœë‹ì— ëŒ€í•´","tags":["java","garbageccollection"]},"rawMarkdownBody":"\n## GCì—ì„œ ê³ ë ¤í•  ì„±ëŠ¥\n\nGCì˜ ì£¼ìš” ì¸¡ì • ê¸°ì¤€ì€ **ì²˜ë¦¬ëŸ‰**ê³¼ **ì§€ì—° ì‹œê°„**ì´ë‹¤.\n\nì²˜ë¦¬ëŸ‰ì€ ì˜¤ëœ ì‹œê°„ë™ì•ˆ ì¸¡ì •í•˜ë©°, **(GCì— ì†Œìš”ë˜ì§€ ì•ŠëŠ” ì‹œê°„ / ì „ì²´ ì‹œê°„) * 100**ì„ ì˜ë¯¸í•œë‹¤.\n\nì§€ì—° ì‹œê°„ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‘ë‹µ ì†ë„ì´ë‹¤.\n\nì¦‰, **GCë¥¼ ì–¼ë§ˆë‚˜ ë¹ ë¥´ê³  ë” ì ì€ íšŸìˆ˜ë¡œ ìˆ˜í–‰í•  ê²ƒì¸ê°€ê°€ GC íŠœë‹ì—ì„œ ê³ ë ¤í•  í¬ì¸íŠ¸**ê°€ ë˜ëŠ” ê²ƒì´ë‹¤.\n\n> ~~GC íŠœë‹ì— ëŒ€í•œ ë‚´ìš©ì€ ì–¸ì  ê°€ ì•Œì•„ë³´ì~~\n\ní•˜ì§€ë§Œ í”„ë¡œê·¸ë¨ íŠ¹ì§•ì— ë”°ë¼ ë” ì¤‘ìš”í•˜ê²Œ ì—¬ê²¨ì§€ëŠ” ê¸°ì¤€ì€ ë‹¬ë¼ì§ˆ ê²ƒì´ë‹¤.\n\nê°€ë ¹ ì›¹ì„œë²„ì˜ ê²½ìš° ì²˜ë¦¬ëŸ‰ì€ ë„¤íŠ¸ì›Œí¬ ì§€ì—° í˜„ìƒì— ê°€ë ¤ì§ˆ ìˆ˜ ìˆê¸°ì— ì§€ì—° ì‹œê°„ì€ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.\n\ní•˜ì§€ë§Œ GUIì™€ ê°™ì€ ì‹¤ì‹œê°„ì„±ì´ ì•„ì£¼ ì¤‘ìš”í•œ ì„œë¹„ìŠ¤ì˜ ê²½ìš°, ì²˜ë¦¬ëŸ‰ë³´ë‹¤ ì§€ì—° ì‹œê°„ì´ ë” í° ê°€ì¹˜ê°€ ë  ê²ƒì´ë‹¤.\n\në”°ë¼ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ íŠ¹ì§•ì— ë”°ë¼ ìš°ì„  ìˆœìœ„ë¥¼ ë‘ëŠ” ê²ƒì´ ì¢‹ë‹¤.\n\n## Young, Old Generation ì˜ì—­ì˜ í¬ê¸°ì— ë”°ë¥¸ ë¹„êµ\n\nì²˜ë¦¬ëŸ‰ê³¼ ì§€ì—° ì‹œê°„ì€ Young Genrationê³¼ Old Generation ì˜ì—­ì˜ í¬ê¸° ë¹„ìœ¨ì„ ì–´ë–»ê²Œ ê°€ì ¸ê°€ëƒì— ë”°ë¼ ë‹¬ë¼ì§„ë‹¤.\n\n*Young Generation*ì˜ ë¹„ìœ¨ì´ ì»¤ì§ˆìˆ˜ë¡ GCê°€ ë°œìƒí•˜ëŠ” ë¹ˆë„ëŠ” ë‚®ì•„ì§€ê¸°ì— ì²˜ë¦¬ëŸ‰ì€ ì¦ê°€í•  ìˆ˜ ìˆë‹¤.<br>\ní•˜ì§€ë§Œ ê·¸ë§Œí¼ *Old Generation*ì˜ ë¹„ìœ¨ì´ ì‘ì•„ì§€ê³ , ì´ëŠ” *Major Collection*ì˜ ë¹ˆë„ê°€ ì¦ê°€í•˜ì—¬ ì§€ì—° ì‹œê°„ì— ë¶€ì •ì ì¸ ì˜í–¥ì„ ë¼ì¹  ê²ƒì´ë‹¤.\n\në°˜ëŒ€ë¡œ *Young Generation*ì˜ ë¹„ìœ¨ì´ ì‘ì•„ì§ˆìˆ˜ë¡ *Minor Collection*ì˜ ë¹ˆë„ê°€ ì¦ê°€í•˜ê³ , ì´ëŠ” ì²˜ë¦¬ëŸ‰ì— ë¶€ì •ì  ì˜í–¥ì„ ë¼ì¹œë‹¤.<br>\ní•˜ì§€ë§Œ ê·¸ë§Œí¼ *Old Genration*ì˜ ë¹„ìœ¨ì´ ì»¤ì§€ê³ , ì´ëŠ” *Major Collection*ì˜ ë¹ˆë„ê°€ ì¤„ì–´ë“¤ì–´ ì§€ì—° ì‹œê°„ì— ê¸ì •ì  ì˜í–¥ì„ ë¼ì¹  ê²ƒì´ë‹¤.\n\n// TODO: ì•„ë˜ ë§í¬ ë³´ê³  ì •ë¦¬í•´ë³´ì\n> ë³´ë‹¤ ìì„¸í•œ ë‚´ìš©ì€ [ì´ ë§í¬](https://docs.oracle.com/en/java/javase/17/gctuning/factors-affecting-garbage-collection-performance.html#GUID-5508674B-F32D-4B02-9002-D0D8C7CDDC75)ë¥¼ ì°¸ê³ \n\n// TODO: ì•„ë˜ ë§í¬ë¡œë¶€í„° ì´ì–´ì„œ ê¸€ ì‘ì„±\nhttps://docs.oracle.com/en/java/javase/17/gctuning/garbage-collector-implementation.html#GUID-A24775AB-16A3-4B86-9963-76E5AC398A3E\n\n## ìœ ì˜ì‚¬í•­\n\n### 1. GCë¡œ ì¸í•œ Stop-the-worldë¥¼ ìµœì†Œí™”í•˜ì\n\n### 2. GCëŠ” ë¬´ì ì´ ì•„ë‹ˆë‹¤.\n\nhttps://techblog.woowahan.com/2628/\nhttps://www.baeldung.com/jvm-garbage-collectors\n\n### 2. ë¬´ì ì˜ GCëŠ” ì—†ë‹¤.\n\nhttps://www.youtube.com/watch?v=FMUpVA0Vvjw\nhttps://stackoverflow.com/questions/70664562/criteria-for-default-garbage-collector-hotspot-jvm-11-17\n\n## ë²ˆì™¸\nJava 17 vs Java 11ì˜ GC ì„±ëŠ¥ ì°¨ì´: https://medium.com/javarevisited/java-17-vs-java-11-exploring-the-latest-features-and-improvements-6d13290e4e1a, https://www.optaplanner.org/blog/2021/09/15/HowMuchFasterIsJava17.html#:~:text=Java%2017%20is%208.66%25%20faster,than%20the%20G1%20Garbage%20Collector\n\n> ### ì°¸ê³ \n> - https://youtu.be/FMUpVA0Vvjw?feature=shared <br>\n> - https://youtu.be/vZRmCbl871I?feature=shared <br>\n> - https://mangkyu.tistory.com/118 <br>\n> - https://docs.oracle.com/en/java/javase/17/gctuning/available-collectors.html#GUID-45794DA6-AB96-4856-A96D-FDE5F7DEE498 <br>\n> - https://stackoverflow.com/questions/70664562/criteria-for-default-garbage-collector-hotspot-jvm-11-17 <br>\n> - https://medium.com/javarevisited/java-17-vs-java-11-exploring-the-latest-features-and-improvements-6d13290e4e1a <br>\n> - https://www.optaplanner.org/blog/2021/09/15/HowMuchFasterIsJava17.html <br>\n> - https://www.baeldung.com/jvm-garbage-collectors <br>"},{"excerpt":"Garbage Collectionë¥¼ ì•Œì•„ì•¼ í•˜ëŠ” ì´ìœ  Garbage Collection(ì´í•˜ GC)ì„ ê³µë¶€í•˜ë‹¤ë³´ë‹ˆ, GCë¥¼ ë„ˆë¬´ ë¯¿ì–´ì„œëŠ” ì•ˆë˜ê² ë‹¤ê³  ìƒê°ëë‹¤.\nìš°í˜•ì—ì„œ ë°œìƒí•œ ì¼ë„ ê·¸ë ‡ê³  í† ìŠ¤ì—ì„œ ë°œìƒí•œ ì¼ì„ ë³´ë‹ˆ ëª¨ë‘ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë©”ëª¨ë¦¬ ê´€ë ¨ ì¹˜ëª…ì  ì—ëŸ¬ëŠ” ëª¨ë‘ ì´ GCì™€ ê´€ë ¨ì´ ìˆì—ˆê¸° ë•Œë¬¸ì´ë‹¤.\në”êµ°ë‹¤ë‚˜ ë„¤ì´ë²„ D2 ê¸€ì—ì„œë„ GCì— ëŒ€í•´ ì˜ ì•Œê³  ìˆâ€¦","fields":{"slug":"/about-garbage-collection/"},"frontmatter":{"date":"December 08, 2023","title":"JVMì˜ Garbage Collectionê³¼ ë™ì‘ ì›ë¦¬","tags":["java","garbage-collection"]},"rawMarkdownBody":"\n## Garbage Collectionë¥¼ ì•Œì•„ì•¼ í•˜ëŠ” ì´ìœ \n\nGarbage Collection(ì´í•˜ GC)ì„ ê³µë¶€í•˜ë‹¤ë³´ë‹ˆ, GCë¥¼ ë„ˆë¬´ ë¯¿ì–´ì„œëŠ” ì•ˆë˜ê² ë‹¤ê³  ìƒê°ëë‹¤.<br>\n[ìš°í˜•ì—ì„œ ë°œìƒí•œ ì¼](https://techblog.woowahan.com/2628/)ë„ ê·¸ë ‡ê³  [í† ìŠ¤ì—ì„œ ë°œìƒí•œ ì¼](https://www.youtube.com/watch?v=w4fWgLgop5U)ì„ ë³´ë‹ˆ ëª¨ë‘ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë©”ëª¨ë¦¬ ê´€ë ¨ ì¹˜ëª…ì  ì—ëŸ¬ëŠ” ëª¨ë‘ ì´ *GC*ì™€ ê´€ë ¨ì´ ìˆì—ˆê¸° ë•Œë¬¸ì´ë‹¤.<br>\në”êµ°ë‹¤ë‚˜ [ë„¤ì´ë²„ D2 ê¸€](https://d2.naver.com/helloworld/1329)ì—ì„œë„ **GCì— ëŒ€í•´ ì˜ ì•Œê³  ìˆì„ìˆ˜ë¡ ì‹¤ë ¥ì´ ì¢‹ì€ Java ê°œë°œì**ë¼ê³  í–ˆë‹¤.\n\nì‹¤ë ¥ì´ ì¢‹ì€ Java ê°œë°œìê°€ ë˜ê¸° ìœ„í•´ ì´ GCì— ëŒ€í•´ ì•Œì•„ë³´ì.\n\n## GCë€?\n\nGarbage Collection(ì´í•˜ GC)ì€ **JVM ê¸°ë°˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë™ì ìœ¼ë¡œ í• ë‹¹ë˜ëŠ” ë©”ëª¨ë¦¬ ê³µê°„ì„ ì•Œì•„ì„œ ê´€ë¦¬í•´ì£¼ëŠ” ê¸°ìˆ **ì´ë‹¤.\n\n> JVMì˜ ë©”ëª¨ë¦¬ êµ¬ì¡°ëŠ” [staticì„ ë” ì˜ ì‚¬ìš©í•˜ê¸°](https://kdkdhoho.github.io/static-with-memory-structure/) ê¸€ì„ ì°¸ê³ \n\ní”„ë¡œì„¸ìŠ¤ëŠ” í•„ì—°ì ìœ¼ë¡œ ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ Heap ì˜ì—­ì— malloc(í• ë‹¹) ë° free(í•´ì œ) í•˜ê²Œ ëœë‹¤.<br>\nCë‚˜ C++ì˜ ê²½ìš° ë°ì´í„°ê°€ ì €ì¥ëœ ë©”ëª¨ë¦¬ ê³µê°„ì„ ì§ì ‘ ê´€ë¦¬í•´ì•¼ í•œë‹¤.<br>\ní•˜ì§€ë§Œ JavaëŠ” íƒ„ìƒ ë°°ê²½ë¶€í„° ê°œë°œìê°€ ìš´ì˜ì²´ì œì— ì§ì ‘ ì˜ì¡´í•˜ì§€ ì•Šì•„ë„ ë˜ë„ë¡ ì¤‘ê°„ ê³„ì¸µì¸ **JVMì„ í†µí•´ ì‹œìŠ¤í…œ ìì›ì— ì ‘ê·¼**í•˜ê²Œ ëœë‹¤.<br>\në”°ë¼ì„œ JVMì´ ë©”ëª¨ë¦¬ ê³µê°„ì´ í• ë‹¹ë˜ì—ˆì§€ë§Œ ë”ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•Šì•„ í•„ìš”ì—†ì–´ì§„ ë©”ëª¨ë¦¬ë¥¼ ëŒ€ì‹  ì²˜ë¦¬í•´ì£¼ëŠ” ì—­í• ì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒì´ë‹¤.<br>\nê·¸ ì‘ì—…ì„ ìš°ë¦¬ëŠ” GC ë¼ê³  ë¶€ë¥´ëŠ” ê²ƒì´ë‹¤.\n\n## GCì˜ íŠ¹ì§•\n\nGCë¡œ ì¸í•´ **ê°œë°œìëŠ” ì§ì ‘ ë©”ëª¨ë¦¬ ê³µê°„ì„ ê´€ë¦¬í•  í•„ìš”ê°€ ì—†ì–´ì§„ë‹¤**.<br>\nì¦‰, ê°œë°œìëŠ” ê°œë°œì—ë§Œ ì§‘ì¤‘í•  ìˆ˜ ìˆê²Œ ëœë‹¤.<br>\në˜í•œ ì™„ë²½í•˜ì§„ ì•Šì§€ë§Œ GC ë•ë¶„ì— (ì™„ë²½í•˜ì§„ ì•Šì§€ë§Œ) Memory Leak ì„ ì˜ˆë°©í•  ìˆ˜ ìˆë‹¤.\n\ní•˜ì§€ë§Œ, ê·¸ë§Œí¼ í¬ìƒë„ ë”°ë¥´ëŠ” ë²•.<br>\nGCê°€ ë©”ëª¨ë¦¬ ê³µê°„ì„ ì²­ì†Œí•  ë•Œ â—ï¸ **STOP THE WORLD** â—í˜„ìƒì´ ë°œìƒí•œë‹¤.<br>\nStop the worldëŠ” **GC ì“°ë ˆë“œê°€ ë™ì‘í•˜ëŠ” ìˆœê°„ì—, ë‹¤ë¥¸ ì“°ë ˆë“œë“¤ì€ ë™ì‘í•˜ì§€ ì•ŠëŠ” í˜„ìƒ**ì´ë‹¤.<br>\n> ì°¸ê³ ) GCë¥¼ íŠœë‹í•œë‹¤ëŠ” ë§ì€ ì£¼ë¡œ ì´ Stop the world ì‹œê°„ì´ ì§§ì•„ì§€ë„ë¡ í•œë‹¤ëŠ” ë§ì´ë‹¤.<br>\n> [Naver D2 - Garbage Collection íŠœë‹](https://d2.naver.com/helloworld/37111)\n\n## GCì˜ ê¸°ë³¸ ë™ì‘ ì›ë¦¬\n\nGCëŠ” ë‹¤ì–‘í•œ ì•Œê³ ë¦¬ì¦˜ì´ ì¡´ì¬í•œë‹¤.<br>\ní•˜ì§€ë§Œ ë’¤ì— ë‚˜ì˜¬ ZGCë¥¼ ì œì™¸í•œ ëª¨ë“  ì•Œê³ ë¦¬ì¦˜ì€ **Generational Collection**ì´ë¼ëŠ” ê¸°ìˆ ì„ ì‚¬ìš©í•œë‹¤.<br>\nGenerational Collectionì€ ëŒ€ë¶€ë¶„ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ê²½í—˜ì ìœ¼ë¡œ ê´€ì°°ëœ ëª‡ ê°€ì§€ ì†ì„±ì„ í™œìš©í•˜ì—¬ íƒ„ìƒí•œ ì•Œê³ ë¦¬ì¦˜ì´ë‹¤.<br>   , í•˜ëŠ” ê¸°ìˆ ì´ë‹¤.\n\nê´€ì°°ëœ ëª‡ ê°€ì§€ ì†ì„± ì¤‘ ê°€ì¥ í•µì‹¬ì´ ë˜ëŠ” ê°œë…ì€ **Weak Generational Hypothesis**ì´ë‹¤.<br>\nWeak Generational Hypothesisì´ë€ **ëŒ€ë¶€ë¶„ì˜ ê°ì²´ëŠ” ì ê¹ ë™ì•ˆë§Œ í•„ìš”í•˜ë‹¤ëŠ” ê°€ì„¤**ì´ë‹¤.<br>\nì•„ë˜ ê·¸ë¦¼ì€ ê°ì²´ì˜ í‰ê·  ìƒëª…ì£¼ê¸° ë¶„í¬ë„ë¥¼ ë‚˜íƒ€ë‚¸ ê·¸ë˜í”„ë‹¤. Xì¶•ì€ ê°ì²´ê°€ í• ë‹¹ëœ ì‹œê°„, Yì¶•ì€ ê°ì²´ê°€ í• ë‹¹ëœ ì •ë„ì´ë‹¤.<br>\nê·¸ë˜í”„ë¥¼ í•´ì„í•´ë³´ë©´ **ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ìˆ˜ëª…ì´ ì§§ì€ ê°ì²´ë“¤ì´ í›¨ì”¬ ë§ì´ ë¶„í¬í•œë‹¤**ëŠ” ì˜ë¯¸ì´ë‹¤.<br>\nì˜¤ë¼í´ ë¬¸ì„œì—ì„œë„ \"_ì™¼ìª½ì˜ ë‚ ì¹´ë¡œìš´ í”¼í¬ëŠ” í• ë‹¹ëœ ì§í›„ íšŒìˆ˜í•  ìˆ˜ ìˆëŠ”(ì¦‰, \"ì†Œë©¸ëœ\") ê°ì²´ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤._\" ë¼ê³  í‘œí˜„í•œë‹¤.\n\n![ê°ì²´ ìƒëª…ì£¼ê¸° í‰ê·  ë¶„í¬ë„ ì¶œì²˜: https://docs.oracle.com/en/java/javase/16/gctuning/garbage-collector-implementation.html](distribution_for_lifetimes_of_objects.png)\n\nì¦‰, ì´ëŸ¬í•œ ê²½í—˜ì  ê´€ì°° ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ Heap ì˜ì—­ì— ìˆëŠ” ëª¨ë“  ê°ì²´ì— ëŒ€í•´ ê²€ì‚¬í•˜ì§€ ì•Šê³  ê°ì²´ì˜ ìˆ˜ëª…ì— ê¸°ë°˜í•œ Collectingì„ ìˆ˜í–‰í•œë‹¤.<br>\nê²°ê³¼ì ìœ¼ë¡œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê°ì²´ë¥¼ íšŒìˆ˜í•˜ëŠ” ë°ì— í•„ìš”í•œ ì‘ì—…ì„ ìµœì†Œí™”í•˜ì˜€ê³ , ZGCë¥¼ ì œì™¸í•œ ëª¨ë“  GC ì•Œê³ ë¦¬ì¦˜ì´ Generational Collection ê¸°ìˆ ì„ ì±„íƒí•œ ê²ƒì´ë‹¤.\n\nê·¸ë ‡ë‹¤ë©´ ì´ ê°ì²´ê°€ í• ë‹¹ëœ ì„¸ëŒ€, í˜¹ì€ ë‚˜ì´ëŠ” ì–´ë–»ê²Œ ì¸¡ì •í• ê¹Œ?<br>\nê°ì²´ì˜ ë‚˜ì´ë¥¼ ì¸¡ì •í•˜ê¸° ìœ„í•œ ë©”ëª¨ë¦¬ ê³µê°„ì€ ì•„ë˜ì™€ ê°™ë‹¤.\n\n![Serial GCì˜ ê¸°ë³¸ì ì¸ ë©”ëª¨ë¦¬ ê³µê°„](default_arrangement_of_generations_int_the_serial_collector.png)\n\nìì„¸íˆ ì‚´í´ë³´ë©´ Young, Oldë¡œ í¬ê²Œ í•œë²ˆ ë‚˜ë‰œë‹¤.<br>\nì´ë¦„ì—ì„œ ìœ ì¶”í•  ìˆ˜ ìˆë“¯ì´ ìƒëŒ€ì ìœ¼ë¡œ ì Šì€ ê°ì²´ëŠ” Young, ëŠ™ì€ ê°ì²´ëŠ” Oldì— ì €ì¥ëœë‹¤.\n\nOldëŠ” ë­ê°€ ì—†ì–´ ë³´ì¸ë‹¤. Young ì˜ì—­ì„ ìì„¸íˆ ì‚´í´ë³´ì.<br>\n1ê°œì˜ Edenê³¼ 2ê°œì˜ Survivor, ê·¸ë¦¬ê³  1ê°œì˜ Virtual ê³µê°„ì´ ë³´ì¸ë‹¤.<br>\n\nê° ì˜ì—­ ë³„ íŠ¹ì§•ìœ¼ë¡œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\n1. **Eden ì˜ì—­ì—ëŠ” ì²˜ìŒ ìƒì„±ë˜ëŠ” ëŒ€ë¶€ë¶„ì˜ ê°ì²´ê°€ ì €ì¥ëœë‹¤.**\n2. **Survivor ì˜ì—­ ì¤‘ ì ì–´ë„ í•˜ë‚˜ëŠ” í•­ìƒ ë¹„ì–´ìˆë‹¤.**\n\n<br>\n<br>\n\nì´ êµ¬ì¡°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë‚˜ì´ë¥¼ ì¦ê°€í•˜ëŠ” ê³¼ì •ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\n\n1. ì²˜ìŒ ìƒì„±ëœ ê°ì²´ëŠ” Eden ì˜ì—­ì— ì°¨ê³¡ì°¨ê³¡ ìŒ“ì¸ë‹¤.\n2. ìŒ“ì´ë‹¤ê°€ ê²°êµ­ ê³µê°„ì´ ê½‰ ì°¨ë©´ ì´ë•Œ Edenì— ì¡´ì¬í•˜ëŠ” ê°ì²´ ì¤‘, í•„ìš”ìˆì„ë§Œí•œ ê°ì²´ë¥¼ ëª¨ë‘ Survivor ì˜ì—­ìœ¼ë¡œ ì´ë™í•œë‹¤.\n3. ì´ë•Œ, **ì´ë™í•˜ëŠ” ê°ì²´ì— ë‚˜ì´ë¥¼ ì¦ê°€ì‹œí‚¨ë‹¤.**\n4. ë§ˆì°¬ê°€ì§€ë¡œ Survivor ì˜ì—­ë„ ëª¨ë‘ ì°¨ê²Œ ë˜ë©´, í•„ìš”ìˆì„ë§Œí•œ ê°ì²´ë§Œì´ ë°˜ëŒ€í¸ì˜ Survivor ì˜ì—­ìœ¼ë¡œ ì´ë™í•œë‹¤. ì´ë•Œì—ë„ ë§ˆì°¬ê°€ì§€ë¡œ ë‚˜ì´ë¥¼ ì¦ê°€ì‹œí‚¨ë‹¤.\n\n### ìš”ì•½\n\nì´ì œ, ìœ„ ì •ë³´ë¥¼ í† ëŒ€ë¡œ GCì˜ ì „ì²´ì ì¸ ë™ì‘ ë°©ì‹ì„ ì •ë¦¬í•´ë³´ì.\n\n1. Eden í˜¹ì€ Survivor ì˜ì—­ì´ ëª¨ë‘ ì°¨ë©´ Young Generation ì˜ì—­ë§Œ ìˆ˜ì§‘í•˜ëŠ” **Minor Collection**ì´ ë°œìƒí•œë‹¤.<br>\n   (ì ì€ ì–‘ì˜ ê°ì²´ë§Œ ì°¸ì¡°í•˜ê¸°ì— Minor Collectionì€ ë¹„êµì  ë¹ ë¥´ê²Œ ìˆ˜í–‰ëœë‹¤.)\n2. Minor Collectionì´ ì§„í–‰ë˜ë©´ì„œ íŠ¹ì • ë‚˜ì´ê°€ ëœ ê°ì²´ëŠ” Old ì˜ì—­ìœ¼ë¡œ ì´ë™í•œë‹¤.\n3. ì§„í–‰ë˜ë‹¤ ë³´ë©´ Old Generationì´ ëª¨ë‘ ì°¨ê²Œ ëœë‹¤. ì´ë•ŒëŠ” ì „ì²´ ì˜ì—­ì„ Collectingí•˜ëŠ” **Major Collection**ì´ ë°œìƒí•œë‹¤.<br>\n   (ì „ì²´ ê°ì²´ë¥¼ í™•ì¸í•´ì•¼ í•˜ê¸°ì— Minorì— ë¹„í•´ ìƒë‹¹í•œ ì‹œê°„ì´ ê±¸ë¦°ë‹¤.)\n\n## ì´ì–´ì„œ\n\në‹¤ìŒìœ¼ë¡œëŠ” GC ì•Œê³ ë¦¬ì¦˜ì˜ ì¢…ë¥˜ì™€ ê° íŠ¹ì§•ì— ëŒ€í•´ ì•Œì•„ë³´ì.\n\n> ### ì°¸ê³ \n> - https://youtu.be/FMUpVA0Vvjw?feature=shared <br>\n> - https://youtu.be/vZRmCbl871I?feature=shared <br>\n> - https://mangkyu.tistory.com/118 <br>\n> - https://docs.oracle.com/en/java/javase/17/gctuning/available-collectors.html#GUID-45794DA6-AB96-4856-A96D-FDE5F7DEE498 <br>\n> - https://stackoverflow.com/questions/70664562/criteria-for-default-garbage-collector-hotspot-jvm-11-17 <br>\n> - https://medium.com/javarevisited/java-17-vs-java-11-exploring-the-latest-features-and-improvements-6d13290e4e1a <br>\n> - https://www.optaplanner.org/blog/2021/09/15/HowMuchFasterIsJava17.html <br>\n> - https://www.baeldung.com/jvm-garbage-collectors <br>"},{"excerpt":"ë“¤ì–´ê°€ë©° 5ì£¼ ê°„ JSCODEì—ì„œ ì§„í–‰í•œ ìš´ì˜ì²´ì œ ëª¨ì˜ë©´ì ‘ ìŠ¤í„°ë””ë¥¼ ë§ˆì¹˜ê³  íšŒê³ ë¡ì„ ì‘ì„±í•˜ë ¤ê³  í•œë‹¤. JSCODE ë€? ğŸ‘ˆ ì§„í–‰ ë°©ë²• ë§¤ ì£¼ì°¨ë³„ë¡œ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸ê°€ ì œê³µëœë‹¤. ìŠ¤í„°ë”” ì°¸ì—¬ìë“¤ì€ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸ì— ëŒ€í•œ ìê¸°ì£¼ë„ í•™ìŠµì„ ì§„í–‰í•œë‹¤. ë§¤ì£¼ ëª©ìš”ì¼ 20ì‹œì— ëª¨ì—¬ íŒ€ë³„ë¡œ ëª¨ì˜ë©´ì ‘ì„ ì§„í–‰í•œë‹¤.\në‹µë³€ì 1ëª…, ì§ˆë¬¸ì 2ëª…, ê´€ì°°ì 1ëª…ìœ¼ë¡œ ì—­í•  ë‚˜ëˆ„ì–´ ì§„í–‰í•œë‹¤â€¦","fields":{"slug":"/os-interview-study-retrospection/"},"frontmatter":{"date":"December 08, 2023","title":"[JSCODE] - OS ë©´ì ‘ ìŠ¤í„°ë”” íšŒê³ ë¡","tags":["retrospection"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©°\n\n5ì£¼ ê°„ JSCODEì—ì„œ ì§„í–‰í•œ ìš´ì˜ì²´ì œ ëª¨ì˜ë©´ì ‘ ìŠ¤í„°ë””ë¥¼ ë§ˆì¹˜ê³  íšŒê³ ë¡ì„ ì‘ì„±í•˜ë ¤ê³  í•œë‹¤.\n\n> [JSCODE ë€?](https://jscode.kr/) ğŸ‘ˆ\n\n## ì§„í–‰ ë°©ë²•\n\n1. ë§¤ ì£¼ì°¨ë³„ë¡œ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸ê°€ ì œê³µëœë‹¤.\n\n2. ìŠ¤í„°ë”” ì°¸ì—¬ìë“¤ì€ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸ì— ëŒ€í•œ ìê¸°ì£¼ë„ í•™ìŠµì„ ì§„í–‰í•œë‹¤.\n\n3. ë§¤ì£¼ ëª©ìš”ì¼ 20ì‹œì— ëª¨ì—¬ íŒ€ë³„ë¡œ ëª¨ì˜ë©´ì ‘ì„ ì§„í–‰í•œë‹¤.<br>\në‹µë³€ì 1ëª…, ì§ˆë¬¸ì 2ëª…, ê´€ì°°ì 1ëª…ìœ¼ë¡œ ì—­í•  ë‚˜ëˆ„ì–´ ì§„í–‰í•œë‹¤.\n\n## ì‹ ì²­í•œ ê³„ê¸°\n\nìš°ì•„í•œí…Œí¬ì½”ìŠ¤ê°€ ëë‚˜ê³  ë³¸ê²©ì ì¸ ì·¨ì—… ì¤€ë¹„ë¥¼ ì‹œì‘í•˜ëŠ” ê³¼ì •ì—ì„œ ë©´ì ‘ ì¤€ë¹„ì˜ í•„ìš”ì„±ì„ ëŠê¼ˆë‹¤.\n\níŠ¹íˆ ì‹ ì…ìœ¼ë¡œ ì¤€ë¹„í•˜ë‹¤ë³´ë‹ˆ CS ì§€ì‹ë„ ê°™ì´ ì¤€ë¹„í•´ì•¼ í–ˆë‹¤.\n\nì¤€ë¹„í•´ì•¼ í•  CS ì§€ì‹ì—ëŠ” ë„¤íŠ¸ì›Œí¬, DB, ìš´ì˜ì²´ì œê°€ ìˆì—ˆëŠ”ë° ì•„ë¬´ë˜ë„ í˜¼ìì„œ ì¤€ë¹„í•˜ê¸°ì— ìš´ì˜ì²´ì œëŠ” ë‹¤ì†Œ í˜ë“¤ ê²ƒì´ë¼ ìƒê°í–ˆë‹¤.\n\nê·¸ë˜ì„œ í•™ìŠµì— ê°•ì œì„±ì„ ì¤„ ê²¸ ë©´ì ‘ ì—°ìŠµí•  ê²¸ ì—¬ëŸ¬ëª¨ë¡œ ì´ë“ì´ë¼ê³  ìƒê°í•´ì„œ ë°”ë¡œ ì§€ì›í–ˆë‹¤.\n\n## ì¢‹ì•˜ë˜ ì \n\n### 1. ìš´ì˜ì²´ì œ ì§€ì‹ì„ ì „ì²´ì ìœ¼ë¡œ ëŒì•„ë³¼ ìˆ˜ ìˆì–´ ì¢‹ì•˜ë‹¤.\n\ní•™ë¶€ìƒ 2í•™ë…„ ë•Œ ì²˜ìŒ ê³µë¶€í•˜ê³  í•œë²ˆë„ ê³µë¶€í•˜ì§€ ì•Šì•˜ë‹¤. ê·¸ëŸ¬ë‹¤ë³´ë‹ˆ ê°€ë¬¼ê°€ë¬¼í–ˆì—ˆê³  ì‚¬ì‹¤ìƒ ìš´ì˜ì²´ì œ ì§€ì‹ì´ ì—†ë‹¤ í•´ë„ ê³¼ì–¸ì´ ì•„ë‹ˆì—ˆë‹¤.\n\nê·¸ë˜ë„ ì´ë²ˆ ìŠ¤í„°ë””ë¥¼ í†µí•´ ë‹¤ì‹œ í•™ìŠµì„ ì§„í–‰í–ˆê³ , íŠ¹íˆ ìš°ì•„í•œí…Œí¬ì½”ìŠ¤ë¥¼ í†µí•´ í„°ë“í•œ ë‚˜ë§Œì˜ í•™ìŠµ ë°©ë²•ê³¼ ë” ë„“ì–´ì§„ ì§€ì‹ì„ ë°”íƒ•ìœ¼ë¡œ ë‹¤ì‹œ ê³µë¶€í•˜ë‹ˆ ì „ì—” **ë³´ì´ì§€ ì•Šë˜ ë‚´ìš©ë“¤ì´ ë³´ì´ê¸° ì‹œì‘í–ˆë‹¤.**\n\níŠ¹íˆ [Tomcat êµ¬í˜„í•˜ê¸° ë¯¸ì…˜](https://github.com/kdkdhoho/jwp-dashboard-http)ì—ì„œ ì“°ë ˆë“œ ê´€ë ¨ ë‚´ìš©ì´ ë§ì´ ë‚˜ì™”ì—ˆëŠ”ë° ë‹¹ì‹œì—” ì˜ ì´í•´í•˜ì§€ ëª»í•˜ê³  ë„˜ì–´ê°”ë‹¤.\n\ní•˜ì§€ë§Œ ì“°ë ˆë“œ ê´€ë ¨ ë‚´ìš©ì„ í•™ìŠµí•˜ê³  ë‹¤ì‹œ ë³´ë‹ˆ ë¬´ìŠ¨ ë‚´ìš©ì´ì—ˆëŠ”ì§€ ì´í•´í•˜ëŠ” ê²½í—˜ì„ í•  ìˆ˜ ìˆì—ˆë‹¤.\n\n### 2. ë§í•˜ê¸° ì—°ìŠµ\n\nëˆ„êµ¬ì—ê²Œ ì•„ëŠ” ê²ƒì„ ì„¤ëª…í•  ë•Œ ì¢…ì¢… ì¥í™©í•˜ê²Œ ì„¤ëª…í•˜ëŠ” ë²„ë¦‡ì´ ìˆë‹¤.\n\nê·¸ë§Œí¼ ì „ë‹¬í•˜ê³  ì‹¶ì€ ë§ì´ ë§ë‹¤ëŠ” ê²ƒì´ì§€ë§Œ ëŒ€ë¶€ë¶„ ë“£ëŠ” ì‚¬ëŒ ì…ì¥ì—ì„  ì „ë¶€ ê·€ê¸°ìš¸ì—¬ ë“£ê¸° í˜ë“¤ë‹¤.\n\nê·¸ë˜ì„œ í•µì‹¬ë§Œ ë”±! ë§í•˜ëŠ” ê²Œ ì¤‘ìš”í•œë°, ì´ë²ˆ ë©´ì ‘ ìŠ¤í„°ë””ë¥¼ í†µí•´ ì´ë¥¼ ì—°ìŠµí•  ìˆ˜ ìˆì—ˆë‹¤.\n\níŠ¹íˆ ë‚¨ì—ê²Œ ë§ë¡œì¨ ì „ë‹¬í•  ë•Œ ì–´ë–¤ êµ¬ì¡°ë¡œ ì´ì•¼ê¸°í•  ì§€ì— ëŒ€í•´ ì¡°ê¸ˆì€ í„°ë“í–ˆë‹¤.\n\n> **í„°ë“í•œ êµ¬ì¡°** ğŸ‘‡<br>\n> ì§ˆë¬¸ì— ëŒ€í•œ ë‹µì„ ë¨¼ì € í•œë‹¤.<br>\n> ê·¸ ë‹µì— ëŒ€í•œ ê³¼ì •, ë°©ë²•, ì´ìœ  ë“±ì´ í¬í•¨ë˜ì§€ ì•Šì•„ë„ ê´œì°®ë‹¤.<br>\n> ìœ„ ë‚´ìš©ë“¤ì€ ë’¤ì—ì„œ ì´ì•¼ê¸°í•´ë„ ì¶©ë¶„í•˜ë‹¤!\n\n## íŒ€ì— ê¸°ì—¬í•œ ë¶€ë¶„\n\n### 1. ë„ˆë¬´ ì‹ìƒí•˜ê²Œ ì§„í–‰ë˜ì§€ ì•Šë„ë¡ í–ˆë‹¤.\n\nì‚¬ì‹¤ ê°™ì€ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸ì— ëŒ€í•´ 4ëª…ì´ ëŒì•„ê°€ë©° ì§ˆë‹µì„ í•˜ë‹¤ë³´ë©´, êµ‰ì¥íˆ ì§€ë£¨í•˜ê³  ì‹ìƒí•˜ë‹¤.\n\nê²Œë‹¤ê°€ ìŠ¤í„°ë””ë¥¼ í†µí•´ ì–»ì–´ê°€ëŠ” ê²ƒë„ ë¯¸ë¹„í•  ê²ƒì´ë¼ ìƒê°í–ˆë‹¤.\n\nê·¸ë˜ì„œ ì¡°ê¸ˆ ì£¼ì œë„˜ì„ ìˆ˜ ìˆì§€ë§Œ ê¹Šì€ ë‚´ìš©ì— ëŒ€í•´ í•™ìŠµí•œ ê²ƒì´ ìˆìœ¼ë©´ ì´ì— ëŒ€í•´ ì§ˆë¬¸í–ˆë‹¤.\n\nì´ˆë°˜ì—ëŠ” íŒ€ì›ë“¤ì´ ë‹¹í™©í•˜ëŠ” ê²ƒì´ ì˜ ëŠê»´ì¡Œë‹¤. ì‹¤ì œë¡œ ë‹¹í™©ìŠ¤ëŸ½ë‹¤ê³ ë„ ì´ì•¼ê¸° í•´ ì£¼ì…¨ë‹¤. ğŸ˜‚\n\nê·¸ëŸ°ë° ì‹œê°„ì´ ê°ˆìˆ˜ë¡ ì˜¤íˆë ¤ ë” ì¢‹ë‹¤ëŠ” ë§ì”€ì„ í•´ì£¼ì…¨ë‹¤.\n\n**ì‹¤ì œ ë©´ì ‘ì—ì„œëŠ” ì–´ë–¤ ì§ˆë¬¸ì´ ë‚˜ì˜¬ì§€ ëª¨ë¥´ê¸° ë•Œë¬¸ì´ë‹¤.**\n\nì–´ì©Œë©´ ì§€ë£¨í•˜ê³  í¬ê²Œ ì–»ì–´ê°€ëŠ” ê²Œ ì—†ëŠ” ë©´ì ‘ ìŠ¤í„°ë””ê°€ ë  ìˆ˜ ìˆì—ˆì§€ë§Œ ì´ë¥¼ ë§‰ì•˜ë‹¤?ê³  í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤.\n\n### 2. í•™ìŠµí•œ ë‚´ìš© ì§€ì‹ ê³µìœ \n\nì´ì œëŠ” ê°œë…ì— ëŒ€í•´ í•™ìŠµí•  ë•Œ, íƒ„ìƒí•˜ê²Œ ëœ ë°°ê²½ë¶€í„°, ì–´ë–¤ ì¥ë‹¨ì ì´ ìˆê³ , ì–´ë–¤ ëŒ€ì•ˆì´ ìˆëŠ” ì§€ì— ëŒ€í•œ ë‚´ìš©ë„ ë°˜ë“œì‹œ í•™ìŠµí•˜ê³  ë„˜ì–´ê°€ê²Œ ë˜ì—ˆë‹¤.\n\nìŠ¤í„°ë””ë¥¼ ì¤€ë¹„í•˜ë©´ì„œë„ ë§ˆì°¬ê°€ì§€ì˜€ë‹¤.\n\nê·¸ëŸ¬ë‹¤ë³´ë‹ˆ ë‹¤ë¥¸ íŒ€ì›ë“¤ì— ë¹„í•´ ë‹¤ì†Œ ê¹Šì€ ë‚´ìš©ë“¤ê¹Œì§€ í•™ìŠµì„ í–ˆê³ , ì´ë¥¼ ìŠ¤í„°ë”” ì‹œê°„ì— ì§ˆë¬¸ê¹Œì§€ í•˜ë‹¤ë³´ë©´ ìì—°ìŠ¤ë ˆ í•™ìŠµí•œ ë‚´ìš©ì„ ê³µìœ ê¹Œì§€ í•˜ê²Œ ë˜ì—ˆë‹¤.\n\nê³µìœ ..! ë“œë””ì–´ **ì£¼ë„ì ìœ¼ë¡œ íƒ€ì¸ì—ê²Œ ë‚˜ì˜ ì§€ì‹ì„ ê³µìœ í•˜ì—¬ ë„ì›€ì´ ë˜ëŠ” ê²½í—˜ì„ í–ˆë‹¤ê³  í•  ìˆ˜ ìˆë‹¤.**\n\n## íŒ€ì›ë“¤ì—ê²Œ ë°›ì€ ê¸ì •ì  í”¼ë“œë°±\n\n### 1. ë‹µë³€ì´ ì°¨ë¶„í•˜ê³  ì „ë‹¬ì´ ì˜ëœë‹¤\n\në‚˜ëŠ” ë©´ì ‘ë³¼ ë•Œ ìµœëŒ€í•œ ìœ ì—°í•œ íƒœë„ë¥¼ ê°€ì§€ë ¤ê³  í•œë‹¤.\n\në„ˆë¬´ ë”±ë”±í•˜ê²Œ ë§ˆì¹˜ ë°©ì–´í•˜ë“¯ì´ ë‹µë³€í•˜ëŠ” ê²ƒì€ ë‚˜ë„ í˜ë“¤ê³  ë“£ëŠ” ì‚¬ëŒë„ í˜ë“¤ë‹¤ê³  ìƒê°í•˜ê¸° ë•Œë¬¸ì´ë‹¤.\n\nê·¸ë˜ì„œ í•­ìƒ ë‹µë³€í•  ë• ëŒ€í™”í•˜ë“¯ì´, ì´ì•¼ê¸°í•˜ë“¯ì´í•˜ëŠ”ë° ì´ ì ì´ ë“£ëŠ” ì‚¬ëŒìœ¼ë¡œ í•˜ì—¬ê¸ˆ ë“£ê¸° í¸ì•ˆí–ˆê³ <br>\nì „ë‹¬ì´ ì˜ ë˜ì—ˆë‹¤ëŠ” í”¼ë“œë°±ì„ ë°›ì•˜ë‹¤.\n\n## íŒ€ì›ë“¤ì—ê²Œ ë°›ì€ ë¶€ì •ì  í”¼ë“œë°±\n\n### 1. ì„¤ëª…ì´ ì¥í™©í•˜ê±°ë‚˜ ë„ˆë¬´ ì§§ë‹¤\n\n1ì£¼ì°¨ì— ë„ˆë¬´ ë§ì€ ê²ƒì„ í•™ìŠµí•˜ê³  ì´ë¥¼ ì„¤ëª…í•˜ë ¤ë‹¤ë³´ë‹ˆ, ìŠ¤ìŠ¤ë¡œ ëŠë¼ê¸°ì—ë„ ì„¤ëª…ì´ ë„ˆë¬´ ì¥í™©í–ˆë‹¤.\n\nì–´ì©” ë• ë„ˆë¬´ ì¥í™©í•´ì§€ëŠ” ê±¸ ë§‰ê¸° ìœ„í•´ êµ‰ì¥íˆ ì§§ê²Œ ëŒ€ë‹µì„ í–ˆë‹¤.\n\nì—­ì‹œë‚˜ ì´ì— ëŒ€í•´ ë§ì€ í”¼ë“œë°±ì´ ë‚ ë¼ì™”ë‹¤..\n\nì‚¬ì‹¤ ì˜ˆì „ë¶€í„° ì¸ì§€í•˜ë˜ ë¬¸ì œì¸ë° ì˜¤ëœë§Œì— ì¸í„°ë·° ìë¦¬ì—ì„œ ëŒ€ë‹µí•˜ë ¤ë‹ˆ ì•ˆì¢‹ì€ ìŠµê´€ì´ ë‹¤ì‹œ ë‚˜ì™”ë˜ ê²ƒ ê°™ë‹¤.\n\nê·¸ë˜ì„œ 2ì£¼ì°¨ë¥¼ ì¤€ë¹„í•  ë•ŒëŠ” ë¯¸ë¦¬ ì–´ë–¤ ì‹ìœ¼ë¡œ ë‹µë³€í•  ì§€ ë¯¸ë¦¬ ì‹œë®¬ë ˆì´ì…˜í•˜ë©° ì¤€ë¹„í–ˆê³ ,\n\nì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ **ë‘ê´„ì‹ìœ¼ë¡œ ë‹µë³€í•˜ê¸°ë¥¼ ê³„ì†í•´ì„œ ì—°ìŠµí–ˆë‹¤.**\n\nì—°ìŠµí•œ ë•ì¸ì§€ 2ì£¼ì°¨ë•ŒëŠ” **\"1ì£¼ì°¨ë‘ ë‹¤ë¥¸ ì‚¬ëŒê°™ë‹¤\"ëŠ” ë§ì„ ë“¤ì„ ì •ë„ë¡œ ë‹µë³€ì´ ë§ì´ ê¹”ë”í•´ì¡Œë‹¤ëŠ” í”¼ë“œë°±ì„ ë°›ì•˜ë‹¤.** ğŸ‘\n\n### 2. ì‹œì„ ì²˜ë¦¬\n\ní•œë²ˆì€ ì‹œì„ ì²˜ë¦¬ê°€ ì¢‹ì•˜ë‹¤ëŠ” í”¼ë“œë°±ì´ ìˆì—ˆì§€ë§Œ í•œë²ˆì€ ì‹œì„ ì²˜ë¦¬ê°€ ì¢‹ì§€ ì•Šë‹¤ëŠ” í”¼ë“œë°±ì„ ë°›ì•˜ë‹¤.\n\nì§€ê¸ˆ ìƒê°í•´ë³´ë©´ ìì‹ ìˆê²Œ ë‹µë³€í•  ìˆ˜ ìˆëŠ” ë‚´ìš©ì— ëŒ€í•´ ë‹µë³€í•  ë•ŒëŠ” ì‹œì„ ì²˜ë¦¬ê°€ ì¢‹ì•˜ë˜ ê²ƒ ê°™ê³ ,\n\nìì‹ ì´ ì—†ê±°ë‚˜ ì¡°ê¸ˆ ìƒê°ì´ í•„ìš”í•œ ë‹µë³€ì˜ ê²½ìš°ì—ëŠ” ì‹œì„ ì²˜ë¦¬ê°€ ë¶ˆì•ˆí•˜ë‹¤ê³  ìƒê°í•œë‹¤.\n\nì•„ë¬´ë˜ë„ ì¤€ë¹„ë¥¼ ì–¼ë§ˆë‚˜ í–ˆëƒì— ë”°ë¼ ë‹¬ë¼ì§ˆ ê²ƒ ê°™ë‹¤.\n\n## ë§ˆì¹˜ë©°\n\nê¸°ëŒ€ ì´ìƒìœ¼ë¡œ ì¢‹ì€ ì‹œê°„ì´ì—ˆë‹¤.\n\nìš´ì˜ì²´ì œ ìŠ¤í„°ë”” ë¿ë§Œ ì•„ë‹ˆë¼ ì¸ì„± ë©´ì ‘ì´ë‚˜, ë©˜í† ë‹˜ë“¤ì—ê²Œ ê°œì¸ì ì¸ ì§ˆë¬¸ë„ í•  ìˆ˜ ìˆì—ˆë‹¤.\n\në©´ì ‘ì´ë‚˜ ì´ë ¥ì„œ, ê·¸ë¦¬ê³  í”„ë¡œì íŠ¸ ê¸°ë°˜ ë©´ì ‘ íŒ ê°™ì€ ê²ƒë“¤ë„ ì–»ì–´ê°ˆ ìˆ˜ ìˆì—ˆë‹¤.\n\nì·¨ì¤€ìƒì¸ ë‚˜ì—ê²Œ íˆ¬ì ëŒ€ë¹„ íš¨ìœ¨ì´ ì¢‹ì•˜ë˜ ìŠ¤í„°ë””ë¼ ìƒê°í•œë‹¤.\n\n5ì£¼ ê°„ í•¨ê»˜ í•´ì£¼ì‹  íŒ€ì›ë“¤, ë©˜í† ë‹˜ë“¤ ê°ì‚¬í•©ë‹ˆë‹¹ ğŸ™‡â€â™‚ï¸"},{"excerpt":"ì´ë²ˆ ê¸€ì—ì„œëŠ”  í‚¤ì›Œë“œì— ëŒ€í•´ ì•Œì•„ë³´ê³ ì í•œë‹¤.\nê·¸ ì „ì— JVMì˜ ë©”ëª¨ë¦¬ êµ¬ì¡°ì— ëŒ€í•´ ë¨¼ì € ì‚´í´ë³´ì. JVMì˜ ë©”ëª¨ë¦¬ êµ¬ì¡°  JVMì´ ì‚¬ìš©í•˜ëŠ” ë©”ëª¨ë¦¬ ê³µê°„ì€ í¬ê²Œ ì„¸ ê³µê°„ìœ¼ë¡œ ë‚˜ë‰œë‹¤. Heap ì˜ì—­ new í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ ë™ì ìœ¼ë¡œ ìƒì„±í•œ ê°ì²´ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ë‹´ê¸°ëŠ” ê³µê°„ì´ë‹¤. Garbage Collectorì— ì˜í•´ ê´€ë¦¬ëœë‹¤. Stack ì˜ì—­ ë©”ì„œë“œ ì½œ ìŠ¤íƒì´â€¦","fields":{"slug":"/static-with-memory-structure/"},"frontmatter":{"date":"December 06, 2023","title":"staticì„ ë” ì˜ ì‚¬ìš©í•˜ê¸°","tags":["java","operating-system"]},"rawMarkdownBody":"\nì´ë²ˆ ê¸€ì—ì„œëŠ” `static` í‚¤ì›Œë“œì— ëŒ€í•´ ì•Œì•„ë³´ê³ ì í•œë‹¤.<br>\nê·¸ ì „ì— JVMì˜ ë©”ëª¨ë¦¬ êµ¬ì¡°ì— ëŒ€í•´ ë¨¼ì € ì‚´í´ë³´ì.\n\n## JVMì˜ ë©”ëª¨ë¦¬ êµ¬ì¡°\n\n![ë©”ëª¨ë¦¬ êµ¬ì¡°](memory.jpeg)\n\nJVMì´ ì‚¬ìš©í•˜ëŠ” ë©”ëª¨ë¦¬ ê³µê°„ì€ í¬ê²Œ ì„¸ ê³µê°„ìœ¼ë¡œ ë‚˜ë‰œë‹¤.\n\n1. Heap ì˜ì—­\n   - new í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ **ë™ì ìœ¼ë¡œ ìƒì„±í•œ ê°ì²´ì˜ ì¸ìŠ¤í„´ìŠ¤**ê°€ ë‹´ê¸°ëŠ” ê³µê°„ì´ë‹¤.\n   - **[Garbage Collector](https://kdkdhoho.github.io/about-garbage-collection)**ì— ì˜í•´ ê´€ë¦¬ëœë‹¤.\n\n2. Stack ì˜ì—­\n   - ë©”ì„œë“œ ì½œ ìŠ¤íƒì´ë‚˜, ì§€ì—­ ë³€ìˆ˜ í˜¹ì€ ë³€ìˆ˜ íŒŒë¼ë¯¸í„°ê°€ ì €ì¥ë˜ëŠ” ê³µê°„ì´ë‹¤.\n   - ì£¼ë¡œ ë©”ì„œë“œì™€ ê´€ë ¨ì´ ìˆìœ¼ë©° ë©”ì„œë“œê°€ í˜¸ì¶œë  ë•Œ ìƒˆë¡œìš´ ì˜ì—­ì´ í• ë‹¹ë˜ê³  ë°˜í™˜ë  ë•Œ ì˜ì—­ë„ ë°˜í™˜ëœë‹¤.\n   - `StackOverflow`ê°€ ë°œìƒí•˜ëŠ” ì›ì¸ì„ ë©”ëª¨ë¦¬ ê´€ì ì—ì„œ ìƒê°í•´ë³´ë©´ ì•Œ ìˆ˜ ìˆë‹¤.\n\n3. Static ì˜ì—­\n   - Codeì™€ Data ì˜ì—­ì´ í•©ì³ì§„ ì˜ì—­ì´ë‹¤.\n   - ìš°ë¦¬ê°€ ì‘ì„±í•œ Classë‚˜ ì •ì  ë³€ìˆ˜(í´ë˜ìŠ¤ ë³€ìˆ˜)ê°€ ì´ ì˜ì—­ì— ì €ì¥ëœë‹¤.\n   - ì´ ê³³ì— ë‹´ê¸´ ë°ì´í„°ë“¤ì€ í”„ë¡œê·¸ë¨ì´ ì¢…ë£Œë˜ê¸° ì „ê¹Œì§€ ìœ ì§€ëœë‹¤.\n\n## Javaì˜ static í‚¤ì›Œë“œ\n\nì´ì œ Javaì˜ static í‚¤ì›Œë“œì— ëŒ€í•´ ì•Œì•„ë³´ì\n\nJavaì—ì„œ static í‚¤ì›Œë“œë¥¼ ë³€ìˆ˜, ë©”ì„œë“œ, í´ë˜ìŠ¤ì— ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.\n\nstaticì„ ë¶™ì—¬ ë³€ìˆ˜ë¥¼ ìƒì„±í•˜ê±°ë‚˜ ë©”ì„œë“œë‚˜ í´ë˜ìŠ¤ë¥¼ ì„ ì–¸í•˜ê²Œ ë˜ë©´, **í”„ë¡œê·¸ë¨ ì‹¤í–‰ ì‹œ**ì— **ë”± í•œ ë²ˆ ìƒì„±**ë˜ì–´ ìœ„ ë©”ëª¨ë¦¬ êµ¬ì¡°ì˜ **`Static` ì˜ì—­ì— í¬í•¨**ëœë‹¤.\n\në”°ë¼ì„œ, ìš°ë¦¬ê°€ ê°ì²´ë¥¼ ìƒì„±í•˜ì§€ ì•Šê³ ë„ static ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•˜ê±°ë‚˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤.\n\n## staticì„ ë§ì´ ì‚¬ìš©í•˜ê²Œ ëœë‹¤ë©´?\n\nì´ëŸ¬í•œ static ë³€ìˆ˜, ë©”ì„œë“œ, í´ë˜ìŠ¤ë¥¼ ë§ì´ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ì–´ë–¤ ì¼ì´ ë°œìƒí• ê¹Œ?\n\nê²°ë¡ ë¶€í„° ë§í•˜ë©´ **í”„ë¡œê·¸ë¨ì— ë¶€ì‘ìš©ì„ ì´ˆë˜í•  í™•ë¥ ì´ ì¦ê°€**í•œë‹¤.\n\në©”ëª¨ë¦¬ ê´€ì ì—ì„œ ìƒê°í•´ë³´ì.\n\nìš´ì˜ì²´ì œëŠ” ë©”ëª¨ë¦¬ì— Java í”„ë¡œê·¸ë¨ì˜ ê³µê°„ì„ ë‚´ì–´ì¤„ ë•Œ ë¬´í•œì •ìœ¼ë¡œ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤.<br>\në”°ë¼ì„œ ì œí•œëœ ì˜ì—­ ë‚´ì—ì„œ í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•´ì•¼ í•œë‹¤.\n\nê·¸ëŸ°ë° Static ì˜ì—­ì´ Heapê³¼ Stack ì˜ì—­ì— ë¹„í•´ ë” ë§ì€ ê³µê°„ì„ ì°¨ì§€í•˜ê²Œ ëœë‹¤ë©´, `StackOverflow`ë‚˜ `OutOfMemoryError` ê°€ ë°œìƒí•  í™•ë¥ ì´ ì¦ê°€í•œë‹¤.\n\nì•„ë¬´ë¦¬ GCê°€ Heap ì˜ì—­ì„ ê´€ë¦¬í•´ ì¤€ë‹¤ í•œë“¤, ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê³µê°„ ìì²´ê°€ ì ë‹¤ë©´ GCì˜ ì—­í• ì—ë„ í•œê³„ê°€ ìˆì„ ê²ƒì´ë‹¤.\n\nì¶”ê°€ë¡œ ì‚¬ìš©ë˜ì§€ ì•ŠìŒì—ë„ staticìœ¼ë¡œ ì„ ì–¸ë˜ì—ˆë‹¤ëŠ” ì´ìœ ë¡œ, ë¶ˆí•„ìš”í•˜ê²Œ ë©”ëª¨ë¦¬ë¥¼ ì°¨ì§€í•˜ê²Œ ë  ê²½ìš°ë„ ë¶„ëª… ì¡´ì¬í•  ê²ƒì´ë‹¤.\n\n## ì–´ëŠ ìƒí™©ì— staticì„ ì‚¬ìš©í•˜ë©´ ì¢‹ì„ê¹Œ?\n\nê·¸ë ‡ë‹¤ë©´ ì–´ëŠ ìƒí™©ì—ì„œ staticì„ ì ì ˆíˆ ì‚¬ìš©í•˜ë©´ ì¢‹ì„ê¹Œ?\n\në‹¨ìˆœíˆ ìƒê°í•´ì„œ ê°ì²´ë¥¼ ë§¤ë²ˆ ë§Œë“¤ í•„ìš”ê°€ ì—†ëŠ” ê²½ìš°ì—ë§Œ ì‚¬ìš©í•˜ë©´ ì¢‹ì„ ê²ƒì´ë‹¤.\n\nì¦‰, í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•  ë•Œ ë”± í•œ ë²ˆë§Œ ë©”ëª¨ë¦¬ì— ì˜¬ë ¤ë†“ê³  ê³„ì†í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì´ë‹¤.\n\në‹¤ì‹œ ë§í•´, Java í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë˜ë©´ ë”± í•œ ë²ˆë§Œ ë©”ëª¨ë¦¬ì— ì˜¬ë ¤ë†“ê³  ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ë  ê²ƒì´ë‹¤.\n\n### ìƒìˆ˜\n\nìƒìˆ˜ëŠ” ë³€í•˜ì§€ ì•ŠëŠ” ê°’ì„ ì˜ë¯¸í•œë‹¤.\n\nì´ëŸ¬í•œ ìƒìˆ˜ëŠ” ëŸ°íƒ€ì„ìœ¼ë¡œ ìƒˆë¡œìš´ ë³€ìˆ˜ê°€ ê³„ì†í•´ì„œ ë§Œë“¤ì–´ì§ˆ í•„ìš”ê°€ ì—†ë‹¤.\n\nê°€ë ¹, íšŒì›ê°€ì… ì‹œì— 1,000 í¬ì¸íŠ¸ë¥¼ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•œë‹¤ëŠ” ì˜ˆì‹œê°€ ìˆë‹¤ê³  ê°€ì •í•´ë³´ì.\n\n```java\npublic class Member {\n   private static final int WELCOME_POINT = 1_000; // ìƒìˆ˜\n   \n   public Member(...) {\n      // ...\n      this.point = WELCOME_POINT;\n      // ...\n   }\n}\n```\n\nìœ„ ì½”ë“œì˜ `WELCOME_POINT` ì²˜ëŸ¼, Member ê°ì²´ë¥¼ ë§Œë“¤ ë•Œë§ˆë‹¤ ìƒˆë¡œ ë§Œë“¤ì–´ ì¤„ í•„ìš”ë„ ì—†ëŠ” ê°’ì˜ ê²½ìš° ì‚¬ìš©í•˜ë©´ íš¨ìœ¨ì ì¼ ê²ƒì´ë‹¤.\n\n#### ë²ˆì™¸: ìƒìˆ˜ì˜ ì ‘ê·¼ ì œì–´ìì˜ ë²”ìœ„ë¥¼ ì–´ë–¤ ê¸°ì¤€ìœ¼ë¡œ ì§€ì •í•˜ë©´ ì¢‹ì„ê¹Œ?\n\nìœ„ ì˜ˆì‹œì—ì„œëŠ” `private`ë¡œ ì„ ì–¸ì„ í–ˆëŠ”ë°, `public`ìœ¼ë¡œ í•œë‹¤ë©´ ì–´ë–¨ê¹Œ?\n\në©”ëª¨ë¦¬ ì˜ì—­ì—ì„œ ìƒê°í•´ ë´¤ì„ ë•Œ `Static` ì˜ì—­ìœ¼ë¡œ ì˜¬ë¼ê°€ê³ , ì´ ì˜ì—­ì€ ê°™ì€ í”„ë¡œì„¸ìŠ¤ ë‚´ì˜ ëª¨ë“  ê³³ì—ì„œ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤.\n\nê·¸ë ‡ì§€ë§Œ ìœ„ ìƒìˆ˜ê°€ ë‹¤ë¥¸ í´ë˜ìŠ¤ì—ì„œ ë²”ìš©ì ìœ¼ë¡œ ì“°ì´ì§€ ì•ŠëŠ” í•œ, ë¶ˆí•„ìš”í•˜ê²Œ publicìœ¼ë¡œ ì—´ì–´ë‘˜ í•„ìš”ëŠ” ì—†ì–´ë³´ì¸ë‹¤.\n\ní•„ìš”í•˜ë‹¤ë©´ privateìœ¼ë¡œ ì„ ì–¸ í›„, getterë¥¼ í†µí•´ ê°’ì„ ë°˜í™˜í•˜ëŠ” ê²Œ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³  ì´í•´í•˜ëŠ” ë°ì— í›¨ì”¬ ë„ì›€ì´ ë  ê²ƒì´ë¼ê³  ìƒê°í•œë‹¤.\n\nìµœëŒ€í•œ ì‘ì€ ë²”ìœ„ë¡œ ì„¤ì •í•˜ì.\n\n### utilì„± ë©”ì„œë“œ (static ë©”ì„œë“œ)\n\ní”íˆ **ìœ í‹¸ì„± í´ë˜ìŠ¤**ë¼ê³  í•˜ëŠ” ê³³ì— ì¡´ì¬í•˜ëŠ” ë©”ì„œë“œë“¤ì— `static` í‚¤ì›Œë“œë¥¼ ë¶™ì—¬ ì‚¬ìš©í•œë‹¤.\n\nì´ëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì§€ ì•Šê³ ë„ ì‚¬ìš©í•  ìˆ˜ ìˆê³ , ì–´ë””ì—ì„œë“  í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.\n\në‹¤ë§Œ, ì¸ìŠ¤í„´ìŠ¤ë¡œ ì“°ì´ëŠ” í´ë˜ìŠ¤ì— static ë©”ì„œë“œê°€ ì¡´ì¬í•  ìˆ˜ ìˆëŠ”ë°, ì´ë•Œ ì¡°ì‹¬í•´ì•¼ í•  ì ì´ ìˆë‹¤.\n\në°”ë¡œ static ë©”ì„œë“œëŠ” ì¬ì •ì˜ê°€ ë¶ˆê°€ëŠ¥ í•˜ë‹¤ëŠ” ê²ƒì´ë‹¤.\n\n![í´ë˜ìŠ¤ ìƒì† ì‹œ](cannot-extends.png)\n\n![ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ ì‹œ](cannot-implements.png)\n\nì¶”ê°€ë¡œ ê´‘ë²”ìœ„í•˜ê²Œ ì‚¬ìš©ë˜ëŠ” íŠ¹ì§•ì„ ê°€ì§„ Utilì„± ë©”ì„œë“œì¸ ë§Œí¼, í´ë˜ìŠ¤ì˜ ë³€ê²½ ê°€ëŠ¥ì„±ì´ ì¦ê°€í•œë‹¤ëŠ” íŠ¹ì§•ì´ ìˆë‹¤.\n\nê°€ê¸‰ì  Utilì„± í´ë˜ìŠ¤ì— static ë©”ì„œë“œë¥¼ ëª¨ì•„ì„œ ì‚¬ìš©í•˜ë„ë¡ í•˜ì.\n\n> ## Reference\n> - [ë§ë‚˜ë‹ˆ ê°œë°œì ë¸”ë¡œê·¸](https://mangkyu.tistory.com/47)\n> - [Javaì˜ ì •ì„](https://www.yes24.com/Product/Goods/24259565)\n> - [AT&T Israel Tech Blog](https://medium.com/att-israel/should-you-avoid-using-static-ae4b58ca1de5)"},{"excerpt":"ê°€ìƒ ì£¼ì†Œì™€ ë¬¼ë¦¬ ì£¼ì†Œ(ì‹¤ì£¼ì†Œ)ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”. ê°€ìƒ ì£¼ì†Œë¥¼ ë¬¼ë¦¬ ì£¼ì†Œ(ì‹¤ì£¼ì†Œ)ë¡œ ì–´ë–»ê²Œ ë³€í™˜í• ê¹Œìš”? ì ˆëŒ€ ì£¼ì†Œ ì§€ì •ê³¼ ìƒëŒ€ ì£¼ì†Œ ì§€ì •ì˜ ì°¨ì´ì ì€ ë­˜ê¹Œìš”? ë©”ëª¨ë¦¬ ë¶„í• ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”. ë©”ëª¨ë¦¬ ë°°ì¹˜ ê¸°ë²•(ë©”ëª¨ë¦¬ ê´€ë¦¬ ì „ëµ)ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”. ì™¸ë¶€ ë‹¨í¸í™”ì™€ ë‚´ë¶€ ë‹¨í¸í™”ì˜ ì°¨ì´ê°€ ë­”ê°€ìš”? ë©”ëª¨ë¦¬ ë°°ì¹˜ ê¸°ë²•ì¤‘ í•˜ë‚˜ì¸ colaescing(í†µí•©)ì— ëŒ€â€¦","fields":{"slug":"/os-interview-study-5week/"},"frontmatter":{"date":"December 06, 2023","title":"[JSCODE] - OS ë©´ì ‘ ìŠ¤í„°ë”” 5ì£¼ì°¨","tags":["operating-system","interview"]},"rawMarkdownBody":"\n## ê°€ìƒ ì£¼ì†Œì™€ ë¬¼ë¦¬ ì£¼ì†Œ(ì‹¤ì£¼ì†Œ)ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n```text\nê°€ìƒ ì£¼ì†Œì˜ ê²½ìš° í”„ë¡œì„¸ìŠ¤ë§ˆë‹¤ ë…ë¦½ì ìœ¼ë¡œ ê°€ì§€ëŠ” ì£¼ì†Œ ê³µê°„ì…ë‹ˆë‹¤. ëª¨ë‘ 0ë²ˆì§€ë¶€í„° ì‹œì‘í•©ë‹ˆë‹¤.\në¬¼ë¦¬ ì£¼ì†Œì˜ ê²½ìš° í”„ë¡œì„¸ìŠ¤ê°€ ì‹¤ì œ ë©”ëª¨ë¦¬ì— ì˜¬ë¼ê°€ëŠ” ìœ„ì¹˜ì…ë‹ˆë‹¤.\n```\n\n## ê°€ìƒ ì£¼ì†Œë¥¼ ë¬¼ë¦¬ ì£¼ì†Œ(ì‹¤ì£¼ì†Œ)ë¡œ ì–´ë–»ê²Œ ë³€í™˜í• ê¹Œìš”?\n```text\nMMUë¼ëŠ” í•˜ë“œì›¨ì–´ì— ì˜í•´ ë³€í™˜ë©ë‹ˆë‹¤.\nCPUê°€ ê°€ì§„ ë…¼ë¦¬ ì£¼ì†Œë¥¼ MMUë¡œ ì „ë‹¬í•˜ê²Œ ë˜ê³ , ë©”ëª¨ë¦¬ ë§¤í•‘ ì „ëµì— ë”°ë¼ ë‹¬ë¼ì§€ëŠ” ë°©ë²•ì„ í†µí•´ ë¬¼ë¦¬ ì£¼ì†Œë¡œ ë³€í™˜í•˜ê²Œ ë©ë‹ˆë‹¤.\n\nì¶”ê°€)\nì´ MMUëŠ” Relocation Registerì™€ Limit Registerë¥¼ ì´ìš©í•´ ê³„ì‚°í•©ë‹ˆë‹¤.\nRelocation RegisterëŠ” í˜„ì¬ ì‚¬ìš© ê°€ëŠ¥í•œ ë¬¼ë¦¬ ì£¼ì†Œì˜ ìµœí•˜ìœ„ ì£¼ì†Œ ê°’ì„ ê°€ì§‘ë‹ˆë‹¤.\nLimit RegisterëŠ” ë…¼ë¦¬ ì£¼ì†Œì˜ ë²”ìœ„ë¥¼ ê°€ì§‘ë‹ˆë‹¤. ì´ ê°’ì„ í†µí•´ í•´ë‹¹ í”„ë¡œì„¸ìŠ¤ì˜ ë¬¼ë¦¬ì  ì£¼ì†Œë¥¼ ë²—ì–´ë‚˜ì§€ ì•Šë„ë¡ ë§‰ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì¶”ê°€)\nOSê°€ ì´ë¥¼ ê³„ì‚°í•˜ì—¬ ë³€í™˜í•˜ì§€ ì•ŠëŠ” ì´ìœ ëŠ”, HWë¥¼ ì´ìš©í•˜ëŠ” ê²ƒë³´ë‹¤ í›¨ì”¬ ëŠë¦¬ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\nHWëŠ” ê°’ë§Œ ë„£ì–´ì£¼ë©´ ë¹ ë¥´ê²Œ ê³„ì‚°ë˜ì–´ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆëŠ” ë°˜ë©´,\nOSì—ê²Œ ìœ„ì„í•˜ê²Œ ëœë‹¤ë©´ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ìœ¼ë¡œ ì¸í•œ ì¶”ê°€ì ì¸ ì˜¤ë²„í—¤ë“œê°€ ë°œìƒí•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. \n```\n\n## ì ˆëŒ€ ì£¼ì†Œ ì§€ì •ê³¼ ìƒëŒ€ ì£¼ì†Œ ì§€ì •ì˜ ì°¨ì´ì ì€ ë­˜ê¹Œìš”?\n```text\nì ˆëŒ€ ì£¼ì†Œ ì§€ì •ì€ ì»´íŒŒì¼ëŸ¬ì— ì˜í•´ ë§Œë“¤ì–´ì§„ ë…¼ë¦¬ ì£¼ì†Œê°€, ì‹¤ì œ ë©”ëª¨ë¦¬ì— ì ì¬ë  ë•Œ ê·¸ëŒ€ë¡œ ì‚¬ìš©ë˜ì–´ ì ì¬ë˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\nìƒëŒ€ ì£¼ì†Œ ì§€ì •ì€ ì´ ë…¼ë¦¬ ì£¼ì†Œì™€ëŠ” ìƒê´€ì—†ì´ ë©”ëª¨ë¦¬ì— ì ì¬ë  ë•Œ, ê·¸ë¦¬ê³  ì ì¬ëœ ì´í›„ì— ë™ì ìœ¼ë¡œ ë¬¼ë¦¬ ì£¼ì†Œë¥¼ í• ë‹¹í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\n```\n\n## ë©”ëª¨ë¦¬ ë¶„í• ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n```text\ní”„ë¡œì„¸ìŠ¤ë¥¼ ë™ì¼í•œ í¬ê¸°ì˜ ë©”ëª¨ë¦¬ ë¸”ë¡ìœ¼ë¡œ ë‚˜ëˆ„ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\nì´ í˜ì´ì§€ ë¶„í• ì„ í†µí•´ í”„ë¡œì„¸ìŠ¤ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë©”ëª¨ë¦¬ë§Œì„ ë©”ì¸ ë©”ëª¨ë¦¬ì— ì ì¬í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë˜ì–´\në©”ëª¨ë¦¬ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.\n```\n\n## ë©”ëª¨ë¦¬ ë°°ì¹˜ ê¸°ë²•(ë©”ëª¨ë¦¬ ê´€ë¦¬ ì „ëµ)ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n```text\ní”„ë¡œì„¸ìŠ¤ë¥¼ ë©”ì¸ ë©”ëª¨ë¦¬ì— ì ì¬í•  ë•Œ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ì ì¬í•  ê²ƒì¸ê°€ì— ëŒ€í•œ ë°©ë²•ì…ë‹ˆë‹¤.\n\në°©ë²•ìœ¼ë¡œ í¬ê²Œ ë‚˜ëˆ„ë©´ ì—°ì† ë©”ëª¨ë¦¬ í• ë‹¹ê³¼ ë¶ˆì—°ì† ë©”ëª¨ë¦¬ í• ë‹¹ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n```\n\n```text\n[ì—°ì† ë©”ëª¨ë¦¬ í• ë‹¹]\në‹¨ì¼ í”„ë¡œê·¸ë˜ë° í™˜ê²½ -> í”„ë¡œì„¸ìŠ¤ 1ê°œë¥¼ í†µì±„ë¡œ ë©”ì¸ ë©”ëª¨ë¦¬ì— ì ì¬\në‹¤ì¤‘ í”„ë¡œê·¸ë˜ë° í™˜ê²½ -> ê³ ì • ë¶„í•  ë°©ë²•: ë©”ì¸ ë©”ëª¨ë¦¬ë¥¼ ì—¬ëŸ¬ ê°œì˜ ê³ ì •ëœ í¬ê¸°ë¡œ ë‚˜ëˆ„ê³  í•´ë‹¹ í¬ê¸°ì— í”„ë¡œì„¸ìŠ¤ë¥¼ ì ì¬í•˜ëŠ” ë°©ì‹. ë‚´ë¶€ ë‹¨í¸í™” ë°œìƒ\n                -> ê°€ë³€ ë¶„í•  ë°©ë²•: ê³ ì •ëœ í¬ê¸°ë¥¼ ì—†ì• ê³  í”„ë¡œì„¸ìŠ¤ê°€ í•„ìš”í•œ ë§Œí¼ë§Œ ë©”ëª¨ë¦¬ì— ì ì¬. ì™¸ë¶€ ë‹¨í¸í™” ë°œìƒ. ìµœì´ˆ ì í•©, ìµœì  ì í•©, ìµœì•… ì í•©\n\n[ë¶ˆì—°ì† ë©”ëª¨ë¦¬ í• ë‹¹]\nê³ ì • ë¶„í• : í˜ì´ì§• ->\nê°€ë³€ ë¶„í• : ì„¸ê·¸ë©˜í…Œì´ì…˜ -> \n```\n\n## ì™¸ë¶€ ë‹¨í¸í™”ì™€ ë‚´ë¶€ ë‹¨í¸í™”ì˜ ì°¨ì´ê°€ ë­”ê°€ìš”?\n```text\nì™¸ë¶€ ë‹¨í¸í™”ëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ì ì¬ë  ìˆ˜ ìˆëŠ” ê³µê°„ì´ì§€ë§Œ, ê·¸ í¬ê¸°ê°€ ì‘ì•„ ë“¤ì–´ê°€ì§€ ëª»í•˜ëŠ” ê³µê°„ì…ë‹ˆë‹¤.\në‚´ë¶€ ë‹¨í¸í™”ëŠ” ë©”ì¸ ë©”ëª¨ë¦¬ ìƒì— ì¼ì • í¬ê¸°ì˜ ê³µê°„ ì•ˆì— ê·¸ ê³µê°„ë³´ë‹¤ ë” ì‘ì€ í”„ë¡œì„¸ìŠ¤ê°€ í• ë‹¹ë˜ì–´ ìƒê¸°ëŠ” ê³µê°„ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\n\nì˜ˆë¥¼ ë“¤ì–´ ì„¤ëª…í•´ë³´ë©´, ì™¸ë¶€ ë‹¨í¸í™”ëŠ” ìŒì‹ì„ ë‹´ì„ ê·¸ë¦‡ì´ ìˆì§€ë§Œ ì´ ê·¸ë¦‡ì— ë¹„í•´ ìŒì‹ì˜ í¬ê¸°ê°€ ë” ì»¤ì„œ ë‹´ì§€ ëª»í•˜ëŠ” í˜„ìƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\në‚´ë¶€ ë‹¨í¸í™”ëŠ” ìŒì‹ì„ ê·¸ë¦‡ì— ë‹´ì•˜ì§€ë§Œ, ìŒì‹ì˜ í¬ê¸°ê°€ ê·¸ë¦‡ì— ë¹„í•´ ë§¤ìš° ì‘ì•„ì„œ ë¹ˆê³µê°„ì´ ìƒê¸°ëŠ” ê°œë…ì…ë‹ˆë‹¤.\n```\n\n## ë©”ëª¨ë¦¬ ë°°ì¹˜ ê¸°ë²•ì¤‘ í•˜ë‚˜ì¸ colaescing(í†µí•©)ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n```text\në©”ì¸ ë©”ëª¨ë¦¬ì— í• ë‹¹ëœ í”„ë¡œì„¸ìŠ¤ê°€ ì¢…ë£Œë˜ë©´ í•´ë‹¹ í”„ë¡œì„¸ìŠ¤ê°€ ì°¨ì§€í•œ ê³µê°„ê³¼ ì¸ì ‘í•œ ë¹ˆ ê³µê°„ì´ ìˆëŠ”ì§€ í™•ì¸í•˜ê³ \nì´ ê³µê°„ë“¤ì„ í•˜ë‚˜ë¡œ í†µí•©í•˜ëŠ” ê³¼ì •ì…ë‹ˆë‹¤.\nì´ë¥¼ í†µí•´ ì™¸ë¶€ ë‹¨í¸í™”ë¥¼ ìµœì†Œí™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n```\n\n## ë©”ëª¨ë¦¬ ë°°ì¹˜ ê¸°ë²•ì¤‘ í•˜ë‚˜ì¸ compaction(ì••ì¶•)ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n```text\në©”ì¸ ë©”ëª¨ë¦¬ì— ì ì¬ëœ í”„ë¡œì„¸ìŠ¤ë“¤ì„ ìµœëŒ€í•œ í•œ ìª½ìœ¼ë¡œ ëª¨ë‘ ëª¨ìœ¼ëŠ” ê¸°ë²•ì…ë‹ˆë‹¤.\nì´ë¥¼ í†µí•´ ì™¸ë¶€ ë‹¨í¸í™”ë¥¼ ìµœì†Œí™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ ì••ì¶•í•˜ëŠ” ì‹œê°„ë™ì•ˆ ì‹œìŠ¤í…œì€ ëª¨ë“  ì¼ì„ ì¤‘ì§€í•´ì•¼ í•œë‹¤ëŠ” ì‹¬ê°í•œ ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤.\n```\n\n## ë©”ëª¨ë¦¬ ë°°ì¹˜ ê¸°ë²•ì¤‘ í•˜ë‚˜ì¸ ë²„ë”” ì‹œìŠ¤í…œì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n```text\në©”ì¸ ë©”ëª¨ë¦¬ë¥¼ í•­ìƒ 2^N í¬ê¸°ë¡œ í• ë‹¹í•©ë‹ˆë‹¤. \nê·¸ í›„ í”„ë¡œì„¸ìŠ¤ë¥¼ ì ì¬í•  ë•Œ, ê°€ëŠ¥í•œ ê³µê°„ì„ ì ˆë°˜ì”© ìª¼ê°œë©´ì„œ ë“¤ì–´ê°ˆ ìˆ˜ ìˆëŠ” ìµœì ì˜ ê³µê°„ì„ ì°¾ì•„ ë„£ìŠµë‹ˆë‹¤.\ní”„ë¡œì„¸ìŠ¤ë¥¼ ì ì¬í•  ë•ŒëŠ” ìµœëŒ€í•œ ë©”ëª¨ë¦¬ì˜ ë‚®ì€ ìœ„ì¹˜ì— ì ì¬í•˜ëŠ” ì‹ìœ¼ë¡œ ì§„í–‰ë©ë‹ˆë‹¤.\n\nì™¸ë¶€ ë‹¨í¸í™”ë¥¼ ìµœì†Œí™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në§Œì•½ í”„ë¡œì„¸ìŠ¤ê°€ í• ë‹¹ í•´ì œë˜ê³  ìì‹ ì˜ Buddyê°€ ì¡´ì¬í•˜ê³  ë¹„ì–´ìˆë‹¤ë©´ Mergeí•©ë‹ˆë‹¤.\n```\n\n## ê°€ìƒ ë©”ëª¨ë¦¬ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n```text\në©”ì¸ ë©”ëª¨ë¦¬ì— í”„ë¡œì„¸ìŠ¤ì˜ ëª¨ë“  ë©”ëª¨ë¦¬ë¥¼ ì˜¬ë¦¬ì§€ ì•Šê³  í•„ìš”í•œ ë©”ëª¨ë¦¬ë§Œ ì˜¬ë¦´ ìˆ˜ ìˆë„ë¡,\ní•„ìš”í•˜ì§€ ì•Šì€ ë¶€ë¶„ì˜ ê²½ìš° ë””ìŠ¤í¬ì— ì¼ë¶€ ê³µê°„ì— ì €ì¥í•˜ëŠ” ê°œë…ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\n\nê°€ìƒ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê¸°ë²•ìœ¼ë¡œëŠ” í˜ì´ì§•ê³¼ ì„¸ê·¸ë©˜í…Œì´ì…˜ì´ ìˆìŠµë‹ˆë‹¤.\n```\n\n## ë©”ëª¨ë¦¬ ë°°ì¹˜ ê¸°ë²•ì¤‘ í•˜ë‚˜ì¸ í˜ì´ì§•ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n```text\ní”„ë¡œì„¸ìŠ¤ì˜ ë©”ëª¨ë¦¬ ì˜ì—­ì„ í¬ê¸°ê°€ ë™ì¼í•œ í˜ì´ì§€ë¡œ ë‚˜ëˆ•ë‹ˆë‹¤. ë™ì‹œì— ë©”ì¸ ë©”ëª¨ë¦¬ë„ ë™ì¼í•œ í¬ê¸°ì˜ í”„ë ˆì„ìœ¼ë¡œ ë‚˜ëˆ  ë†“ìŠµë‹ˆë‹¤.\nê·¸ í›„ í”„ë¡œì„¸ìŠ¤ì˜ ì¼ë¶€ í•„ìš”í•œ í˜ì´ì§€ë¥¼ í”„ë ˆì„ì— ì ì¬í•˜ê³  ì´ë¥¼ í˜ì´ì§€ í…Œì´ë¸”ì— ê¸°ë¡í•©ë‹ˆë‹¤.\në¬¼ë¦¬ ì£¼ì†ŒëŠ” ì´ í˜ì´ì§€ í…Œì´ë¸”ì„ í†µí•´ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në¹ˆ í”„ë ˆì„ì´ ì¡´ì¬ë§Œ í•œë‹¤ë©´ ë©”ëª¨ë¦¬ ê³µê°„ ì–´ë””ì—ë“  ì ì¬í•  ìˆ˜ ìˆì–´ ê³µê°„ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©°,\nì™¸ë¶€ ë‹¨í¸í™”ëŠ” ë°œìƒí•˜ì§€ ì•Šì§€ë§Œ ë‚´ë¶€ ë‹¨í¸í™”ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤ëŠ” íŠ¹ì§•ì´ ìˆìŠµë‹ˆë‹¤.\n```\n\n## ë©”ëª¨ë¦¬ ë°°ì¹˜ ê¸°ë²•ì¤‘ í•˜ë‚˜ì¸ ì„¸ê·¸ë©˜í…Œì´ì…˜ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n```text\ní”„ë¡œê·¸ë¨ì„ êµ¬ì„±í•˜ëŠ” ë…¼ë¦¬ì ì¸ ë‹¨ìœ„ë¡œ ë©”ëª¨ë¦¬ë¥¼ ë‚˜ëˆ„ê²Œ ë©ë‹ˆë‹¤. ì´ë¥¼ ì„¸ê·¸ë¨¼íŠ¸ë¼ê³  í•©ë‹ˆë‹¤.\nì´ ì„¸ê·¸ë¨¼íŠ¸ê°€ ë©”ì¸ ë©”ëª¨ë¦¬ì— ì ì¬ë˜ë©´ ì„¸ê·¸ë¨¼íŠ¸ í…Œì´ë¸”ì— ì´ë¥¼ ê¸°ë¡í•˜ê³ , ì´ ì •ë³´ë¥¼ í†µí•´ ë¬¼ë¦¬ ì£¼ì†Œë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në³´í†µ ìµœì´ˆ ì í•©ì´ë‚˜ ìµœì†Œ ì í•© ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.\n```\n\n## í˜ì´ì§•ê³¼ ì„¸ê·¸ë©˜í…Œì´ì…˜ì˜ ë¹„êµ (ê°œì¸ì ìœ¼ë¡œ ì¶”ê°€)\n```text\ní˜ì´ì§•ì€ ìš©ëŸ‰ì´ ì‘ì€ ë©”ì¸ ë©”ëª¨ë¦¬ í¬ê¸°ê°€ ë™ì‹œì— ë§ì´ ì‹¤í–‰ë  ìˆ˜ ìˆë‹¤. \nì„¸ê·¸ë©˜í…Œì´ì…˜ì€ í˜ì´ì§• ê¸°ë²•ì˜ ì¥ì ì— ì¶”ê°€ë¡œ í”„ë¡œê·¸ë¨ì„ ë…¼ë¦¬ì ìœ¼ë¡œ ë…ë¦½ëœ ì£¼ì†Œ ê³µê°„ìœ¼ë¡œ ë‚˜ëˆ„ê³  ì‰½ê²Œ ê³µìœ  ë° ë³´í˜¸í•  ìˆ˜ ìˆë‹¤.\n```\n\n## Swappingì´ë€ ë¬´ì—‡ì¸ê°€ìš”?\n```text\në©”ì¸ ë©”ëª¨ë¦¬ì— ìƒˆë¡œìš´ í”„ë¡œì„¸ìŠ¤ë¥¼ ì ì¬í•  ê³µê°„ì´ ì—†ì„ ê²½ìš°, ë©”ì¸ ë©”ëª¨ë¦¬ì— ìˆëŠ” íŠ¹ì • í”„ë¡œì„¸ìŠ¤ë¥¼ ë””ìŠ¤í¬ì˜ ê°€ìƒ ë©”ëª¨ë¦¬ì— ì ì‹œ ì €ì¥í•´ë’€ë‹¤ê°€\nê³µê°„ì´ ìƒê¸°ë©´ ë‹¤ì‹œ ê°€ì ¸ì™€ ì‹¤í–‰í•˜ëŠ” ê°œë…ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\n```\n\n## Swappingì˜ ê³¼ì •ì„ ì„¤ëª…í•´ ì£¼ì„¸ìš”.\n```text\nìš°ì„  CPUê°€ ìš”ì²­í•˜ëŠ” ë…¼ë¦¬ ì£¼ì†Œë¥¼ MMUë¥¼ í†µí•´ ë¬¼ë¦¬ ì£¼ì†Œë¡œ ë³€í™˜í•˜ê²Œ ë©ë‹ˆë‹¤.\nì´ë•Œ ë¬¼ë¦¬ ì£¼ì†Œì— ì›í•˜ëŠ” ë©”ëª¨ë¦¬ ë¸”ë¡ì´ ì—†ë‹¤ë©´, ë””ìŠ¤í¬ì—ì„œ í•´ë‹¹ ë©”ëª¨ë¦¬ ë¸”ë¡ì„ ë©”ì¸ ë©”ëª¨ë¦¬ì— ì ì¬í•´ì•¼ í•©ë‹ˆë‹¤.\në§Œì•½ ë©”ì¸ ë©”ëª¨ë¦¬ì— ê³µê°„ì´ ì—†ë‹¤ë©´, ë©”ì¸ ë©”ëª¨ë¦¬ì— ìˆëŠ” íŠ¹ì • ë©”ëª¨ë¦¬ ë¸”ë¡ì„ ë””ìŠ¤í¬ë¡œ ì´ë™ì„ í•˜ê³  ìš”êµ¬ë˜ëŠ” ë©”ëª¨ë¦¬ ë¸”ë¡ì„ ë©”ì¸ ë©”ëª¨ë¦¬ì— ì ì¬í•©ë‹ˆë‹¤.\në§Œì•½ ë©”ì¸ ë©”ëª¨ë¦¬ì— ê³µê°„ì´ ìˆë‹¤ë©´, ë°”ë¡œ ë””ìŠ¤í¬ì—ì„œ ë©”ëª¨ë¦¬ ë¸”ë¡ì„ ê°€ì ¸ì™€ ì ì¬í•©ë‹ˆë‹¤.\nê·¸ í›„ í˜ì´ì§€ í…Œì´ë¸”ì„ ì—…ë°ì´íŠ¸ í•˜ëŠ” ì‹ìœ¼ë¡œ ìŠ¤ì™€í•‘ì´ ì§„í–‰ë©ë‹ˆë‹¤.\n```\n\n## Swappingì˜ ì¥ë‹¨ì ì„ ì„¤ëª…í•´ ì£¼ì„¸ìš”.\n```text\nì¥ì ìœ¼ë¡œëŠ”, ê°€ìƒ ë©”ëª¨ë¦¬ë¥¼ í™œìš©í•˜ì—¬ í•„ìš”í•œ ë©”ëª¨ë¦¬ ë¸”ë¡ë§Œ ë©”ì¸ ë©”ëª¨ë¦¬ì— ì˜¬ë¦°ë‹¤ëŠ” ì ì—ì„œ ê³µê°„ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤ëŠ” ì¥ì ì´ ìˆìŠµë‹ˆë‹¤.\ní•˜ì§€ë§Œ ë‹¨ì ìœ¼ë¡œ, ìŠ¤ì™€í•‘í•˜ëŠ” ê³¼ì •ì€ ë””ìŠ¤í¬ I/O ì‘ì—…ì´ í¬í•¨ë˜ê¸° ë•Œë¬¸ì— ì˜¤ë²„í—¤ë“œê°€ ë°œìƒí•œë‹¤ëŠ” ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤.\n```\n\n## í˜ì´ì§€ êµì²´ì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n```text\në””ìŠ¤í¬ì—ì„œ í˜ì´ì§€ë¥¼ ë©”ì¸ ë©”ëª¨ë¦¬ì— ì ì¬í•˜ë ¤ê³  í•  ë•Œ, ë¹ˆ ê³µê°„ì´ ì—†ì–´ì„œ ê¸°ì¡´ì— ì ì¬ë˜ì–´ ìˆëŠ” í˜ì´ì§€ë¥¼ ë””ìŠ¤í¬ë¡œ ì´ë™ì‹œí‚¤ê³ \në””ìŠ¤í¬ì— ìˆëŠ” í˜ì´ì§€ë¥¼ ë©”ì¸ ë©”ëª¨ë¦¬ì— ì ì¬í•˜ëŠ” ê³¼ì •ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\n\nëŒ€í‘œì ì¸ í˜ì´ì§€ êµì²´ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œëŠ”, FIFO, LRU, LFU, Clock ì•Œê³ ë¦¬ì¦˜ì´ ìˆìŠµë‹ˆë‹¤.\n```\n\n## í˜ì´ì§€ ë¶€ì¬ë¥¼ ìµœì†Œí™”í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í•˜ë‚˜ìš”?\n```text\nìƒì‹ì ìœ¼ë¡œ ìƒê°ì„ í•´ë´¤ì„ ë•Œ, CPUê°€ ì›í•˜ëŠ” í˜ì´ì§€ê°€ ìµœëŒ€í•œ ë©”ì¸ ë©”ëª¨ë¦¬ì— ì ì¬ê°€ ë˜ì–´ ìˆëŠ” ìƒíƒœì—¬ì•¼ í•©ë‹ˆë‹¤.\nì´ë¥¼ ìœ„í•´ì„œëŠ” ì ì ˆí•œ í˜ì´ì§€ êµì²´ ì•Œê³ ë¦¬ì¦˜ì„ ì„ íƒí•˜ê±°ë‚˜, í˜ì´ì§€ì˜ í¬ê¸°ë„ ì ì ˆíˆ ì¡°ì ˆì„ í•˜ëŠ” ê²ƒì´ ë„ì›€ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n```\n\n## í˜ì´ì§€ êµì²´ ì•Œê³ ë¦¬ì¦˜ FIFOì— ëŒ€í•´ ì„¤ëª… í•´ì£¼ì„¸ìš”.\n```text\në©”ì¸ ë©”ëª¨ë¦¬ì— ì˜¬ë¼ê°„ í˜ì´ì§€ì˜ ìˆœì„œëŒ€ë¡œ ìŠ¤ì™€í•‘ ì•„ì›ƒì„ í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.\nì´ëŠ” ì•„ë¬´ë˜ë„ êµ¬í˜„ì€ ì‰½ì§€ë§Œ í˜ì´ì§€ êµì²´ë¥¼ ìµœì†Œí™”í•˜ëŠ” ë°©ë²•ì´ ì•„ë‹ í™•ë¥ ì´ í½ë‹ˆë‹¤.\n```\n\n## í˜ì´ì§€ êµì²´ ì•Œê³ ë¦¬ì¦˜ LRUì— ëŒ€í•´ ì„¤ëª… í•´ì£¼ì„¸ìš”.\n```text\nLeast Recently Usedì˜ ì•½ìë¡œ, ê°€ì¥ ì˜¤ë«ë™ì•ˆ ì‚¬ìš©ë˜ì§€ ì•Šì€ í˜ì´ì§€ë¥¼ ìŠ¤ì™€í•‘ ì•„ì›ƒì‹œí‚¤ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.\n\ní˜ì´ì§€ì˜ ì‹¤ì œ íŒ¨í„´ì„ ê³ ë ¤í–ˆê¸°ì— ë” ì ì€ í˜ì´ì§€ êµì²´ê°€ ì¼ì–´ë‚  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\ní•˜ì§€ë§Œ ì•Œê³ ë¦¬ì¦˜ì„ ìœ„í•œ ì¶”ê°€ ì—°ì‚°ì´ ë“¤ì–´ê°€ê¸°ì— ì˜¤ë²„í—¤ë“œê°€ ë°œìƒí•©ë‹ˆë‹¤.\n```\n\n## í˜ì´ì§€ êµì²´ ì•Œê³ ë¦¬ì¦˜ LFUì— ëŒ€í•´ ì„¤ëª… í•´ì£¼ì„¸ìš”.\n```text\nLeast Frequently Usedì˜ ì•½ìë¡œ, ê°€ì¥ ì ê²Œ ì‚¬ìš©ëœ í˜ì´ì§€ë¥¼ ìŠ¤ì™€í•‘ ì•„ì›ƒí•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.\n\nì‹¤ì œ í˜ì´ì§€ ì‚¬ìš© íŒ¨í„´ì„ ê³ ë ¤í–ˆê¸°ì— í˜ì´ì§€ êµì²´ê°€ ì ê²Œ ì¼ì–´ë‚  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\ní•˜ì§€ë§Œ ì•Œê³ ë¦¬ì¦˜ì„ ìœ„í•œ ì¶”ê°€ì ì¸ ì—°ì‚°ì´ ë“¤ì–´ê°€ê¸°ì— ì˜¤ë²„í—¤ë“œê°€ ë°œìƒí•©ë‹ˆë‹¤.\n```\n\n## í˜ì´ì§€ êµì²´ ì•Œê³ ë¦¬ì¦˜ í´ëŸ­ ì•Œê³ ë¦¬ì¦˜ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n```text\ní˜ì´ì§€ë“¤ì„ ì‹œê³„ì²˜ëŸ¼ ì›í˜• íì— ì €ì¥í•©ë‹ˆë‹¤.\nì´ íì— í”„ë ˆì„ì„ ì €ì¥í•  ë•Œ, ì°¸ì¡° ì—¬ë¶€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë¹„íŠ¸ë„ í•¨ê»˜ ì €ì¥í•©ë‹ˆë‹¤.\në§Œì•½ í˜ì´ì§€ê°€ ì°¸ì¡°ë˜ë©´ ì´ ë¹„íŠ¸ë¥¼ 1ë¡œ ë°”ê¾¸ê²Œ ë©ë‹ˆë‹¤.\n\nê·¸ë¦¬ê³  ì‹œê³„ì¹¨ì²˜ëŸ¼ ì´ ì›í˜•íë¥¼ ê³„ì†í•´ì„œ ìˆœíšŒí•˜ë©° ë°”ë¼ë³´ëŠ” ì¸ë±ìŠ¤ê°€ ìˆëŠ”ë°ìš”.\në§Œì•½ í•œ ë°”í€´ë¥¼ ë„ëŠ” ë™ì•ˆ ì°¸ì¡°ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ë¹„íŠ¸ë¥¼ 1ì—ì„œ 0ìœ¼ë¡œ ìˆ˜ì •í•˜ê³ , ê·¸ í›„ì—ë„ í•œ ë°”í€´ ë„ëŠ” ë™ì•ˆ ì°¸ì¡°ë˜ì§€ ì•Šìœ¼ë©´\ní•´ë‹¹ í˜ì´ì§€ë¥¼ êµì²´í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.\n\nì´ ì•Œê³ ë¦¬ì¦˜ì€ êµ¬í˜„ì´ ê°„ë‹¨í•˜ë©´ì„œ ë™ì‹œì— í˜ì´ì§€ êµì²´ê°€ ì ê²Œ ì¼ì–´ë‚˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì•Œê³  ìˆìŠµë‹ˆë‹¤.\n```\n\n## ì“°ë ˆì‹±ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n```text\nì‹¤ì œ í”„ë¡œì„¸ìŠ¤ ë™ì‘ë³´ë‹¤ í˜ì´ì§€ êµì²´ì— ë” ë§ì€ ì‹œê°„ì„ ìŸê²Œ ë˜ëŠ” í˜„ìƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\n\nì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì›Œí‚¹ ì•Œê³ ë¦¬ì¦˜ê³¼ í˜ì´ì§€ ë¶€ì¬ ë¹ˆë„ ì•Œê³ ë¦¬ì¦˜ì´ ìˆìŠµë‹ˆë‹¤.\n```\n\n## ì›Œí‚¹ ì•Œê³ ë¦¬ì¦˜ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n```text\ní˜„ì¬ í”„ë¡œì„¸ìŠ¤ê°€ ì‹¤í–‰ ì¤‘ì¸ ìƒí™©ì—ì„œ ê°€ì¥ ì¤‘ì ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ë©”ëª¨ë¦¬ ì˜ì—­ì„ ì›Œí‚¹ ì…‹ì´ë¼ê³  í•©ë‹ˆë‹¤.\nì´ ì›Œí‚¹ ì…‹ì„ ë©”ëª¨ë¦¬ì— ë™ì‹œì— ì ì¬í•  ìˆ˜ ìˆë„ë¡ ë³´ì¥í•˜ì—¬ í˜ì´ì§• ë¶€ì¬ ë¹ˆë„ë¥¼ ë‚®ì¶”ëŠ” ë°©ì‹ì˜ ì•Œê³ ë¦¬ì¦˜ ì…ë‹ˆë‹¤. \n```\n\n## í˜ì´ì§€ ë¶€ì¬ ë¹ˆë„ ì•Œê³ ë¦¬ì¦˜ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n```text\ní”„ë¡œì„¸ìŠ¤ì˜ í˜ì´ì§€ ë¶€ì¬ìœ¨ì„ ì£¼ê¸°ì ìœ¼ë¡œ ì¡°ì‚¬í•˜ê³  ì´ ê°’ì„ ê·¼ê±°ë¡œ í•´ë‹¹ í”„ë¡œì„¸ìŠ¤ì— í• ë‹¹í•  ë©”ëª¨ë¦¬ ì–‘ì„ ë™ì ìœ¼ë¡œ ì¡°ì ˆí•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì…ë‹ˆë‹¤.\n\ní•´ë‹¹ í”„ë¡œì„¸ìŠ¤ì˜ í˜ì´ì§€ ë¶€ì¬ìœ¨ì´ ë†’ìœ¼ë©´, ê·¸ë§Œí¼ ì´ í”„ë¡œì„¸ìŠ¤ì— í• ë‹¹ëœ í˜ì´ì§€ì˜ ì–‘ì´ ì ë‹¤ëŠ” ì˜ë¯¸ì´ë¯€ë¡œ í• ë‹¹í•  ìˆ˜ ìˆëŠ” í˜ì´ì§€ì˜ ì–‘ì„ ì¦ê°€í•©ë‹ˆë‹¤.\nì´ë•Œ í˜ì´ì§€ ë¶€ì¬ìœ¨ì´ ë†’ì€ í”„ë¡œì„¸ìŠ¤ì˜ í˜ì´ì§€ í• ë‹¹ë¥ ì„ ë‚®ì¶° ê·¸ ìˆ˜ë¥¼ ì¡°ì ˆí•œë‹¤.\n```\n\n------------------------\n\n## ì´í™”ì—¬ëŒ€ ê°•ì˜ ì •ë¦¬\n\n```text\ní”„ë¡œì„¸ìŠ¤ê°€ ë©”ëª¨ë¦¬ì— ì ì¬ë  ë•Œ, ë©”ëª¨ë¦¬ì˜ ì–´ëŠ ìœ„ì¹˜ì— ì ì¬í•  ì§€ì— ëŒ€í•œ ë°©ë²•(ì£¼ì†Œ ë°”ì¸ë”©)ì´ 3ê°€ì§€ ìˆë‹¤.\n\n1. Compile Time Binding\ní”„ë¡œì„¸ìŠ¤ì˜ ê°€ìƒ ì£¼ì†Œë¥¼ ì‹¤ì œ ì£¼ì†Œë¡œ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•œë‹¤.\nì´ëŠ” í”„ë¡œì„¸ìŠ¤ 2ê°œ ì´ìƒì„ ë™ì‹œì— ë©”ëª¨ë¦¬ì— ì ì¬í•˜ê¸°ì— ìœ„í—˜ì„±ì´ ìˆë‹¤.\nì»´íŒŒì¼ëŸ¬ëŠ” ì ˆëŒ€ ì½”ë“œ(Absolute Code)ë¥¼ ìƒì„±í•œ ê²½ìš° ì‚¬ìš©ë˜ëŠ” ë°©ë²•ì´ë‹¤.\n\n2. Load Time Binding\ní”„ë¡œì„¸ìŠ¤ê°€ ë©”ëª¨ë¦¬ì— ì ì¬ë  ë•Œ(Load time) ë¬´ì‘ìœ„ë¡œ ì ì¬ê°€ ë˜ê³ , ë³€ê²½ë˜ì§€ ì•ŠëŠ”ë‹¤.\nì»´íŒŒì¼ëŸ¬ëŠ” ì¬ë°°ì¹˜ê°€ëŠ¥ì½”ë“œ(Relocatable Code)ë¥¼ ìƒì„±í•œ ê²½ìš° ê°€ëŠ¥í•œ ë°©ë²•ì´ë‹¤.\n\n3. Run Time Binding\ní”„ë¡œì„¸ìŠ¤ê°€ ë©”ëª¨ë¦¬ì— ì ì¬ë  ë•Œ ë¬´ì‘ìœ„ë¡œ ì ì¬ë˜ì§€ë§Œ, ë™ì ìœ¼ë¡œ ë³€ê²½ì´ ê°€ëŠ¥í•˜ë‹¤.\ní˜„ ì‹œëŒ€ì— í”íˆ ì‚¬ìš©ë˜ëŠ” ë°©ë²•ì´ë‹¤.\n```\n\n```text\ní”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡œ ë³€ìˆ˜ë‚˜ ë©”ì„œë“œë¥¼ ì„ ì–¸í•œë‹¤.\nê·¸ë¦¬ê³  ì»´íŒŒì¼í•˜ë©´ ì‹¤í–‰ íŒŒì¼(í”„ë¡œê·¸ë¨)ì´ ìƒì„±ëœë‹¤.\nì´ í”„ë¡œê·¸ë¨ì€ ìì²´ì ìœ¼ë¡œ 0ë²ˆì§€ë¶€í„° ì‹œì‘í•˜ëŠ” ë©”ëª¨ë¦¬ ì£¼ì†Œê°€ ìˆë‹¤.\nì»´íŒŒì¼ëŸ¬ê°€ ì´ ì‹¤í–‰ íŒŒì¼ì„ ë§Œë“¤ ë•Œ ì•Œì•„ì„œ ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•œë‹¤.\n\ní”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë˜ì–´ í”„ë¡œì„¸ìŠ¤ê°€ ë˜ì–´ë„ ìì²´ì ì¸ ì£¼ì†Œ ê³µê°„ì„ ì‚¬ìš©í•œë‹¤.\nì´ë¥¼ ê°€ìƒ ì£¼ì†Œë¼ê³  í•œë‹¤.\nì‹¤ì œ ì£¼ì†ŒëŠ” ì‹¤ì œ ë©”ëª¨ë¦¬ì˜ ì£¼ì†Œ ê³µê°„ì„ ì˜ë¯¸í•œë‹¤.\n\nCPUëŠ” PCBì— ìˆëŠ” Program Counterê°€ ê°€ë¦¬í‚¤ëŠ” ì£¼ì†Œë¥¼ ë°”ë¼ë³¸ë‹¤.\nì´ë•Œ PCê°€ ê°€ë¦¬í‚¤ëŠ” ì£¼ì†ŒëŠ” ê°€ìƒ ì£¼ì†Œì´ë‹¤.\n(ì™œ? ë¬¼ë¦¬ ì£¼ì†ŒëŠ” í•­ìƒ ë°”ë€” ìˆ˜ ìˆê³ , ì˜ëª»í•˜ë©´ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•œë‹¤. ë…¼ë¦¬ì£¼ì†ŒëŠ” ë°”ë€Œì§€ ì•Šê³  ë§¤ë²ˆ ë™ì¼í•œ ê³³ì„ ê°€ë¦¬í‚¤ê¸° ë•Œë¬¸)\n\në”°ë¼ì„œ ì´ ê°€ìƒ ì£¼ì†Œë¥¼ í†µí•´ ì‹¤ì œ ì£¼ì†Œë¥¼ ê°€ë¦¬í‚¤ë ¤ë©´ ë³€í™˜ ê³¼ì •ì´ í•„ìš”í•˜ë‹¤.\n\nì´ëŠ” MMU(Memory Management Unit)ë¼ëŠ” í•˜ë“œì›¨ì–´ì— ì˜í•´ ì‹¤í–‰ëœë‹¤.\n(ì™œ ìš´ì˜ì²´ì œê°€ ì•„ë‹Œ í•˜ë“œì›¨ì–´? ë¹ ë¥¸ ì†ë„ë¡œ ë©”ëª¨ë¦¬ì— ì ‘ê·¼í•´ì•¼í•œë‹¤. ê·¸ëŸ°ë° ìš´ì˜ì²´ì œì— ì˜í•´ ê´€ë¦¬ë˜ë©´ ì˜¤ë²„í—¤ë“œê°€ ë°œìƒí•œë‹¤.)\n\n(ì—°ì† í• ë‹¹ì—ì„œì˜) MMUëŠ” ë…¼ë¦¬ ì£¼ì†Œë¥¼ relocation registerì™€ limit registerë¥¼ í†µí•´ ë¬¼ë¦¬ ì£¼ì†Œë¡œ ë³€í™˜í•œë‹¤.\nrelocation registerëŠ” ì‹¤í–‰í•˜ë ¤ëŠ” í”„ë¡œì„¸ìŠ¤ì˜ ë¬¼ë¦¬ì  ì£¼ì†Œì˜ ì‹œì‘ ìœ„ì¹˜ë¥¼ ê°€ë¦¬í‚¨ë‹¤.\nlimit registerëŠ” ì‹¤í–‰í•˜ë ¤ëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ê°€ì§€ëŠ” ì£¼ì†Œì˜ ì „ì²´ ë²”ìœ„ë¥¼ ê°€ì§„ë‹¤.\në”°ë¼ì„œ ë…¼ë¦¬ì£¼ì†Œ + relocation registerì˜ ê°’ = ë¬¼ë¦¬ ì£¼ì†Œê°€ ëœë‹¤.\nì´ë–„, limit registerëŠ” í•´ë‹¹ í”„ë¡œì„¸ìŠ¤ê°€ ê°€ì§€ëŠ” ë¬¼ë¦¬ì  ì£¼ì†Œì˜ ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ì„œ ëª…ë ¹ì„ ì‹¤í–‰í•˜ëŠ” ê²½ìš°ë¥¼ ë§‰ê¸° ìœ„í•´ ì¡´ì¬í•œë‹¤. \n```\n\n```text\n[Dynamic Loading]\ní”„ë¡œì„¸ìŠ¤ ì „ì²´ì˜ ë©”ëª¨ë¦¬ ê³µê°„ì„ ì‹¤ì œ ë©”ëª¨ë¦¬ ì˜ì—­ì— ì ì¬í•˜ì§€ ì•Šê³ , í•´ë‹¹ ë©”ëª¨ë¦¬ ê³µê°„ì´ í•„ìš”ë¡œ í•  ë•Œ ë©”ëª¨ë¦¬ì— ì ì¬í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.\n\n[Swapping]\në©”ëª¨ë¦¬ì— ì ì¬ë˜ì–´ ìˆëŠ” í”„ë¡œì„¸ìŠ¤ì˜ ì¼ë¶€ í˜ì´ì§€ë¥¼ ë””ìŠ¤í¬ë¡œ ì«“ì•„ë‚´ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.\n```\n\n```text\n[Allocation of Physical Memory]\n1. ì—°ì† í• ë‹¹\ní•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ê°€ ë©”ëª¨ë¦¬ì— ì ì¬ë  ë•Œ, í†µì±„ë¡œ ì˜¬ë¼ê°€ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.\n\n2. ë¶ˆì—°ì† í• ë‹¹\ní•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ì— ëŒ€í•´ì„œë„ í˜ì´ì§• ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ì–´ ë©”ëª¨ë¦¬ì— ì ì¬í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.\në”êµ°ë‹¤ë‚˜ ê°™ì€ í”„ë¡œì„¸ìŠ¤ì˜ í˜ì´ì§€ë¼ê³  í•´ë„ ë©”ì¸ë©”ëª¨ë¦¬ ìƒì—ì„œ ì—°ì†ì ì´ì§€ ì•Šë‹¤.\n\n2-1. í˜ì´ì§• ê¸°ë²•\ní”„ë¡œì„¸ìŠ¤ì˜ ë…¼ë¦¬ ì£¼ì†Œë¥¼ ë™ì¼í•œ ì‚¬ì´ì¦ˆì˜ í˜ì´ì§€ë¡œ ë‚˜ëˆˆë‹¤.\nì¼ë¶€ í˜ì´ì§€ëŠ” ìŠ¤ì™‘ ë©”ëª¨ë¦¬ì—, ì¼ë¶€ í˜ì´ì§€ëŠ” ë©”ì¸ ë©”ëª¨ë¦¬ì— ì €ì¥í•œë‹¤.\nì£¼ì†Œ ë³€í™˜ì€ 'í˜ì´ì§€ í…Œì´ë¸”'ì„ í†µí•´ ì´ë¤„ì§„ë‹¤.\n\ní˜ì´ì§€ í…Œì´ë¸”ì„ í†µí•œ ì£¼ì†Œ ë³€í™˜ì€ ë‹¤ìŒì˜ ê³¼ì •ìœ¼ë¡œ ì´ë¤„ì§„ë‹¤.\n1. CPUê°€ ê°€ì§„ ë…¼ë¦¬ ì£¼ì†Œë¡œ í˜ì´ì§€ í…Œì´ë¸”ì—ì„œ ë¬¼ë¦¬ ì£¼ì†Œë¡œ ë³€í™˜í•œë‹¤.\n2. CPUê°€ ê°™ì´ ê°€ì§€ê³  ìˆëŠ” offset ê°’ìœ¼ë¡œ ë¬¼ë¦¬ ì£¼ì†Œë¡œë¶€í„° offset ë§Œí¼ì˜ ì£¼ì†Œë¥¼ ì¶”ê°€í•œë‹¤.\n\nê·¸ëŸ°ë° ì´ í˜ì´ì§€ í…Œì´ë¸”ì€ 4byteë¡œ ë‚˜ëˆ„ê³ , ì‹¤í–‰ë˜ëŠ” í”„ë¡œì„¸ìŠ¤ê°€ 32ë¹„íŠ¸ì¸ ê²½ìš°, ê° í”„ë¡œì„¸ìŠ¤ë§ˆë‹¤ 100ë§Œ í–‰ì˜ í˜ì´ì§€ í…Œì´ë¸”ì„ ê°€ì§„ë‹¤.\nì´ë•Œ ì¤‘ìš”í•œ ì ì€ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ì´ ë°œìƒí•  ë•Œ ì´ í˜ì´ì§€ í…Œì´ë¸”ë„ í•¨ê»˜ ì´ˆê¸°í™”ëœë‹¤.\në”°ë¼ì„œ íš¨ìœ¨ì¸¡ë©´ì—ì„œ ì¢‹ì§€ ì•Šë‹¤. ë”°ë¼ì„œ ìºì‹± ê¸°ë²•ì„ í†µí•´ ì„±ëŠ¥ì„ ê°œì„ í•œë‹¤.\n```"},{"excerpt":"ì™œ ê°’ì˜ ë³€ê²½ì„ ë§‰ì•„ì•¼ í• ê¹Œ?  ìë™ì°¨ ê²½ì£¼ í”¼ë“œë°± ì¤‘ í•˜ë‚˜ì´ë‹¤. ì™œ ì´ëŸ° í”¼ë“œë°±ì´ ìˆëŠ”ì§€ ì•Œì•„ë³´ì final í‚¤ì›Œë“œë¥¼ ë¶™ì´ë©´ ì¢‹ì€ ì  1. ë³€ê²½ ê°€ëŠ¥ì„±ì„ ìµœì†Œí™”í•œë‹¤. ì¦‰, ì½”ë“œì˜ ì˜ˆì¸¡ì´ ì‰¬ì›Œì§„ë‹¤. ì‚¬ì‹¤ ì•Œì˜ë”±ê¹”ì„¼ìœ¼ë¡œ ê°ì²´ë‚˜ ê°’ì˜ ë³€ê²½ì€ ì •ë§ í•„ìš”í•œ ê³³ì—ì„œ í•„ìš”í•œ ë§Œí¼ ìˆ˜í–‰í•´ì•¼ í•œë‹¤. í•˜ì§€ë§Œ final í‚¤ì›Œë“œë¥¼ ë¶™ì´ì§€ ì•Šìœ¼ë©´ ë¶„ëª…í•œ ê²ƒì€ ë³€ê²½ ê°€ëŠ¥ì„±ì´ ì¡´â€¦","fields":{"slug":"/why-use-final/"},"frontmatter":{"date":"December 05, 2023","title":"final í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ ê°’ì˜ ë³€ê²½ì„ ë§‰ì•„ë¼. ì™œ?","tags":["java","clean-code"]},"rawMarkdownBody":"\n## ì™œ ê°’ì˜ ë³€ê²½ì„ ë§‰ì•„ì•¼ í• ê¹Œ?\n\n![í”¼ë“œë°± ì‚¬ì§„](why-use-final.png)\n\nìë™ì°¨ ê²½ì£¼ í”¼ë“œë°± ì¤‘ í•˜ë‚˜ì´ë‹¤.\n\nì™œ ì´ëŸ° í”¼ë“œë°±ì´ ìˆëŠ”ì§€ ì•Œì•„ë³´ì\n\n## final í‚¤ì›Œë“œë¥¼ ë¶™ì´ë©´ ì¢‹ì€ ì \n\n### 1. ë³€ê²½ ê°€ëŠ¥ì„±ì„ ìµœì†Œí™”í•œë‹¤.\n\nì¦‰, ì½”ë“œì˜ **ì˜ˆì¸¡ì´ ì‰¬ì›Œì§„ë‹¤**.\n\nì‚¬ì‹¤ ì•Œì˜ë”±ê¹”ì„¼ìœ¼ë¡œ ê°ì²´ë‚˜ ê°’ì˜ ë³€ê²½ì€ ì •ë§ í•„ìš”í•œ ê³³ì—ì„œ í•„ìš”í•œ ë§Œí¼ ìˆ˜í–‰í•´ì•¼ í•œë‹¤.\n\ní•˜ì§€ë§Œ final í‚¤ì›Œë“œë¥¼ ë¶™ì´ì§€ ì•Šìœ¼ë©´ ë¶„ëª…í•œ ê²ƒì€ ë³€ê²½ ê°€ëŠ¥ì„±ì´ ì¡´ì¬í•˜ëŠ” ê²ƒì´ê³ , ëª¨ì¢…ì˜ ì´ìœ ë¡œ ì‚¬ì´ë“œ ì´í™íŠ¸ ë°œìƒìœ¼ë¡œ ë²„ê·¸ë¥¼ ë‚³ì„ ìˆ˜ ìˆë‹¤.\n\nê·¸ëŸ¼ í‡´ê·¼ì´ ëŠ¦ì–´ì§ˆ ê²ƒì´ë‹¤.\n\n### 2. Thread-Safeí•œ ê°’ì´ ëœë‹¤.\n\në™ì‹œì„± ì´ìŠˆì´ ë°œìƒí•˜ëŠ” ê³¼ì •ì—ëŠ” ë°˜ë“œì‹œ ê°’ì´ **ë³€ê²½**í•˜ëŠ” ê³¼ì •ì´ ì¡´ì¬í•œë‹¤.\n\nê·¸ëŸ°ë° ì• ì´ˆì— ê°’ì„ ë³€ê²½í•˜ì§€ ëª»í•˜ê²Œ í•œë‹¤ë©´ ë™ì‹œì„± ì´ìŠˆëŠ” ì¼ì–´ë‚  ì¼ì´ ì—†ë‹¤.\n\nê·¸ëŸ¼ í‡´ê·¼ì´ ë¹¨ë¼ì§ˆ ê²ƒì´ë‹¤.\n\n> **ìœ ì˜í•´ì•¼ í•  ì ** â—ï¸ <br>\n> `StringBuilder`ë‚˜ `List`, `Map`, `Set` ê³¼ ê°™ì€ ì»¬ë ‰ì…˜ë“¤ì€ ê°’ì´ **ë³€ê²½**í•œë‹¤.\n> ```java\n>>public String foo() {\n>    final StringBuilder sb = new StringBuilder();\n>    \n>    sb.append(\"a\");\n>    sb.append(\"b\");\n>    \n>    return sb.toString();\n> }\n> ```\n> \n> ìœ„ ê°ì²´ë“¤ì€ ë‚´ë¶€ì ìœ¼ë¡œ ì“°ê¸° ì‘ì—…ì„ ëª¨ë‘ í—ˆìš©í•œë‹¤.<br>\n> **final í‚¤ì›Œë“œëŠ” ì‚¬ì‹¤ ë©”ëª¨ë¦¬ Levelì—ì„œ ê°’ì˜ ì¬í• ë‹¹ì„ ë¶ˆê°€ëŠ¥í•˜ê²Œ ë§‰ì•„ì¤„ ë¿ì´ë‹¤.**\n\n### 3. ì„±ëŠ¥ì˜ ì‚¬ì†Œí•œ ì´ì \n\nì´ê±´ ìš°í…Œì½”ì—ì„œ ë°°ìš´ê±´ë° ì‹ ê¸°í•´ì„œ ê³µìœ í•œë‹¤.\n\nì•„ë˜ ë‘ ì½”ë“œëŠ” ë°”ì´íŠ¸ ì½”ë“œ ë ˆë²¨ì—ì„œ ì°¨ì´ê°€ ì¡´ì¬í•œë‹¤.\n\n```java\npublic void example1() {\n    String a = \"a\";\n    String b = \"b\";\n    System.out.println(a + b);\n}\n\npublic void example2() {\n    final String a = \"a\";\n    final String b = \"b\";\n    System.out.println(a + b);\n}\n```\n\n![ë°”ì´íŠ¸ ì½”ë“œë‹¨ì˜ ê²°ê³¼](result_of_bytecode.png)\n\nì™¼ìª½ ë¹¨ê°„ ì˜ì—­ì€ `example1()`ì˜ ê²°ê³¼, ì˜¤ë¥¸ìª½ì€ `example2()`ì˜ ê²°ê³¼ì´ë‹¤.\n\ní”„ë¡œê·¸ë˜ë° ì–¸ì–´ ê´€ì ì—ì„œëŠ” ì•„ë¬´ ê²ƒë„ ì•„ë‹Œ ê²ƒì²˜ëŸ¼ ë³´ì´ì§€ë§Œ, ì»´í“¨í„° ê´€ì ì—ì„œ ì‹¤í–‰í•˜ëŠ” ì½”ë“œì˜ ì–‘ì€ ê½¤ ì°¨ì´ê°€ ë‚œë‹¤.\n\n### 4. GC ì„±ëŠ¥ì„ ë†’ì¼ ìˆ˜ ìˆë‹¤.\n\nGC ì„±ëŠ¥ì„ ë†’ì¼ ìˆ˜ ìˆë‹¤ê³  í•˜ëŠ”ë°, ì´ëŠ” GCì— ëŒ€í•´ ì•Œì•„ë³´ê³  ì‘ì„±í•˜ì.\n\n## final í‚¤ì›Œë“œë¥¼ ë¶™ì´ë©´ ì•ˆì¢‹ì€ ì \n\n### 1. ê°’ì„ ë³€ê²½í•˜ë ¤ë©´ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•´ì•¼ í•œë‹¤.\n\nì´ëŠ” ë©”ëª¨ë¦¬ë¥¼ ì¶”ê°€ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê²Œ ëœë‹¤.\n\nê·¼ë° ì‚¬ì‹¤ GCê°€ ìˆìœ¼ë‹ˆ í¬ê²Œ ë¬¸ì œë˜ì–´ ë³´ì´ì§€ ì•ŠëŠ”ë‹¤.\n\nGCë¥¼ ë¯¿ì–´ë³´ì.\n\n### 2. ì½”ë“œê°€ ë‹¤ì†Œ ì§€ì €ë¶„í•´ì§„ë‹¤.\n\nfinal í‚¤ì›Œë“œë¥¼ í†µí•´ ë¶ˆë³€ì„ ì§€í‚¤ë ¤ë©´ ê°€ê¸‰ì  ë¶ˆë³€ì„ ì§€ì¼œì•¼í•˜ëŠ” ê³³ì—ëŠ” ëª¨ë‘ ë¶™ì—¬ì¤˜ì•¼ í•  ê²ƒì´ë‹¤.\n\nì–´ë””ëŠ” í•´ì£¼ê³  ì–´ë””ëŠ” ì•ˆí•´ì£¼ë©´ ê·¸ê²Œ ë” í˜¼ë€ìŠ¤ëŸ¬ìš¸í…Œë‹ˆê¹Œ.\n\nê·¸ëŸ¬ë©´ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ ë¿ë§Œ ì•„ë‹ˆë¼, ë©”ì„œë“œ íŒŒë¼ë¯¸í„°ë‚˜ ë©”ì„œë“œ ë‚´ì˜ ì§€ì—­ë³€ìˆ˜ì—ë„ ë¶™ì—¬ì¤˜ì•¼ í•  ê²ƒì´ë‹¤.\n\ní•˜ì§€ë§Œ ì´ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê³¼ì •ì—ì„œë„ ê·¸ë ‡ê³  ì½ëŠ” ë°ì—ë„ ì€ê·¼ ê±°ìŠ¬ë¦°ë‹¤.\n\nì•„ë˜ëŠ” ì§„í–‰í–ˆë˜ í”„ë¡œì íŠ¸ì˜ ë©”ì„œë“œ ì¤‘ í•˜ë‚˜ì´ë‹¤.\n\n![final í‚¤ì›Œë“œ ë¶™ì´ê¸° ì „](before_final.png)\n\n![final í‚¤ì›Œë“œ ë¶™ì¸ í›„](after_final.png)\n\nì€ê·¼ ì°¨ì´ê°€ ìˆì–´ë³´ì¸ë‹¤.\n\n> ì‚¬ì‹¤ ì…€ëŸ½ì‡ í”„ë¡œì íŠ¸í•  ë•Œ ì´ê±° ë•Œë¬¸ì— ì•ˆë¶™ì˜€ëŠ”ë° ë¶ˆë³€ì„ ì§€í‚¤ì§€ ì•Šì•„ ìƒê¸°ëŠ” ë¬¸ì œëŠ” ì—†ì—ˆë‹¤. ğŸ˜¶\n\n## ê²°ë¡ \n\ní”„ë¡œê·¸ë˜ë°ì—ì„œ ë¶ˆë³€ì„ ì§„ë¦¬ì²˜ëŸ¼ ì—¬ê¸°ëŠ” ê²ƒ ê°™ë‹¤.\n\ní•˜ì§€ë§Œ ëŠ˜ ê·¸ë«ë“¯ ê°œë°œì—ëŠ” **ì •ë‹µ**ì€ ì—†ë‹¤.\n\nfinal í‚¤ì›Œë“œë¥¼ í†µí•œ ë¶ˆë³€ì‹ì„ ì§€í‚¤ëŠ” ê²ƒë„ ë§ˆì°¬ê°€ì§€ì´ë‹¤.\n \nì¡°ê¸ˆ ë” ë„“ì€ ë²”ìœ„ì—ì„œ ì´í•´í•´ë³´ë©´, ì‚¬ì‹¤ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ê°€ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì„ í†µí•´ í”„ë¡œê·¸ë¨ì˜ ì•ˆì •ì„±ì„ ë„ëª¨í•˜ëŠ” ê²ƒì´ë‹¤.\n\ní”„ë¡œê·¸ë¨ì´ ì•ˆì •ì ì´ë©´ ê°œë°œìëŠ” ì¡°ê¸ˆ ë” í‡´ê·¼ì„ ë¹¨ë¦¬í•˜ê±°ë‚˜ ê¿€ì ì„ ì˜ ìˆ˜ ìˆë‹¤.\n\ní•˜ì§€ë§Œ ê°œë°œí•˜ëŠ” ê³¼ì •ì—ì„œ final í‚¤ì›Œë“œë¡œ ì¸í•´ ëˆˆì´ ì¡°ê¸ˆì´ë¼ë„ í”¼ê³¤í•˜ê³  ë¨¸ë¦¬ê°€ ì•„í”„ë‹¤ë©´ ë¶™ì´ì§€ ì•ŠëŠ” ê²ƒì´ë‹¤.\n\nê·¼ë° ë‚˜ë¼ë©´ ë” ë¹ ë¥¸ í‡´ê·¼ê³¼ í¸ì•ˆí•œ ì ì„ ìœ„í•´ final í‚¤ì›Œë“œë¥¼ ë¶™ì´ëŠ” ë°ì— ì†ì„ ë“¤ê³  ì‹¶ë‹¤."},{"excerpt":"ë“¤ì–´ê°€ë©° í”íˆ Domainê³¼ ViewëŠ” ë¶„ë¦¬í•´ì•¼ í•œë‹¤ê³  í•œë‹¤. ëŒ€í‘œì ì¸ ë””ìì¸ íŒ¨í„´ìœ¼ë¡œ MVC íŒ¨í„´ì´ ìˆë‹¤. ê°™ì´ ì‘ì„±í•˜ë©´ ê°œë°œë„ ë¹¨ë¦¬ í•  ìˆ˜ ìˆê³  ì½”ë“œ ì‘ì„±ì—ë„ í¸í•œë°, ì™œ ë¶„ë¦¬í•˜ë¼ê³  í• ê¹Œ? ê²°ë¡  ê²°ë¡ ë¶€í„° ë§í•˜ìë©´, Domain ê°ì²´ë¥¼ ì¦ì€ ë³€ê²½ìœ¼ë¡œë¶€í„° ë³´í˜¸í•˜ê¸° ìœ„í•´ì„œì´ë‹¤. ì™œ Domainì„ ë³´í˜¸í•´ì•¼ í• ê¹Œ? ì´ë¥¼ ì•Œì•„ë³´ê¸° ìœ„í•´ì„œëŠ” ìš°ì„  Domainì´ ë¬´â€¦","fields":{"slug":"/why-seperate-domain-and-view/"},"frontmatter":{"date":"December 04, 2023","title":"Domainê³¼ Viewë¥¼ ë¶„ë¦¬í•œë‹¤. ì™œ?","tags":["design-pattern","mvc-pattern","clean-code"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©°\n\ní”íˆ Domainê³¼ ViewëŠ” ë¶„ë¦¬í•´ì•¼ í•œë‹¤ê³  í•œë‹¤.\n\nëŒ€í‘œì ì¸ ë””ìì¸ íŒ¨í„´ìœ¼ë¡œ MVC íŒ¨í„´ì´ ìˆë‹¤.\n\nê°™ì´ ì‘ì„±í•˜ë©´ ê°œë°œë„ ë¹¨ë¦¬ í•  ìˆ˜ ìˆê³  ì½”ë“œ ì‘ì„±ì—ë„ í¸í•œë°, ì™œ ë¶„ë¦¬í•˜ë¼ê³  í• ê¹Œ?\n\n## ê²°ë¡ \n\nê²°ë¡ ë¶€í„° ë§í•˜ìë©´, Domain ê°ì²´ë¥¼ ì¦ì€ ë³€ê²½ìœ¼ë¡œë¶€í„° ë³´í˜¸í•˜ê¸° ìœ„í•´ì„œì´ë‹¤.\n\n## ì™œ Domainì„ ë³´í˜¸í•´ì•¼ í• ê¹Œ?\n\nì´ë¥¼ ì•Œì•„ë³´ê¸° ìœ„í•´ì„œëŠ” ìš°ì„  Domainì´ ë¬´ì—‡ì„ ì˜ë¯¸í•˜ëŠ” **ìš©ì–´**ì¸ì§€ ì´í•´í•´ë³´ì.\n\n### Domainì´ë€?\n\ní”íˆ **ì†Œí”„íŠ¸ì›¨ì–´ë¡œ í•´ê²°í•˜ê³ ì í•˜ëŠ” ë¬¸ì œ ì˜ì—­**ì´ë¼ê³  í•œë‹¤.\n\nìš°ë¦¬ì—ê²Œ ì¹œìˆ™í•œ ì„œë¹„ìŠ¤ë¡œ ìƒê°í•´ë´¤ì„ ë•Œ<br>\nì¹´ì¹´ì˜¤í†¡ì´ í•´ê²°í•˜ê³ ì í•˜ëŠ” ë¬¸ì œ ì˜ì—­ì€ ì±„íŒ…ì´ë‹¤.<br>\në°°ë‹¬ì˜ ë¯¼ì¡±ì´ í•´ê²°í•˜ê³ ì í•˜ëŠ” ë¬¸ì œ ì˜ì—­ì€ ë°°ë‹¬ ì£¼ë¬¸ì´ë‹¤.\n\nìš°ë¦¬ê°€ ê°œë°œí•˜ëŠ” ì´ìœ ì— ëŒ€í•´ì„œ ìƒê°í•´ ë´¤ì„ ë•Œì—ë„ ê²°êµ­ ì–´ë– í•œ ë¬¸ì œë¥¼ í•´ê²°ì„ ìœ„í•´ì„œì´ë‹¤.\n\nê·¸ë ‡ê¸°ì— **Domainì€ í”„ë¡œê·¸ë¨ì— ìˆì–´ ê°€ì¥ ë³¸ì§ˆì ì¸**, ê·¸ë¦¬ê³  **ìš°ë¦¬ì˜ ë°¥ì¤„ì´ ë˜ëŠ” ì½”ë“œ**ë¼ê³  í•  ìˆ˜ ìˆë‹¤.\n\n## View\n\nì´ì œ Viewì— ëŒ€í•´ ì•Œì•„ë³´ì.\n\nViewëŠ” ì‰½ê²Œ ë§í•´ ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì§€ëŠ” ì½”ë“œì´ë‹¤.\n\nViewëŠ” ì–´ë–¤ íŠ¹ì§•ì„ ê°€ì§ˆê¹Œ?\n\nê°œì¸ì ì¸ ê²½í—˜ìœ¼ë¡œ ViewëŠ” Domainì— ë¹„í•´ ì—„ì²­ë‚œ ë³€ê²½ì´ ë°œìƒí•œë‹¤.\n\ní˜ì´ì§€ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜,<br>\në©”ì¸ í˜ì´ì§€ ê°œí¸ì„ í•˜ê±°ë‚˜,<br>\nì²˜ìŒì—” ì›¹í˜ì´ì§€ë¡œë§Œ ë§Œë“¤ì—ˆë‹¤ê°€ ì›¹ì•±ìœ¼ë¡œ ë§Œë“¤ì—ˆë‹¤ê°€..\n> ì‹¬ì§€ì–´ ì›¹í˜ì´ì§€ë‘ ì›¹ì•±ì€ ë”°ë¡œ ê´€ë¦¬í•´ì•¼ í•œë‹¤ê³ ë„ í•œë‹¤ ğŸ˜‚\n\në” ë‹¤ì–‘í•œ ìƒí™©ì˜ ë³€ê²½ì´ ì¼ì–´ë‚œë‹¤.\n\ní˜¹ì—¬ë‚˜ ì›¹ ì„œë¹„ìŠ¤ê°€ ì„±ê³µí•´ì„œ ì•±ìœ¼ë¡œë„ ì œê³µí•˜ë ¤ë©´, ì•± ì „ìš© Viewë„ ì‘ì„±í•´ì•¼ í•  ê²ƒì´ë‹¤.\n\n## ë‹¤ì‹œ ëŒì•„ì™€ì„œ\n\nì´ì œ ë‹¤ì‹œ ëŒì•„ì™€ì„œ \"ì™œ Domainê³¼ Viewë¥¼ ë¶„ë¦¬í•´ì•¼ í• ê¹Œ?\" ë¼ëŠ” ì§ˆë¬¸ë³´ë‹¤,\n\në°˜ëŒ€ë¡œ \"Domainê³¼ Viewê°€ ê³µì¡´í•œë‹¤ë©´? í˜¹ì€ Domainì´ Viewì— ê°•ë ¥í•˜ê²Œ ê²°í•©ë˜ì–´ ìˆë‹¤ë©´?\" ì´ë¼ëŠ” ì§ˆë¬¸ì„ í•˜ê³  ì‹¶ë‹¤.\n\nì´ì— ëŒ€í•œ ë‹µìœ¼ë¡œ, ë³€ê²½ ê°€ëŠ¥ì„±ì´ ë§¤ìš° ë†’ì€ Viewê°€ ë³€í•  ë•Œë§ˆë‹¤ Domainë„ ê·¸ì— ë”°ë¼ ë³€í™”ì— ëŒ€ì‘í•´ì•¼ í•œë‹¤.\n\në”°ë¼ì„œ ê²°ë¡ ìœ¼ë¡œ, **ìš°ë¦¬ì˜ ë°¥ì¤„ì¸ Domainì„ ë³€ê²½í•˜ëŠ” ìƒí™©ì„ ìµœì†Œí™”í•˜ëŠ” ë…¸ë ¥** ì¤‘ í•˜ë‚˜ë¼ê³  ì´í•´í•˜ë©´ ë  ê²ƒ ê°™ë‹¤.\n\n## ì´í•´ë¥¼ ë•ëŠ” ì¢‹ì€ ì˜ˆì‹œ\n\nì‚¬ì‹¤ ìœ„ ë‚´ìš©ì€ ì–´ëŠ ë¸”ë¡œê·¸ì—ì„œë‚˜ í•  ìˆ˜ ìˆëŠ” ì´ì•¼ê¸°ì´ë‹¤.\n\nê·¸ë ‡ê¸°ì— ê°œì¸ì ìœ¼ë¡œ Domainê³¼ Viewì˜ ë¶„ë¦¬ê°€ ì™€ë‹¿ì•˜ë˜ ì‚¬ë¡€ì— ëŒ€í•´ ì†Œê°œí•˜ê³ ì í•œë‹¤.\n\nì•„ë˜ ê·¸ë¦¼ì„ ë³´ì.\n\n![recommend-example.png](recommend-example.png)\n\n*RacingCar* ë¼ëŠ” ì´ë¦„ì˜ ê²Œì„ì´ë‹¤.\n\níŒ¨í‚¤ì§€ êµ¬ì¡°ë¥¼ ë³´ë©´ `android`, `console`, `domain`, `ios`, `web` ìœ¼ë¡œ í¬ê²Œ ë‚˜ë‰˜ì–´ì ¸ìˆë‹¤.\n\nê·¸ë¦¬ê³  ìœ„ ì‚¬ì§„ì„ ë³´ë©´, `domain` íŒ¨í‚¤ì§€ ì•ˆì—ëŠ” ìë™ì°¨ ê²½ì£¼ ê²Œì„ì„ ì§„í–‰í•  ë•Œ ì •ë§ ê¼­ ìˆì–´ì•¼ í•˜ëŠ” í•„ìˆ˜ ê°ì²´ë“¤ì´ ì¡´ì¬í•œë‹¤.\n\nê·¸ë¦¬ê³  ë™ì‹œì— `console`ê³¼ `web` íŒ¨í‚¤ì§€ë¥¼ ë³´ì.\n\nê° Viewì˜ ì†ì„±ì— ë”°ë¼ ê°ì²´ë“¤ì´ ë‹¤ë¥´ê²Œ ì¡´ì¬í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.\n\në”°ë¼ì„œ ìœ„ ê²Œì„ì€ ì½˜ì†” í™˜ê²½ì—ì„œë„, ì›¹ í™˜ê²½ì—ì„œë„ **Domain ê°ì²´ì˜ ë³€ê²½ì´ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤.**\n\në§Œì•½, íŒ¨í‚¤ì§€ êµ¬ë¶„ì—†ì´ `console`ê³¼ `web`ì˜ ì‹¤í–‰ í™˜ê²½ì„ ë™ì‹œì— í•´ì•¼ í•˜ëŠ” ìš”êµ¬ ì‚¬í•­ì´ ìˆë‹¤ë©´ íŒ¨í‚¤ì§€ëŠ” ì–´ë–»ê²Œ ëì„ê¹Œ?\n\nì•„ë§ˆ ì•„ë˜ì™€ ê°™ì€ í˜•íƒœì¼ ê²ƒì´ë‹¤.\n\n![not-seperate.png](not-seperate.png)\n\në³´ê¸° ì‹«ë‹¤. ê²Œë‹¤ê°€ ì§€ê¸ˆì€ ê°„ë‹¨í•œ í”„ë¡œê·¸ë¨ì´ë¼ ê·¸ë ‡ì§€ ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸ì˜€ë‹¤ë©´?\n\nì´ì œ ê·¸ë§Œ ì•Œì•„ë³´ì."},{"excerpt":"ë“¤ì–´ê°€ë©° MySQLì—ì„œì˜ ê³„ì • ì‹ë³„ ë°©ì‹, ê¶Œí•œ, ì—­í• ì— ëŒ€í•œ ê¸°ë³¸ì ì¸ ë‚´ìš©ì„ ì•Œì•„ë³´ì ì™œ ì•Œì•„ì•¼ í• ê¹Œ? ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì˜ ë³´ì•ˆì„ ìœ„í•´ ! ê´œíˆ ë³´ì•ˆë–„ë¬¸ì— í‡´ê·¼ì´ ëŠ¦ì–´ì§€ë©´ ì•ˆë˜ë‹ˆê¹Œ 1. ì‚¬ìš©ì ì‹ë³„ ë°©ë²• ì‚¬ìš©ì ì•„ì´ë”” ë¿ë§Œ ì•„ë‹ˆë¼ ì ‘ì† ì§€ì (í˜¸ìŠ¤íŠ¸ëª…ì´ë‚˜ ë„ë©”ì¸ ë˜ëŠ” IPì£¼ì†Œ)ë„ í•¨ê»˜ í™•ì¸í•œë‹¤.\nì˜ˆì‹œ)   ë”°ë¼ì„œ ê³„ì •ì˜ HOSTì™€ ë‹¤ë¥¸ ì§€ì ì—ì„œ ì ‘ì†í•˜ë©´ â€¦","fields":{"slug":"/03-user-identification/"},"frontmatter":{"date":"December 04, 2023","title":"MySQLì—ì„œì˜ ì‚¬ìš©ì ì‹ë³„ì— ëŒ€í•´","tags":["database"]},"rawMarkdownBody":"\n## ë“¤ì–´ê°€ë©°\n\nMySQLì—ì„œì˜ ê³„ì • ì‹ë³„ ë°©ì‹, ê¶Œí•œ, ì—­í• ì— ëŒ€í•œ ê¸°ë³¸ì ì¸ ë‚´ìš©ì„ ì•Œì•„ë³´ì\n\n## ì™œ ì•Œì•„ì•¼ í• ê¹Œ?\n\në°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì˜ **ë³´ì•ˆ**ì„ ìœ„í•´ !\n\n> ~~ê´œíˆ ë³´ì•ˆë–„ë¬¸ì— í‡´ê·¼ì´ ëŠ¦ì–´ì§€ë©´ ì•ˆë˜ë‹ˆê¹Œ~~\n\n## 1. ì‚¬ìš©ì ì‹ë³„ ë°©ë²•\n**ì‚¬ìš©ì ì•„ì´ë””** ë¿ë§Œ ì•„ë‹ˆë¼ **ì ‘ì† ì§€ì (í˜¸ìŠ¤íŠ¸ëª…ì´ë‚˜ ë„ë©”ì¸ ë˜ëŠ” IPì£¼ì†Œ)**ë„ í•¨ê»˜ í™•ì¸í•œë‹¤.<br>\nì˜ˆì‹œ) `root@localhost`\n\n![ì˜ˆì‹œ ì‚¬ì§„](example.png)\n\në”°ë¼ì„œ ê³„ì •ì˜ HOSTì™€ ë‹¤ë¥¸ ì§€ì ì—ì„œ ì ‘ì†í•˜ë©´ ì‹¤íŒ¨í•œë‹¤.\n\n> ğŸ’¡ ê³„ì •ì„ ì–¸ê¸‰í•  ë•ŒëŠ” **í•­ìƒ ì•„ì´ë””ì™€ í˜¸ìŠ¤íŠ¸ë¥¼ í•¨ê»˜** ëª…ì‹œí•˜ì !\n\n### 1-1. ë§Œì•½ ëª¨ë“  ì§€ì ì—ì„œ ì ‘ì†ì„ í—ˆìš©í•˜ê³  ì‹¶ë‹¤ë©´\n---\nê³„ì •ì˜ HOSTë¥¼ `%` ë¡œ ì„¤ì •í•˜ì. (ì™€ì¼ë“œì¹´ë“œ ëŠë‚Œ)\n\n### 1-2. ê³„ì •ì˜ HOSTë¥¼ ì´ìš©í•´ ë³´ì•ˆì„ ì‹ ê²½ ì“´ ì‚¬ë¡€\n---\n**[ìƒí™©]**<br>\nì£¼ì–´ì§„ ìì›: 1ëŒ€ì˜ MySQL ì„œë²„, 1ëŒ€ì˜ ê°œë°œìš© ì„œë²„ 1ëŒ€, 1ëŒ€ì˜ ìš´ì˜ìš© ì„œë²„ 1ëŒ€\n\nê°œë°œìš©, ìš´ì˜ìš© ì„œë²„ì—ì„œ 1ëŒ€ì˜ MySQL ì„œë²„ë¡œ ìš”ì²­ì„ ë³´ë‚¸ë‹¤.\nMySQL ì„œë²„ì—ëŠ” ê°œë°œìš©, ìš´ì˜ìš© ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë”°ë¡œ êµ¬ì¶•í•˜ì—¬ ê´€ë¦¬í•˜ê³  ìˆì—ˆë‹¤.\n\nì•„ë˜ëŠ” ì´í•´ë¥¼ ë•ê¸° ìœ„í•œ ì‚¬ì§„ì´ë‹¤.\n\n![ì¸í”„ë¼ ì•„í‚¤í…ì²˜ì˜ ì¼ë¶€](infra_architecture.png)\n\n**[ë¬¸ì œ]**<br>\ní˜¹ì—¬ë‚˜ ì‹¤ìˆ˜ë¡œ ì¸í•´ ê°œë°œìš© ì„œë²„ì—ì„œ ìš´ì˜ìš© DBì— ì¿¼ë¦¬ë¥¼ ë‚ ë¦¬ê±°ë‚˜, ê·¸ ë°˜ëŒ€ì˜ ìƒí™©ì„ ë§‰ê³ ì í–ˆë‹¤.\n\n**[í•´ê²°]**<br>\nê³„ì •ì„ ê° í™˜ê²½ì— ë§ëŠ” ì„œë²„ë¡œ ë‚˜ëˆ„ì–´ ìƒì„± ë° ê´€ë¦¬ë¥¼ í•¨ìœ¼ë¡œì¨ ì˜ë„ì¹˜ ì•Šì€ ìƒí™©ì„ ì˜ˆë°©í–ˆë‹¤.<br>\n(`'celuveat_prod'@{ec2_prod_ip}`, `'celuveat_dev'@{ec2_dev_ip}`)\n\n### 1-3. ê³„ì • ì‹ë³„ì—ì„œ ì£¼ì˜í•  ì : ì•„ì´ë””ëŠ” ê°™ê³  í˜¸ìŠ¤íŠ¸ê°€ ë‹¤ë¥¸ ê²½ìš°\n---\në§Œì•½ `user` ì´ë¼ëŠ” ê³„ì •ì´ ë‘ ê°œê°€ ìˆë‹¤.<br>\ní•œ ê³„ì •ì˜ HOSTëŠ” `192.168.1.01`ì´ê³  ë‚˜ë¨¸ì§€ëŠ” `%`ë¼ê³  ê°€ì •í•´ë³´ì.<br>\n(`'user'@'192.168.1.01'`, `'user'@'%'`)\n\nì´ë•Œ í´ë¼ì´ì–¸íŠ¸ì˜ IPê°€ `192.168.1.01`ì¸ ê³³ì—ì„œ `user` ê³„ì •ìœ¼ë¡œ ì ‘ì†ì„ ì‹œë„í•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œ?<br>\nê·¸ë¦¬ê³  `192.168.1.01`ì´ ì•„ë‹Œ ê³³ì—ì„œ `user` ê³„ì •ìœ¼ë¡œ ì ‘ì†ì„ ì‹œë„í•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œ?\n\nì •ë‹µì€, `user@192.168.1.01` ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ì„ ì‹œë„í•œë‹¤.<br>\nMySQLì€ ê¸°ë³¸ì ìœ¼ë¡œ **ë” ì¢ì€ ë²”ìœ„ì˜ HOST ê³„ì •ìœ¼ë¡œ ì¸ì¦ì„ ì‹œë„**í•˜ê¸° ë•Œë¬¸ì´ë‹¤.\n\n> ì• ì´ˆì— ì´ëŸ° ì‹ìœ¼ë¡œ ì„¤ì •í•˜ëŠ” ê²½ìš°ëŠ” ê°€ê¸‰ì  ìì œí•˜ëŠ” ê²Œ ì¢‹ì•„ë³´ì¸ë‹¤.<br>\n> ë§Œì•½ ë¶ˆê°€í”¼í•œ ê²½ìš°ì—ëŠ” `--host` ì†ì„±ìœ¼ë¡œ ê³„ì •ì„ ëª…ì‹œí•´ ì ‘ì† ì‹œë„í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.\n\nì´ë•Œ ì£¼ì˜í•  ì ì€, ì¸ì¦ì— ì‹¤íŒ¨í–ˆë‹¤ê³  ë” ë„“ì€ ë²”ìœ„ì˜ ê³„ì •ìœ¼ë¡œ ì ‘ì†ì„ ì‹œë„í•˜ì§€ ì•ŠëŠ”ë‹¤.\n\n### 1-4. ì‹¤í—˜1: ë§Œì•½ `localhost`ì™€ í˜„ì¬ IP ì£¼ì†Œë¡œ ì„¤ì •í•œë‹¤ë©´?\n---\n`create user 'kdkdhoho'@localhost identified by abc;` ëª…ë ¹ì–´ì™€<br>\n`create user 'kdkdhoho'@'192.168.0.9' identified by 123;` ëª…ë ¹ì–´ë¡œ ìƒí™©ì„ ì„¸íŒ…í•´ë³´ì.\n\n![ì‹¤í—˜ í™˜ê²½](test_environment.png)\n\nê·¸ë¦¬ê³  kdkdhoho ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ì„ ì‹œë„í–ˆì„ ë•Œ, ì„±ê³µí•˜ëŠ” ê³„ì •ì„ ë³´ì.\n\n![ë¡œê·¸ì¸ ê²°ê³¼](after_test.png)\n\nHOSTë¥¼ `localhost`ë¡œ ì„¤ì •í•œ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ì´ ì„±ê³µí•œë‹¤.\n\n### 1-5. ì‹¤í—˜2: ì‹¤í—˜1ì— `%`ì´ ì¶”ê°€ëœë‹¤ë©´?\n---\n![ì‹¤í—˜2 í™˜ê²½](test2_environment.png)\n\në§Œì•½ ìœ„ì™€ ê°™ì´ `kdkdhoho@%` ê³„ì •ì´ ì¶”ê°€ëœë‹¤ë©´ ì–´ë–¤ ê³„ì •ìœ¼ë¡œ ì ‘ì†í•˜ê²Œ ë ê¹Œ?<br>\n(ì°¸ê³ ë¡œ ìœ„ ê³„ì •ì˜ ì•”í˜¸ëŠ” `xyz`)\n\nì•„ë§ˆ ì˜ˆìƒí•˜ê¸° ì‰½ê² ì§€ë§Œ `localhost`ë¡œë§Œ ì ‘ì†ì´ ê°€ëŠ¥í•˜ë‹¤.\n\n> ğŸ’¡ê²°ë¡ : HOSTì˜ ë²”ìœ„ëŠ” `localhost` < ì§€ì • IP < `%` ì¸ ê²ƒ ê°™ë‹¤.<br>\n> ì°¸ê³ ) ì¶”ê°€ ì‹¤í—˜ ê²°ê³¼, `127.0.0.1`ë„ `localhost`ì— ìˆœìœ„ê°€ ë°€ë¦°ë‹¤.\n\n## 2. ì‚¬ìš©ì ê³„ì • ê´€ë¦¬\n\n### 2-1. ì‹œìŠ¤í…œ ê³„ì •ê³¼ ì¼ë°˜ ê³„ì •\n\nMySQL 8.0ë¶€í„°ëŠ” `SYSTEM_USER` **ê¶Œí•œ**ì„ ê°€ì§€ê³  ìˆëƒì— ë”°ë¼ `ì‹œìŠ¤í…œ ê³„ì •`ê³¼ `ì¼ë°˜ ê³„ì •`ìœ¼ë¡œ êµ¬ë¶„ëœë‹¤.\n\n> `SYSTEM_USER` ê¶Œí•œì€ `ALL PRIVILEGES` ì•ˆì— í¬í•¨ëœë‹¤.\n\n### 2-2. ë‘ ê³„ì •ì˜ ì°¨ì´\n\n#### ì‹œìŠ¤í…œ ê³„ì •\n- MySQL \n- ì‹œìŠ¤í…œ ê³„ì •ê³¼ ì¼ë°˜ ê³„ì •ì„ ê´€ë¦¬(ìƒì„±, ì‚­ì œ, ë³€ê²½) í•  ìˆ˜ ìˆë‹¤.\n- DB ì„œë²„ ê´€ë¦¬ì™€ ê´€ë ¨ëœ ì‘ì—…ì€ ì‹œìŠ¤í…œ ê³„ì •ìœ¼ë¡œë§Œ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.\n  - ê³„ì • ê´€ë¦¬\n  - Connection(ì„¸ì…˜) ê°•ì œ ì¢…ë£Œ\n- DBAë¥¼ ìœ„í•œ ê³„ì •\n\n#### ì¼ë°˜ ê³„ì •\n- ì‹œìŠ¤í…œ ê³„ì •ì„ ê´€ë¦¬í•  ìˆ˜ ì—†ë‹¤.\n- ê°œë°œìë‚˜ ì‘ìš© í”„ë¡œê·¸ë¨ì„ ìœ„í•œ ê³„ì •\n\n### 2-3. ë‚´ì¥ëœ ê³„ì •ë“¤\n\nMySQL ì„œë²„ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë‚´ì¥ëœ ê³„ì •ë“¤ì´ ì¡´ì¬í•œë‹¤. (`root@localhost` ì œì™¸)\n\n- `mysql.sys@localhost`: 8.0ë¶€í„° ê¸°ë³¸ìœ¼ë¡œ ë‚´ì¥ëœ **sys ìŠ¤í‚¤ë§ˆì˜ ê°ì²´ë“¤ì˜ DEFINER**ë¡œ ì‚¬ìš©í•˜ëŠ” ê³„ì •\n  > sys ìŠ¤í‚¤ë§ˆ: Performance Schemaë¥¼ í¸í•˜ê²Œ ë³¼ ìˆ˜ ìˆë„ë¡ ë³„ë„ë¡œ ë§Œë“  ë·°ì˜ ëª¨ìŒ\n- `mysql.session@localhost`: **MySQL í”ŒëŸ¬ê·¸ì¸ì´ ì„œë²„ë¡œ ì ‘ê·¼**í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ê³„ì •\n- `mysql.infoschema@localhost`: **information_schemaì— ì •ì˜ëœ ë·°ì˜ DEFINER**ë¡œ ì‚¬ìš©í•˜ëŠ” ê³„ì •\n  > information_schema: DBì˜ ë©”íƒ€ ì •ë³´(í…Œì´ë¸” ì¹¼ëŸ¼, ì¸ë±ìŠ¤ ë“±ì˜ ìŠ¤í‚¤ë§ˆ ì •ë³´)ì˜ ëª¨ìŒ\n\nìœ„ ì„¸ ê³„ì •ì€ ì²˜ìŒë¶€í„° ì ê²¨ìˆëŠ” ìƒíƒœì´ë‹¤. `account_locked` ì¹¼ëŸ¼ì„ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n\n![ê³„ì • ì ê¹€ í™•ì¸](account_lock.png)\n\n## 3. ê³„ì • ìƒì„±\n\n`CREATE USER` ëª…ë ¹ìœ¼ë¡œ ê³„ì •ì„ ìƒì„±í•  ìˆ˜ ìˆë‹¤.<br>\n`GRANT` ëª…ë ¹ìœ¼ë¡œ ê¶Œí•œ ë¶€ì—¬ë¥¼ í•  ìˆ˜ ìˆë‹¤.\n\n> 5.7v ê¹Œì§€ëŠ” `GRANT` ëª…ë ¹ìœ¼ë¡œ ìƒì„±ê³¼ ë™ì‹œì— ê¶Œí•œ ë¶€ì—¬ë¥¼ í•  ìˆ˜ ìˆì—ˆë‹¤.\n\n### 3-1. ë‹¤ì–‘í•œ ì˜µì…˜ ì„¤ì •\n\nê³„ì •ì„ ìƒì„±í•  ë•Œ, ì•„ë˜ì™€ ê°™ì€ ë‹¤ì–‘í•œ ì˜µì…˜ë“¤ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.\n\n- ì¸ì¦ ë°©ì‹ê³¼ ë¹„ë°€ë²ˆí˜¸\n- ë¹„ë°€ë²ˆí˜¸ ê´€ë ¨ ì˜µì…˜(ìœ íš¨ ê¸°ê°„, ì´ë ¥ ê°œìˆ˜, ì¬ì‚¬ìš© ë¶ˆê°€ ê¸°ê°„)\n- ê¸°ë³¸ ì—­í• (Role)\n- SSL ì˜µì…˜\n- ê³„ì • ì ê¸ˆ ì—¬ë¶€\n\nìœ„ ì˜µì…˜ì„ ëª¨ë‘ ì ìš©í•œ ì„ì˜ì˜ ì¿¼ë¦¬ë¬¸ì„ í†µí•´ í•˜ë‚˜ì”© ì‚´í´ë³´ì.\n\n```sql\nCREATE USER 'user'@'{HOST}'\n    IDENTIFIED WITH 'mysql_native_password' BY 'password'\n    REQUIRE NONE\n    PASSWORD EXPIRE INTERVAL 30 DAY\n    ACCOUNT UNLOCK\n    PASSWORD HISTORY DEFAULT\n    PASSWORD REUSE INTERVAL DEFAULT\n    PASSWORD REQUIRE CURRENT DEFAULT;\n```\n\n### 3-2. IDENTIFIED WITH\n\nê³„ì • ì¸ì¦ ë°©ì‹ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì„¤ì •í•œë‹¤.<br>\nì˜ˆ) `IDENTIFIED WITH {ê³„ì • ì¸ì¦ ë°©ì‹} BY {ë¹„ë°€ë²ˆí˜¸}`\n\nê³„ì • ì¸ì¦ ë°©ì‹ì€ í”ŒëŸ¬ê·¸ì¸ í˜•íƒœë¡œ ì œê³µë˜ë©°, ì•„ë˜ 4ê°€ì§€ ë°©ì‹ì´ ê°€ì¥ ëŒ€í‘œì ì´ë‹¤.\n\n- `Native Pluggable Authentication`: v5.7ê¹Œì§€ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©ë˜ë˜ ë°©ì‹ì´ë‹¤. ë‹¨ìˆœí•˜ê²Œ ë¹„ë°€ë²ˆí˜¸ì— ëŒ€í•œ í•´ì‹œ(SHA-1 ì•Œê³ ë¦¬ì¦˜) ê°’ì„ ì €ì¥í•˜ê³ , í´ëŸ¬ì´ì–¸íŠ¸ê°€ ë³´ë‚¸ ê°’ê³¼ í•´ì‹œê°’ì´ ì¼ì¹˜í•˜ëŠ”ì§€ ë¹„êµí•œë‹¤.\n- `Caching SHA-2 Pluggable Authentication`: v8.0ì˜ ê¸°ë³¸ ì¸ì¦ ë°©ì‹. ì•”í˜¸í™” í•´ì‹œê°’ ìƒì„±ì„ ìœ„í•´ SHA-2(256ë¹„íŠ¸) ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•œë‹¤. `Native` ë°©ì‹ì€ ì…ë ¥ê³¼ í•´ì‹œê°’ì´ ë§¤ë²ˆ ë™ì¼í•˜ì§€ë§Œ, `SHA-2` ë°©ì‹ì€ ë‚´ë¶€ì ìœ¼ë¡œ Salt í‚¤ë¥¼ í™œìš©í•´ ìˆ˜ì²œ ë²ˆì˜ í•´ì‹œ ê³„ì‚°ì„ ìˆ˜í–‰í•´ ê³„ì‚°ì„ ë§Œë“¤ê³  ê²°êµ­ ë™ì¼í•œ ì…ë ¥ì¼ì§€ë¼ë„ ë§¤ë²ˆ ê²°ê³¼ê°€ ë‹¬ë¼ì§„ë‹¤. ì´ëŠ” ì†ë„ê°€ ë§¤ìš° ëŠë¦° ì ì„ ê³ ë ¤í•˜ì—¬, MySQL ì„œë²„ëŠ” í•´ì‹œ ê²°ê³¼ê°’ì„ ë©”ëª¨ë¦¬ì— ìºì‹œí•´ì„œ ì‚¬ìš©í•œë‹¤. ë”°ë¼ì„œ ì´ë¦„ì— `Caching`ì´ í¬í•¨ë˜ì—ˆë‹¤. ì´ ë°©ì‹ì„ ì‚¬ìš©í•˜ë ¤ë©´ SSL/TLS ë˜ëŠ” RSA í‚¤í˜ì–´ë¥¼ ë°˜ë“œì‹œ ì‚¬ìš©í•´ì•¼í•˜ê³ , ì´ë¥¼ ìœ„í•´ ì ‘ì†í•  ë•Œ SSL ì˜µì…˜ì„ í™œì„±í™”í•´ì•¼ í•œë‹¤.\n- PAM Pluggable Authentication\n- LDAP Pluggable Authentication\n\nì´ë•Œ, `IDENTIFIED BY {ë¹„ë°€ ë²ˆí˜¸}`ë§Œ ì…ë ¥í•œë‹¤ë©´ MySQL ì„œë²„ì˜ ê¸°ë³¸ ì¸ì¦ ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤.\n\n> MySQL 5.7ì—ì„œ 8.0ìœ¼ë¡œ ë„˜ì–´ì˜¤ë©´ì„œ ê¸°ë³¸ ì¸ì¦ ë°©ì‹ì˜ ë³€ê²½ìœ¼ë¡œ ì¸í•´, SSL/TLS ë˜ëŠ” RSA í‚¤í˜ì–´ê°€ í•„ìš”í•´ì§ˆ ìˆ˜ ìˆë‹¤.\n> ë”°ë¼ì„œ ë³´ì•ˆ ìˆ˜ì¤€ì€ ë‚®ì•„ì§€ë”ë¼ë„, í•˜ìœ„ í˜¸í™˜ì„±ì„ ê³ ë ¤í•˜ë©´ `Native` ì¸ì¦ ë°©ì‹ìœ¼ë¡œ ê³„ì •ì„ ìƒì„±í•´ì•¼ í•  ìˆ˜ ìˆë‹¤.<br>\n> <br>\n> MySQL 8.0ì—ì„œ `Native Authentication`ì„ ê¸°ë³¸ ì¸ì¦ ë°©ì‹ìœ¼ë¡œ ì„¤ì •í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •ì„ ë³€ê²½í•˜ê±°ë‚˜ my.cnf ì„¤ì • íŒŒì¼ì— ì¶”ê°€í•˜ë©´ ëœë‹¤.<br>\n> `SET GLOBAL default_authentication_plugin=\"mysql_native_password`\n\n### 3-2. REQUIRE\n\nì„œë²„ì— ì ‘ì†í•  ë•Œ ì•”í˜¸í™”ëœ SSL/TLS ì±„ë„ì„ ì‚¬ìš©í• ì§€ ì—¬ë¶€ë¥¼ ì„¤ì •í•œë‹¤.\n\nDEFAULT ê°’ì€ ë¹„ì•”í˜¸í™” ì±„ë„ë¡œ ì„¤ì •ëœë‹¤.\n\ní•˜ì§€ë§Œ `REQUIRE` ì˜µì…˜ì„ `SSL`ë¡œ ì„¤ì •í•˜ì§€ ì•Šì•„ë„, `Caching SHA-2 Authentication` ì¸ì¦ ë°©ì‹ì„ ì‚¬ìš©í•˜ì—¬ ê³„ì •ì„ ìƒì„±í•˜ë©´ í•´ë‹¹ ê³„ì •ìœ¼ë¡œ ì ‘ì†í•  ë•Œ ì•”í˜¸í™”ëœ ì±„ë„ë§Œìœ¼ë¡œ ì„œë²„ì— ì ‘ì†í•˜ê²Œ ëœë‹¤.\n\n### 3-3. PASSWORD EXPIRE\n\në¹„ë°€ë²ˆí˜¸ì˜ ìœ íš¨ ê¸°ê°„ì„ ì„¤ì •í•œë‹¤.\n\nDEFAULT ê°’ì€ `default_password_lifetime` ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì €ì¥ëœ ê¸°ê°„ìœ¼ë¡œ ìœ íš¨ ê¸°ê°„ì´ ì„¤ì •ëœë‹¤.\n\n> ìŠ¤í”„ë§ ì ‘ê·¼ìš© ê³„ì •ì— ìœ íš¨ ê¸°ê°„ì„ ì„¤ì •í•˜ë©´ í°ì¼ì´ ë‚  ìˆ˜ ìˆë‹¤!\n\nì„¤ì • ê°€ëŠ¥í•œ ì˜µì…˜ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\n\n- `PASSWORD EXPIRE`: ê³„ì • ìƒì„±ê³¼ ë™ì‹œì— ë¹„ë°€ë²ˆí˜¸ì˜ ë§Œë£Œ ì²˜ë¦¬\n- `PASSWORD EXPIRE NEVER`: ë¹„ë°€ë²ˆí˜¸ì˜ ë§Œë£Œ ê¸°ê°„ ì—†ìŒ\n- `PASSWORD EXPIRE DEFAULT`\n- `PASSWORD EXPIRE INTERVAL n DAY`: ìœ íš¨ê¸°ê°„ì„ ì˜¤ëŠ˜ë¶€í„° nì¼ë¡œ ì„¤ì •\n\n### 3-4. PASSWORD HISTORY\n\në¹„ë°€ë²ˆí˜¸ ì´ë ¥ì„ ì–¼ë§ˆë‚˜ ì €ì¥í•  ì§€ì— ëŒ€í•œ ì˜µì…˜ì´ë‹¤.\n\nì„¤ì • ê°€ëŠ¥í•œ ì˜µì…˜ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\n\n- `PASSWORD HISTORY DEFAULT`: `password_history` ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì €ì¥ëœ ê°œìˆ˜ë§Œí¼ ë¹„ë°€ë²ˆí˜¸ ì´ë ¥ì„ ì €ì¥í•˜ë©°, ì €ì¥ëœ ì´ë ¥ì— ë‚¨ì•„ìˆëŠ” ë¹„ë°€ë²ˆí˜¸ëŠ” ì¬ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.\n- `PASSWORD HISTORY n`: ìµœê·¼ ì‚¬ìš©í•œ nê°œì˜ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì €ì¥í•œë‹¤.\n\n> ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì €ì¥ëœ ê°’ìœ¼ë¡œ DEFAULT ê°’ì´ ì„¤ì •ëœë‹¤ê³  í•œë‹¤.\n> ë§Œì•½ ì„¤ì •í•˜ì§€ë„ ì•Šì•˜ìœ¼ë©´ ì–´ë–»ê²Œ ë ê¹Œ?\n> ![ì‹œìŠ¤í…œ ë³€ìˆ˜ì—ë„ ì„¤ì •í•˜ì§€ ì•Šì•˜ì„ ë•Œ.png](dont-setting.png)\n> ìœ„ì™€ ê°™ì´ `NULL` ê°’ìœ¼ë¡œ ì¡´ì¬í•œë‹¤.\n\n### 3-5. PASSWORD REUSE INTERVAL\n\ní•œ ë²ˆ ì‚¬ìš©í–ˆë˜ ë¹„ë°€ë²ˆí˜¸ì˜ ì¬ì‚¬ìš© ê¸ˆì§€ ê¸°ê°„ì„ ì„¤ì •í•œë‹¤.\n\nê¸°ë³¸ì ìœ¼ë¡œ `password_reuse_interval` ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì €ì¥ëœ ê¸°ê°„ìœ¼ë¡œ ì„¤ì •ëœë‹¤.\n\nì„¤ì • ê°€ëŠ¥í•œ ì˜µì…˜ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\n\n- `PASSWORD REUSE INTERVAL DEFAULT`\n- `PASSWORD REUSE INTERVAL n DAY`: nì¼ ì´í›„ì— ë¹„ë°€ë²ˆí˜¸ë¥¼ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n\n### 3-6. PASSWORD REQUIRE\n\në¹„ë°€ë²ˆí˜¸ê°€ ë§Œë£Œë˜ì–´ ìƒˆë¡œìš´ ë¹„ë°€ë²ˆí˜¸ë¡œ ë³€ê²½í•  ë•Œ í˜„ì¬ ë¹„ë°€ë²ˆí˜¸ë¥¼ í•„ìš”ë¡œ í• ì§€ ë§ì§€ë¥¼ ê²°ì •í•œë‹¤.\n\nê¸°ë³¸ì ìœ¼ë¡œ `password_require_current` ì‹œìŠ¤í…œ ë³€ìˆ˜ì˜ ê°’ìœ¼ë¡œ ì„¤ì •ëœë‹¤.\n\nì„¤ì • ê°€ëŠ¥í•œ ì˜µì…˜ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\n\n- `PASSWORD REQUIRE CURRENT`: ë¹„ë°€ë²ˆí˜¸ë¥¼ ë³€ê²½í•  ë•Œ í˜„ì¬ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë¨¼ì € ì…ë ¥í•˜ë„ë¡ í•œë‹¤.\n- `PASSWORD REQUIRE OPTIONAL`: ë¹„ë°€ë²ˆí˜¸ë¥¼ ë³€ê²½í•  ë•Œ í˜„ì¬ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì§€ ì•Šì•„ë„ ë˜ë„ë¡ ì„¤ì •í•œë‹¤.\n- `PASSWORD REQUIRE DEFAULT`\n\n### 3-7. ACCOUNT LOCK / UNLOCK\n\nê³„ì •ì„ ì‚¬ìš©í•˜ì§€ ëª»í•˜ê²Œ í•œë‹¤.\n\n- `ACCOUNT LOCK`: ê³„ì •ì„ ì‚¬ìš©í•˜ì§€ ëª»í•˜ê²Œ ì ê¸ˆ\n- `ACCOUNT UNLOCK`: ì ê¸´ ê³„ì •ì„ ë‹¤ì‹œ ì‚¬ìš© ê°€ëŠ¥ ìƒíƒœë¡œ ì ê¸ˆ í•´ì œ\n\n## 4. ë¹„ë°€ë²ˆí˜¸ ê´€ë¦¬\n\n### 4-1. ê³ ìˆ˜ì¤€ ë¹„ë°€ë²ˆí˜¸\n\në¹„ë°€ë²ˆí˜¸ì˜ ê·œì¹™ì„ ê°•ì œí•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ìˆë‹¤.\n\n`validate_password` ì»´í¬ë„ŒíŠ¸ë¥¼ í™œìš©í•˜ë©´ ëœë‹¤.\n\nì´ëŠ” í¬ê²Œ ì¤‘ìš”í•˜ì§€ ì•Šì€ ë¶€ë¶„ì¸ ê²ƒ ê°™ì•„ pass\n\n### 4-2. ë¹„ë°€ë²ˆí˜¸ ì´ì¤‘í™”\n\n**[ë¬¸ì œ]**<br>\nìŠ¤í”„ë§ì´ DB ì„œë²„ì˜ í•˜ë‚˜ì˜ ê³„ì •ì„ ì‚¬ìš©ì¤‘ì´ë‹¤.<br>\nê·¼ë° ë§Œì•½ ê³„ì •ì˜ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë°”ê¾¼ë‹¤ë©´ ì„œë¹„ìŠ¤ì— ì¥ì• ê°€ ë°œìƒí•  ê²ƒì´ë‹¤.<br>\nì´ë¡œ ì¸í•´ ê²°êµ­ í•˜ë‚˜ì˜ ì•”í˜¸ë¥¼ ëª‡ ë…„ ë™ì•ˆ ì‚¬ìš©í•˜ê²Œ ë  ìˆ˜ë„ ìˆë‹¤.\n\n**[í•´ê²°ì±…]**<br>\nì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë¹„ë°€ë²ˆí˜¸ë¡œ 2ê°œì˜ ê°’ì„ **ë™ì‹œì—** ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê¸°ëŠ¥ì´ ì¡´ì¬í•œë‹¤.\n\n**[ì„¤ëª…]**<br>\n2ê°œì˜ ë¹„ë°€ë²ˆí˜¸ëŠ” Primary, Secondaryë¡œ êµ¬ë¶„ëœë‹¤.\n\nê°€ì¥ ìµœê·¼ ì„¤ì •í•œ ë¹„ë°€ë²ˆí˜¸ëŠ” Primary, ê¸°ì¡´ ë¹„ë°€ë²ˆí˜¸ëŠ” Secondaryê°€ ëœë‹¤.\n\nì´ì¤‘ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ê¸°ì¡´ ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ë¬¸ë²•ì— `RETAIN CURRENT PASSWORD` ì˜µì…˜ë§Œ ì¶”ê°€í•˜ë©´ ëœë‹¤.\n\n```sql\n-- ë¹„ë°€ë²ˆí˜¸ë¥¼ \"abcd\"ë¡œ ì„¤ì •\nmysql> ALTER USER 'root'@'localhost' IDENTIFIED BY 'abcd';\n\n-- ë¹„ë°€ë²ˆí˜¸ë¥¼ \"1234\"ë¡œ ë³€ê²½í•˜ë©´ì„œ ê¸°ì¡´ ë¹„ë°€ë²ˆí˜¸ \"abcd\"ë¥¼ ì„¸ì»¨ë”ë¦¬ ë¹„ë°€ë²ˆí˜¸ë¡œ ì„¤ì •\nmysql> ALTER USER 'root'@'localhost' IDENTIFIED BY '1234' RETAIN CURRENT PASSWORD;\n```\n\nê·¸ë¦¬ê³  root ê³„ì •ìœ¼ë¡œ ì ‘ì†ì„ ì‹œë„í•  ë•Œ ë¹„ë°€ë²ˆí˜¸ë¥¼ \"abcd\" ë˜ëŠ” \"1234\"ë¡œ í•´ë„ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤.\n\nì´ë ‡ê²Œ ì„¤ì •í•œ í›„, ìŠ¤í”„ë§ì˜ ì ‘ì† ì„¤ì •ì„ ìƒˆë¡œìš´ ë¹„ë°€ë²ˆí˜¸ë¡œ ë³€ê²½í•˜ê³  ë°°í¬ ë° ì¬ì‹œì‘í•œë‹¤.\n\nì´ì œ ê¸°ì¡´ ë¹„ë°€ë²ˆí˜¸ì€ Secondary ë¹„ë°€ë²ˆí˜¸ëŠ” ë³´ì•ˆì„ ìœ„í•´ ì‚­ì œí•´ì£¼ì.\n\n## 5. ê¶Œí•œ\n\nv5.7ê¹Œì§€ **ê¸€ë¡œë²Œ ê¶Œí•œ**ê³¼ **ê°ì²´ ê¶Œí•œ**ìœ¼ë¡œ êµ¬ë¶„ëë‹¤.\n\n- **ê¸€ë¡œë²Œ ê¶Œí•œ**: DB í˜¹ì€ í…Œì´ë¸” ì´ì™¸ì˜ ê°ì²´ì— ì ìš©ë˜ëŠ” ê¶Œí•œ\n  - `GRANT` ëª…ë ¹ì—ì„œ íŠ¹ì • ê°ì²´ë¥¼ ëª…ì‹œí•˜ì§€ ë§ì•„ì•¼ í•œë‹¤.\n- **ê°ì²´ ê¶Œí•œ**: DBë‚˜ í…Œì´ë¸”ì„ ì œì–´í•˜ëŠ” ë° í•„ìš”í•œ ê¶Œí•œ\n  - `GRANT` ëª…ë ¹ìœ¼ë¡œ ê¶Œí•œì„ ë¶€ì—¬í•  ë•Œ ë°˜ë“œì‹œ íŠ¹ì • ê°ì²´ë¥¼ ëª…ì‹œí•´ì•¼ í•œë‹¤.\n- **ALL or (ALL PRIVILEGES)**: ê¸€ë¡œë²Œê³¼ ê°ì²´ ê¶Œí•œ ë‘ ê°€ì§€ ìš©ë„ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n  - íŠ¹ì • ê°ì²´ì— ALL ê¶Œí•œì´ ë¶€ì—¬ë˜ë©´ í•´ë‹¹ ê°ì²´ì— ì ìš©ë  ìˆ˜ ìˆëŠ” ëª¨ë“  ê¶Œí•œì„ ë¶€ì—¬í•œë‹¤.\n  - ê¸€ë¡œë²Œë¡œ ALLì´ ì‚¬ìš©ë˜ë©´ ê¸€ë¡œë²Œ ìˆ˜ì¤€ì˜ ëª¨ë“  ê¶Œí•œì´ ë¶€ì—¬ëœë‹¤.\n\n![ì •ì  ê¶Œí•œ 1.png](static_privilege_1.png)\n![ì •ì  ê¶Œí•œ 2.png](static_privilege_2.png)\n\nv8.0ë¶€í„°ëŠ” ì•„ë˜ì˜ ë™ì  ê¶Œí•œì´ ì¶”ê°€ëë‹¤.\n\n> ì •ì  ê¶Œí•œ: MySQL ì„œë²„ì˜ ì†ŒìŠ¤ì½”ë“œì— ê³ ì •ì ìœ¼ë¡œ ëª…ì‹œë¼ ìˆëŠ” ê¶Œí•œ\n> ë™ì  ê¶Œí•œ: MySQL ì„œë²„ì˜ ì»´í¬ë„ŒíŠ¸ë‚˜ í”ŒëŸ¬ê·¸ì¸ì´ ì„¤ì¹˜ë˜ë©´ ê·¸ë•Œ ë“±ë¡ë˜ëŠ” ê¶Œí•œ\n\n![ë™ì  ê¶Œí•œ.png](dynamic_privilege.png)\n\n### 5-1. ì‚¬ìš©ìì—ê²Œ ê¶Œí•œ ë¶€ì—¬í•˜ê¸°\n\nê¸°ë³¸ì ìœ¼ë¡œ `GRANT` ëª…ë ¹ì„ ì‚¬ìš©í•œë‹¤.\n\nì´ë•Œ, ë¶€ì—¬í•˜ë ¤ëŠ” ê¶Œí•œì˜ íŠ¹ì„±ì— ë”°ë¼ `GRANT` ëª…ë ¹ì˜ `ON` ì ˆì— ëª…ì‹œë˜ëŠ” ê°ì²´ì˜ ë‚´ìš©ì´ ë°”ë€Œì–´ì•¼ í•œë‹¤.\n\n```sql\n-- ê¶Œí•œ ë¶€ì—¬í•˜ëŠ” ë¬¸ë²•ì˜ ê¸°ë³¸ì ì¸ í‹€\n-- ë¶€ì—¬í•˜ë ¤ëŠ” ê¶Œí•œì„ ì¶”ê°€í•œë‹¤. \",\" ë¥¼ êµ¬ë¶„ìë¡œ í•˜ì—¬ ì—¬ëŸ¬ ê°œë¥¼ ë™ì‹œì— ëª…ë ¹í•  ìˆ˜ ìˆë‹¤.\nmysql> GRANT {ê¶Œí•œ} ON db.table TO 'user'@'host';\n\n-- ì°¸ê³ : GRANT OPTION ê¶Œí•œì€ ë§ˆì§€ë§‰ì— WITH GRANT OPTIONì„ ì¶”ê°€í•œë‹¤.\nmysql> GRANT OPTION ON db.table TO 'user'@'host' WITH GRANT OPTION;\n\n-- ê¸€ë¡œë²Œ ê¶Œí•œì€ ON ì ˆì— í•­ìƒ *.* ì„ ì‚¬ìš©í•œë‹¤.\n-- *.*ì€ ëª¨ë“  DBì˜ ê°ì²´ë¥¼ í¬í•¨í•´ MySQL ì„œë²„ ì „ì²´ë¥¼ ì˜ë¯¸í•œë‹¤.\nmysql> GRANT SUPER ON *.* TO 'user'@'localhost';\n\n-- DB ê¶Œí•œì€ íŠ¹ì • DBì— ëŒ€í•´ì„œë§Œ ê¶Œí•œì„ ë¶€ì—¬í•˜ê±°ë‚˜ ì„œë²„ì— ì¡´ì¬í•˜ëŠ” ëª¨ë“  DBì— ëŒ€í•´ ê¶Œí•œì„ ë¶€ì—¬í•  ìˆ˜ ìˆë‹¤.\n-- ì—¬ê¸°ì„œ DBë¼ í•¨ì€ DB ë‚´ë¶€ì— ì¡´ì¬í•˜ëŠ” í…Œì´ë¸”ë¿ë§Œ ì•„ë‹ˆë¼ ìŠ¤í† ì–´ë“œ í”„ë¡œê·¸ë¨ë“¤ë„ ëª¨ë‘ í¬í•¨ì´ë‹¤.\n-- í•˜ì§€ë§Œ DB ê¶Œí•œë§Œ ë¶€ì—¬í•˜ëŠ” ê²½ìš° employees.departmentì™€ ê°™ì´ í…Œì´ë¸”ê¹Œì§€ ëª…ì‹œí•  ìˆ˜ ì—†ë‹¤.\nmysql> GRANT EVENT ON *.* TO 'user'@'localhost';\nmysql> GRANT EVENT ON employees.* TO 'user'@'localhost';\n\n-- í…Œì´ë¸” ê¶Œí•œì€ ì„œë²„ì˜ ëª¨ë“  DBì— ëŒ€í•´, íŠ¹ì • DBì˜ ëª¨ë“  ì˜¤ë¸Œì íŠ¸ì— ëŒ€í•´, íŠ¹ì • DBì˜ íŠ¹ì • í…Œì´ë¸”ì— ëŒ€í•´ì„œ ê¶Œí•œì„ ë¶€ì—¬í•  ìˆ˜ ìˆë‹¤.\nmysql> GRANT SELECT,INSERT,UPDATE ON *.* TO 'user'@'localhost';\nmysql> GRANT SELECT,INSERT,UPDATE ON employees.* TO 'user'@'localhost';\nmysql> GRANT SELECT,INSERT,UPDATE ON employees.department TO 'user'@'localhost';\n```\n\n### 5-2. ì‹¤ì œ ê¶Œí•œì„ ì‚¬ìš©í•œ ì‚¬ë¡€\n\nìš°ì•„í•œí…Œí¬ì½”ìŠ¤ í”„ë¡œì íŠ¸ ìš”êµ¬ì‚¬í•­ ì¤‘, ìš´ì˜ DB ì„œë²„ë¥¼ `DROP`í•˜ì§€ ëª»í•˜ë„ë¡ í•˜ëŠ” ìš”êµ¬ì‚¬í•­ì´ ìˆì—ˆë‹¤.\n\nì´ë¥¼ `celuveat_prod` ê³„ì •ì˜ ê¶Œí•œì—ì„œ `DROP`ì„ ì œê±°í•˜ëŠ” ì‹ìœ¼ë¡œ ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡±í–ˆë‹¤.\n\n### 5-3. ê¶Œí•œ í™•ì¸í•˜ê¸°\n\n```sql\n# ì‚¬ìš©ìë³„ ê¶Œí•œ í™•ì¸\nmysql> SHOW GRANTS FOR 'ì‚¬ìš©ìê³„ì •'@'í˜¸ìŠ¤íŠ¸';\n# ì ‘ì†ëœ ê³„ì • ê¶Œí•œ í™•ì¸\nmysql> SHOW GRANTS FOR CURRENT_USER;\n```\n\n### 5-4. ê¶Œí•œ í•´ì œí•˜ê¸°\n\nê¶Œí•œì„ ë¹¼ì•—ê³  ì‹¶ì„ ê²½ìš°ê°€ ìˆì„ ê²ƒì´ë‹¤.\n\nê·¸ëŸ´ ë• ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì´ìš©í•˜ë©´ ëœë‹¤.\n\n```sql\nmysql> REVOKE ê¶Œí•œ1, ê¶Œí•œ2, ... ON ë°ì´í„°ë² ì´ìŠ¤.í…Œì´ë¸” FROM 'ì‚¬ìš©ì'@'í˜¸ìŠ¤íŠ¸';\n```\n\n![ê¶Œí•œ í•´ì œ ì „](before_revoke.png)\n\n![ê¶Œí•œ í•´ì œ í›„](after_revoke.png)\n\n\n## 6. ì—­í• (Role)\n\nv8.0ë¶€í„° ê¶Œí•œì„ ë¬¶ì–´ ì—­í• (Role)ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëë‹¤.\n\n```sql\n-- ì—­í•  ìƒì„±\nmysql> CREATE ROLE role_emp_read, role_emp_write;\n\n-- ì—­í• ì— ê¶Œí•œ ë¶€ì—¬\nmysql> GRANT SELECT ON employees.* TO role_emp_read;\nmysql> GRANT INSERT, UPDATE, DELETE ON employees.* TO role_emp_write;\n\n-- ê³„ì • ìƒì„±\nmysql> CREATE USER reader@localhost IDENTIFIED BY 'abcd';\nmysql> CREATE USER writer@localhost IDENTIFIED BY '1234';\n\n-- ê³„ì •ì— ì—­í•  ë¶€ì—¬\nmysql> GRANT role_emp_reader TO reader@localhost;\nmysql> GRANT role_emp_writer TO writer@localhost;\n\n-- ì—­í•  í™œì„±í™”\n-- ì£¼ì˜! ê³„ì •ì´ ë¡œê·¸ì•„ì›ƒëë‹¤ê°€ ë¡œê·¸ì¸í•˜ë©´ ì—­í• ì´ ë¹„í™œì„±í™”ëœë‹¤. ì•„ë˜ ëª…ë ¹ì–´ë¥¼ í†µí•´ í™œì„±í™”ë¥¼ ì‹œì¼œì£¼ì.\n-- ìë™ìœ¼ë¡œ í™œì„±í™”ë¥¼ ì‹œì¼œì£¼ë ¤ë©´ activate_all_roles_on_login ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ON ìœ¼ë¡œ ì„¤ì •í•´ì£¼ì.\nmysql> SET ROLE role_emp_reader;\nmysql> SET ROLE role_emp_writer;\n```"},{"excerpt":"ğŸ“ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸ ë³‘í–‰ì„±(ë™ì‹œì„±)ê³¼ ë³‘ë ¬ì„±ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”. í”„ë¡œì„¸ìŠ¤ ë™ê¸°í™”ì— ëŒ€í•´ ì„¤ëª…í•´ ì£¼ì„¸ìš”. Critical Section(ì„ê³„ ì˜ì—­)ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”. Race Condition(ê²½ìŸ ì¡°ê±´)ì´ ë¬´ì—‡ì¸ê°€ìš”? Mutual Exclusion(ìƒí˜¸ ë°°ì œ)ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”. ë®¤í…ìŠ¤(Mutex)ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”. ì„¸ë§ˆí¬ì–´ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”. â€¦","fields":{"slug":"/os-interview-study-4week/"},"frontmatter":{"date":"November 30, 2023","title":"[JSCODE] - OS ë©´ì ‘ ìŠ¤í„°ë”” 4ì£¼ì°¨","tags":["operating-system","interview"]},"rawMarkdownBody":"\n## ğŸ“ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸\n\n### ë³‘í–‰ì„±(ë™ì‹œì„±)ê³¼ ë³‘ë ¬ì„±ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\n```\n[ë³‘í–‰ì„±]\në³‘í–‰ì„±ì€ ì½”ì–´ 1ê°œë¥¼ ê°€ì§„ CPUê°€ 2ê°œ ì´ìƒì˜ ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ê²ƒì„ ìƒê°í•˜ë©´ ë©ë‹ˆë‹¤.\n\nì´ëŠ” ë§ˆì¹˜ ì‚¬ìš©ì ì…ì¥ì—ì„œ ë™ì‹œì— ì‹¤í–‰ë˜ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ëŠ”ë°ìš”.\nì‹¤ì œë¡œ ë‘ ì‘ì—…ì„ ë™ì‹œì— ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ, ë‘ ì‘ì—…ì„ ë§¤ìš° ë¹ ë¥¸ ì†ë„ë¡œ ë²ˆê°ˆì•„ê°€ë©´ì„œ ì²˜ë¦¬ë¥¼ í•©ë‹ˆë‹¤. ì´ ì†ë„ê°€ ë§¤ìš° ë¹ ë¥´ê¸°ì— ì‚¬ìš©ì ì…ì¥ì—ì„œëŠ” ë™ì‹œì— ì²˜ë¦¬ë˜ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì…ë‹ˆë‹¤.\n\n[ë³‘ë ¬ì„±]\nì½”ì–´ 2ê°œë¥¼ ê°€ì§„ CPUê°€ 2ê°œ ì´ìƒì˜ ì‘ì—…ì„ ë³‘ë ¬ì ìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤ê³  ìƒê°í•˜ë©´ ë©ë‹ˆë‹¤.\n\në‘ ë°©ì‹ ëª¨ë‘ ì—¬ëŸ¬ ì‘ì—…ì´ ê³µìœ  ìì›ì— ì ‘ê·¼í•  ë•Œ ìƒê¸¸ ìˆ˜ ìˆëŠ” ì—¬ëŸ¬ ë¬¸ì œê°€ ì¡´ì¬í•©ë‹ˆë‹¤.\n```\n\n### í”„ë¡œì„¸ìŠ¤ ë™ê¸°í™”ì— ëŒ€í•´ ì„¤ëª…í•´ ì£¼ì„¸ìš”.\n\n```\nì—¬ëŸ¬ ì‘ì—…ì´ ê³µìœ  ìì›ì„ ì‚¬ìš©í•  ë•Œ ìƒê¸¸ ìˆ˜ ìˆëŠ” ë™ì‹œì„± ë¬¸ì œë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•œ ê°œë…ì…ë‹ˆë‹¤.\nì´ë¥¼ ì ìš©í•˜ëŠ” ë°©ë²•ìœ¼ë¡œëŠ” ìŠ¤í•€ë½, ë®¤í…ìŠ¤, ì„¸ë§ˆí¬ì–´ê°€ ìˆìŠµë‹ˆë‹¤.\n```\n\n### Critical Section(ì„ê³„ ì˜ì—­)ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\n```\nì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ê°€ ê³µìœ  ìì›ì„ ì‚¬ìš©í•˜ë ¤ê³  í•  ë•Œ, ê·¸ ê³µìœ  ìì›ì— ì ‘ê·¼í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê³¼ì •ê¹Œì§€ì˜ ì˜ì—­ì…ë‹ˆë‹¤. í”„ë¡œì„¸ìŠ¤ ë™ê¸°í™”ë¥¼ ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ê°œë…ì…ë‹ˆë‹¤.\n```\n\n### Race Condition(ê²½ìŸ ì¡°ê±´)ì´ ë¬´ì—‡ì¸ê°€ìš”?\n\n```\nì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤/ì“°ë ˆë“œê°€ ë™ì‹œì— ê°™ì€ ìì›ì— ì ‘ê·¼í•˜ì—¬ ì¡°ì‘í•  ë•Œ, ì‘ì—…ë“¤ì˜ íƒ€ì´ë°ì´ë‚˜ ì‘ì—… ìˆœì„œì— ë”°ë¼ ê²°ê³¼ê°€ ê¸°ëŒ€í–ˆë˜ ê²ƒê³¼ ë‹¬ë¼ì§€ëŠ” ìƒí™©ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\n\n<ìì„¸í•œ ì˜ˆì‹œ>\në‘ ê°œì˜ ì“°ë ˆë“œê°€ í•˜ë‚˜ì˜ ì „ì—­ ë³€ìˆ˜ë¥¼ ìˆ˜ì •í•˜ëŠ” ìƒí™©ì„ ê°€ì •í•´ë³´ê² ìŠµë‹ˆë‹¤.\nì „ì—­ ë³€ìˆ˜ë¥¼ +1 í•˜ë ¤ëŠ” ì‘ì—…ì€ CPU ë ˆë²¨ì—ì„œ ê°’ ì¡°íšŒ, ì—°ì‚°, ê°±ì‹ ì˜ ìˆœìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤.\në§Œì•½ ì“°ë ˆë“œ 1ë²ˆì´ ê°’ ì¡°íšŒë¥¼ í•˜ê³ , ê°’ì„ ë”í•œ ìƒíƒœì—ì„œ ì“°ë ˆë“œ 2ë²ˆìœ¼ë¡œ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ì´ ì¼ì–´ë‚œë‹¤ë©´, ì“°ë ˆë“œ 2ë²ˆì€ ì•„ì§ ë³€ê²½ë˜ì§€ ì•Šì€ ì „ì—­ ë³€ìˆ˜ ê°’ì„ ì½ê³ , ë”í•˜ê²Œ ë©ë‹ˆë‹¤. ì´ ìƒíƒœì—ì„œ ë‘ ì“°ë ˆë“œ ëª¨ë‘ ë©”ëª¨ë¦¬ì— ê°’ì„ ê°±ì‹ í•˜ë‹¤ë©´ ì–´ë–¤ ìˆœì„œë“  ê°„ì— 1ë¡œ ê°±ì‹ ë©ë‹ˆë‹¤.\nì´ëŸ¬í•œ ìƒí™©ì„ ê²½ìŸ ì¡°ê±´ì´ë¼ê³  í•©ë‹ˆë‹¤.\n\nì´ ê²½ìŸ ì¡°ê±´ì€, ìì›ì— ì ‘ê·¼í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ì˜ì—­ì„ ì„ê³„ ì˜ì—­ìœ¼ë¡œ ì„¤ì •í•˜ê³  ì´ ì„ê³„ ì˜ì—­ì— ì˜¤ì§ í•˜ë‚˜ì˜ ì“°ë ˆë“œë§Œì´ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í•¨ìœ¼ë¡œì¨ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nëŒ€í‘œì ì¸ ì˜ˆë¡œëŠ” ìŠ¤í•€ë½, ë®¤í…ìŠ¤, ì„¸ë§ˆí¬ì–´ ë°©ì‹ì´ ìˆìŠµë‹ˆë‹¤.\n```\n\n### Mutual Exclusion(ìƒí˜¸ ë°°ì œ)ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\n```\ní•œêµ­ë§ë¡œ 'ìƒí˜¸ ë°°ì œ' ë¼ëŠ” ë§ì…ë‹ˆë‹¤.\nì¦‰, í•˜ë‚˜ì˜ ì“°ë ˆë“œê°€ ê³µìœ  ìì›ì„ ì‚¬ìš©í•  ë•Œ ë‹¤ë¥¸ ì“°ë ˆë“œê°€ ì ‘ê·¼í•˜ì§€ ëª»í•˜ë„ë¡ í•œë‹¤ëŠ” ê°œë…ì…ë‹ˆë‹¤.\n```\n\n### ë®¤í…ìŠ¤(Mutex)ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\n```\nMutual Exlcusionì˜ ì•½ìë¡œ, ìƒí˜¸ ë°°ì œë¥¼ ìœ„í•œ ë™ê¸°í™” ê¸°ë²• ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.\n**í•˜ë‚˜ì˜ ì„ê³„ ì˜ì—­**ì— **í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ë‚˜ ì“°ë ˆë“œ**ë§Œ ë“¤ì–´ê°€ ì‘ì—…ì„ í•  ìˆ˜ ìˆë‹¤ëŠ” ê°œë…ì…ë‹ˆë‹¤.\n\nì´ ê¸°ë²•ì€ ë®¤í…ìŠ¤ ë½ì´ë¼ëŠ” ê°œë…ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.\n\në³´í†µ ì„ê³„ ì˜ì—­ì— í•˜ë‚˜ì˜ ê³µìœ  ìì›ì´ ì¡´ì¬í•©ë‹ˆë‹¤.\n\n**ìƒí˜¸ ë°°ì œë¥¼ í•  ìˆ˜ ìˆëŠ” ë°©ë²•**ìœ¼ë¡œëŠ” **ìŠ¤í•€ë½ ë°©ì‹ê³¼ ë®¤í…ìŠ¤ ë°©ì‹**ì´ ì¡´ì¬í•©ë‹ˆë‹¤.\në‘ ë°©ë²• ëª¨ë‘ **Mutex Lockì´ë¼ëŠ” ê°œë…ì„ ì‚¬ìš©**í•©ë‹ˆë‹¤. ì´ ë½ì€ 1ê°œë§Œ ì¡´ì¬í•©ë‹ˆë‹¤.\nì„ê³„ ì˜ì—­ì— ì ‘ê·¼í•  ë•Œ ì´ ë½ì„ íšë“í•  ìˆ˜ ìˆë‹¤ë©´ ë½ì„ íšë“í•˜ê³  ì„ê³„ ì˜ì—­ì— ì ‘ê·¼í•©ë‹ˆë‹¤.\në§Œì•½ ì´ë•Œ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ê°€ ì„ê³„ ì˜ì—­ì— ì ‘ê·¼í•˜ë ¤ê³  í•  ë•Œ ì´ ë½ì„ íšë“í•  ë•Œê¹Œì§€ ì„ê³„ ì˜ì—­ì— ì ‘ê·¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë½ì„ íšë“í•˜ê³  ë‚˜ì„œì•¼ ë¹„ë¡œì†Œ ì„ê³„ ì˜ì—­ì— ì ‘ê·¼ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\nì—¬ê¸°ì„œ ë½ì„ íšë“í•˜ëŠ” ë°©ì‹ì˜ ì°¨ì´ê°€ ìŠ¤í•€ë½ ë°©ì‹ê³¼ ë®¤í…ìŠ¤ ë°©ì‹ì˜ ì°¨ì´ì…ë‹ˆë‹¤.\n\nìŠ¤í•€ë½ ë°©ì‹ì˜ ê²½ìš° ë½ì„ íšë“í•  ë•Œê¹Œì§€ ê³„ì†í•´ì„œ í™•ì¸í•©ë‹ˆë‹¤.\nì´ì™€ ë‹¤ë¥´ê²Œ ë®¤í…ìŠ¤ ë°©ì‹ì˜ ê²½ìš°, ë½ì„ íšë“í•˜ì§€ ëª»í•˜ë©´ ë³¸ì¸ì„ ëŒ€ê¸° íì— ë„£ì–´ë‘ê³  ì„ê³„ ì˜ì—­ì—ì„œ ì²˜ë¦¬ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ê°€ ë½ì„ ë°˜í™˜í•  ë•Œ, ëŒ€ê¸° íì— ìˆëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ê¹¨ìš°ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.\n\nìŠ¤í•€ë½ ë°©ì‹ì˜ ê²½ìš° ë½ì„ íšë“í•  ë•Œê¹Œì§€ CPUë¥¼ ë¬´í•œì • ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë¬¸ì œì ì´ ìˆì§€ë§Œ, ë©€í‹° ì½”ì–´ í™˜ê²½ì´ë©° ì„ê³„ ì˜ì—­ì—ì„œì˜ ì‘ì—… ì‹œê°„ì´ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ë³´ë‹¤ ë” ë¹¨ë¦¬ ëë‚œë‹¤ë©´ ë®¤í…ìŠ¤ì— ë¹„í•´ ë” ì´ì ì´ ìˆë‹¤.\në®¤í…ìŠ¤ëŠ” ëŒ€ê¸° íë¡œ ê°”ë‹¤ê°€, ê¹¨ì›€ì„ ë‹¹í•´ ë‹¤ì‹œ CPUë¥¼ í• ë‹¹ë°›ëŠ” ê³¼ì •ì—ì„œ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ ì‘ì—…ì´ í•„ìš”í•˜ë‹¤. í•˜ì§€ë§Œ, ì„ê³„ ì˜ì—­ì—ì„œì˜ ì‘ì—…ì´ ë¹¨ë¦¬ ëë‚˜ë©´ êµ³ì´ ëŒ€ê¸° íë¡œ ê°”ë‹¤ì˜¤ëŠ” ì‘ì—…ê³¼ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ ì‘ì—…ì´ ë¶ˆí•„ìš”í•´ì§€ê¸° ë•Œë¬¸ì´ë‹¤.\nê²Œë‹¤ê°€ ì‹±ê¸€ ì½”ì–´ì—ì„œ ìŠ¤í•€ë½ ë°©ì‹ì€ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ì´ í•„ì—°ì ìœ¼ë¡œ ë°œìƒí•˜ê¸° ë•Œë¬¸ì´ë‹¤. ë©€í‹° ì½”ì–´ì—ì„œ ìŠ¤í•€ë½ ë°©ì‹ì„ ì ìš©í•œë‹¤ë©´ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ì—†ì´ Core1ì€ Lockì„ ì ìœ í•˜ê³  Core2ëŠ” Lockì— ëŒ€í•´ ê³„ì†í•´ì„œ ëŒ€ê¸°í•˜ëŠ” ìƒí™©ì´ë¼ë©´ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ì—†ì´ ë” ë¹ ë¥´ê²Œ Lockì„ íšë“í•  ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤.\n```\n\n### ì„¸ë§ˆí¬ì–´ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\n```\nì—¬ëŸ¬ ê°œì˜ ì“°ë ˆë“œê°€ ê³µìœ  ìì›ì— ë™ì‹œì— ì ‘ê·¼í•˜ëŠ” ê²ƒì„ **ì œí•œí•˜ê¸° ìœ„í•œ ì •ìˆ˜**ì˜ ê°œë…ì…ë‹ˆë‹¤.\n\në®¤í…ìŠ¤ì™€ ë‹¬ë¦¬ í•˜ë‚˜ì˜ ì„ê³„ ì˜ì—­ì— ì—¬ëŸ¬ ê°œì˜ ê³µìœ  ìì›ì´ ì¡´ì¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në”°ë¼ì„œ ì„ê³„ ì˜ì—­ì— ì¡´ì¬í•˜ëŠ” ê³µìœ  ìì›ì˜ ìˆ˜ë§Œí¼ ì •ìˆ˜ê°€ ì´ˆê¸°í™”ë˜ê³ , ì“°ë ˆë“œê°€ ì„¸ë§ˆí¬ì–´ì— ì ‘ê·¼ ìš”ì²­ì„ í•˜ë©´ ì •ìˆ˜ë¥¼ 1 ê°ì†Œì‹œí‚µë‹ˆë‹¤.\në§Œì•½ ì´ ê°’ì´ 0ì´ë¼ë©´ í˜„ì¬ ì„ê³„ ì˜ì—­ ë‚´ì˜ ëª¨ë“  ê³µìœ  ìì›ì„ ê°ê°ì˜ ì“°ë ˆë“œê°€ ì ‘ê·¼í•˜ê³  ìˆëŠ” ê²ƒì´ë¯€ë¡œ ë” ì´ìƒ ì ‘ê·¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\nì´ë•Œ, ë‹¤ë¥¸ ì“°ë ˆë“œê°€ ì ‘ê·¼ ìš”ì²­ì„ í•˜ê²Œ ë˜ë©´ ì´ ì •ìˆ˜ê°’ì€ -1ë¡œ ê°ì†Œí•˜ê³  ëŒ€ê¸° íì— ë“¤ì–´ê°‘ë‹ˆë‹¤.\nì´í›„ì— ê³µìœ  ìì›ì„ ëª¨ë‘ ì‚¬ìš©í•œ ì“°ë ˆë“œê°€ ì„ê³„ ì˜ì—­ì„ ë‚˜ì˜¬ ë•Œ, ì„¸ë§ˆí¬ì–´ ê°’ì„ 1 ì¦ê°€í•˜ê³  ëŒ€ê¸° íì— ìˆëŠ” ì“°ë ˆë“œë¥¼ ê¹¨ì›ë‹ˆë‹¤. ê·¸ë¦¬ê³  í•´ë‹¹ ì“°ë ˆë“œê°€ ë‹¤ì‹œ í•œë²ˆ ì„¸ë§ˆí¬ì–´ì— ì ‘ê·¼í•˜ê²Œ ë©ë‹ˆë‹¤.\n```\n\n### ë®¤í…ìŠ¤(Mutex)ì™€ ì´ì§„ ì„¸ë§ˆí¬ì–´ì˜ ì°¨ì´ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\n```\nì„¸ë§ˆí¬ì–´ëŠ” í•˜ë‚˜ì˜ ì„ê³„ ì˜ì—­ì•ˆì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê³µìœ  ìì›ì˜ ìˆ˜ë¥¼ ì¡°ì ˆí•  ìˆ˜ ìˆëŠ” ì ì—ì„œ, ì´ì§„ ì„¸ë§ˆí¬ì–´ëŠ” ë®¤í…ìŠ¤ë¥¼ ëŒ€ì‹ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ ë®¤í…ìŠ¤ëŠ” ì´ì§„ ì„¸ë§ˆí¬ì–´ë¥¼ ëŒ€ì‹ í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\nì¶”ê°€ë¡œ ì„¸ë§ˆí¬ì–´ëŠ” ì‘ì—… ê°„ ì‹¤í–‰ ìˆœì„œë¥¼ ë™ê¸°í™”í•  ìˆ˜ ìˆì§€ë§Œ, ë®¤í…ìŠ¤ëŠ” ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤. <### ì¶”ê°€ í•™ìŠµ í•„ìš”\n```\n\n### ëª¨ë‹ˆí„°ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\n```\nì„¸ë§ˆí¬ì–´ë¥¼ ì´ìš©í•˜ë‹¤ë³´ë©´ ê°œë°œìì˜ ì‹¤ìˆ˜ë¡œ ì¸í•´ ê²½ìŸ ì¡°ê±´ì´ë‚˜, ë°ë“œë½ ë˜ëŠ” ê¸°ì•„ìƒíƒœê°€ ë°œìƒí•œë‹¤.\n\ní•˜ì§€ë§Œ ì´ëŠ” íŠ¹ì • ìƒí™©ì—ë§Œ ë°œìƒí•˜ëŠ” ë¬¸ì œë“¤ì´ë¯€ë¡œ ë””ë²„ê¹…í•˜ê¸° ë§¤ìš° ì–´ë µë‹¤ëŠ” ë¬¸ì œê°€ ìˆë‹¤.\n\në”°ë¼ì„œ í”„ë¡œì„¸ìŠ¤ ë™ê¸°í™”ë¥¼ ë” ì‰½ê³  í™•ì‹¤í•˜ê²Œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ë°©ë²•ìœ¼ë¡œ ëª¨ë‹ˆí„° ë°©ì‹ì´ íƒ„ìƒí–ˆë‹¤.\n\nëª¨ë‹ˆí„° ë°©ì‹ì€ ê¸°ë³¸ì ìœ¼ë¡œ ë®¤í…ìŠ¤ ë°©ì‹ì„ ì‚¬ìš©í•´ì„œ êµ¬í˜„í•œë‹¤.\n\nëª¨ë‹ˆí„° ë°©ì‹ì„ ì„¤ëª…í•˜ê¸° ìœ„í•´ì„  ìƒì‚°ì-ì†Œë¹„ì ë¬¸ì œê°€ ëŒ€í‘œì ì´ë‹¤.\n\n> ìì„¸í•œ ë‚´ìš©ì€ [í…Œì½”í†¡](https://youtu.be/4t8BennljZA?si=lEfu-OTT2cMYlgrB)ì„ ì°¸ê³ í•˜ì.\n\nê°„ë‹¨íˆ ì„¤ëª…í•˜ìë©´, ìƒì‚°ìì™€ ì†Œë¹„ì ì‚¬ì´ì—ëŠ” í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê³µê°„ì´ ìˆê³  ìƒì‚°ìëŠ” ì´ ê³µê°„ì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³ , ì†Œë¹„ìëŠ” ë°ì´í„°ë¥¼ ì†Œë¹„í•œë‹¤.\nì´ë•Œ ê³µê°„ì´ ê½‰ ì°¨ ìˆìœ¼ë©´ ìƒì‚°ìëŠ” ì¶”ê°€í•  ìˆ˜ ì—†ê³ , ë°˜ëŒ€ë¡œ ê³µê°„ì´ ë¹„ì–´ìˆìœ¼ë©´ ì†Œë¹„ìëŠ” ì†Œë¹„í•  ìˆ˜ ì—†ë‹¤.\n\nì´ë¥¼ ëª¨ë‹ˆí„° ë°©ì‹ì„ í†µí•´ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.\n\nê° ë©”ì„œë“œ(ìƒì‚°ì or ì†Œë¹„ì)ëŠ” ë½ì„ íšë“í•˜ì—¬ ì„ê³„ ì˜ì—­ì— ë“¤ì–´ê°€ë©´, ë³¸ì¸ì´ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ì¡°ê±´ì¸ì§€ë¥¼ ë¨¼ì € í™•ì¸í•œë‹¤. (ê³µê°„ì´ ë¹„ì–´ìˆëŠ”ì§€? ê½‰ì°¼ëŠ”ì§€?) ìˆ˜í–‰í•  ìˆ˜ ì—†ëŠ” ì¡°ê±´ì´ë¼ë©´ ë³¸ì¸ì„ ëŒ€ê¸° íì— ë„£ëŠ”ë‹¤.\n\nìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ì¡°ê±´ì´ë¼ë©´ ì •í•´ì§„ ë™ì‘ì„ í•˜ê³  ëª¨ë‘ ëì´ ë‚˜ë©´ ëŒ€ê¸° íì— ìˆëŠ” ë¬´ì‘ìœ„ì˜ ì“°ë ˆë“œë¥¼ ê¹¨ìš°ê³  ë½ì„ ë°˜í™˜í•˜ëŠ” í˜•ì‹ì´ë‹¤.\n```\n\n### ë°ë“œë½ì´ ë¬´ì—‡ì¸ê°€ìš”?\n\n```\nì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ê°€ í•„ìš”í•œ ìì›ì„ ìš”ì²­í•˜ëŠ” ê³¼ì •ì—ì„œ ê·¸ ì–´ë–¤ í”„ë¡œì„¸ìŠ¤ë„ ë” ì´ìƒ ì§„í–‰í•  ìˆ˜ ì—†ëŠ” ìƒíƒœì…ë‹ˆë‹¤.\nìì›ì„ ëŒ€ê¸°í•˜ëŠ” blocked ìƒíƒœì—ì„œ ì˜êµ¬íˆ ëŒ€ê¸°í•œë‹¤.\n```\n\n### ë°ë“œë½ ë°œìƒ ì¡°ê±´ 4ê°€ì§€ë¥¼ ì„¤ëª…í•´ ì£¼ì„¸ìš”.\n\n```\n1. ìƒí˜¸ ë°°ì œ: ë¦¬ì†ŒìŠ¤ëŠ” í•œë²ˆì— í•˜ë‚˜ì˜ ì“°ë ˆë“œë§Œì´ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.\n2. Hold and wait: ì“°ë ˆë“œê°€ ì´ë¯¸ í•˜ë‚˜ ì´ìƒì˜ ë¦¬ì†ŒìŠ¤ë¥¼ íšë“í•œ ìƒíƒœì—ì„œ ë‹¤ë¥¸ ë¦¬ì†ŒìŠ¤ë¥¼ íšë“í•˜ê¸° ìœ„í•´ ëŒ€ê¸°í•˜ëŠ” ìƒíƒœ\n3. No preemption: ë¦¬ì†ŒìŠ¤ ë°˜í™˜ì€ í•´ë‹¹ ë¦¬ì†ŒìŠ¤ë¥¼ ì·¨ë“í•œ ë¦¬ì†ŒìŠ¤ë§Œì´ í•  ìˆ˜ ìˆë‹¤.\n4. Circular wait: ì“°ë ˆë“œë“¤ì´ ìˆœí™˜ í˜•íƒœë¡œ \n```\n\n### ë°ë“œë½ íšŒí”¼ ë°©ë²•ì€ ë¬´ì—‡ì´ ìˆë‚˜ìš”?\n\në°œìƒ ì¡°ê±´ 4ê°€ì§€ ì¤‘ 1ê°€ì§€ë§Œì´ë¼ë„ í•´ê²°í•˜ë©´ ëœë‹¤.\n1) ë¦¬ì†ŒìŠ¤ë¥¼ ê³µìœ  ê°€ëŠ¥í•˜ê²Œ í•œë‹¤. -> ì´ëŠ” ê²½ìŸ ì¡°ê±´ ë¬¸ì œ ë°œìƒ\n2) ì‚¬ìš©í•  ë¦¬ì†ŒìŠ¤ë¥¼ ëª¨ë‘ íšë“í•œ ë’¤ì— ì‹œì‘í•˜ë„ë¡ í•˜ê±°ë‚˜, ë¦¬ì†ŒìŠ¤ë¥¼ íšë“í•˜ì§€ ì•Šì€ ìƒíƒœì—ì„œë§Œ ë¦¬ì†ŒìŠ¤ë¥¼ ìš”ì²­í•˜ê²Œë” í•œë‹¤. -> ë¦¬ì†ŒìŠ¤ ì‚¬ìš© íš¨ìœ¨ì´ ë–¨ì–´ì§ˆ ìˆ˜ ìˆë‹¤. ë˜ëŠ” ì¸ê¸° ë§ì€ ë¦¬ì†ŒìŠ¤ë¥¼ ê³„ì†í•´ì„œ ê¸°ë‹¤ë ¤ì„œ ê¸°ì•„ ìƒíƒœì— ë°œìƒí•  ìˆ˜ ìˆë‹¤.\n3) ì¶”ê°€ ë¦¬ì†ŒìŠ¤ë¥¼ íšë“í•˜ë ¤ë©´, ê°€ì§€ê³  ìˆëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ ë‹¤ë¥¸ ë¦¬ì†ŒìŠ¤ê°€ ì„ ì í•  ìˆ˜ ìˆë„ë¡í•œë‹¤.\n4) ëª¨ë“  ë¦¬ì†ŒìŠ¤ì— ìˆœì„œ ì²´ê³„ë¥¼ ë¶€ì—¬í•˜ê³  ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ë¥¼ ìš”ì²­í•œë‹¤.\n\ní•˜ì§€ë§Œ ëª¨ë‘ ì•½ê°„ì˜ ë¬¸ì œë“¤ì´ ì¡´ì¬í•œë‹¤.\në”°ë¼ì„œ ë°ë“œë½ íšŒí”¼(ë±…ì»¤ ì•Œê³ ë¦¬ì¦˜) ë˜ëŠ” ë°ë“œë½ ê°ì§€ ë° ë³µêµ¬\n\n## ğŸ¤” ê°œì¸ì ì¸ ê¶ê¸ˆì¦\n\n### ì„¸ë§ˆí¬ì–´ì˜ ì •ìˆ˜ê°’ì€ ì–´ë–»ê²Œ ë™ê¸°í™”ë¥¼ í•  ìˆ˜ ìˆì„ê¹Œ?\n\nì„¸ë§ˆí¬ì–´ì˜ wait(), signal()ì—ì„œ lockì„ íšë“í•˜ê¸° ìœ„í•œ ë©”ì„œë“œëŠ” CPU ë ˆë²¨ì—ì„œ Atomicí•œ ì—°ì‚°ì„ ì§€ì›í•œë‹¤.\në‹¤ì‹œ ë§í•´, í•˜ë‚˜ì˜ ì“°ë ˆë“œê°€ lockì„ íšë“í•˜ê¸° ìœ„í•œ ê³¼ì • ë„ì¤‘ì— ë‹¤ë¥¸ ì“°ë ˆë“œê°€ ì—°ì‚° ì¤‘ê°„ì— ë¼ì§€ ëª»í•œë‹¤.\n\nì´ë¥¼ í†µí•´ \n\n## ğŸ¯ í”¼ë“œë°±\n\nì„ê³„ ì˜ì—­ì„ ì„¤ëª…í•  ë•Œ ë‹¤ì†Œ ì„¤ëª…ì´ ì¥í™©í•´ì¡Œë‹¤.\nê·¸ ì™¸ì—ëŠ” ë‘ê´„ì‹ìœ¼ë¡œ ë‹µë³€í•˜ë ¤ê³  ë…¸ë ¥í•˜ëŠ” ê²ƒì´ ì˜ ë³´ì˜€ë‹¤."},{"excerpt":"TDDë€? Test Driven Development. í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œì´ë‹¤. ë³´í†µ '~~ ì£¼ë„ ê°œë°œ' ì´ë¼ê³  ì´ë¦„ì´ ë¶™ìœ¼ë©´, ê°œë°œí•  ë•Œ '~~' ë¥¼ 1ìˆœìœ„ë¡œ ì—¬ê¸°ë©° ê°œë°œí•˜ëŠ” ë°©ë²•ë¡ ì„ ì˜ë¯¸í•œë‹¤. ì¦‰, í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œì€ í…ŒìŠ¤íŠ¸ë¥¼ 1ìˆœìœ„ë¡œ ì—¬ê¸°ë©° ê°œë°œí•˜ëŠ” ê°œë°œ ë°©ë²•ë¡ ì´ë‹¤. ê°œë°œ ë°©ë²•ë¡ ! ì–´ë–»ê²Œ í•˜ë‚˜? ê²°ë¡ : í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„± -> í”„ë¡œë•ì…˜ ì½”ë“œ ì‘ì„± -> â€¦","fields":{"slug":"/about-tdd/"},"frontmatter":{"date":"November 29, 2023","title":"TDD ì´í•´í•˜ê¸°","tags":["tdd","test"]},"rawMarkdownBody":"\n## TDDë€?\n\nTest Driven Development. í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œì´ë‹¤.\n\në³´í†µ '_~~ ì£¼ë„ ê°œë°œ_' ì´ë¼ê³  ì´ë¦„ì´ ë¶™ìœ¼ë©´, ê°œë°œí•  ë•Œ '_~~_' ë¥¼ 1ìˆœìœ„ë¡œ ì—¬ê¸°ë©° ê°œë°œí•˜ëŠ” **ë°©ë²•ë¡ **ì„ ì˜ë¯¸í•œë‹¤.\n\nì¦‰, í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œì€ í…ŒìŠ¤íŠ¸ë¥¼ 1ìˆœìœ„ë¡œ ì—¬ê¸°ë©° ê°œë°œí•˜ëŠ” **ê°œë°œ ë°©ë²•ë¡ **ì´ë‹¤.\n\n**ê°œë°œ ë°©ë²•ë¡ !**\n\n## ì–´ë–»ê²Œ í•˜ë‚˜?\n\nê²°ë¡ : _í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„± -> í”„ë¡œë•ì…˜ ì½”ë“œ ì‘ì„± -> ë¦¬íŒ©í„°ë§_ ìˆœìœ¼ë¡œ ì§„í–‰í•œë‹¤.\n\n### 1. í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±\n\nìš°ì„  êµ¬í˜„í•˜ë ¤ëŠ” ê¸°ëŠ¥ì— ëŒ€í•´ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•œë‹¤.\n\nì‘ì„±í•˜ê³  ëŒë¦¬ë©´ ë‹¹ì—°íˆ ì‹¤íŒ¨í•œë‹¤. ì™œ? ì•„ì§ í”„ë¡œë•ì…˜ ì½”ë“œê°€ ì—†ìœ¼ë‹ˆê¹Œ.<br>\nì–´ì©Œë©´ ì»´íŒŒì¼ ì¡°ì°¨ ì•ˆë  ê²ƒì´ë‹¤.\n\n### 2. í”„ë¡œë•ì…˜ ì½”ë“œ ì‘ì„±\n\nì´ì œ ê¸°ëŠ¥ì„ êµ¬í˜„í•œë‹¤.\n\ní…ŒìŠ¤íŠ¸ ì½”ë“œì™€ í”„ë¡œë•ì…˜ ì½”ë“œë¥¼ ì´ìƒì—†ì´ ì‘ì„±í–ˆë‹¤ë©´ í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•  ê²ƒì´ë‹¤.\n\nì´ë•Œ ì¤‘ìš”í•œ ì ì€, ì½”ë“œ í’ˆì§ˆì€ ì‹ ê²½ì“°ì§€ ì•Šì•„ë„ ëœë‹¤.\n\n### 3. ë¦¬íŒ©í„°ë§\n\nì½”ë“œ í’ˆì§ˆì€ ì´ì œ ì‹ ê²½ì“´ë‹¤.\n\nëŒì•„ê°€ëŠ” ì“°ë ˆê¸°ë¥¼ ë§Œë“¤ì—ˆë‹¤ë©´, ì´ì œ ì´ìœ ì“°ë ˆê¸°ë¡œ ë§Œë“¤ ì°¨ë¡€ì´ë‹¤.\n\ní…ŒìŠ¤íŠ¸ ì½”ë“œ, í”„ë¡œë•ì…˜ ì½”ë“œ ëª¨ë‘ ë¦¬íŒ©í„°ë§ì„ ì§„í–‰í•œë‹¤.\n\n## ì™œ í•˜ë‚˜?\n\nTDDë¥¼ í•´ë³¸ ê²½í—˜ìœ¼ë¡œ ì´ì•¼ê¸°í•˜ìë©´, ë²„ê·¸ê°€ ìƒê¸¸ í™•ë¥ ì´ í˜„ì €í•˜ê²Œ ë–¨ì–´ì§„ë‹¤. <br>\n(ë†’ì€ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ëŠ” ë¤)\n\ní™•ì‹¤íˆ í…ŒìŠ¤íŠ¸ ì½”ë“œë¡œ ë‚´ê°€ êµ¬í˜„í•˜ë ¤ëŠ” ê¸°ëŠ¥ì— ëŒ€í•´ í™•ì‹¤í•œ **ì•ˆì „ ì¥ì¹˜**ë¥¼ ê±¸ê³  ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ë‹ˆê¹Œ, ì•„ë¬´ë˜ë„ ì•ˆì „í•˜ë‹¤.\n\nêµ¬í˜„í•˜ë ¤ëŠ” ê¸°ëŠ¥ì— ëŒ€í•œ ë„ë©”ì¸ ì´í•´ë„ê°€ ì–´ëŠ ì •ë„ ìˆê³ , ì£¼ì–´ì§„ ì‹œê°„ì´ ì¶©ë¶„í•˜ë‹¤ë©´ ë‚˜ëŠ” TDDë¥¼ ê°€ê¸‰ì  í•  ê²ƒì´ë‹¤.\n\nì£¼ë³€ ì§€ì¸ë“¤ì—ê²Œë„ ì¶”ì²œí•  ê²ƒì´ë‹¤.\n\n## ë‹¨ì ì€?\n\nê¸°ëŠ¥ì„ ì‘ì„±í•˜ëŠ” ë°ê¹Œì§€ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦°ë‹¤.\n\nì•„ë¬´ë˜ë„ ëŒë‹¤ë¦¬ë¥´ ê±´ë„ ë•Œ ë‘ë“¤ê²¨ë³´ê³  ê±´ë„ˆëŠ” ê°œë…ì¸ë°, ì´ ë‘ë“¤ê¸°ëŠ” ì‹œê°„ì´ ìƒë‹¹í•˜ë‹¤.\n\nì²´ê° ìƒ ë°”ë¡œ í”„ë¡œë•ì…˜ ì½”ë“œë¥¼ ì‘ì„±í•  ë•Œì— ë¹„í•´ 2~3ë°°ëŠ” ê±¸ë¦¬ëŠ” ê²ƒ ê°™ë‹¤.\n\në˜, ë‚´ê°€ êµ¬í˜„í•˜ë ¤ëŠ” ê¸°ëŠ¥ì— ëŒ€í•´ ì„¤ê³„ ë°©ë²•ì´ë‚˜ ê°ì´ ì˜ ì˜¤ì§€ ì•Šê±°ë‚˜ ê°œë°œ ì´ˆê¸° ë‹¨ê³„ë¼ì„œ ë³€í™”ê°€ ë§¤ìš° ë¹ ë¥¸ ìƒí™©ì´ë¼ë©´ ë‚˜ëŠ” ë¹„ì¶”í•œë‹¤.\n\nTDDëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ í•„ì—°ì ìœ¼ë¡œ ë‚³ê²Œ ë˜ëŠ”ë°, ì´ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ìœ„ ìƒí™©ì—ì„œëŠ” ê±¸ë¦¼ëŒì´ê¸° ë•Œë¬¸ì´ë‹¤.\n\nTDDëŠ” ê°œë°œ **ë°©ë²•ë¡ **ì¼ ë¿ì´ë‹ˆ ë„ˆë¬´ ë§¹ì‹ í•˜ì§€ë§ì.\n\në¬´ì—‡ì´ë“  **ìƒí™©ì— ë§ê²Œ íŒë‹¨**í•˜ì.\n\n## ì°©ê°í•˜ê¸° ì‰¬ìš´ ê²ƒ\n\ní”„ë¡œì íŠ¸ì— TDDë¥¼ ì ìš©í•œë‹¤ê³  í–ˆì„ ë•Œ, í•­ìƒ ëª¨ë“  ê¸°ëŠ¥ì— ëŒ€í•´ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë¨¼ì € ì‘ì„±í•  ìˆ˜ ì—†ë‹¤.\n\në¬¼ë¡  êµ¬í˜„í•˜ë ¤ëŠ” ê¸°ëŠ¥ì— ëŒ€í•´ ë¶„ëª…í•˜ê³  í™•ì‹¤í•œ ìƒí™©ì´ë¼ë©´ TDDë¥¼ ì ìš©í•  ìˆ˜ ìˆì§€ë§Œ, ê°œë°œì´ë¼ëŠ” ê²Œ ì²˜ìŒ ìƒê°í•œëŒ€ë¡œ êµ¬í˜„í•˜ë‹¤ë³´ë©´ ìƒê°ì§€ë„ ëª»í•œ ê¸°ëŠ¥ì„ í•¨ê»˜ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ì¢…ì¢… ìˆë‹¤.\n\në”°ë¼ì„œ TDDë¥¼ ì²˜ìŒ ì‹œë„í•´ë³´ë ¤ëŠ” ì‚¬ëŒë“¤ì´ í˜¹ì—¬ë‚˜ \"í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë¨¼ì € ì‘ì„±í•˜ê¸° ì „ê¹Œì§€ëŠ” ê¸°ëŠ¥ êµ¬í˜„ ì•ˆí• ê±°ì•¼ !!\" ë¼ëŠ” ìƒê°ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤ê³  ìƒê°í•œë‹¤.\n\në³¸ì¸ì´ êµ¬í˜„í•˜ë ¤ëŠ” ê¸°ëŠ¥ì´ ë¬´ì—‡ì¸ì§€ ë¶„ëª…íˆ ì•„ëŠ” ì„ ì—ì„œ, TDDë¥¼ ì ìš©í•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•´ë³´ì¸ë‹¤.  "},{"excerpt":"ì´ ê¸€ì˜ ëª©ì  JUnitê³¼ AssertJì˜ í•™ìŠµ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ í†µí•´ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì²˜ìŒ í•´ë³´ë ¤ëŠ” ì‚¬ëŒì—ê²Œ ì–´ë–»ê²Œ ì“°ëŠ”ì§€ ê°„ë‹¨í•œ ê°€ì´ë“œ ë¼ì¸ ì œì‹œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸í•˜ë©´ì„œ ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê¸°ëŠ¥ì— ëŒ€í•´ ë‚˜ë§Œì˜ ì¹˜íŠ¸ ì‹œíŠ¸ ì—­í•  ì „ì²´ ì½”ë“œ ìì„¸í•œ ì „ì²´ ì½”ë“œëŠ” ì´ ê³³ì— ì˜¬ë ¤ë†“ì•˜ìŠµë‹ˆë‹¤. ìœ„ ë ˆí¬ì§€í† ë¦¬ë¥¼ ë¡œì»¬ì— cloneí•˜ê³  step3 ë¸Œëœì¹˜ë¡œ ì´ë™í•˜ë©´, í•™ìŠµ í…ŒìŠ¤íŠ¸ê°€ ì¡´â€¦","fields":{"slug":"/using-junit-and-assertJ/"},"frontmatter":{"date":"November 28, 2023","title":"JUnitê³¼ AssertJ í™œìš©ë²•","tags":["unit-test","JUnit","AssertJ","test"]},"rawMarkdownBody":"\n## ì´ ê¸€ì˜ ëª©ì \n\n- JUnitê³¼ AssertJì˜ í•™ìŠµ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ í†µí•´ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì²˜ìŒ í•´ë³´ë ¤ëŠ” ì‚¬ëŒì—ê²Œ ì–´ë–»ê²Œ ì“°ëŠ”ì§€ ê°„ë‹¨í•œ ê°€ì´ë“œ ë¼ì¸ ì œì‹œ\n- ë‹¨ìœ„ í…ŒìŠ¤íŠ¸í•˜ë©´ì„œ ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê¸°ëŠ¥ì— ëŒ€í•´ ë‚˜ë§Œì˜ ì¹˜íŠ¸ ì‹œíŠ¸ ì—­í• \n\n## ì „ì²´ ì½”ë“œ\n\nìì„¸í•œ ì „ì²´ ì½”ë“œëŠ” [ì´ ê³³](https://github.com/kdkdhoho/java-racingcar)ì— ì˜¬ë ¤ë†“ì•˜ìŠµë‹ˆë‹¤.\n\nìœ„ ë ˆí¬ì§€í† ë¦¬ë¥¼ ë¡œì»¬ì— cloneí•˜ê³  step3 ë¸Œëœì¹˜ë¡œ ì´ë™í•˜ë©´, í•™ìŠµ í…ŒìŠ¤íŠ¸ê°€ ì¡´ì¬í•©ë‹ˆë‹¤.\n\n## ì½”ë“œ ë°”ë¡œ ë³´ê¸°\n\n### 1. ë°°ì—´ ë˜ëŠ” ë¦¬ìŠ¤íŠ¸ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸°\n```java\npublic class AssertJWithIterableStudyTest {\n\n    @Test\n    void filteredOnTest() {\n        List<Member> members = members();\n\n        assertThat(members).filteredOn(Member::job, \"woowa developer\")\n                .hasSize(2)\n                .containsOnly(\n                        new Member(2, \"woowa developer\"),\n                        new Member(4, \"woowa developer\")\n                );\n    }\n\n    @Test\n    void containsExactlyVScontainsOnly() {\n        List<Member> members = members();\n\n        // contains: ìˆœì„œ ìƒê´€ì—†ì´ ì£¼ì–´ì§„ ìš”ì†Œê°€ ìˆê¸°ë§Œ í•˜ë©´ ëœë‹¤.\n        assertThat(members).extracting(\"id\")\n                .contains(5, 3, 2, 4, 1);\n\n        // containsOnly: ìˆœì„œ ìƒê´€ì—†ì´ ì£¼ì–´ì§„ ìš”ì†Œë§Œ ìˆì–´ì•¼ í•œë‹¤.\n        assertThat(members).extracting(\"id\")\n                .containsOnly(5, 4, 3, 2, 1);\n\n        // containsExactly: ìˆœì„œ, ì£¼ì–´ì§„ ìš”ì†Œ ëª¨ë‘ ë™ì¼í•´ì•¼ í•œë‹¤.\n        assertThat(members).extracting(\"id\")\n                .containsExactly(1, 2, 3, 4, 5);\n    }\n\n    @Test\n    void extractingTest1() {\n        List<Member> members = members();\n\n        assertThat(members).extracting(\"id\")\n                .containsExactly(1, 2, 3, 4, 5);\n    }\n\n    @Test\n    void extractingTest2() {\n        List<Member> members = members();\n\n        assertThat(members).extracting(\"id\", \"job\")\n                .containsExactly(\n                        tuple(1, \"job seeker\"),\n                        tuple(2, \"woowa developer\"),\n                        tuple(3, \"student\"),\n                        tuple(4, \"woowa developer\"),\n                        tuple(5, \"delivery hero\")\n                );\n    }\n\n    /**\n     * [ì‹¤í–‰ ê²°ê³¼]\n     * Multiple Failures (3 failures)\n     * -- failure 1 --\n     * expected: 2\n     * but was: 1\n     * at StringTest$IterableTestUsingAssertJ.lambda$softAssertionsTest$0(StringTest$IterableTestUsingAssertJ.java:103)\n     * -- failure 2 --\n     * expected: 3\n     * but was: 1\n     * at StringTest$IterableTestUsingAssertJ.lambda$softAssertionsTest$0(StringTest$IterableTestUsingAssertJ.java:104)\n     * -- failure 3 --\n     * expected: 4\n     * but was: 1\n     */\n    @Test\n    @Disabled\n    void softAssertionsTest() {\n        SoftAssertions.assertSoftly(softly -> {\n            softly.assertThat(1).isEqualTo(1);\n            softly.assertThat(1).isEqualTo(2);\n            softly.assertThat(1).isEqualTo(3);\n            softly.assertThat(1).isEqualTo(4);\n        });\n    }\n\n    public static List<Member> members() {\n        return List.of(\n                new Member(1, \"job seeker\"),\n                new Member(2, \"woowa developer\"),\n                new Member(3, \"student\"),\n                new Member(4, \"woowa developer\"),\n                new Member(5, \"delivery hero\")\n        );\n    }\n}\n\nclass Member {\n    private final int id;\n    private final String job;\n\n    public Member(int id, String job) {\n        this.id = id;\n        this.job = job;\n    }\n\n    public String job() {\n        return job;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Member member = (Member) o;\n        return id == member.id;\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id);\n    }\n}\n```\n\n### 2. ì˜ˆì™¸ ê²€ì¦í•˜ê¸°\n\n```java\npublic class ExceptionAssertionStudyTest {\n\n    private void throwIllegalStateException() {\n        throw new IllegalStateException(\"ì˜ˆì™¸ 1ë²ˆ\");\n    }\n\n    @Test\n    void exceptionTest_1() {\n        assertThatThrownBy(this::throwIllegalStateException)\n                .isInstanceOf(IllegalStateException.class)\n                .hasMessage(\"ì˜ˆì™¸ 1ë²ˆ\")\n                .hasMessageContaining(\"1ë²ˆ\")\n                .hasMessageEndingWith(\"1ë²ˆ\");\n    }\n\n    @Test\n    void exceptionTest_2() {\n        assertThatExceptionOfType(IllegalStateException.class).isThrownBy(() -> throwIllegalStateException())\n                .withMessage(\"ì˜ˆì™¸ 1ë²ˆ\")\n                .withMessageContaining(\"ì˜ˆì™¸\")\n                .withMessageContaining(\"1ë²ˆ\")\n                .withMessageStartingWith(\"ì˜ˆì™¸\")\n                .withMessageEndingWith(\"1ë²ˆ\");\n    }\n\n    /**\n     * ì•„ë˜ Exceptionë“¤ ë¯¸ë¦¬ ì œê³µ\n     * assertThatNullPointerException\n     * assertThatIllegalArgumentException\n     * assertThatIllegalStateException\n     * assertThatIOException\n     */\n    @Test\n    void exceptionTest_3() {\n        assertThatIllegalStateException().isThrownBy(this::throwIllegalStateException)\n                .withMessage(\"ì˜ˆì™¸ 1ë²ˆ\")\n                .withMessageContaining(\"ì˜ˆì™¸\")\n                .withMessageContaining(\"1ë²ˆ\")\n                .withMessageStartingWith(\"ì˜ˆì™¸\")\n                .withMessageEndingWith(\"1ë²ˆ\");\n    }\n\n    @Test\n    void notExceptionTest() {\n        assertThatNoException().isThrownBy(AssertJWithIterableStudyTest::members);\n    }\n}\n```\n\n### 3. í…ŒìŠ¤íŠ¸ ë©”ì„œë“œì— íŒŒë¼ë¯¸í„° ì „ë‹¬í•˜ì—¬ í…ŒìŠ¤íŠ¸í•˜ê¸°\n\n```java\npublic class ParameterizedStudyTest {\n\n    /**\n     * [ValueSourceê°€ ì§€ì›í•˜ëŠ” íƒ€ì…]\n     * short (with the shorts attribute)\n     * byte (bytes attribute)\n     * int (ints attribute)\n     * long (longs attribute)\n     * float (floats attribute)\n     * double (doubles attribute)\n     * char (chars attribute)\n     * java.lang.String (strings attribute)\n     * java.lang.Class (classes attribute)\n     */\n    @ParameterizedTest\n    @ValueSource(ints = {2, 4, 6})\n    void parameterizedTest_with_valueSource(int number) {\n        assertThat(number % 2 == 0).isTrue();\n    }\n\n    @ParameterizedTest\n    @NullSource\n    void parameterizedTest_with_nullSource(String input) {\n        assertThat(input == null).isTrue();\n    }\n\n    @ParameterizedTest\n    @EmptySource\n    void parameterizedTest_with_emptySource_Array(int[] numbers) {\n        assertThat(numbers.length).isZero();\n    }\n\n    @ParameterizedTest\n    @EmptySource\n    void parameterizedTest_with_emptySource_List(List<Integer> numbers) {\n        assertThat(numbers.size()).isZero();\n    }\n\n    @ParameterizedTest\n    @EmptySource\n    void parameterizedTest_with_emptySource_String(String input) {\n        assertThat(input).isEqualTo(\"\");\n    }\n\n    @ParameterizedTest\n    @NullAndEmptySource\n    @ValueSource(strings = {\" \", \"\\t\", \"\\n\"})\n    void parameterizedTest_with_NullAndEmptySource(String input) {\n        assertThat(Strings.isNullOrEmpty(input) || input.isBlank()).isTrue();\n    }\n\n    private enum Direction {\n        NORTH, EAST, SOUTH, WEST;\n    }\n\n    // pass all 4 directions\n    @ParameterizedTest\n    @EnumSource(value = Direction.class)\n    void parameterizedTest_with_EnumSource_All_Passing(Direction direction) {\n        assertThat(direction).isIn(Direction.NORTH, Direction.EAST, Direction.SOUTH, Direction.WEST);\n    }\n\n    @ParameterizedTest\n    @EnumSource(value = Direction.class, names = {\"NORTH\", \"SOUTH\"})\n    void parameterizedTest_with_EnumSource_names_filter(Direction direction) {\n        assertThat(direction).isIn(Direction.NORTH, Direction.SOUTH);\n        assertThat(direction).isNotIn(Direction.EAST, Direction.WEST);\n    }\n\n    @ParameterizedTest\n    @EnumSource(\n            value = Direction.class,\n            names = {\"NORTH\", \"SOUTH\", \"EAST\"}, // Enumì˜ value ì´ë¦„ê³¼ ë§¤ì¹­í•œë‹¤. ëŒ€ì†Œë¬¸ì êµ¬ë¶„í•œë‹¤.\n            mode = EnumSource.Mode.EXCLUDE\n    )\n    void parameterizedTest_with_EnumSource_names_filter_exclude(Direction direction) {\n        assertThat(direction).isNotIn(Direction.NORTH, Direction.SOUTH);\n        assertThat(direction).isIn(Direction.EAST, Direction.WEST);\n    }\n\n    @ParameterizedTest\n    @CsvSource({\"test,TEST\", \"java,JAVA\"})\n    void parameterizedTest_with_CsvSource(String input, String expected) {\n        assertThat(input.toUpperCase()).isEqualTo(expected);\n    }\n\n    @ParameterizedTest\n    @CsvSource(value = {\"test:TEST\", \"java:JAVA\"}, delimiter = ':')\n    void parameterizedTest_with_CsvSource_Using_Delimiter(String input, String expected) {\n        assertThat(input.toUpperCase()).isEqualTo(expected);\n    }\n\n    @ParameterizedTest\n    @CsvFileSource(resources = \"/csvFile.txt\", numLinesToSkip = 1)\n    void parameterizedTest_with_CsvSource_Using_CsvFile(String input, String expected) {\n        assertThat(input.toUpperCase()).isEqualTo(expected);\n    }\n\n    @ParameterizedTest\n    @MethodSource(\"provideStringForIsBlank\")\n    void parameterizedTest_with_MethodSource(String input, boolean expected) {\n        assertThat(StringUtils.isBlank(input)).isEqualTo(expected);\n    }\n\n    private static Stream<Arguments> provideStringForIsBlank() {\n        List<String> inputs = new ArrayList<>();\n        for (int i = 0; i < 4; i++) {\n            if (i == 3) {\n                String input = \"not Empty\";\n                inputs.add(input);\n                continue;\n            }\n\n            String input = \" \".repeat(i);\n            inputs.add(input);\n        }\n\n        return Stream.of(\n                Arguments.of(inputs.get(0), true),\n                Arguments.of(inputs.get(1), true),\n                Arguments.of(inputs.get(2), true),\n                Arguments.of(inputs.get(3), false)\n        );\n    }\n\n    private static class BlankStringArgumentsProvider implements ArgumentsProvider {\n\n        @Override\n        public Stream<? extends Arguments> provideArguments(ExtensionContext context) throws Exception {\n            return Stream.of(\n                    Arguments.of((String) null),\n                    Arguments.of(\"\"),\n                    Arguments.of(\" \")\n            );\n        }\n    }\n\n    @ParameterizedTest\n    @ArgumentsSource(BlankStringArgumentsProvider.class)\n    void parameterizedTest_with_MethodSource_Using_ArgumentsProvider(String input) {\n        assertThat(StringUtils.isBlank(input)).isTrue();\n    }\n\n    static Stream<Arguments> arguments = Stream.of(\n            Arguments.of(null, true),\n            Arguments.of(\"\", true),\n            Arguments.of(\" \", true),\n            Arguments.of(\"Not Empty\", false)\n    );\n\n    private static class SlashyDateConverter implements ArgumentConverter {\n\n        @Override\n        public Object convert(Object source, ParameterContext context) throws ArgumentConversionException {\n            if (!(source instanceof String)) {\n                throw new IllegalArgumentException(\"ë¬¸ìì—´ì´ ì•„ë‹™ë‹ˆë‹¤. ì…ë ¥ê°’:\" + source);\n            }\n\n            try {\n                String[] parts = ((String) source).split(\"/\");\n                int year = Integer.parseInt(parts[0]);\n                int month = Integer.parseInt(parts[1]);\n                int day = Integer.parseInt(parts[2]);\n\n                return LocalDate.of(year, month, day);\n            } catch (NumberFormatException e) {\n                e.printStackTrace();\n                throw new IllegalArgumentException(\"ìˆ«ìê°€ ì•„ë‹™ë‹ˆë‹¤. ì…ë ¥ê°’:\" + source);\n            }\n        }\n    }\n\n    @ParameterizedTest\n    @CsvSource({\"2023/11/28\", \"2023/12/28\"})\n    void parameterizedTest_with_CustomConverter(@ConvertWith(SlashyDateConverter.class) LocalDate date) {\n        assertThat(date.getYear()).isEqualTo(2023);\n        assertThat(date.getMonth()).isGreaterThan(Month.OCTOBER);\n        assertThat(date.getDayOfMonth()).isEqualTo(28);\n    }\n\n    @ParameterizedTest(name = \"{index} - Parameter is {0}\")\n    @EnumSource(value = Direction.class, names = {\"SOUTH\", \"NORTH\"})\n    void displayNameTest(Direction direction) {\n    }\n}\n```\n\n### 4. ë‘ ê°ì²´ ë¦¬ìŠ¤íŠ¸ì˜ í•„ë“œ ë¹„êµí•˜ê¸°\n\n```java\npublic class UsingRecursiveComparisonStudyTest {\n\n    @Test\n    void usingRecursiveComparisonTest_1() {\n        List<Member> members = List.of(\n                new Member(1, \"backend developer\"),\n                new Member(2, \"DBA\"),\n                new Member(3, \"frontend developer\")\n        );\n\n        List<Member> other = List.of(\n                new Member(1, \"DBA\"),\n                new Member(2, \"frontend developer\"),\n                new Member(3, \"backend developer\")\n        );\n\n        assertThat(members).usingRecursiveComparison()\n                .comparingOnlyFields(\"job\")\n                .ignoringCollectionOrder()\n                .isEqualTo(other);\n    }\n\n    @Test\n    void usingRecursiveComparisonTest_2() {\n        Member member = new Member(1, \"DBA\");\n        Member other = new Member(2, \"DBA\");\n\n        assertThat(member).usingRecursiveComparison()\n                .comparingOnlyFields(\"job\")\n                .isEqualTo(other);\n    }\n}\n```\n\n## ë§ˆì¹˜ë©°\n\në” ë‚˜ì€ ë°©ë²•ì´ ìˆê±°ë‚˜ ì œì•ˆì´ ìˆë‹¤ë©´ ì–¸ì œë“  ëŒ“ê¸€ ë‹¬ì•„ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤!"},{"excerpt":"ğŸ“ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸ SQLì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”. Cì–¸ì–´ì™€ ê°™ì€ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì™€ ì–´ë–¤ ì°¨ì´ê°€ ìˆë‚˜ìš”? ê°œë°œìê°€ ì‘ì„±í•œ SQLì´ ì–´ë–¤ ê³¼ì •ì„ í†µí•´ ì‹¤í–‰ ë˜ëŠ”ì§€ ì„¤ëª…í•´ì£¼ì„¸ìš”. DMLì€ ë¬´ì—‡ì¸ê°€ìš”? ì–´ë–¤ êµ¬ë¬¸ì´ ìˆëŠ”ì§€ë„ ì„¤ëª…í•´ì£¼ì„¸ìš”. DDLì€ ë¬´ì—‡ì¸ê°€ìš”? ì–´ë–¤ êµ¬ë¬¸ì´ ìˆëŠ”ì§€ë„ ì„¤ëª…í•´ì£¼ì„¸ìš”. DCLì€ ë¬´ì—‡ì¸ê°€ìš”? ì–´ë–¤ êµ¬ë¬¸ì´ ìˆëŠ”ì§€ë„ ì„¤ëª…í•´ì£¼ì„¸ìš”. ì°¸ì¡° ë¬´ê²°ì„±ì— â€¦","fields":{"slug":"/db-interview-study-2week/"},"frontmatter":{"date":"November 28, 2023","title":"DB ë©´ì ‘ ìŠ¤í„°ë”” 2ì£¼ì°¨","tags":["database","interview"]},"rawMarkdownBody":"\n## ğŸ“ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸\n\n### SQLì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”. Cì–¸ì–´ì™€ ê°™ì€ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì™€ ì–´ë–¤ ì°¨ì´ê°€ ìˆë‚˜ìš”?\n\n```\nSQLì€ DBMSì—ê²Œ ëª…ë ¹í•˜ëŠ” ì–¸ì–´ì…ë‹ˆë‹¤.\n\në°˜ë©´ Cì–¸ì–´ëŠ” í”„ë¡œê·¸ë˜ë¨¸ê°€ ì‘ì„±í•œ ì½”ë“œê°€ Cì–¸ì–´ ì»´íŒŒì¼ëŸ¬ì— ì˜í•´ ê¸°ê³„ì–´ë¡œ ë²ˆì—­ì´ ë©ë‹ˆë‹¤.\nì´ ê¸°ê³„ì–´ëŠ” OSì— ì˜í•´ ì½”ë“œê°€ ì‘ì„±ëœëŒ€ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤. \n\nì¦‰, SQLì€ DMSì—ê²Œ ìš”ì²­ì„ ë³´ë‚´ëŠ” ë°˜ë©´ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ëŠ” ë¯¸ë¦¬ ì‘ì„±ëœ ëŒ€ë¡œ ìˆ˜í–‰ëœë‹¤ëŠ” ì°¨ì´ì ì´ ìˆìŠµë‹ˆë‹¤.\n```\n\n### ê°œë°œìê°€ ì‘ì„±í•œ SQLì´ ì–´ë–¤ ê³¼ì •ì„ í†µí•´ ì‹¤í–‰ ë˜ëŠ”ì§€ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\n```text\ní¬ê²Œ ë‚˜ëˆ  íŒŒì‹±, ìµœì í™”, ì‹¤í–‰ì˜ ë‹¨ê³„ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤.\n\nDBMSëŠ” ê°œë°œìê°€ ì‘ì„±í•œ SQLë¬¸ì„ íŒŒì‹±í•˜ê³  ë¬¸ë²• ì˜¤ë¥˜ê°€ ì—†ëŠ”ì§€ ê²€ì‚¬í•©ë‹ˆë‹¤.\nì˜¤ë¥˜ê°€ ì—†ë‹¤ë©´ íŒŒì‹±í•œ SQLë¬¸ì„ í†µí•´ ê°€ì¥ íš¨ìœ¨ì ì¸ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•©ë‹ˆë‹¤.\nê·¸ ë‹¤ìŒ ìµœì í™”ëœ ì‹¤í–‰ ê³„íšì— ë”°ë¼ ì¿¼ë¦¬ë¬¸ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.\n```\n\n### DMLì€ ë¬´ì—‡ì¸ê°€ìš”? ì–´ë–¤ êµ¬ë¬¸ì´ ìˆëŠ”ì§€ë„ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\n```text\në°ì´í„°ë¥¼ ì¡°ì‘í•˜ëŠ” ì¿¼ë¦¬ë¬¸ì…ë‹ˆë‹¤.\ní…Œì´ë¸”ì— ì €ì¥ëœ ë°ì´í„°ì™€ ê´€ë ¨ëœ ì¿¼ë¦¬ë¬¸ìœ¼ë¡œ ì´í•´í•˜ê³  ìˆìŠµë‹ˆë‹¤.\n\nINSERT, SELECT, UPDATE, DELETE ë¬¸ì´ ìˆìŠµë‹ˆë‹¤.\n```\n\n### DDLì€ ë¬´ì—‡ì¸ê°€ìš”? ì–´ë–¤ êµ¬ë¬¸ì´ ìˆëŠ”ì§€ë„ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\n```text\në°ì´í„°ë¥¼ ì •ì˜í•˜ëŠ” ì–¸ì–´ì…ë‹ˆë‹¤.\ní…Œì´ë¸”ê³¼ ê´€ë ¨ëœ ì¿¼ë¦¬ë¬¸ìœ¼ë¡œ ì´í•´í•˜ê³  ìˆìŠµë‹ˆë‹¤.\n\në³´í†µ CREATE, ALTER, DROP, TRUNCATE ë¬¸ì´ ìˆìŠµë‹ˆë‹¤.\n```\n\n### DCLì€ ë¬´ì—‡ì¸ê°€ìš”? ì–´ë–¤ êµ¬ë¬¸ì´ ìˆëŠ”ì§€ë„ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\n```text\nì£¼ë¡œ ë³´ì•ˆê³¼ ê´€ë ¨ëœ ì–¸ì–´ì—…ë‹ˆë‹¤.\n\nGRANT, REVOKE, COMMIT, ROLLBACK ë¬¸ì´ ìˆìŠµë‹ˆë‹¤.\n```\n\n### ì°¸ì¡° ë¬´ê²°ì„±ì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\n```text\ní…Œì´ë¸” ê°„ì˜ ê´€ê³„ë¥¼ ì •ì˜í•  ë•Œ ë°˜ë“œì‹œ ì§€ì¼œì•¼í•˜ëŠ” ì œì•½ ì¡°ê±´ì…ë‹ˆë‹¤.\n\nì™¸ë˜í‚¤ë¥¼ ì„¤ì •í•  ë•Œ ë°˜ë“œì‹œ ê´€ê³„ë¥¼ ë§ºìœ¼ë ¤ëŠ” í…Œì´ë¸”ì˜ ê¸°ë³¸í‚¤ ê°’ìœ¼ë¡œ í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.\në§Œì•½ ê°’ì´ ì—†ì„ ê²½ìš° ì™¸ë˜í‚¤ ê°’ì€ NULLì´ ë  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n```\n\n### CASCADE ì„¤ì •ì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\n```text\nì™¸ë˜í‚¤ë¥¼ ì°¸ì¡°í•˜ê³  ìˆëŠ” í–‰ì— ì‚­ì œ ë˜ëŠ” ë³€ê²½ì´ ë°œìƒí•  ë•Œ, ê·¸ì— ë”°ë¼ ì°¸ì¡°í•˜ê³  ìˆëŠ” í–‰ì„ ë™ì‹œì— ê´€ë¦¬í•˜ëŠ” ì˜µì…˜ì…ë‹ˆë‹¤.\n\nUPDATE CASCADEì˜ ê²½ìš° ì°¸ì¡°ë˜ëŠ” ê¸°ë³¸í‚¤ê°€ ë³€ê²½ë  ë•Œ, ì°¸ì¡°í•˜ëŠ” í–‰ì˜ ì™¸ë˜í‚¤ë„ í•¨ê»˜ ë³€ê²½í•©ë‹ˆë‹¤.\nDELETE CASCADEì˜ ê²½ìš° ì°¸ì¡°ë˜ëŠ” ê¸°ë³¸í‚¤ì˜ í–‰ì´ ì‚­ì œë  ë•Œ, ì°¸ì¡°í•˜ëŠ” í–‰ë„ í•¨ê»˜ ì‚­ì œí•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. \n```\n\n### VIEWì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\n```text\nê¸°ì¡´ í…Œì´ë¸”ì—ì„œ ì‚¬ìš©ìê°€ í•„ìš”ë¡œí•œ ë°ì´í„°ë§Œì„ ë”°ë¡œ ì¶”ì¶œí•˜ì—¬ ë§Œë“  ì„ì˜ì˜ ê°€ìƒ í…Œì´ë¸”ì…ë‹ˆë‹¤.\n\nVIEWëŠ” ì‹¤ì œë¡œ ë¬¼ë¦¬ì ìœ¼ë¡œ ì €ì¥í•˜ì§€ ì•Šê³  ê¸°ì¡´ í…Œì´ë¸”ì˜ ë°ì´í„°ë¥¼ ì°¸ì¡°í•˜ì—¬ ê°€ìƒìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤.\nì´ë¥¼ í†µí•´ ëŒ€ê·œëª¨ê±°ë‚˜ ë³µì¡í•œ ë°ì´í„° ì¡°íšŒì˜ ê²½ìš° VIEW í…Œì´ë¸”ë¡œ ì¶”ì¶œí•˜ì—¬ ì‰½ê³  ë¹ ë¥´ê²Œ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ VIEWê°€ ì°¸ì¡°í•˜ê³  ìˆëŠ” ë°ì´í„°ê°€ ë³€ê²½ë  ê²½ìš°, VIEWë„ í•¨ê»˜ ë³€ê²½í•´ì¤˜ì•¼ í•œë‹¤ëŠ” íŠ¹ì§•ì´ ìˆìŠµë‹ˆë‹¤. \n```\n\n### SELECT ì ˆì˜ ì²˜ë¦¬ìˆœì„œì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\n```text\nFROM -> WHERE -> GROUP BY -> HAVING -> SELECT -> ORDER BY ìˆœìœ¼ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤.\n```\n\n### SELECT ~ FOR UPDATE êµ¬ë¬¸ì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\n```text\nSELECT ì ˆì— í•´ë‹¹í•˜ëŠ” í–‰ë“¤ì— ì ‘ê·¼í•  ë•Œ LOCKì„ ì„¤ì •í•˜ëŠ” êµ¬ë¬¸ì…ë‹ˆë‹¤.\n\nì´ êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ë©´ í•´ë‹¹ í–‰ì—ëŠ” í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ ë§Œì´ ê°’ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nLOCKì´ ê±¸ë¦° ë„ì¤‘ì— ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì´ ë™ì¼í•œ í–‰ì„ ìˆ˜ì •í•˜ë ¤ í•œë‹¤ë©´ LOCKì´ í•´ì œë  ë•Œê¹Œì§€ ëŒ€ê¸°í•´ì•¼í•©ë‹ˆë‹¤.\nì´ LOCKì€ ì»¤ë°‹ ë˜ëŠ” ë¡¤ë°±ì„ í•  ë•Œê¹Œì§€ ìœ ì§€ë©ë‹ˆë‹¤.\n\nì´ë¥¼ í†µí•´ ë™ì‹œì„± ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆì§€ë§Œ, ì„±ëŠ¥ì— ì•…ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n```\n\n### GROUP BY ì ˆì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\n```text\nGROUP BY ì ˆì„ í†µí•´ íŠ¹ì • ì¹¼ëŸ¼ì˜ ë°ì´í„°ë¥¼ ê·¸ë£¹í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në³´í†µ ì§‘ê³„ í•¨ìˆ˜ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ì—¬ ìœ ì˜ë¯¸í•œ ê²°ê³¼ë¥¼ ë„ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n```\n\n### ORDER BY ì ˆì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\n```text\nì¿¼ë¦¬ì˜ ê²°ê³¼ë¥¼ íŠ¹ì • ì—´ì„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ì ˆì…ë‹ˆë‹¤.\n\nê¸°ë³¸ì ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬ì„ í•˜ì§€ë§Œ ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•  ìˆ˜ ìˆìœ¼ë©°,\nì •ë ¬ì˜ ê¸°ì¤€ì´ ë˜ëŠ” ì—´ì„ 2ê°œ ì´ìƒ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. \n```\n\n### INNER JOINê³¼ OUTER JOINì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\n```text\nINNER JOINì€ JOIN í•˜ë ¤ëŠ” ë‘ í…Œì´ë¸”ì˜ íŠ¹ì • ì—´ì„ ê¸°ì¤€ìœ¼ë¡œ ë™ì¼í•œ í–‰ë“¤ë§Œ ë°˜í™˜í•˜ëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤.\n\nOUTER JOINì€ ë‘ í…Œì´ë¸”ì˜ ë™ì¼í•œ í–‰ ë¿ë§Œ ì•„ë‹ˆë¼, ì¡°ê±´ì— ì¼ì¹˜í•˜ì§€ ì•ŠëŠ” íŠ¹ì • í…Œì´ë¸”ì˜ í–‰ë“¤ë„ í•¨ê»˜ ë°˜í™˜í•˜ëŠ” ëª…ë ¹ì…ë‹ˆë‹¤.\n```\n\n### LEFT OUTER JOIN, RIGHT OUTER JOINì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\n```text\nLEFT OUTER JOINì€ JOIN ì‹œì— ì™¼ìª½, ì¦‰ ê¸°ì¤€ì´ ë˜ëŠ” í…Œì´ë¸”ì˜ ëª¨ë“  í–‰ê³¼, JOIN ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ” í–‰ë“¤ì„ ëª¨ë‘ ë°˜í™˜í•©ë‹ˆë‹¤.\n\nRIGHT OUTER JOINì€ LEFTì™€ ë°˜ëŒ€ë¡œ ì˜¤ë¥¸ìª½, ì¦‰ JOINì´ ë˜ëŠ” í…Œì´ë¸”ì˜ ëª¨ë“  í–‰ê³¼ JOIN ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ” í–‰ë“¤ì„ ëª¨ë‘ ë°˜í™˜í•©ë‹ˆë‹¤.\n```\n\n### CROSS JOINì— ëŒ€í•´ì„œë„ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\n```text\nì²« ë²ˆì§¸ í…Œì´ë¸”ì˜ ëª¨ë“  ê° í–‰ì´ ë‘ ë²ˆì§¸ í…Œì´ë¸”ì˜ ì „ì²´ í–‰ê³¼ ê²°í•©í•˜ëŠ” ë°©ì‹ì˜ JOINì…ë‹ˆë‹¤.\n\në‘ í…Œì´ë¸”ì˜ ê° ì „ì²´ ë°ì´í„° ìˆ˜ë¥¼ ê³±í•œ í¬ê¸°ì˜ JOIN ê²°ê³¼ê°€ ë°˜í™˜ë©ë‹ˆë‹¤.\n```\n\n### ì„œë¸Œì¿¼ë¦¬ì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\n```text\nì¿¼ë¦¬ë¬¸ ì•ˆì—ì„œ ì‹¤í–‰ë˜ëŠ” ë˜ ë‹¤ë¥¸ ì¿¼ë¦¬ë¬¸ì…ë‹ˆë‹¤.\n\nì£¼ë¡œ ì¿¼ë¦¬ë¬¸ ì•ˆì—ì„œ ì¶”ê°€ì ì¸ ì¿¼ë¦¬ë¬¸ì´ í•„ìš”í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.\n```\n\n### DROP, TRUNCATE, DELETEì— ê°ê°ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”. ì–´ë–¤ì°¨ì´ê°€ ìˆë‚˜ìš”?\n\n```text\nDROPì€ í…Œì´ë¸” ìì²´ë¥¼ ì‚­ì œí•˜ëŠ” ëª…ë ¹ì…ë‹ˆë‹¤.\nTRUNCATEëŠ” í…Œì´ë¸”ì€ ê·¸ëŒ€ë¡œ ë‘ê³  í…Œì´ë¸” ì•ˆì— ìˆëŠ” ëª¨ë“  ë°ì´í„°ë¥¼ ì‚­ì œí•˜ëŠ” ëª…ë ¹ì…ë‹ˆë‹¤.\nDELETEëŠ” í…Œì´ë¸” ì•ˆì— ìˆëŠ” íŠ¹ì • í–‰ì„ ì‚­ì œí•˜ëŠ” ë° ì‚¬ìš©í•©ë‹ˆë‹¤.\n\nDROP, TRUNCATEëŠ” ë¡¤ë°±ì„ í•  ìˆ˜ ì—†ì§€ë§Œ DELETEëŠ” ë¡¤ë°±ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.\nDROP, TRUNCATEëŠ” ë¹ ë¥¸ ì†ë„ë¡œ ì‹¤í–‰ë˜ì§€ë§Œ DELETEëŠ” ì¡°ê±´ì„ ë¹„êµí•˜ëŠ” ê³¼ì •ì´ í•„ìš”í•˜ê¸°ì— ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n```\n\n### DISTINCTì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”. ì‚¬ìš©í•´ë³¸ ê²½í—˜ë„ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\n```text\nì¿¼ë¦¬ ê²°ê³¼ì—ì„œ íŠ¹ì • ì¹¼ëŸ¼ì— í•´ë‹¹í•˜ëŠ” ë°ì´í„°ì˜ ì¤‘ë³µì„ ì œê±°í•œ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤.\n\nì…€ëŸ½ì‡ í”„ë¡œì íŠ¸ì—ì„œ ìŒì‹ì  í…Œì´ë¸”ê³¼ ë¹„ë””ì˜¤ í…Œì´ë¸”ì„ ìŒì‹ì  IDë¡œ JOINí•˜ëŠ” ê³¼ì •ì´ ì¡´ì¬í–ˆìŠµë‹ˆë‹¤.\nì´ë•Œ ìŒì‹ì  í…Œì´ë¸”ê³¼ ë¹„ë””ì˜¤ í…Œì´ë¸”ì€ 1:ë‹¤ ê´€ê³„ì˜€ê¸°ì— JOIN ê²°ê³¼ë¡œ ê°™ì€ ìŒì‹ì ì´ 2ê°œ ì´ìƒ ì¡´ì¬í•˜ëŠ” ìƒí™©ì´ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\në”°ë¼ì„œ ì´ë•Œ ìƒê¸°ëŠ” ì¤‘ë³µì„ ì œê±°í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œ ê²½í—˜ì´ ìˆìŠµë‹ˆë‹¤.\n```\n\n### SQL Injection ê³µê²©ì´ ë¬´ì—‡ì¸ì§€ ì–´ë–»ê²Œ ê³µê²©ì„ ì˜ˆë°©í•  ìˆ˜ ìˆëŠ”ì§€ ì„¤ëª…í•´ ì£¼ì„¸ìš”.\n\n```text\nì•…ì˜ì ì¸ ì‚¬ìš©ìê°€ ì…ë ¥ í•„ë“œë¥¼ í†µí•´ ì„œë²„ì— SQL ì¿¼ë¦¬ë¥¼ ì£¼ì…í•˜ì—¬ DBì— ëŒ€í•œ ê³µê²©ì„ ì‹œë„í•˜ëŠ” í–‰ìœ„ì…ë‹ˆë‹¤.\n\nì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ì…ë ¥ê°’ì„ ì§ì ‘ ì¿¼ë¦¬ë¬¸ì— ë„£ì§€ ì•Šê³ , ì¿¼ë¦¬ë¥¼ íŒŒë¼ë¯¸í„°í™”í•˜ì—¬ ê³µê²©ì„ ì˜ˆë°©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n```\n\n### ì•Œê³  ìˆëŠ” SQL ì•ˆí‹°íŒ¨í„´ì´ ìˆë‹¤ë©´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\n```text\n'SELECT *' ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\nì´ëŠ” ë¶ˆí•„ìš”í•œ ì—´ì˜ ë°ì´í„°ê¹Œì§€ ëª¨ë‘ ê°€ì ¸ì˜¤ê¸°ì— ë¶ˆí•„ìš”í•œ ì˜¤ë²„í—¤ë“œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì‹¤ì œë¡œ ì…€ëŸ½ì‡ í”„ë¡œì íŠ¸ì—ì„œ ìŒì‹ì  í…Œì´ë¸”ê³¼ í–‰ì •êµ¬ì—­ í…Œì´ë¸”ì„ í†µí•´ ê³µê°„ ì¸ë±ìŠ¤ë¥¼ í™œìš©í•˜ë ¤ëŠ” ì‹œë„ì—ì„œ,\nì‹¤ìˆ˜ë¡œ SELECT * ì„ ì‚¬ìš©í•˜ì—¬ í•­ìƒ í…Œì´ë¸” í’€ ìŠ¤ìº”ì˜ ê²°ê³¼ê°€ ë°œìƒí–ˆê³ \nì´ë¥¼ ë’¤ëŠ¦ê²Œ ë°œê²¬í•˜ì—¬ ì˜ë„í–ˆë˜ ê²°ê³¼ê°€ ë‚˜ì˜¤ì§€ ì•Šì•˜ë˜ ê²ƒì„ ì•Œê²Œ ëœ ê²½í—˜ì´ ìˆìŠµë‹ˆë‹¤.\n\nì¶”ê°€ë¡œ ë¹„íš¨ìœ¨ì ì¸ JOIN, ì„œë¸Œì¿¼ë¦¬ ë‚¨ìš© ë“±ì´ ìˆìŠµë‹ˆë‹¤.\n```\n\n### í˜ì´ì§€ë„¤ì´ì…˜ì„ êµ¬í˜„í•œë‹¤ê³  í–ˆì„ë•Œ ì¿¼ë¦¬ë¥¼ ì–´ë–»ê²Œ ì‘ì„±í•´ì•¼í• ê¹Œìš”?\n\n```text\nMySQLì„ ê¸°ì¤€ìœ¼ë¡œ LIMITê³¼ OFFSETì„ í†µí•´ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nOFFSETì„ í†µí•´ ì¿¼ë¦¬ ê²°ê³¼ì—ì„œ në²ˆ ì§¸ë¶€í„° LIMITì˜ ìˆ˜ë§Œí¼ì˜ ë°ì´í„°ë§Œì„ ê°€ì ¸ì˜´ìœ¼ë¡œì¨ í˜ì´ì§€ë„¤ì´ì…˜ì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n```"},{"excerpt":"ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë€? ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë™ì‘í•˜ëŠ” ê¸°ëŠ¥ ë˜ëŠ” ë©”ì„œë“œë¥¼ ì‹¤í–‰ì‹œí‚¤ëŠ” ë…ë¦½ì ì¸ ë‹¨ìœ„ì˜ í…ŒìŠ¤íŠ¸ì´ë‹¤. ì´ë•Œ ê¸°ëŠ¥ì´ë¼ëŠ” ë§ì´ í¬í•¨ë˜ì–´ìˆë‹¤. ì¦‰, ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¼ê³  í•´ì„œ ë¬´ì¡°ê±´ ë©”ì„œë“œë§Œ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê±´ ì•„ë‹ˆë‹¤. ì™œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ë‚˜? ì˜ ì‘ì„±í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” ê°œë°œìê°€ ì‘ì„±í•œ ë‹¨ìœ„(ê¸°ëŠ¥ ë˜ëŠ” ë©”ì„œë“œ)ë¥¼ ë§¤ìš° ë¹ ë¥´ê²Œ ê²€ì¦í•  ìˆ˜ ìˆë‹¤. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ì§€ ì•Šì•˜ì„ ë•Œì˜â€¦","fields":{"slug":"/unit-test/"},"frontmatter":{"date":"November 27, 2023","title":"ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì´í•´í•˜ê¸°","tags":["unit-test","test"]},"rawMarkdownBody":"\n## ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë€?\n\nì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë™ì‘í•˜ëŠ” **ê¸°ëŠ¥ ë˜ëŠ” ë©”ì„œë“œë¥¼ ì‹¤í–‰**ì‹œí‚¤ëŠ” **ë…ë¦½ì ì¸ ë‹¨ìœ„ì˜ í…ŒìŠ¤íŠ¸**ì´ë‹¤.\n\nì´ë•Œ ê¸°ëŠ¥ì´ë¼ëŠ” ë§ì´ í¬í•¨ë˜ì–´ìˆë‹¤. ì¦‰, ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¼ê³  í•´ì„œ ë¬´ì¡°ê±´ ë©”ì„œë“œë§Œ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê±´ ì•„ë‹ˆë‹¤.\n\n## ì™œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ë‚˜?\n\nì˜ ì‘ì„±í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” **ê°œë°œìê°€ ì‘ì„±í•œ ë‹¨ìœ„(ê¸°ëŠ¥ ë˜ëŠ” ë©”ì„œë“œ)ë¥¼ ë§¤ìš° ë¹ ë¥´ê²Œ ê²€ì¦**í•  ìˆ˜ ìˆë‹¤.\n\n### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ì§€ ì•Šì•˜ì„ ë•Œì˜ ë¬¸ì œì \n\n1. í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ í”„ë¡œë•ì…˜ ì½”ë“œì— ì‘ì„±í•´ì•¼í•œë‹¤.<br>\n   ì´ëŠ” ë°°í¬í•˜ëŠ” jar íŒŒì¼ì˜ í¬ê¸°ì— ì˜í–¥ì„ ì¤„ ê²ƒì´ê³  ë°°í¬ ì‹œê°„ì—ë„ ì˜í–¥ì„ ì¤„ ê²ƒì´ë‹¤.\n\n2. ê¸°ëŠ¥ì„ ê°œë°œí•  ë•Œë§ˆë‹¤ ì§ì ‘ ì‹¤í–‰ì‹œì¼œ ë™ì‘ì„ í™•ì¸í•´ì•¼í•œë‹¤.<br>\n   ì´ëŠ” ì‘ì„±í•œ ê¸°ëŠ¥ì— ëŒ€í•´ ê²€ì¦ë°›ëŠ” ì‹œê°„ì˜ ì£¼ê¸°ê°€ ê¸¸ì–´ì§ˆ ê²ƒì´ë‹¤.<br>\n   ì¦‰, ë²„ê·¸ë¥¼ ë‚³ì„ í™•ë¥ ì´ ì¦ê°€í•œë‹¤.\n\nì´ ì™¸ì—ë„ ë¬¸ì œì ì´ ë‹¤ì–‘í•˜ê²Œ ìˆê² ì§€ë§Œ, ì´ë§Œí•˜ë©´ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ í•  ê°€ì¹˜ê°€ ì¶©ë¶„íˆ ìˆì–´ë³´ì¸ë‹¤.\n\n## JUnit\n\nì´ë ‡ê²Œ ì¢‹ì€ ë‹¨ìœ„í…ŒìŠ¤íŠ¸ë¥¼ ì–´ë–»ê²Œ í• ê¹Œ?<br>\në°”ë¡œ [JUnit](https://junit.org/junit5/) í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•œë‹¤.\n\n> ìš°í…Œì½” 5ê¸° ìµœê³  ë¯¸ë‚¨ [ì œë¦¬ì˜ í”„ë ˆì„ì›Œí¬ vs ë¼ì´ë¸ŒëŸ¬ë¦¬ vs API í…Œì½”í†¡](https://youtu.be/yKEwNVbAFC0?feature=shared)ì„ ë³´ë©´ í”„ë ˆì„ì›Œí¬ì— ëŒ€í•´ ì•Œ ìˆ˜ ìˆë‹¤.\n\nJUnit í™ˆí˜ì´ì§€ì— ìˆëŠ” ì†Œê°œê¸€ì— ì˜í•˜ë©´ \"JVM ê¸°ë°˜ì´ë©° Java 8 ì´ìƒì— ì´ˆì ì„ ë§ì¶° ë‹¤ì–‘í•œ ìŠ¤íƒ€ì¼ì˜ í…ŒìŠ¤íŠ¸ë¥¼ ì§€ì›í•œë‹¤\"ê³  í•œë‹¤.\n\nìì„¸í•œ ì‚¬ìš©ë²•ì€ [User Guide](https://junit.org/junit5/docs/current/user-guide/)ë¥¼ ì°¸ê³ í•˜ì.\n\n## íŠ¹ì§•\n### 1. ë©”ì„œë“œ ì‹¤í–‰ ìˆœì„œ\n\n[ê³µì‹ ë¬¸ì„œ](https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-execution-order)ì— ì˜í•˜ë©´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ìˆœì„œë¥¼ ì´ë ‡ê²Œ ì„¤ëª…í•œë‹¤.\n\n\"_ê¸°ë³¸ì ìœ¼ë¡œ, í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì™€ ë©”ì„œë“œëŠ” ê²°ì •ë¡ ì ì´ì§€ë§Œ ì˜ë„ì ìœ¼ë¡œ ëª…í™•í•˜ì§€ ì•Šì€ ìˆœì„œë¡œ ì •ë ¬ì´ ëœë‹¤._\"\n\në¬´ìŠ¨ ì†Œë¦¬ì¼ê¹Œ? ğŸ¤”\n\nê²°ì •ë¡ ì  ì•Œê³ ë¦¬ì¦˜ì— ëŒ€í•´ ê²€ìƒ‰í•´ë³´ë‹ˆ ì•„ë˜ì™€ ê°™ì´ ì„¤ëª…í•œë‹¤.\n\n\"_ì˜ˆì¸¡í•œ ê·¸ëŒ€ë¡œ ë™ì‘í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì´ë‹¤. **ì–´ë–¤ íŠ¹ì •í•œ ì…ë ¥ì´ ë“¤ì–´ì˜¤ë©´ ì–¸ì œë‚˜ ë˜‘ê°™ì€ ê³¼ì •ì„ ê±°ì³ì„œ ì–¸ì œë‚˜ ë˜‘ê°™ì€ ê²°ê³¼ë¥¼ ë‚´ë†“ëŠ”ë‹¤**.\"_\n\nì¦‰, ìˆœì„œì— ëŒ€í•œ ë³´ì¥ì€ í•  ìˆ˜ ì—†ì§€ë§Œ ì…ë ¥ê³¼ ì¶œë ¥ì€ ë§¤ë²ˆ ë™ì¼í•œ ê²ƒì´ ë³´ì¥ëœë‹¤. ë¼ê³  ì´í•´í•˜ë©´ ë  ê²ƒ ê°™ë‹¤.\n\n> ì™œ ì´ë ‡ê²Œ êµ¬í˜„í–ˆì„ê¹Œ ê³ ë¯¼í–ˆì„ ë•, í…ŒìŠ¤íŠ¸ ìˆœì„œë¡œë¶€í„° ë…ë¦½ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•¨ì´ì§€ ì•Šì„ê¹Œí•œë‹¤.<br>\n> ì¢‹ì€ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” ë…ë¦½ì ì´ì–´ì•¼í•œë‹¤. í…ŒìŠ¤íŠ¸ ìˆœì„œì—ë„ ì˜í–¥ì„ ë°›ì•„ì„œëŠ” ì•ˆëœë‹¤.\n\n```java\nclass TestOrderTest {\n\n    private static final AtomicInteger number = new AtomicInteger(1);\n\n    @Test\n    void C() {\n        System.out.println(\"Test C - \" + number.getAndIncrement());\n    }\n\n    @Test\n    void B() {\n        System.out.println(\"Test B - \" + number.getAndIncrement());\n    }\n\n    @Test\n    void A() {\n        System.out.println(\"Test A - \" + number.getAndIncrement());\n    }\n\n    @Test\n    void E() {\n        System.out.println(\"Test E - \" + number.getAndIncrement());\n    }\n\n    @Test\n    void D() {\n        System.out.println(\"Test D - \" + number.getAndIncrement());\n    }\n}\n```\n\nì‹¤ì œ ìœ„ ì˜ˆì œ ì½”ë“œë¡œ ìˆœì„œë¥¼ ë°”ê¿”ë„ ë³´ê³  ê·¸ë£¹ ë‹¨ìœ„ë¡œ ë³€ê²½í•´ê°€ë©° ì‹¤í–‰í•˜ë©´ ìœ„ì—ì„œ ì„¤ëª…í•˜ëŠ” íŠ¹ì§•ì„ ì‹¤ì œë¡œ ë³´ì´ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n\n> ë§Œì•½ í´ë˜ìŠ¤ì— ì‘ì„±í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ìˆœì„œëŒ€ë¡œ ë™ì‘í•˜ê³  ì‹¶ë‹¤ë©´ `@TestInstance(value = TestInstance.Lifecycle.PER_CLASS)`ë¥¼ ì¶”ê°€í•˜ì<br>\n> í˜¹ì€ `@TestMethodOrder(OrderAnnotation.class)`ë¥¼ í´ë˜ìŠ¤ ë ˆë²¨ì— ì¶”ê°€í•˜ê³ , ê° ë©”ì„œë“œì— `@Order(int value)`ë¡œ ì¡°ì ˆí•˜ì\n\n> í´ë˜ìŠ¤ ê°„ì˜ í…ŒìŠ¤íŒ… ìˆœì„œë„ ì¡°ì ˆí•  ìˆ˜ ìˆë‹¤ê³  í•œë‹¤. ì´ëŠ” í•„ìš”í•  ë•Œ ì•Œì•„ë³´ì.\n\n### 2. AssertJ í™œìš©\n\n[AssertJ](http://joel-costigliola.github.io/assertj/assertj-core-quick-start.html)ëŠ” \"_ëŠ¥ìˆ˜ëŠ¥ë€í•œ ê²€ì¦ë¬¸ ìë°” ë¼ì´ë¸ŒëŸ¬ë¦¬_\" ë¼ê³  ì„¤ëª…í•œë‹¤.\n\në‹¨ìˆœíˆ ë§í•´ì„œ ìœ ìš©í•œ Assertionë¬¸ì„ ì„ ì–¸í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¼ê³  ìƒê°í•˜ì.\n\nAssertJëŠ” ë©”ì„œë“œ ì²´ì´ë‹ ê°€ëŠ¥í•œ assertë¬¸ì„ ì§€ì›í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤.<br>\nì´ë¥¼ ì´ìš©í•´ì„œ ë”ìš± ê°€ë…ì„± ì¢‹ì€ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.<br>\nì•„ë˜ ì½”ë“œë¡œ ë¹„êµí•´ë³´ì.\n\n```java\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.assertj.core.api.Assertions.assertThat;\n\n@Test\nvoid assertJTest() {\n    // junit ë©”ì„œë“œ ì‚¬ìš©\n    assertEquals(expected, actual);\n\n    // assertJ ë©”ì„œë“œ ì‚¬ìš©\n    assertThat(actual).isEqualTo(expected);\n}\n```\n\n> ìì„¸í•œ ì‚¬ìš©ë²•ì€ [Java Doc](http://javadoc.io/doc/org.assertj/assertj-core) ì°¸ê³ \n\nì¶”ê°€ì ì¸ ì¥ì ìœ¼ë¡œëŠ” ì‹¤íŒ¨ ë©”ì‹œì§€ê°€ ìì„¸í•˜ë‹¤ëŠ” ì ê³¼ ë‹¤ì–‘í•œ ê²€ì¦ ë©”ì„œë“œë¥¼ ì§€ì›í•œë‹¤ê³  í•œë‹¤.<br>\nì‹¬ì§€ì–´ [JUnit ê³µì‹ ì‚¬ì´íŠ¸](https://junit.org/junit5/docs/current/user-guide/#writing-tests-assertions-third-party)ì—ì„œë„ ì¨ë“œíŒŒí‹° Assertion ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ AssertJë¥¼ ê¶Œì¥í•œë‹¤.\n\n## Junit vs AssertJ\n\nJunitì€ í”„ë ˆì„ì›Œí¬ê³  AssertJëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤.\n\nAssertJë¥¼ ì´ìš©í•´ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³ , JUnitì—ê²Œ `@Test`ì™€ ê°™ì€ ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ë©”ì„œë“œë¥¼ ìœ„ì„í•˜ì—¬ ì‹¤í–‰ì‹œí‚¨ë‹¤. "},{"excerpt":"ğŸ“ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸ ê¸°ì•„ ìƒíƒœê°€ ë¬´ì—‡ì¸ê°€ìš”? CPUì— ì˜í•´ ì²˜ë¦¬ê°€ ëœ ì¤€ë¹„ê°€ ëœ í”„ë¡œì„¸ìŠ¤ê°€, ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì˜ ìš°ì„  ìˆœìœ„ì— ë°€ë ¤ ì˜¤ëœ ì‹œê°„ ëŒ€ê¸°í•˜ëŠ” ìƒíƒœì…ë‹ˆë‹¤. ì´ëŠ”, í”„ë¡œì„¸ìŠ¤ ìŠ¤ì¼€ì¤„ë§ì— ì˜í•´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë³´í†µ ë°ë“œë½ê³¼ í—·ê°ˆë¦´ ìˆ˜ ìˆëŠ”ë°, ë°ë“œë½ì€ ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ê°€ ë™ì‹œì— ìì›ë“¤ì„ ì ìœ í•˜ë ¤ëŠ” ê³¼ì •ì—ì„œ ëª¨ë“  í”„ë¡œì„¸ìŠ¤ì˜ ìƒíƒœê°€ blockedê°€ ë˜ëŠ” í˜„ìƒì…ë‹ˆâ€¦","fields":{"slug":"/os-interview-study-3week/"},"frontmatter":{"date":"November 23, 2023","title":"[JSCODE] - OS ë©´ì ‘ ìŠ¤í„°ë”” 3ì£¼ì°¨","tags":["operating-system","interview"]},"rawMarkdownBody":"\n## ğŸ“ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸\n\n### ê¸°ì•„ ìƒíƒœê°€ ë¬´ì—‡ì¸ê°€ìš”?\n\nCPUì— ì˜í•´ ì²˜ë¦¬ê°€ ëœ ì¤€ë¹„ê°€ ëœ í”„ë¡œì„¸ìŠ¤ê°€, ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì˜ ìš°ì„  ìˆœìœ„ì— ë°€ë ¤ ì˜¤ëœ ì‹œê°„ ëŒ€ê¸°í•˜ëŠ” ìƒíƒœì…ë‹ˆë‹¤.\n\nì´ëŠ”, í”„ë¡œì„¸ìŠ¤ ìŠ¤ì¼€ì¤„ë§ì— ì˜í•´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në³´í†µ ë°ë“œë½ê³¼ í—·ê°ˆë¦´ ìˆ˜ ìˆëŠ”ë°, ë°ë“œë½ì€ ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ê°€ ë™ì‹œì— ìì›ë“¤ì„ ì ìœ í•˜ë ¤ëŠ” ê³¼ì •ì—ì„œ ëª¨ë“  í”„ë¡œì„¸ìŠ¤ì˜ ìƒíƒœê°€ blockedê°€ ë˜ëŠ” í˜„ìƒì…ë‹ˆë‹¤. ê¸°ì•„ ìƒíƒœëŠ” í”„ë¡œì„¸ìŠ¤ì˜ ìƒíƒœëŠ” readyì¸ë°, í”„ë¡œì„¸ìŠ¤ ìŠ¤ì¼€ì¤„ë§ì— ì˜í•´ ê³„ì†í•´ì„œ ëŒ€ê¸°í•˜ëŠ” ìƒíƒœë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.\n\n### ê¸°ì•„ ìƒíƒœë¥¼ ì–´ë–»ê²Œ í•´ê²°í•  ìˆ˜ ìˆë‚˜ìš”?\n\nRRì²˜ëŸ¼ ê¸°ì•„ ìƒíƒœê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ” ìŠ¤ì¼€ì¤„ë§ ì•Œê³ ë¦¬ì¦˜ì„ ì„ íƒí•˜ê±°ë‚˜,\n\në ˆë”” íì— ëŒ€ê¸°í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ë“¤ì´ ì²˜ë¦¬ê°€ ë˜ì§€ ì•Šì„ ë•Œë§ˆë‹¤ ìš°ì„  ìˆœìœ„ë¥¼ ì¦ê°€í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ í•˜ë©´, í•´ê²°í•  ìˆ˜ ìˆë‹¤ê³  ìƒê°í•œë‹¤.\n\n### CPU ìŠ¤ì¼€ì¤„ë§ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\nCPU íš¨ìœ¨ì„ ê·¹í•œìœ¼ë¡œ ëŒì–´ì˜¬ë¦¬ê¸° ìœ„í•œ ì¼ì¢…ì˜ ì•Œê³ ë¦¬ì¦˜\n\në‹¤ì–‘í•œ ì•Œê³ ë¦¬ì¦˜ì´ ìˆê³  FCFS, Priority, Round-Robin ë“±ì´ ìˆë‹¤.\n\nê° ì•Œê³ ë¦¬ì¦˜ì— ë”°ë¼ ì¥ë‹¨ì ì´ ë‹¤ë¥´ê³ , ë°œìƒí•  ìˆ˜ ìˆëŠ” ë¬¸ì œì ì´ ë‹¤ë¥´ë‹¤\n\n### ìŠ¤ì¼€ì¤„ëŸ¬ì˜ ì¢…ë¥˜ëŠ” ë¬´ì—‡ì´ ìˆë‚˜ìš”?\n\nì¥ê¸° ìŠ¤ì¼€ì¤„ëŸ¬: ìƒˆë¡œìš´ í”„ë¡œì„¸ì„œê°€ ì‹œìŠ¤í…œì— ë“¤ì–´ì˜¬ ë•Œ, ì´ë¥¼ ë©”ëª¨ë¦¬ì— í• ë‹¹í•˜ê±°ë‚˜ ëŒ€ê¸° íì— ë„£ëŠ” ì—­í• \n\në‹¨ê¸° ìŠ¤ì¼€ì¤„ëŸ¬: í˜„ì¬ ë©”ëª¨ë¦¬ì— ì ì¬ëœ í”„ë¡œì„¸ìŠ¤ ì¤‘ ì–´ë–¤ í”„ë¡œì„¸ìŠ¤ê°€ CPUì— í• ë‹¹ë  ì§€ ê²°ì •í•˜ëŠ” ì—­í• .\nì—¬ê¸°ì„œ ì£¼ë¡œ CPU ìŠ¤ì¼€ì¤„ë§ ì•Œê³ ë¦¬ì¦˜ì´ ìˆ˜í–‰ëœë‹¤.\n\nì¤‘ê¸° ìŠ¤ì¼€ì¤„ëŸ¬: í”„ë¡œì„¸ìŠ¤ë¥¼ ë©”ëª¨ë¦¬ì—ì„œ ë””ìŠ¤í¬ë¡œ ìŠ¤ì™‘í•˜ëŠ” ì—­í• .\në©”ëª¨ë¦¬ ë¶€ì¡± ìƒíƒœë¥¼ ì™„í™”í•˜ê±°ë‚˜, í”„ë¡œì„¸ìŠ¤ì˜ ìš°ì„ ìˆœìœ„ë¥¼ ì¡°ì ˆí•˜ëŠ” ëª©ì \n\n### ì„ ì í˜• ìŠ¤ì¼€ì¤„ë§ê³¼ ë¹„ì„ ì í˜• ìŠ¤ì¼€ì¤„ë§ì˜ ì°¨ì´ê°€ ë¬´ì—‡ì¸ê°€ìš”?\n\në¹„ì„ ì í˜• ìŠ¤ì¼€ì¤„ë§: CPUì— ì˜í•´ ì²˜ë¦¬ë˜ëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ìë°œì ìœ¼ë¡œ CPUë¥¼ ë°˜í™˜í•˜ê¸° ì „ê¹Œì§€ëŠ” ì•„ë¬´ëŸ° ê°œì…ì„ í•˜ì§€ ì•ŠëŠ” ë°©ì‹.\nì§ê´€ì ì´ê³  ë‹¨ìˆœí•œ ë°©ë²•ì´ì§€ë§Œ, ì´ ê²½ìš° ì²˜ë¦¬ì‹œê°„ì´ ê¸´ í”„ë¡œì„¸ìŠ¤ê°€ CPUì— í• ë‹¹ë˜ë©´ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ëŠ” ì²˜ë¦¬í•˜ì§€ ëª»í•  ìˆ˜ ìˆë‹¤.\n\nì„ ì í˜• ìŠ¤ì¼€ì¤„ë§: ë¹„ì„ ì í˜• ë°©ì‹ì„ ì ìš©í•˜ì§€ë§Œ, ë™ì‹œì— ëª¨ì¢…ì˜ ì´ìœ ë¡œ í”„ë¡œì„¸ìŠ¤ê°€ ìë°œì ìœ¼ë¡œ CPUë¥¼ ë°˜í™˜í•˜ì§€ ì•Šì•˜ìŒì—ë„ ê°œì…í•˜ëŠ” ë°©ì‹.\nì´ ê²½ìš° ì²˜ë¦¬ë˜ë˜ í”„ë¡œì„¸ìŠ¤ë¥¼ Ready Queueë¡œ ì˜®ê¸°ëŠ” ì‘ì—…ê³¼ ë‹¤ìŒ ì²˜ë¦¬í•  í”„ë¡œì„¸ìŠ¤ë¥¼ ê²°ì •í•˜ê³  í• ë‹¹í•˜ëŠ” ì‘ì—…ì´ í•„ìš”í•˜ë‹¤. í•˜ì§€ë§Œ, ë†’ì€ íš¨ìœ¨ì„ ê°€ì§„ë‹¤.\n\n### ì„ ì…ì„ ì¶œ ìŠ¤ì¼€ì¤„ë§(FCFS)ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\nReady íì— ë“¤ì–´ê°„ ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì´ë‹¤.\n\në‹¨ìˆœí•œ ë°©ë²•ì´ì§€ë§Œ, ë§Œì•½ ê°€ì¥ ë¨¼ì € ë“¤ì–´ê°„ í”„ë¡œì„¸ìŠ¤ì˜ ì²˜ë¦¬ ì‹œê°„ì´ ë§¤ìš° ê¸´ ê²½ìš° ë’¤ì— ë“¤ì–´ê°„ í”„ë¡œì„¸ìŠ¤ì— ì˜í–¥ì„ ë°›ëŠ”ë‹¤.\n\n### ìµœë‹¨ ì‘ì—… ìš°ì„  ìŠ¤ì¼€ì¤„ë§(SJF)ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\ní”„ë¡œì„¸ìŠ¤ê°€ CPUë¥¼ ì ìœ í•˜ëŠ” ì‹œê°„ì´ ê°€ì¥ ì§§ì€ í”„ë¡œì„¸ìŠ¤ë¶€í„° ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì´ë‹¤.\nì´ ê²½ìš° í”„ë¡œì„¸ìŠ¤ë¥¼ ì„ íƒí•  ë•Œë§ˆë‹¤ ê°€ì¥ ì‘ì€ ê°’ì„ ì„ íƒí•œë‹¤. ì´ ë§ì€ ì¦‰, ê³„ì†í•´ì„œ ì‹œê°„ì´ ì§§ì€ í”„ë¡œì„¸ìŠ¤ê°€ ë ˆë”” íì— ë“¤ì–´ì˜¤ë©´ ì˜êµ¬íˆ ì²˜ë¦¬ë˜ì§€ ëª»í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ë°œìƒí•œë‹¤. ì´ë¥¼ ê¸°ì•„ ìƒíƒœë¼ê³  í•œë‹¤.\n\n### ìµœì†Œ ì”ë¥˜ ì‹œê°„ ìš°ì„  ìŠ¤ì¼€ì¤„ë§(SRTF) ë°©ì‹ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\nìµœë‹¨ ì‘ì—… ìš°ì„  ìŠ¤ì¼€ì¤„ë§ê³¼ ì„ ì í˜• ìŠ¤ì¼€ì¤„ë§ì´ ë™ì‹œì— ì ìš©ëì„ ë•Œ, ë ˆë”” íì— ì¡´ì¬í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ì¤‘, ì²˜ë¦¬ ì‹œê°„ì´ ê°€ì¥ ì§§ì€ í”„ë¡œì„¸ìŠ¤ë¥¼ ìš°ì„ ì ìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤.\n\nì´ë„ ë§ˆì°¬ê°€ì§€ë¡œ ê¸°ì•„ ìƒíƒœê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\n\n### ìš°ì„ ìˆœìœ„ ìŠ¤ì¼€ì¤„ë§ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\nê° í”„ë¡œì„¸ìŠ¤ì— ìš°ì„ ìˆœìœ„ë¥¼ ë§¤ê¸°ê³ , ê·¸ ìš°ì„ ìˆœìœ„ê°€ ê°€ì¥ ë†’ì€ í”„ë¡œì„¸ìŠ¤ë¶€í„° ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì´ë‹¤.\n\nê¸°ì•„ ìƒíƒœê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\n\n### ë¼ìš´ë“œ ë¡œë¹ˆ ìŠ¤ì¼€ì¤„ë§ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\nê°€ì¥ ê°„ë‹¨í•˜ë©° ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ë°©ì‹ìœ¼ë¡œ, ëª¨ë“  í”„ë¡œì„¸ìŠ¤ëŠ” ë™ì¼í•œ Quantamì„ ê°€ì§€ê³  ì´ ì‹œê°„ë™ì•ˆë§Œ CPUë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ë‹¤.\n\nìì—°ìŠ¤ë ˆ ëª¨ë“  í”„ë¡œì„¸ìŠ¤ë‚˜ ì“°ë ˆë“œê°€ ê³µì •í•˜ê²Œ ì‹¤í–‰ë˜ë©°, ì´ Qunatamì„ ì ì ˆí•œ ì‹œê°„ìœ¼ë¡œ ì„¤ì •í•œë‹¤ë©´ ê°€ì¥ ë†’ì€ ì‘ë‹µì„±ì„ ë³´ì¼ ìˆ˜ ìˆë‹¤.\n\n### ë©€í‹° ë ˆë²¨ í ìŠ¤ì¼€ì¤„ë§ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\ní”„ë¡œì„¸ìŠ¤ë“¤ì„ íŠ¹ì§•ì— ë”°ë¼ ê·¸ë£¹í™”í•˜ê³ , ê·¸ ê·¸ë£¹ì— ë”°ë¼ ë ˆë”” íë¥¼ ë‚˜ëˆ„ëŠ” ë°©ì‹ì´ë‹¤. ì´ íë“¤ì—ì„œë„ ìš°ì„ ìˆœìœ„ê°€ ì¡´ì¬í•˜ë©°, ê° ê·¸ë£¹ì˜ ë ˆë”” íì—ì„œëŠ” ì„œë¡œ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ìŠ¤ì¼€ì¤„ë§ëœë‹¤.\n\në‹¤ì–‘í•œ í”„ë¡œì„¸ìŠ¤ë“¤ì´ ì„œë¡œ ë‹¤ë¥¸ íŠ¹ì„±ì„ ê°€ì§ˆ ë•Œ, ê° í”„ë¡œì„¸ìŠ¤ì— ì í•©í•œ ìŠ¤ì¼€ì¤„ë§ ë°©ì‹ì„ ì ìš©í•  ìˆ˜ ìˆë„ë¡ í•  ìˆ˜ ìˆë‹¤.\n\nê·¸ë£¹ ì‚¬ì´ì—ì„œ ìš°ì„ ìˆœìœ„ê°€ ë‚®ì€ íì— ìˆëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ê¸°ì•„ ìƒíƒœì— ë¹ ì§ˆ ìˆ˜ ìˆë‹¤.\n\n### ë©€í‹° ë ˆë²¨ í”¼ë“œë°± í ìŠ¤ì¼€ì¤„ë§ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\në©€í‹° ë ˆë²¨ íëŠ” í”„ë¡œì„¸ìŠ¤ê°€ íŠ¹ì • íì— ë“¤ì–´ê°€ê²Œ ë˜ë©´, í•´ë‹¹ íì˜ ìš°ì„ ìˆœìœ„ì—ì„œ ë³€ê²½ë˜ì§€ ëª»í•˜ëŠ” ì ì„ ê°œì„ í•˜ê¸° ìœ„í•´ íƒ„ìƒí•œ ë°©ì‹ì´ë‹¤.\n\nê·¸ë˜ì„œ ë™ì ìœ¼ë¡œ í”„ë¡œì„¸ìŠ¤ì˜ ìš°ì„ ìˆœìœ„ë¥¼ ê²°ì •í•œë‹¤.\n\ní”„ë¡œì„¸ìŠ¤ê°€ í ê°„ì— ì´ë™ì„ í•  ìˆ˜ ìˆê³ , ê·¸ì— ë”°ë¼ ê¸°ì•„ ìƒíƒœë„ í•´ê²°í•  ìˆ˜ ìˆë‹¤.\n\në‚®ì€ ìš°ì„ ìˆœìœ„ì— ìˆëŠ” íì— ìˆëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ì¦ì€ ë¹ˆë„ë¡œ ì‹¤í–‰ë˜ë©´ ë†’ì€ ìš°ì„ ìˆœìœ„ íë¡œ ì´ë™í•œë‹¤.\n\n## ğŸ¤” ê°œì¸ì ì¸ ê¶ê¸ˆì¦\n\n### ë°ë“œë½ vs ê¸°ì•„ìƒíƒœ\n\në°ë“œë½ì€, ì—¬ëŸ¬ ê°œì˜ í”„ë¡œì„¸ìŠ¤ê°€ í•„ìš”í•œ ìì›ì„ ìš”ì²­í•˜ëŠ” ê³¼ì •ì—ì„œ ë”ì´ìƒ ì§„í–‰ë  ìˆ˜ ì—†ëŠ” ìƒíƒœì´ë‹¤. ìì›ì„ ëŒ€ê¸°í•˜ëŠ” blocked ìƒíƒœì—ì„œ ì˜êµ¬íˆ ëŒ€ê¸°í•œë‹¤.\n\në°˜ë©´ ê¸°ì•„ìƒíƒœëŠ”, í•œ í”„ë¡œì„¸ìŠ¤ê°€ ì²˜ë¦¬ë  ìƒíƒœì´ì§€ë§Œ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì˜ ìš°ì„ ìˆœìœ„ì— ë°€ë ¤ ì˜êµ¬íˆ ëŒ€ê¸°í•˜ëŠ” ìƒíƒœì´ë‹¤.\n\n## ğŸ¯ í”¼ë“œë°±\n\nê°œì„ í•  ì  ì°¾ê¸° í˜ë“¤ì—ˆë‹¤."},{"excerpt":"ğŸ“ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸ íŒŒì¼ ì‹œìŠ¤í…œê³¼ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì°¨ì´ì ì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”. íŒŒì¼ ì‹œìŠ¤í…œì€ ë¬¼ë¦¬ì  ì•¡ì„¸ìŠ¤ë§Œ ê´€ë¦¬í•˜ê³ , ë°ì´í„°ë² ì´ìŠ¤ëŠ” ë¬¼ë¦¬ì  ì•¡ì„¸ìŠ¤ì™€ ë…¼ë¦¬ì  ì•¡ì„¸ìŠ¤ ëª¨ë‘ ê´€ë¦¬í•©ë‹ˆë‹¤. ë‘˜ ë‹¤ ê²°êµ­ì—”, ë””ìŠ¤í¬ì— ë¬¼ë¦¬ì ìœ¼ë¡œ ì €ì¥ëœë‹¤. íŠ¹íˆ íŒŒì¼ ì‹œìŠ¤í…œì˜ ê²½ìš° ë””ìŠ¤í¬ì— ì €ì¥ëœ íŒŒì¼ì„ ì§ì ‘ ë‹¤ë£¨ëŠ” ì‹œìŠ¤í…œì´ë‹¤. ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì´ ë””ìŠ¤í¬ì— ì €ì¥ëœ íŒŒì¼ê³¼, ì‚¬ìš©ì ì‚¬ì´ì—ì„œâ€¦","fields":{"slug":"/db-interview-study-1week/"},"frontmatter":{"date":"November 21, 2023","title":"DB ë©´ì ‘ ìŠ¤í„°ë”” 1ì£¼ì°¨","tags":["database","interview"]},"rawMarkdownBody":"\n## ğŸ“ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸\n\n### íŒŒì¼ ì‹œìŠ¤í…œê³¼ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì°¨ì´ì ì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\níŒŒì¼ ì‹œìŠ¤í…œì€ ë¬¼ë¦¬ì  ì•¡ì„¸ìŠ¤ë§Œ ê´€ë¦¬í•˜ê³ , ë°ì´í„°ë² ì´ìŠ¤ëŠ” ë¬¼ë¦¬ì  ì•¡ì„¸ìŠ¤ì™€ ë…¼ë¦¬ì  ì•¡ì„¸ìŠ¤ ëª¨ë‘ ê´€ë¦¬í•©ë‹ˆë‹¤.\n\në‘˜ ë‹¤ ê²°êµ­ì—”, ë””ìŠ¤í¬ì— ë¬¼ë¦¬ì ìœ¼ë¡œ ì €ì¥ëœë‹¤.\n\níŠ¹íˆ íŒŒì¼ ì‹œìŠ¤í…œì˜ ê²½ìš° ë””ìŠ¤í¬ì— ì €ì¥ëœ íŒŒì¼ì„ ì§ì ‘ ë‹¤ë£¨ëŠ” ì‹œìŠ¤í…œì´ë‹¤.\n\në°ì´í„°ë² ì´ìŠ¤ëŠ” ì´ ë””ìŠ¤í¬ì— ì €ì¥ëœ íŒŒì¼ê³¼, ì‚¬ìš©ì ì‚¬ì´ì—ì„œ ë°ì´í„°ë¥¼ ë…¼ë¦¬ì ì¸ êµ¬ì¡°ë¡œ ê´€ë¦¬í•˜ëŠ” ì‹œìŠ¤í…œ\n\n### ë°ì´í„°ë² ì´ìŠ¤ì˜ íŠ¹ì§•ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\nì‹¤ì‹œê°„ ì‚¬ìš©ì„±, ì§€ì†ì ì¸ ë³€í™”, ë™ì‹œì— ê³µìœ , ê°’ ì°¸ì¡°ê°€ ìˆìŠµë‹ˆë‹¤.\n\n### DBMSëŠ” ë­˜ê¹Œìš”? íŠ¹ì§•ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\në°ì´í„°ë² ì´ìŠ¤ë¥¼ ê´€ë¦¬í•˜ëŠ” ì‹œìŠ¤í…œìœ¼ë¡œ, ì†Œí”„íŠ¸ì›¨ì–´\n\nMySQL, Oracle, Redis ë“±ì´ ìˆë‹¤.\n\níŠ¹ì§•ìœ¼ë¡œëŠ”, ë°ì´í„° ì¼ê´€ì„± ìœ ì§€, ë³µêµ¬, ë™ì‹œ ìš”ì²­ ì œì–´ ë“±ì´ ìˆë‹¤.\n\n### ìŠ¤í‚¤ë§ˆê°€ ë­˜ê¹Œìš”? 3ë‹¨ê³„ ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\nìŠ¤í‚¤ë§ˆë€, ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ëœ ë°ì´í„° êµ¬ì¡°ë¥¼ ì •ì˜í•˜ëŠ” ê°œë…ì…ë‹ˆë‹¤.\n\nì´ ìŠ¤í‚¤ë§ˆëŠ” ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°ì—ì„œ ì™¸ë¶€ ìŠ¤í‚¤ë§ˆ, ê°œë… ìŠ¤í‚¤ë§ˆ, ë‚´ë¶€ ìŠ¤í‚¤ë§ˆë¡œ ë‚˜ë‰©ë‹ˆë‹¤.\n\nì™¸ë¶€ ìŠ¤í‚¤ë§ˆëŠ” ì‚¬ìš©ìê°€ ë³´ëŠ” ìŠ¤í‚¤ë§ˆì…ë‹ˆë‹¤. í”íˆ í…Œì´ë¸”ì´ë‚˜ ë·°ë¥¼ ì˜ë¯¸í•œë‹¤ê³  ë³´ë©´ ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤.\n\nê°œë… ìŠ¤í‚¤ë§ˆëŠ” ì „ì²´ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì •ì˜ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤. ì‰½ê²Œ ë§í•´ ì „ì²´ í…Œì´ë¸”ì„ ì˜ë¯¸í•œë‹¤ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në‚´ë¶€ ìŠ¤í‚¤ë§ˆëŠ” ë””ìŠ¤í¬ì— ì‹¤ì œ ë°ì´í„°ê°€ ì €ì¥ë˜ëŠ” ë°©ë²•ì˜ í‘œí˜„ì…ë‹ˆë‹¤. ì¸ë±ìŠ¤, ìë£Œí˜•ì´ í¬í•¨ëœë‹¤ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n### ë°ì´í„° ë…ë¦½ì„±ì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”. â† ì´ê±° ì˜ ì´í•´ê°€ ì•ˆê°\n\nDBì˜ êµ¬ì¡°ë¥¼ ë³€ê²½í•´ë„, ì‚¬ìš©ìì—ê²Œ ì˜í–¥ì´ ê°€ì§€ ì•Šë„ë¡ í•˜ëŠ” ê°œë…ì…ë‹ˆë‹¤.\n\në‘ ê°€ì§€ì˜ ë°ì´í„° ë…ë¦½ì„±ì´ ì¡´ì¬í•©ë‹ˆë‹¤.\n\në…¼ë¦¬ì  ë°ì´í„° ë…ë¦½ì„±ì…ë‹ˆë‹¤. ì´ëŠ”, ë…¼ë¦¬ì ì¸ êµ¬ì¡°ë‚˜ ìŠ¤í‚¤ë§ˆë¥¼ ë³€ê²½í•´ë„ ì‚¬ìš©ìëŠ” ë™ì¼í•˜ê²Œ DMLì„ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤ëŠ” ì ì…ë‹ˆë‹¤. ì‰½ê²Œ ë§í•´ í…Œì´ë¸” êµ¬ì¡°ê°€ ë³€ê²½ì´ ë˜ì–´ë„ ì‚¬ìš©ìëŠ” ë…¼ë¦¬ì ìœ¼ë¡œ ë™ì¼í•œ\n\në¬¼ë¦¬ì  ë°ì´í„° ë…ë¦½ì„±ì€, ë¬¼ë¦¬ì ì¸ êµ¬ì¡°ê°€ ë³€ê²½ë˜ì–´ë„ ì‚¬ìš©ìì—ê²ŒëŠ” ì˜í–¥ì„ ì£¼ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n### RDBMS(ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ì‹œìŠ¤í…œ)ëŠ” ë­˜ê¹Œìš”?\n\në°ì´í„°ë¥¼ í…Œì´ë¸” ê°„ì˜ ì •ì˜ëœ ê´€ê³„ë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ê³  ì“¸ ìˆ˜ ìˆëŠ” ì‹œìŠ¤í…œì…ë‹ˆë‹¤.\n\n### ë¦´ë ˆì´ì…˜ ìŠ¤í‚¤ë§ˆì™€ ë¦´ë ˆì´ì…˜ ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\në¦´ë ˆì´ì…˜ ìŠ¤í‚¤ë§ˆëŠ”, ì‰½ê²Œ ë§í•´ í…Œì´ë¸”ì˜ ì œì•½ ì¡°ê±´ì…ë‹ˆë‹¤. í…Œì´ë¸”ì˜ ì´ë¦„, ê° ì¹¼ëŸ¼ì˜ ì´ë¦„ê³¼ ìë£Œí˜•ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ìë°”ë¡œ ë¹„ìœ í•˜ìë©´ í´ë˜ìŠ¤\n\në¦´ë ˆì´ì…˜ ì¸ìŠ¤í„´ìŠ¤ëŠ”, ìë°”ë¡œ ë¹„ìœ í•˜ìë©´ ì¸ìŠ¤í„´ìŠ¤ê°€ ë  ê²ƒ ì…ë‹ˆë‹¤. ì¦‰, ìŠ¤í‚¤ë§ˆê°€ ìƒì„±ë˜ê³  ì–´ëŠ íŠ¹ì • ì‹œì ì— í…Œì´ë¸”ì— ì €ì¥ë˜ì–´ ìˆëŠ” ìƒíƒœê°€ ë°”ë¡œ ë¦´ë ˆì´ì…˜ ì¸ìŠ¤í„´ìŠ¤ì´ë‹¤.\n\nì •ì ì´ëƒ ë™ì ì´ëƒì˜ ê´€ì ìœ¼ë¡œ ë´ë„ ë  ê²ƒ ê°™ë‹¤.\n\n### ë¦´ë ˆì´ì…˜ì˜ ì°¨ìˆ˜ì™€ ì¹´ë‹ˆëœë¦¬í‹°ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\nì°¨ìˆ˜: íŠ¹ì • í…Œì´ë¸”ì˜ ì¹¼ëŸ¼ ìˆ˜\n\nì¹´ë””ë„ë¦¬í‹°: íŠ¹ì • ì¹¼ëŸ¼ì— í•´ë‹¹í•˜ëŠ” í–‰ë“¤ì˜ ì¤‘ë³µë„ì…ë‹ˆë‹¤. ì¤‘ë³µë„ê°€ ë†’ìœ¼ë©´ ì¹´ë””ë„ë¦¬í‹°ëŠ” ë‚®ë‹¤ë¼ê³  í‘œí˜„ì„ í•˜ê³ , ë°˜ëŒ€ë¡œ ì¤‘ë³µë„ê°€ ë‚®ìœ¼ë©´ ì¹´ë””ë„ë¦¬í‹°ëŠ” ë†’ë‹¤ê³  í•©ë‹ˆë‹¤.\n\n### í‚¤(Key)ì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”. (ìŠˆí¼í‚¤, í›„ë³´í‚¤, ê¸°ë³¸í‚¤, ëŒ€ë¦¬í‚¤, ì™¸ë˜í‚¤)\n\nìŠˆí¼í‚¤: í…Œì´ë¸” ë‚´ì—ì„œ ê³ ìœ ì„±ì„ ë³´ì¥í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” í•˜ë‚˜ ì´ìƒì˜ ì¹¼ëŸ¼ì˜ ì§‘í•©\n\ní›„ë³´í‚¤: ìŠˆí¼í‚¤ì˜ ì„±ì§ˆì„ í¬í•¨í•˜ë©´ì„œ ë™ì‹œì— ìµœì†Œì„±ì„ ë§Œì¡±í•˜ëŠ” í‚¤\n\nê¸°ë³¸í‚¤: ID í•„ë“œì— ì†í•˜ëŠ” ê°’ë“¤. ê° í–‰ì„ êµ¬ë¶„ì§“ëŠ” ê°’. Not Nullì´ë©° ê°’ì´ ì¤‘ë³µë˜ì„œëŠ” ì•ˆëœë‹¤.\n\nëŒ€ë¦¬í‚¤: ì‚¬ìš©ìê°€ ì •ì˜í•œ ì‹¤ì œ ë°ì´í„°ì™€ëŠ” ìƒê´€ì—†ì´ ë°ì´í„°ë² ì´ìŠ¤ê°€ ìë™ìœ¼ë¡œ ìƒì„±í•˜ëŠ” í‚¤ë¥¼ ì˜ë¯¸. ì£¼ë¡œ ê¸°ë³¸í‚¤ë¡œ ì‚¬ìš©í•˜ë©°, ë°ì´í„°ì˜ ë³€ê²½ì´ë‚˜ ì‹¤ì œ ê°’ì˜ ë³€ê²½ì— ëŒ€í•œ ì˜í–¥ì„ ìµœì†Œí™”í•œë‹¤.\n\nì™¸ë˜í‚¤: í•˜ë‚˜ì˜ íŠ¹ì • í…Œì´ë¸”ì—ì„œ ë‹¤ë¥¸ í…Œì´ë¸”ê³¼ ê´€ê³„ë¥¼ ë§ºê¸° ìœ„í•œ í‚¤. ì£¼ë¡œ ì™¸ë˜í‚¤ëŠ” ê´€ê³„ë¥¼ ë§ºì–´ì§€ëŠ” í…Œì´ë¸”ì˜ ê¸°ë³¸í‚¤ì´ë‹¤.\n\n### ë¬´ê²°ì„± ì œì•½ì¡°ê±´ì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”. (ë„ë©”ì¸ ë¬´ê²°ì„±, ê°œì²´ ë¬´ê²°ì„±, ì°¸ì¡° ë¬´ê²°ì„±)\n\në°ì´í„° ë¬´ê²°ì„±: DBì— ì €ì¥ëœ ë°ì´í„°ê°€ ê²°í•¨ì´ ì—†ëŠ”ì§€? ì´ ê²°í•¨ì€, ì¼ê´€ì„±ê³¼ ì •í™•ì„±\n\në„ë©”ì¸ ë¬´ê²°ì„±(ë„ë©”ì¸ ì œì•½): ì¹¼ëŸ¼ì˜ ì†ì„±ì— í•´ë‹¹í•˜ëŠ” ê°’ë§Œ ì˜¬ ìˆ˜ ìˆë‹¤.\n\nê°œì²´ ë¬´ê²°ì„±(ê¸°ë³¸í‚¤ ì œì•½): í…Œì´ë¸”ì€ ê¸°ë³¸í‚¤ë¥¼ ì„¤ì •í•´ì•¼ í•˜ê³ , ê¸°ë³¸í‚¤ëŠ” Not Null, Unique í•´ì•¼ í•œë‹¤.\n\nì°¸ì¡° ë¬´ê²°ì„±(ì™¸ë˜í‚¤ ì œì•½): í…Œì´ë¸” ê°„ì˜ ì°¸ì¡° ê´€ê³„ë¥¼ ì„ ì–¸í•˜ëŠ” ì œì•½ ì¡°ê±´. ìì‹ í…Œì´ë¸”ì˜ ì™¸ë˜í‚¤ëŠ” ë¶€ëª¨ í…Œì´ë¸”ì˜ ê¸°ë³¸í‚¤ì™€ ë„ë©”ì¸ì´ ë™ì¼í•´ì•¼ í•˜ë©°, ìì‹ ë¦´ë ˆì´ì…˜ì˜ ê°’ì´ ë³€ê²½ë  ë•Œ ë¶€ëª¨ ë¦´ë ˆì´ì…˜ì˜ ì œì•½ì„ ë°›ëŠ”ë‹¤.\n\n### ì‚¬ìš©í–ˆë˜ ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”. (ì˜¤ë¼í´DB, MySQL, MariaDB, MongoDB ë“±)\n"},{"excerpt":"ğŸ“ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸ í”„ë¡œê·¸ë¨ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”. í”„ë¡œê·¸ë¨ì€ ê°œë°œìê°€ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡œ ì‘ì„±í•œ ëª…ë ¹ì–´ë“¤ì˜ ì§‘í•©ì…ë‹ˆë‹¤. í”„ë¡œê·¸ë¨ì˜ íŠ¹ì§•ìœ¼ë¡œëŠ” ë””ìŠ¤í¬ì— ì‹¤í–‰ íŒŒì¼ í˜•ì‹ìœ¼ë¡œ ì €ì¥ë˜ì–´ ìˆë‹¤ê°€, ì‚¬ìš©ìê°€ ì‹¤í–‰ì„ í•˜ë©´ ìš´ì˜ì²´ì œì— ì˜í•´ í•´ë‹¹ íŒŒì¼ì„ ë©”ëª¨ë¦¬ì— ì ì¬ë©ë‹ˆë‹¤. ì´ë¥¼ í”„ë¡œì„¸ìŠ¤ë¼ê³  í•©ë‹ˆë‹¤. í”„ë¡œì„¸ìŠ¤ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”. í”„ë¡œê·¸ë¨ì˜ ì¸ìŠ¤í„´ìŠ¤ì…ë‹ˆë‹¤. ì‰½ê²Œ ë§í•´, ë””ìŠ¤í¬â€¦","fields":{"slug":"/os-interview-study-2week/"},"frontmatter":{"date":"November 16, 2023","title":"[JSCODE] - OS ë©´ì ‘ ìŠ¤í„°ë”” 2ì£¼ì°¨","tags":["operating-system","interview"]},"rawMarkdownBody":"\n## ğŸ“ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸\n\n### í”„ë¡œê·¸ë¨ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\ní”„ë¡œê·¸ë¨ì€ ê°œë°œìê°€ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡œ ì‘ì„±í•œ ëª…ë ¹ì–´ë“¤ì˜ ì§‘í•©ì…ë‹ˆë‹¤.\n\ní”„ë¡œê·¸ë¨ì˜ íŠ¹ì§•ìœ¼ë¡œëŠ” ë””ìŠ¤í¬ì— ì‹¤í–‰ íŒŒì¼ í˜•ì‹ìœ¼ë¡œ ì €ì¥ë˜ì–´ ìˆë‹¤ê°€, ì‚¬ìš©ìê°€ ì‹¤í–‰ì„ í•˜ë©´ ìš´ì˜ì²´ì œì— ì˜í•´ í•´ë‹¹ íŒŒì¼ì„ ë©”ëª¨ë¦¬ì— ì ì¬ë©ë‹ˆë‹¤.\n\nì´ë¥¼ í”„ë¡œì„¸ìŠ¤ë¼ê³  í•©ë‹ˆë‹¤.\n\n### í”„ë¡œì„¸ìŠ¤ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\ní”„ë¡œê·¸ë¨ì˜ ì¸ìŠ¤í„´ìŠ¤ì…ë‹ˆë‹¤.\n\nì‰½ê²Œ ë§í•´, ë””ìŠ¤í¬ì— ì €ì¥ë˜ì–´ ìˆë˜ í”„ë¡œê·¸ë¨ì´ ì‚¬ìš©ìì— ì˜í•´ ì‹¤í–‰ë˜ë©´, ìš´ì˜ì²´ì œê°€ í”„ë¡œê·¸ë¨ì˜ ì¼ë¶€ ëª…ë ¹ì–´ë¥¼ ë©”ëª¨ë¦¬ì— ì ì¬ë¥¼ í•˜ê²Œ ë˜ê³ , ì ì¬ëœ ëª…ë ¹ì–´ë“¤ì´ CPUì— ì˜í•´ ì²˜ë¦¬ê°€ ë©ë‹ˆë‹¤.\n\nì´ë ‡ê²Œ í•´ì„œ ì‚¬ìš©ìê°€ ì‹¤í–‰í•œ í”„ë¡œê·¸ë¨ì´ í”„ë¡œì„¸ìŠ¤ë¡œì„œ ì‹¤í–‰ì´ ë©ë‹ˆë‹¤.\n\n### í”„ë¡œì„¸ìŠ¤ì˜ ë©”ëª¨ë¦¬ ê³µê°„ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\ní”„ë¡œì„¸ìŠ¤ì˜ ë©”ëª¨ë¦¬ ê³µê°„ì€ í¬ê²Œ 4ê°€ì§€ë¡œ ë‚˜ë‰©ë‹ˆë‹¤.\n\n**í…ìŠ¤íŠ¸(ë˜ëŠ” ì½”ë“œ) ì˜ì—­**, **ë°ì´í„° ì˜ì—­**, **í™ ì˜ì—­**, **ìŠ¤íƒ ì˜ì—­**ìœ¼ë¡œ ë‚˜ë‰©ë‹ˆë‹¤.\n\ní…ìŠ¤íŠ¸ ì˜ì—­ì€ í”„ë¡œê·¸ë¨ì˜ ëª…ë ¹ì–´ë“¤ì´ ì €ì¥ë˜ëŠ” ì˜ì—­ì…ë‹ˆë‹¤. CPUëŠ” ì´ ë¶€ë¶„ì˜ ëª…ë ¹ì–´ë¥¼ ì½ì–´ ì²˜ë¦¬í•©ë‹ˆë‹¤.\n\në°ì´í„° ì˜ì—­ì€ ì£¼ë¡œ ì „ì—­ ë³€ìˆ˜ë‚˜ ì •ì  ë³€ìˆ˜ë“¤ì´ ì €ì¥ë˜ëŠ” ì˜ì—­ì…ë‹ˆë‹¤.\n\nìŠ¤íƒ ì˜ì—­ì€ ì§€ì—­ ë³€ìˆ˜ë‚˜ í•¨ìˆ˜ í˜¸ì¶œê³¼ ê´€ë ¨ëœ ë°ì´í„°ê°€ ì €ì¥ë˜ëŠ” ì˜ì—­ì…ë‹ˆë‹¤.\n\ní™ ì˜ì—­ì€ í”„ë¡œì„¸ìŠ¤ê°€ ì‹¤í–‰ ì¤‘ì— ë™ì ìœ¼ë¡œ ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•˜ê³  í•´ì œí•˜ê²Œ ë˜ëŠ”ë°, ê·¸ë•Œ ì‚¬ìš©í•˜ê²Œ ë˜ëŠ” ì˜ì—­ì…ë‹ˆë‹¤.\nìë°” ê¸°ì¤€ìœ¼ë¡œ ë§ì”€ë“œë¦¬ìë©´ ê°ì²´ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ í™ ì˜ì—­ì— ì €ì¥ëœë‹¤ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n### ì“°ë ˆë“œì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\ní”„ë¡œì„¸ìŠ¤ì˜ ì‹¤í–‰ ë‹¨ìœ„ì¸ ë™ì‹œì—, CPUê°€ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” í•˜ë‚˜ì˜ ì‘ì—… ë‹¨ìœ„ì…ë‹ˆë‹¤.\n\nì‹¤í–‰ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ëŠ” ê¼­ 1ê°œ ì´ìƒì˜ ì“°ë ˆë“œë¥¼ ê°€ì§‘ë‹ˆë‹¤.\n\ní•œ í”„ë¡œì„¸ìŠ¤ì— ì—¬ëŸ¬ ì“°ë ˆë“œê°€ ì¡´ì¬í•  ìˆ˜ ìˆìœ¼ë©°, ì´ ì“°ë ˆë“œë“¤ì€ ê°™ì€ í”„ë¡œì„¸ìŠ¤ì˜ ìì›ì„ ê³µìœ í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì“°ë ˆë“œê°€ ë§ì„ìˆ˜ë¡ ì²˜ë¦¬í•˜ëŠ” ì‘ì—…ì´ ë§ì•„ì ¸ì„œ íš¨ìœ¨ì´ ì¦ê°€í•œë‹¤ê³  ìƒê°í•  ìˆ˜ ìˆëŠ”ë°ìš”.\nì‚¬ì‹¤, ì´ ì“°ë ˆë“œ ê°„ì˜ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ì´ ë¹ˆë²ˆí•˜ê²Œ ì¼ì–´ë‚˜ë©´ ê·¸ ê³¼ì •ì—ì„œ ì˜¤ë²„í—¤ë“œê°€ ë°œìƒí•©ë‹ˆë‹¤.\në”°ë¼ì„œ ë§ë‹¤ê³  í•´ì„œ ì¢‹ì€ ê±´ ì•„ë‹™ë‹ˆë‹¤.\n\n### í”„ë¡œì„¸ìŠ¤ì™€ ì“°ë ˆë“œê°€ ì–´ë–¤ ì°¨ì´ê°€ ìˆëŠ”ì§€ ì˜ˆì‹œë¥¼ ë“¤ì–´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\ní”„ë¡œì„¸ìŠ¤ê°€ ì‹ë‹¹ì´ë¼ê³  í•œë‹¤ë©´, ì“°ë ˆë“œëŠ” ìš”ë¦¬ì‚¬ ë˜ëŠ” ì„œë²„ ë˜ëŠ” ê³„ì‚°ì›ì´ ë  ìˆ˜ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\n\ní•œ ì‹ë‹¹ì—ì„œ ê³ ê°ì˜ ìš”ì²­ì— ì˜í•´ ìˆ˜í–‰ë˜ì–´ì•¼ í•˜ëŠ” ì‘ì—…ì´ ì£¼ë¬¸ë°›ê¸°, ìš”ë¦¬, ìŒì‹ ì œê³µ, ê³„ì‚°ì˜ ìˆœì´ ë  ê²ƒ ê°™ì€ë°ìš”. ì´ëŸ¬í•œ í•˜ë‚˜ì˜ ì‘ì—… ë‹¨ìœ„ë¥¼ ìˆ˜í–‰í•˜ëŠ” ì‚¬ëŒì´ ë¶„ëª…íˆ ì¡´ì¬í•´ì•¼ í•©ë‹ˆë‹¤.\në”°ë¼ì„œ ì´ í•˜ë‚˜ì˜ ì‘ì—… ë‹¨ìœ„ë¥¼ ìˆ˜í–‰í•˜ëŠ” ì‚¬ëŒì„ ì“°ë ˆë“œë¡œ ë¹„ìœ ë¥¼ ë“¤ ìˆ˜ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\n\n### ì“°ë ˆë“œì˜ ë©”ëª¨ë¦¬ ê³µê°„(ìŠ¤íƒ, ë°ì´í„°, ì½”ë“œ)ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\nì“°ë ˆë“œëŠ” ê°ê¸° ë‹¤ë¥¸ ì‘ì—… ì˜ì—­ì„ ê°€ì§‘ë‹ˆë‹¤. ì´ ì‘ì—… ì˜ì—­ì€ ìŠ¤íƒ ì˜ì—­ì— í•´ë‹¹í•©ë‹ˆë‹¤.\nì´ì™¸ì— ë‚˜ë¨¸ì§€ì¸, ì½”ë“œ, ë°ì´í„°, í™ ì˜ì—­ì— ê²½ìš°ëŠ” ê°™ì€ í”„ë¡œì„¸ìŠ¤ ë‚´ì—ì„œ í•¨ê»˜ ì‚¬ìš©í•˜ê²Œ ë©ë‹ˆë‹¤.\n\nì´ë¡œ ì¸í•´ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë¬¸ì œì ì´ ìˆìŠµë‹ˆë‹¤. ë°”ë¡œ, ë™ì‹œì„± ë¬¸ì œì¸ë°ìš”.\níŠ¹íˆ ë°ì´í„° ì˜ì—­ì˜ ê²½ìš° ì •ì  ë³€ìˆ˜ë“¤ì´ ì €ì¥ë˜ì–´ ìˆëŠ”ë°, ì´ ë³€ìˆ˜ê°€ ê°€ë³€ì„±ì„ ëˆë‹¤ë©´ ë™ì‹œì„± ë¬¸ì œê°€ ì¶©ë¶„íˆ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në”°ë¼ì„œ ë©€í‹° ì“°ë ˆë“œ í™˜ê²½ì´ë¼ë©´ ë™ì‹œì„± ë¬¸ì œë¥¼ í•­ìƒ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.\n\n### í”„ë¡œì„¸ìŠ¤ ì œì–´ë¸”ë¡(PCB)ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\níŠ¹ì • í”„ë¡œì„¸ìŠ¤ì— ëŒ€í•´ ì¤‘ìš”í•œ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” ìë£Œêµ¬ì¡°ì…ë‹ˆë‹¤.\nìš´ì˜ì²´ì œê°€ í”„ë¡œì„¸ìŠ¤ë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•´ í”„ë¡œì„¸ìŠ¤ ìƒì„±ê³¼ ë™ì‹œì— ê³ ìœ í•œ PCBë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\n\ní”„ë¡œì„¸ìŠ¤ê°€ CPUì— í• ë‹¹ë˜ì–´ ì²˜ë¦¬ë˜ëŠ” ë„ì¤‘ì—, CPUì˜ ì ìœ ê°€ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ë¡œ ë„˜ì–´ê°€ê²Œ ëœë‹¤ë©´, ì‹¤í–‰ ê³¼ì •ì— ëŒ€í•œ ì •ë³´ë¥¼ ì–´ë”˜ê°€ì— ì €ì¥í•˜ê³  ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ì´ë•Œ ê·¸ ì–´ë”˜ê°€ê°€ PCBì— í•´ë‹¹í•©ë‹ˆë‹¤.\n\n- PCBì—ëŠ” ì–´ë–¤ ì •ë³´ê°€ ë‹´ê²¨ìˆì„ê¹Œìš”?\n    - í”„ë¡œì„¸ìŠ¤ ID\n    - í”„ë¡œì„¸ìŠ¤ì˜ ìƒíƒœ: new, ready, running, waiting, terminated\n    - í”„ë¡œê·¸ë¨ ì¹´ìš´í„°: í”„ë¡œì„¸ìŠ¤ê°€ ë‹¤ìŒì— ì‹¤í–‰í•  ëª…ë ¹ì–´ì˜ ì£¼ì†Œ\n    - CPU ë ˆì§€ìŠ¤í„°\n    - CPU ìŠ¤ì¼€ì¤„ë§ ì •ë³´: í”„ë¡œì„¸ìŠ¤ ìš°ì„ ìˆœìœ„, ìŠ¤ì¼€ì¤„ íì— ëŒ€í•œ í¬ì¸í„° ë“±\n    - ë©”ëª¨ë¦¬ ê´€ë¦¬ ì •ë³´: í˜ì´ì§€ í…Œì´ë¸” ë˜ëŠ” ì„¸ê·¸ë¨¼íŠ¸ í…Œì´ë¸” ë“±ê³¼ ê°™ì€ ì •ë³´ë¥¼ í¬í•¨\n    - ì…ì¶œë ¥ ìƒíƒœ ì •ë³´: í”„ë¡œì„¸ìŠ¤ì— í• ë‹¹ëœ ì…ì¶œë ¥ ì¥ì¹˜ë“¤ê³¼ ì—´ë¦° íŒŒì¼ ëª©ë¡\n    - ì–´ì¹´ìš´íŒ… ì •ë³´ : ì‚¬ìš©ëœ CPU ì‹œê°„, ì‹œê°„ì œí•œ, ê³„ì •ë²ˆí˜¸ ë“±\n\n### ì“°ë ˆë“œ ì œì–´ë¸”ë¡(TCB)ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\nì“°ë ˆë“œì— ëŒ€í•œ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ìë£Œêµ¬ì¡°ì…ë‹ˆë‹¤.\n\nì“°ë ˆë“œê°€ ìƒì„±ë  ë•Œ, ìš´ì˜ì²´ì œëŠ” ê° ì“°ë ˆë“œì— ëŒ€í•œ TCBë¥¼ ìƒì„±í•˜ê³  ì—…ë°ì´íŠ¸í•˜ì—¬ ì“°ë ˆë“œì˜ ìƒíƒœë¥¼ ì¶”ì í•©ë‹ˆë‹¤.\n\níŠ¹ì • ì“°ë ˆë“œê°€ CPUë¥¼ ì ìœ í•˜ì—¬ ì²˜ë¦¬ë˜ëŠ” ë„ì¤‘ì—, ë‹¤ë¥¸ ì“°ë ˆë“œë¡œ ì ìœ ê°€ ë„˜ì–´ê°€ê²Œ ë˜ë©´, ê¸°ì¡´ ì²˜ë¦¬ë˜ë˜ ì“°ë ˆë“œì˜ ìƒíƒœë¥¼ ì €ì¥í•´ì•¼ í•©ë‹ˆë‹¤. ì´ë•Œ ì €ì¥í•˜ëŠ” ê³µê°„ì´ TCBì…ë‹ˆë‹¤.\n\n- TCBì— í¬í•¨ë˜ëŠ” ì •ë³´\n- ì“°ë ˆë“œ ì‹ë³„ì\n- ì“°ë ˆë“œ ìƒíƒœ\n- í”„ë¡œê·¸ë¨ ì¹´ìš´í„°\n- ìŠ¤íƒ í¬ì¸í„°\n- ë ˆì§€ìŠ¤í„° ìƒíƒœ\n- ì“°ë ˆë“œ ìš°ì„ ìˆœìœ„\n- ì“°ë ˆë“œì˜ í• ë‹¹ëœ ìì› ì •ë³´\n- ì“°ë ˆë“œì˜ ìŠ¤ì¼€ì¤„ë§ ì •ë³´\n\n### ë©€í‹° í”„ë¡œì„¸ìŠ¤ì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\ní•˜ë‚˜ì˜ ì»´í“¨í„°ì—ì„œ ì—¬ëŸ¬ ê°œì˜ ë…ë¦½ì ì¸ í”„ë¡œì„¸ìŠ¤ê°€ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ ë§í•©ë‹ˆë‹¤.\n\nì´ë•Œ, ê° í”„ë¡œì„¸ìŠ¤ëŠ” ë©”ëª¨ë¦¬ì— ê°ê°ì˜ ë…ë¦½ì ì¸ ë©”ëª¨ë¦¬ ì˜ì—­ì„ í• ë‹¹ë°›ê²Œ ë©ë‹ˆë‹¤.\n\ní”„ë¡œì„¸ìŠ¤ê°€ ë§ì„ìˆ˜ë¡ ì²˜ë¦¬ë˜ëŠ” í”„ë¡œê·¸ë¨ì˜ ìˆ˜ê°€ ë§ì•„ì ¸ì„œ ì¢‹ì€ ê²Œ ì•„ë‹ê¹Œí•˜ëŠ” ìƒê°ì´ ë“¤ ìˆ˜ ìˆì§€ë§Œ, ì“°ë ˆë“œê°€ ë§ì„ìˆ˜ë¡ ì¢‹ì€ ê²Œ ì•„ë‹Œ ê²ƒì²˜ëŸ¼ ì‹¤í–‰ ê²°ê³¼ê°€ ì¢‹ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n### ë©€í‹° ì“°ë ˆë”©ì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\ní•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ ë‚´ì— ì—¬ëŸ¬ ê°œì˜ ì“°ë ˆë“œê°€ ë™ì‹œì— ì‹¤í–‰ë˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\n\nì ì ˆí•œ ìˆ˜ì˜ ì“°ë ˆë“œëŠ” ì—¬ëŸ¬ ì‘ì—…ì„ ì´ìƒì—†ì´ ë™ì‹œì— ì²˜ë¦¬í•  ìˆ˜ ìˆì§€ë§Œ,\në„ˆë¬´ ë§ì€ ìˆ˜ì˜ ì“°ë ˆë“œëŠ” ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ìœ¼ë¡œ ì¸í•´ ì˜¤íˆë ¤ ì„±ëŠ¥ ì €í•˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n### í”„ë¡œì„¸ìŠ¤ ìˆ˜í–‰ ìƒíƒœ ë³€í™” ê³¼ì •ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\nì²˜ìŒ í”„ë¡œì„¸ìŠ¤ê°€ ë©”ëª¨ë¦¬ì— ì ì¬ë˜ê¸° ì „ì˜ ìƒíƒœëŠ” newì…ë‹ˆë‹¤.\n\ní•´ë‹¹ í”„ë¡œì„¸ìŠ¤ê°€ ë©”ëª¨ë¦¬ì— ì ì¬ê°€ ë˜ê³  ì‹¤í–‰ëŒ€ê¸° íì— ì ì¬ê°€ ëœ ìƒíƒœëŠ” readyì…ë‹ˆë‹¤.\n\ní•´ë‹¹ í”„ë¡œì„¸ìŠ¤ê°€ CPUì— í• ë‹¹ë˜ì–´ ì‘ì—…ì´ ìˆ˜í–‰ë˜ë©´ running ìƒíƒœì…ë‹ˆë‹¤.\n\në§Œì•½ í•´ë‹¹ í”„ë¡œì„¸ìŠ¤ê°€ IO ì‘ì—…ì„ ìš”ì²­í•˜ê²Œ ë˜ë©´, í•´ë‹¹ IO ì‘ì—…ì´ ì™„ë£Œë˜ê¸° ì „ê¹Œì§€ ëŒ€ê¸°í•˜ëŠ” ìƒíƒœê°€ block ì…ë‹ˆë‹¤.\n\ní•´ë‹¹ í”„ë¡œì„¸ìŠ¤ê°€ ì¢…ë£Œë  ë•Œ, terminated ìƒíƒœë¥¼ ê±°ì³ ì™„ì „íˆ ì¢…ë£Œí•˜ê²Œ ë©ë‹ˆë‹¤.\n\n### ë¬¸ë§¥êµí™˜(context switch)ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\nA ì“°ë ˆë“œì™€ B ì“°ë ˆë“œê°€ ë™ì‹œì— ì²˜ë¦¬ë  ë•Œ, CPUê°€ Aë¥¼ ì²˜ë¦¬í•˜ë‹¤ê°€ Bë¥¼ ì²˜ë¦¬í•˜ê²Œ ë  ë•Œ ë°œìƒí•˜ëŠ” ê°œë…ì´ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ì…ë‹ˆë‹¤.\n\n- ë¬¸ë§¥êµí™˜ì€ ì–¸ì œ ë°œìƒí•˜ë‚˜ìš”?\n\nì¼ë°˜ì ìœ¼ë¡œ í•œ ì“°ë ˆë“œì˜ íƒ€ì„ ìŠ¬ë¼ì´ìŠ¤ê°€ ëë‚œ ê²½ìš° ë°œìƒí•©ë‹ˆë‹¤.\n\në˜ëŠ” íƒ€ì´ë¨¸ ì¸í„°ëŸ½íŠ¸ë‚˜ IO ìš”ì²­ ì‹œìŠ¤í…œ ì½œì´ ë“¤ì–´ì˜¬ ë•Œ ë°œìƒí•©ë‹ˆë‹¤.\n\n- ë¬¸ë§¥ êµí™˜ ë°œìƒ ê³¼ì •ì— ëŒ€í•´ì„œ ì¡°ê¸ˆ ë” ìƒì„¸íˆ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\ní˜„ì¬ ì²˜ë¦¬í•˜ëŠ” CPUê°€ ì“°ë ˆë“œ Aì—ì„œ Bë¡œ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ì´ ì¼ì–´ë‚œë‹¤ê³  ê°€ì •í•´ë³´ê² ìŠµë‹ˆë‹¤.\n\nì´ë•Œ, ì“°ë ˆë“œ Aì˜ ì§„í–‰ ìƒíƒœë¥¼ PCB ë‚´ì§€ TCBì— ì €ì¥í•©ë‹ˆë‹¤.\nê·¸ë¦¬ê³  ìš´ì˜ì²´ì œëŠ” ì“°ë ˆë“œ Bì˜ ì§„í–‰ ìƒíƒœë¥¼ PCB ë˜ëŠ” TCBì—ì„œ ë¶ˆëŸ¬ì˜¤ê³ , ì´ë¥¼ CPUì—ê²Œ í• ë‹¹í•©ë‹ˆë‹¤.\n\n### fork() ëª…ë ¹ì–´ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\nìœ ë‹‰ìŠ¤ì—ì„œì˜ fork ëª…ë ¹ì–´ëŠ” ìƒˆë¡œìš´ í”„ë¡œì„¸ìŠ¤ë¥¼ ìƒì„±í•˜ë„ë¡ í•˜ëŠ” ì‹œìŠ¤í…œ ì½œì…ë‹ˆë‹¤.\n\nfork ì‹œìŠ¤í…œì½œì„ í†µí•´ ë¶€ëª¨ í”„ë¡œì„¸ìŠ¤ì˜ ë‚´ìš©ì„ ê·¸ëŒ€ë¡œ ë³µì œí•œ ìì‹ í”„ë¡œì„¸ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ë•Œ ë¶€ëª¨ í”„ë¡œì„¸ìŠ¤ì™€ ìì‹ í”„ë¡œì„¸ìŠ¤ëŠ” ë…ë¦½ì ìœ¼ë¡œ ìˆ˜í–‰í•©ë‹ˆë‹¤.\n\n### í”„ë¡œì„¸ìŠ¤ë¼ë¦¬ í˜‘ë ¥í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n\n1. ë©”ì‹œì§€ ì „ë‹¬ ë°©ì‹\n   í”„ë¡œì„¸ìŠ¤ëŠ” ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì—ê²Œ ì „ë‹¬í•  ë©”ì‹œì§€ë¥¼ ìš´ì˜ì²´ì œì—ê²Œ ì‹œìŠ¤í…œ ì½œ ë°©ì‹ìœ¼ë¡œ ìš”ì²­í•´ ì „ë‹¬í•œë‹¤.\n2. ê³µìœ  ë©”ëª¨ë¦¬ ë°©ì‹\n   ì‹œìŠ¤í…œ ì½œ ë°©ì‹ì„ í†µí•´ ê° í”„ë¡œì„¸ìŠ¤ ê°„ ê³µìœ í•˜ëŠ” ê³µê°„ì„ ë§Œë“ ë‹¤.\n   ì´ ê³µìœ  ê³µê°„ì„ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.\n\n## ğŸ¤” ê°œì¸ì ì¸ ê¶ê¸ˆì¦\n\n### ìŠ¤íƒ ë©”ëª¨ë¦¬ ì˜ì—­ ê´€ë ¨\n\nìë°”ì˜ ì •ì„ì— ë”°ë¥´ë©´, â€œê° ë©”ì„œë“œë¥¼ ìœ„í•œ ë©”ëª¨ë¦¬ìƒì˜ ì‘ì—…ê³µê°„ì€ ì„œë¡œ êµ¬ë³„ëœë‹¤â€ê³  í•©ë‹ˆë‹¤.\në™ì‹œì— ì“°ë ˆë“œì— ëŒ€í•´ í•™ìŠµí–ˆì„ ë•Œ, ê° ì“°ë ˆë“œëŠ” ê°ê¸° ë‹¤ë¥¸ ìŠ¤íƒ ì˜ì—­ì„ ê°€ì§„ë‹¤ê³  í•™ìŠµí–ˆìŠµë‹ˆë‹¤.\n\në‘˜ ë‹¤ ê²°êµ­, ë©”ëª¨ë¦¬ ê´€ì ì—ì„œ ìŠ¤íƒ ì˜ì—­ì— ê°ê¸° ë‹¤ë¥¸ ì‘ì—… ì˜ì—­ì„ í• ë‹¹í•œë‹¤ê³  ì´í•´í•˜ë©´ ë ê¹Œìš”?\n\n### ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ ì„¤ëª…ì— ì£¼ë¡œ í”„ë¡œì„¸ìŠ¤ ê°„ì˜ êµí™˜ì´ ì„¤ëª…ë˜ì–´ ìˆëŠ”ë°, ì“°ë ˆë“œ ê°„ì˜ êµí™˜ìœ¼ë¡œ ë‚˜ì™€ìˆì§€ ì•Šì€ ì´ìœ ? ê·¸ë¦¬ê³  ì‚¬ì‹¤ìƒ ì“°ë ˆë“œ ê°„ì˜ êµí™˜ì´ ì¼ì–´ë‚ í…ë°? ê·¸ë¦¬ê³  ê°™ì€ í”„ë¡œì„¸ìŠ¤ì˜ ì“°ë ˆë“œ ê°„ì˜ êµí™˜ì´ ì¼ì–´ë‚˜ë©´ PCB ë§ê³  TCBì— ì €ì¥í•˜ë‚˜?\n\n## ğŸ¯ í”¼ë“œë°±\n\n- ì €ë²ˆ ì£¼ë‘ ë§ì´ ë‹¬ë¼ì¡Œë‹¤. **ë‘ê´„ì‹ì´ ì¢‹ì•˜ë‹¤.**\n- ì˜ˆì‹œë„ êµ¬ì²´ì ì´ê³  ìì„¸í•´ì„œ êµ¿\n- ì†Œí†µë„ ë§ì´ ëŠ˜ì—ˆë‹¤.\n- ì €ë²ˆ ì£¼ì— ë¹„í•´ ë‹¤ ì¢‹ì•˜ë‹¤.\n- ë˜ë¹„ë´í\n- ë©€í‹° ì“°ë ˆë“œ ì ìš© â†’ ëŒ€ìš©ëŸ‰ ë°ì´í„°, ë°°ì¹˜\n  ì´ë•Œ ë©€í‹° ì“°ë ˆë“œì˜ ì¥ì ì„ ë§ì´ ëŠë‚€ë‹¤.\n- ì‹œì„  ì²˜ë¦¬"},{"excerpt":"ğŸ“ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸ ìš´ì˜ì²´ì œëŠ” ë¬´ì—‡ì´ê³  ì–´ë–¤ ì—­í• ì„ ìˆ˜í–‰í•˜ëŠ”ê°€? ìš´ì˜ì²´ì œëŠ” ì»´í“¨íŒ… ì‹œìŠ¤í…œì„ ìš´ì˜í•˜ëŠ” ì‹œìŠ¤í…œì´ë‹¤. ì•½ê°„ ë§ì¥ë‚œ ê°™ì§€ë§Œ, ì‹¤ì œë¡œ ìš´ì˜ì²´ì œëŠ” ì‚¬ìš©ìì™€ í•˜ë“œì›¨ì–´ ì‚¬ì´ì—ì„œ ìì›ì„ ì–´ë–»ê²Œ ì‚¬ìš©í•  ì§€ë¥¼ ê²°ì •í•œë‹¤. ëŒ€í‘œì ì¸ ì—­í• ë¡œëŠ” í”„ë¡œì„¸ìŠ¤ ìŠ¤ì¼€ì¤„ë§, í”„ë¡œì„¸ìŠ¤ ë™ê¸°í™” ë°©ì‹ ë“±ì´ ìˆë‹¤. ì‹œë¶„í•  ì‹œìŠ¤í…œ í•˜ë‚˜ì˜ í”„ë¡œì„¸ì„œê°€ 2ê°œ ì´ìƒì˜ í”„ë¡œì„¸ìŠ¤ì˜ ì‘ì—…ì„ ì²˜ë¦¬í•´ì•¼í• â€¦","fields":{"slug":"/os-interview-study-1week/"},"frontmatter":{"date":"November 09, 2023","title":"[JSCODE] - OS ë©´ì ‘ ìŠ¤í„°ë”” 1ì£¼ì°¨","tags":["operating-system","interview"]},"rawMarkdownBody":"\n## ğŸ“ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸\n\n### ìš´ì˜ì²´ì œëŠ” ë¬´ì—‡ì´ê³  ì–´ë–¤ ì—­í• ì„ ìˆ˜í–‰í•˜ëŠ”ê°€?\n\nìš´ì˜ì²´ì œëŠ” ì»´í“¨íŒ… ì‹œìŠ¤í…œì„ ìš´ì˜í•˜ëŠ” ì‹œìŠ¤í…œì´ë‹¤.\n\nì•½ê°„ ë§ì¥ë‚œ ê°™ì§€ë§Œ, ì‹¤ì œë¡œ ìš´ì˜ì²´ì œëŠ” ì‚¬ìš©ìì™€ í•˜ë“œì›¨ì–´ ì‚¬ì´ì—ì„œ ìì›ì„ ì–´ë–»ê²Œ ì‚¬ìš©í•  ì§€ë¥¼ ê²°ì •í•œë‹¤.\n\nëŒ€í‘œì ì¸ ì—­í• ë¡œëŠ” í”„ë¡œì„¸ìŠ¤ ìŠ¤ì¼€ì¤„ë§, í”„ë¡œì„¸ìŠ¤ ë™ê¸°í™” ë°©ì‹ ë“±ì´ ìˆë‹¤.\n\n### ì‹œë¶„í•  ì‹œìŠ¤í…œ\n\ní•˜ë‚˜ì˜ í”„ë¡œì„¸ì„œê°€ 2ê°œ ì´ìƒì˜ í”„ë¡œì„¸ìŠ¤ì˜ ì‘ì—…ì„ ì²˜ë¦¬í•´ì•¼í•  ë•Œ, ê°ê°ì˜ í”„ë¡œì„¸ìŠ¤ì˜ ì‘ì—…ì„ ì–¼ë§ˆë§Œí¼ì˜ ì‹œê°„ë™ì•ˆ ì²˜ë¦¬ë¥¼ í•  ê²ƒì¸ì§€ì— ëŒ€í•œ ì •ì±…ì´ë‹¤.\n\nì‹œë¶„í•  ì‹œìŠ¤í…œì„ êµ¬í˜„í•˜ê¸° ìœ„í•œ ë‹¤ì–‘í•œ ì•Œê³ ë¦¬ì¦˜ì´ ìˆì§€ë§Œ, í˜„ì¬ ê°€ì¥ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì€ Round-Robin ì•Œê³ ë¦¬ì¦˜ì´ë‹¤.\n\nRound Robin ì•Œê³ ë¦¬ì¦˜ì€, ê° í”„ë¡œì„¸ìŠ¤ì˜ CPU í• ë‹¹ ì‹œê°„ì„ ë™ì¼í•˜ê²Œ ì„¤ì •í•˜ê³ , í• ë‹¹ ì‹œê°„ì´ ëì´ ë‚˜ë©´ ì¸í„°ëŸ½íŠ¸ë¥¼ ë°œìƒì‹œì¼œ ë‹¤ìŒ í”„ë¡œì„¸ìŠ¤ì˜ ì‘ì—…ì„ ìˆ˜í–‰í•˜ë„ë¡ í•˜ëŠ” ê³¼ì •ì˜ ì•Œê³ ë¦¬ì¦˜ì´ë‹¤.\n\në³´í†µ í• ë‹¹ ì‹œê°„ì€ ë§¤ìš° ì§§ì€ ì‹œê°„ì— ì†í•˜ì§€ë§Œ, CPUëŠ” ì´ ì‹œê°„ì•ˆì— ë§¤ìš° ë¹ ë¥¸ ì†ë„ë¡œ ì‘ì—…ì„ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©ìëŠ” 2ê°œ ì´ìƒì˜ í”„ë¡œì„¸ìŠ¤ê°€ ë™ì‹œì— ì‹¤í–‰ë˜ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì¸ë‹¤.\n\n### ë‹¤ì¤‘ í”„ë¡œê·¸ë˜ë° ì‹œìŠ¤í…œ(multi-programming system)\n\n2ê°œ ì´ìƒì˜ í”„ë¡œê·¸ë¨ì´, í•˜ë‚˜ì˜ ë©”ëª¨ë¦¬ì— ë™ì‹œì— ì ì¬ë˜ëŠ” ì‹œìŠ¤í…œì„ ë§í•œë‹¤.\n\nì´ë•Œ, í”„ë¡œê·¸ë¨ì´ ë©”ëª¨ë¦¬ì— ì ì¬ë  ë•Œ, í”„ë¡œê·¸ë¨ ì „ì²´ë¥¼ ì˜¬ë¦¬ì§„ ì•ŠëŠ”ë‹¤. \n\nìš©ëŸ‰ì´ ì‘ì€ ë©”ëª¨ë¦¬ì— 2ê°œ ì´ìƒì˜ í”„ë¡œê·¸ë¨ ì „ì²´ë¥¼ ì ì¬í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì´ë‹¤. \n\në”°ë¼ì„œ ë‹¹ì¥ í•„ìš”í•œ ë¶€ë¶„ë§Œ ë©”ëª¨ë¦¬ì— ì ì¬í•œë‹¤.\n\n### ëŒ€í™”í˜• ì‹œìŠ¤í…œ(interactive system)\n\nì‚¬ìš©ìê°€ ì»´í“¨í„°ì™€ 1:1ë¡œ ëŒ€í™”í•œë‹¤ëŠ” ëŠë‚Œì˜ ì‹œìŠ¤í…œì´ë‹¤.\n\në‹¤ë¥¸ ë§ë¡œ, ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê²°ê³¼ê°€ ì»´í“¨í„°ì— ì¦‰ì‹œ ì¶œë ¥ëœë‹¤ëŠ” ê²ƒì´ë‹¤.\n\nì‹¤ì œë¡œëŠ” ì—¬ëŸ¬ ì‚¬ìš©ìê°€ í•œ ëŒ€ì˜ ì»´í“¨í„°ë¥¼ ì´ìš©í•¨ì—ë„, 1:1ì²˜ëŸ¼ ì¸ì‹í•œë‹¤ëŠ” ê²ƒì´ë‹¤.\n\nì´ëŠ” ë‹¤ì¤‘ í”„ë¡œê·¸ë˜ë° ì‹œìŠ¤í…œê³¼ ì‹œë¶„í•  ì‹œìŠ¤í…œì˜ ì ìš©ìœ¼ë¡œ ê°€ëŠ¥í•˜ë‹¤.\n\n### ë‹¤ì¤‘ ì²˜ë¦¬ê¸° ì‹œìŠ¤í…œ(multi-processor system)\n\ní”„ë¡œì„¸ì„œê°€ 2ê°œ ì´ìƒì¸ ì‹œìŠ¤í…œì´ë‹¤.\n\në‹¹ì—°í•˜ê²Œë„ ëª¨ë“  í”„ë¡œì„¸ì„œê°€ ìì›ì„ í•¨ê»˜ ì‚¬ìš©í•œë‹¤.\n\nëŒ€ì¹­ì  ë‹¤ì¤‘ ì²˜ë¦¬ ì‹œìŠ¤í…œ: ë‹¨ì¼ ìš´ì˜ì²´ì œ ì•„ë˜ì—ì„œ 2ê°œ ì´ìƒì˜ CPUê°€ ë™ì‘í•˜ëŠ” ì‹œìŠ¤í…œì´ë‹¤.\n\nê° CPUë¼ë¦¬ëŠ” ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê³µìœ í•˜ëŠ” êµ¬ì¡°ë¡œ ìš´ì˜ëœë‹¤.\n\në¹„ëŒ€ì¹­ì  ë‹¤ì¤‘ ì²˜ë¦¬ ì‹œìŠ¤í…œ: 1ê°œì˜ ë©”ì¸ CPUê°€ ì‹œìŠ¤í…œì„ ì œì–´í•˜ë©°, ë‚˜ë¨¸ì§€ CPUë“¤ì€ ë¯¸ë¦¬ ì •ì˜ëœ ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.\n\n### ì‹œìŠ¤í…œ ì½œ\n\ní”„ë¡œì„¸ìŠ¤ê°€ OS ì»¤ë„ì´ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ê³  ì‹¶ì„ ë•Œ, ì‹œìŠ¤í…œ ì½œì„ ì´ìš©í•´ ì‹¤í–‰í•œë‹¤.\n\n#### ì¢…ë¥˜\n- í”„ë¡œì„¸ìŠ¤/ìŠ¤ë ˆë“œ ê´€ë ¨\n- íŒŒì¼ IO ê´€ë ¨\n- ì†Œì¼“ ê´€ë ¨\n- Device ê´€ë ¨ (í‚¤ë³´ë“œ ë“±)\n- í”„ë¡œì„¸ìŠ¤ í†µì‹  ê´€ë ¨\n\nì‹œìŠ¤í…œ ì½œì´ ë°œìƒí•˜ë©´, ì»¤ë„ì€ CPUì—ê²Œ Interruptë¥¼ ë°œìƒí•˜ê³ , CPUëŠ” ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•  ë•Œ ì²´í¬í•˜ê³ , í•´ë‹¹ ì»¤ë„ ì½”ë“œë¥¼ ì‹¤í–‰\n\n### ì»¤ë„\n\nOSì˜ coreë¼ê³  í•  ìˆ˜ ìˆë‹¤.\n\ní•­ìƒ ë©”ëª¨ë¦¬ì— ì ì¬ë˜ì–´ìˆë‹¤.\n\nHWì™€ í”„ë¡œì„¸ìŠ¤ ì‚¬ì´ì˜ ì¸í„°í˜ì´ìŠ¤ë¡œì„œ, í”„ë¡œì„¸ìŠ¤ê°€ ìš”ì²­í•˜ëŠ” ì‹œìŠ¤í…œ ì½œì— ëŒ€í•´ ì§ì ‘ ìˆ˜í–‰í•œë‹¤.\n\nì™œ ì¸í„°í˜ì´ìŠ¤?\n\ní”„ë¡œì„¸ìŠ¤ëŠ” ê°œë°œëœ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ê°€ ëª¨ë‘ ë‹¤ë¥´ê³ , ì‹œìŠ¤í…œ ì½œì„ í˜¸ì¶œí•˜ëŠ” ë°©ì‹ì´ ëª¨ë‘ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ì¤‘ê°„ì— ì¶”ìƒ ê³„ì¸µì´ í•„ìš”í•˜ê¸° ë•Œë¬¸\n\nìš´ì˜ì²´ì œì™€ ì»¤ë„ì˜ ì°¨ì´?\n\nì»¤ë„ì€ ìš´ì˜ ì²´ì œì— í¬í•¨ë˜ëŠ” í•˜ë‚˜ì˜ ëª¨ë“ˆì˜ ê°œë…ì´ë‹¤.\n\nìš´ì˜ì²´ì œëŠ” ì»¤ë„ì„ í¬í•¨í•´, ì»´í“¨í„° ì‹œìŠ¤í…œì„ ì´ê´„í•˜ëŠ” ê°œë…ìœ¼ë¡œ ì´í•´í•˜ê³  ìˆë‹¤.\n\n### ìœ ì €ëª¨ë“œì™€ ì»¤ë„ëª¨ë“œ\n\n- ìœ ì €ëª¨ë“œ: í”„ë¡œì„¸ì„œê°€ ì‘ìš© í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•˜ëŠ” ëª¨ë“œ\n- ì»¤ë„ëª¨ë“œ: í”„ë¡œì„¸ì„œê°€ ì»¤ë„ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ëª¨ë“œ\n\nìœ ì € ëª¨ë“œì—ì„œ ì»¤ë„ ëª¨ë“œë¡œ ì „í™˜ë  ë•Œ ì¸í„°ëŸ½íŠ¸ë‚˜ ì‹œìŠ¤í…œ ì½œì´ ë°œìƒí•œë‹¤.\n\nCPUì˜ mode bit ë ˆì§€ìŠ¤í„°ë¡œ êµ¬ë¶„í•œë‹¤.\n\n0ì´ë©´ ì»¤ë„ ëª¨ë“œ, 1ì´ë©´ ìœ ì € ëª¨ë“œ\n\nì»¤ë„ëª¨ë“œê°€ í•„ìš”í•œ ì´ìœ ëŠ” ëˆ„êµ°ê°€ ë§Œë“  í”„ë¡œê·¸ë¨ì´ í•˜ë“œì›¨ì–´ë¥¼ ì§ì ‘ í†µì œí•˜ê²Œ ë˜ê³ , ì ìœ í•˜ëŠ” ë“±ê³¼ ê°™ì€ ë¬¸ì œë¡œ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì— ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.\n\nì¦‰, ì‹œìŠ¤í…œì„ ë³´í˜¸í•˜ê¸° ìœ„í•´ì„œ\n\n### í´ë§\n\nCPUê°€ I/O Deviceì˜ ì‘ì—… ë‚´ìš©ì´ë‚˜ ê²°ê³¼ë¥¼ ì§ì ‘ í™•ì¸í•˜ëŠ” ë°©ì‹ì´ë‹¤.\n\nì´ ë°©ì‹ì€ CPUì˜ ì‘ì—…ì´ ìˆ˜í–‰ë˜ì–´ì•¼ í•˜ê¸°ì— í”„ë¡œì„¸ìŠ¤ ê´€ì ì—ì„œëŠ” ë¶ˆí•„ìš”í•œ ì˜¤ë²„í—¤ë“œì´ë‹¤.\n\nì´ ë¹„íš¨ìœ¨ì ì¸ ë°©ì‹ì„ ê°œì„ í•˜ê¸° ìœ„í•´ ì¸í„°ëŸ½íŠ¸ê°€ íƒ„ìƒí–ˆë‹¤.\n\n### ì¸í„°ëŸ½íŠ¸\n\nì‹œìŠ¤í…œì—ì„œ ë°œìƒí•œ ë‹¤ì–‘í•œ ì¢…ë¥˜ì˜ ì´ë²¤íŠ¸\n\n#### ì¢…ë¥˜\n\n- ì „ì›ì— ë¬¸ì œê°€ ìƒê²¼ì„ ë•Œ\n- IO ì‘ì—…ì´ ì™„ë£Œëì„ ë•Œ\n- ì‹œê°„ì´ ë‹¤ ëì„ ë•Œ (timer ê´€ë ¨)\n- í”„ë¡œê·¸ë¨ì—ì„œ 0ìœ¼ë¡œ ë‚˜ëˆ´ì„ ë•Œ\n- í”„ë¡œê·¸ë¨ì—ì„œ ì˜ëª»ëœ ë©”ëª¨ë¦¬ ê³µê°„ì— ì ‘ê·¼ì„ ì‹œë„í•  ë•Œ\n\n- ì¸í„°ëŸ½íŠ¸ ë²¡í„°: ì¸í„°ëŸ½íŠ¸ì˜ ì²˜ë¦¬ ë£¨í‹´ ì£¼ì†Œë¥¼ ê°€ì§\n- ì¸í„°ëŸ½íŠ¸ ì²˜ë¦¬ ë£¨í‹´: ì¸í„°ëŸ½íŠ¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì»¤ë„ í•¨ìˆ˜\n\n### DMA\n\nCPUëŠ” ë§¤ìš° ë¹ ë¥¸ ì†ë„ë¡œ ë©”ëª¨ë¦¬ì—ë§Œ ì ‘ê·¼í•œë‹¤. ë™ì‹œì— SSD ê°™ì€ ë¹„êµì  ë¹ ë¥¸ I/O Deviceê°€ ì¡´ì¬í•œë‹¤.\n\nì´ëŸ° ìƒí™©ì—ì„œ Deviceë“¤ì´ ì¦ì€ ë¹ˆë„ë¡œ ì¸í„°ëŸ½íŠ¸ë¥¼ ë°œìƒí•˜ë©´, CPUì˜ ì„±ëŠ¥ì´ ë–¨ì–´ì§„ë‹¤.\n\nì´ë¥¼ ë°©ì§€í•˜ê³ ì, I/O Deviceì—ì„œ ê° buffer storageì˜ ë‚´ìš©ì„ ë©”ëª¨ë¦¬ì— block ë‹¨ìœ„ë¡œ ì§ì ‘ ì „ì†¡í•˜ê³ , ì¸í„°ëŸ½íŠ¸ë¥¼ ë°œìƒí•˜ëŠ” ê°œë…ì´ë‹¤.\n\nì´ DMAëŠ” CPUì™€ I/O Device ì‚¬ì´ì— ìœ„ì¹˜í•˜ëŠ” DMA Controllerì— ì˜í•´ ìˆ˜í–‰ëœë‹¤.\n\n### ë™ê¸°ì‹ I/Oê³¼ ë¹„ë™ê¸°ì‹ I/O\n\ní”„ë¡œì„¸ìŠ¤ì— ì˜í•´ I/O ìš”ì²­ì´ ë°œìƒí•˜ë©´, í”„ë¡œì„¸ì„œëŠ” ì´ ìš”ì²­ì„ ì²˜ë¦¬í•œë‹¤.\nì´ë•Œ, ë™ê¸°ì‹ I/Oì˜ ê²½ìš°ëŠ” í•´ë‹¹ I/O ì‘ì—…ì´ ì™„ë£Œëœ í›„ì—ì•¼ ë‹¤ìŒ ì‘ì—…ì„ ì²˜ë¦¬í•œë‹¤.\në¹„ë™ê¸°ì‹ I/Oì˜ ê²½ìš°ëŠ” I/O ì‘ì—…ì„ ìš”ì²­ë³´ë‚´ê³ , ë°”ë¡œ ë‹¤ìŒ ì‘ì—…ì„ ì‹¤í–‰í•œë‹¤.\n\në™ê¸°ì‹ I/Oì˜ ê²½ìš°, í”„ë¡œì„¸ìŠ¤ì˜ ë‹¤ìŒ ì‘ì—…ì´ ë””ìŠ¤í¬ì—ì„œ ì½ì€ ê°’ì„ ì´ìš©í•œ ì²˜ë¦¬ë¼ë©´ ì ìš©í•  ìˆ˜ ìˆë‹¤.\ní•˜ì§€ë§Œ, I/O ì‘ì—…ì˜ ê²½ìš° ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì‘ì—…ì´ê¸°ì— CPUì˜ íš¨ìœ¨ì„ ë§¤ìš° ë–¨ì–´íŠ¸ë¦¬ëŠ” ë°©ì‹ì´ë‹¤.\nì¦‰, CPUì˜ ì„±ëŠ¥ì„ í¬ìƒí•˜ëŠ” ëŒ€ì‹  ì‘ì—…ì˜ ê²°ê³¼ë¥¼ ë³´ì¥í•  ìˆ˜ ìˆë‹¤.\n\në¹„ë™ê¸°ì‹ I/Oì˜ ê²½ìš°, í”„ë¡œì„¸ìŠ¤ì˜ ë‹¤ìŒ ì‘ì—…ì´ I/O ì‘ì—…ê³¼ ê´€ë ¨ì´ ì—†ëŠ” ê²½ìš° ì ìš©í•  ìˆ˜ ìˆë‹¤.\ní•˜ì§€ë§Œ ë¹„ë™ê¸°ì‹ I/O ì‘ì—…ì˜ ê²°ê³¼ë¥¼ ì¦‰ì‹œì— ì•Œ ìˆ˜ ì—†ë‹¤. í™•ì¸í•˜ë ¤ë©´ ë˜ ë‹¤ë¥¸ ìš”ì²­ì´ í•„ìš”í•  ìˆ˜ ìˆë‹¤.\nê·¸ë˜ë„ CPUê°€ ì‰¬ì§€ ì•Šê³  ì¼í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ CPUì˜ íš¨ìœ¨ì„ ëŒì–´ì˜¬ë¦´ ìˆ˜ ìˆë‹¤.\n\nìœ„ì˜ ê²½ìš°ëŠ” í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ì—ì„œì˜ ê²½ìš°ë¥¼ ê°€ì •í•œ ê²ƒì´ë‹¤.\ní•˜ì§€ë§Œ ë³´í†µì€ ë‹¤ìˆ˜ì˜ í”„ë¡œì„¸ìŠ¤ë¥¼ ë™ì‹œì— ì²˜ë¦¬í•œë‹¤.\nì´ë•Œ, I/O ì‘ì—…ì„ ìš”ì²­í•œ í”„ë¡œì„¸ìŠ¤ëŠ”, í•´ë‹¹ ì‘ì—…ì´ ì™„ë£Œë  ë•Œê¹Œì§€ ëŒ€ê¸°ì‹œì¼œë†“ê³ , ê·¸ ì‹œê°„ë™ì•ˆ CPUëŠ” ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì˜ ì‘ì—…ì„ ì²˜ë¦¬í•œë‹¤. ì¦‰, ë™ê¸°ì‹ I/O ì²˜ë¦¬ë¥¼ í•˜ë©° CPU ìŠ¤ì¼€ì¤„ë§ì„ í†µí•´ CPU ì„±ëŠ¥ê³¼ ì‘ì—…ì˜ ì •í•©ì„±ì„ ëª¨ë‘ ì§€í‚¨ë‹¤.\n\n## ğŸ“š ì¶”ê°€ í•™ìŠµ\n\n### ì¸í„°ëŸ½íŠ¸ì™€ ì‹œìŠ¤í…œ ì½œ, ê·¸ë¦¬ê³  ìœ ì € ëª¨ë“œì™€ ì»¤ë„ ëª¨ë“œ\n\n```text\nìœ ì € ëª¨ë“œ: ìš°ë¦¬ê°€ ê°œë°œí•˜ëŠ” í”„ë¡œê·¸ë¨ì€ ì¼ë°˜ì ìœ¼ë¡œ ìœ ì € ëª¨ë“œì—ì„œ ì‹¤í–‰\nì»¤ë„ ëª¨ë“œ: í”„ë¡œê·¸ë¨ ì‹¤í–‰ ì¤‘, ì¸í„°ëŸ½íŠ¸ê°€ ë°œìƒí•˜ê±°ë‚˜ ì‹œìŠ¤í…œ ì½œì„ í˜¸ì¶œí•˜ê²Œ ë˜ë©´ ì»¤ë„ ëª¨ë“œë¡œ ì „í™˜\nì „í™˜í•  ë•Œ, í˜„ì¬ ì‹¤í–‰ ì¤‘ì´ë˜ í”„ë¡œê·¸ë¨ì˜ í˜„ì¬ ìƒíƒœë¥¼ ì €ì¥\nê·¸ í›„, ë°œìƒí•œ ì¸í„°ëŸ½íŠ¸ í˜¹ì€ ì‹œìŠ¤í…œ ì½œì„ ì§ì ‘ ì²˜ë¦¬. ì¦‰, CPUì—ì„œ ì»¤ë„ ì½”ë“œê°€ ì‹¤í–‰ëœë‹¤.\nëª¨ë“  ì²˜ë¦¬ê°€ ì™„ë£Œë˜ë©´, ì¤‘ë‹¨ëë˜ í”„ë¡œê·¸ë¨ì˜ ìƒíƒœë¥¼ ë³µì›\në‹¤ì‹œ í†µì œê¶Œì„ í”„ë¡œê·¸ë¨ì—ê²Œ ë°˜í™˜. ì¦‰, ì»¤ë„ ëª¨ë“œì—ì„œ ìœ ì € ëª¨ë“œë¡œ ì „í™˜\ní”„ë¡œê·¸ë¨ì´ ì´ì–´ì„œ ì‹¤í–‰\n\nì»¤ë„: ìš´ì˜ì²´ì œì˜ í•µì‹¬\nì‹œìŠ¤í…œ ì „ë°˜ì„ ê´€ë¦¬/ê°ë…í•˜ëŠ” ì—­í• \ní•˜ë“œì›¨ì–´ì™€ ê´€ë ¨ëœ ì‘ì—…ì„ ì§ì ‘ ìˆ˜í–‰\n\nì»¤ë„ ëª¨ë“œë¥¼ ë§Œë“  ì´ìœ : ëˆ„êµ°ê°€ ë§Œë“  í”„ë¡œê·¸ë¨ì´ í•˜ë“œì›¨ì–´ë¥¼ ì§ì ‘ í†µì œí•˜ê²Œ ë˜ê³ , ì ìœ í•˜ëŠ” ë“±ê³¼ ê°™ì€ ë¬¸ì œë¡œ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì— ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆë‹¤.\nì¦‰, ì‹œìŠ¤í…œì„ ë³´í˜¸í•˜ê¸° ìœ„í•´\n\nì¸í„°ëŸ½íŠ¸: ì‹œìŠ¤í…œì—ì„œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ í˜¹ì€ ê·¸ëŸ° ì´ë²¤íŠ¸ë¥¼ ì•Œë¦¬ëŠ” ë§¤ì»¤ë‹ˆì¦˜\nì¢…ë¥˜\n - ì „ì›ì— ë¬¸ì œê°€ ìƒê²¼ì„ ë•Œ\n - IO ì‘ì—…ì´ ì™„ë£Œëì„ ë•Œ\n - ì‹œê°„ì´ ë‹¤ ëì„ ë•Œ (timer ê´€ë ¨)\n - í”„ë¡œê·¸ë¨ì—ì„œ 0ìœ¼ë¡œ ë‚˜ëˆ´ì„ ë•Œ\n - í”„ë¡œê·¸ë¨ì—ì„œ ì˜ëª»ëœ ë©”ëª¨ë¦¬ ê³µê°„ì— ì ‘ê·¼ì„ ì‹œë„í•  ë•Œ\n\nì¸í„°ëŸ½íŠ¸ê°€ ë°œìƒí•˜ë©´, CPUì—ì„œëŠ” ì¦‰ì‹œ ì¸í„°ëŸ½íŠ¸ ì²˜ë¦¬ë¥¼ ìœ„í•´ ì»¤ë„ ì½”ë“œê°€ ì»¤ë„ ëª¨ë“œì—ì„œ ì‹¤í–‰.\nì—¬ê¸°ì„œ â€˜ì¦‰ì‹œâ€™ë¼ê³  í–ˆì§€ë§Œ, ì‹¤í–‰ì¤‘ì´ë˜ í”„ë¡œì„¸ìŠ¤ì˜ ì²˜ë¦¬ê¹Œì§€ëŠ” ë§ˆë¬´ë¦¬í•œ ë’¤ì— ì²˜ë¦¬ë¥¼ í•œë‹¤.\n\nì‹œìŠ¤í…œ ì½œ: í”„ë¡œê·¸ë¨ì´ ì»¤ë„ì´ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ê³  ì‹¶ì„ ë•Œ, ì‹œìŠ¤í…œ ì½œì„ ì´ìš©í•´ ì‹¤í–‰í•œë‹¤.\nì¢…ë¥˜\n- í”„ë¡œì„¸ìŠ¤/ìŠ¤ë ˆë“œ ê´€ë ¨\n- íŒŒì¼ IO ê´€ë ¨\n- ì†Œì¼“ ê´€ë ¨\n- Device ê´€ë ¨ (í‚¤ë³´ë“œ ë“±)\n- í”„ë¡œì„¸ìŠ¤ í†µì‹  ê´€ë ¨\nì‹œìŠ¤í…œ ì½œì´ ë°œìƒí•˜ë©´, í•´ë‹¹ ì‹œìŠ¤í…œ ì½œì— ëŒ€ì‘í•˜ëŠ” ì»¤ë„ ì½”ë“œê°€ ì»¤ë„ ëª¨ë“œì—ì„œ ì‹¤í–‰ëœë‹¤.\n```\n\n### Physical Memory, Virtual Memory\n\n```text\nVirtual Memory: ê° í”„ë¡œì„¸ìŠ¤ë§Œì˜ ë…¼ë¦¬ì ì¸ ì£¼ì†Œì´ë‹¤.\nPhysical Memory: ì‹¤ì œ ë©”ëª¨ë¦¬ì— ì ì¬ëœ ì£¼ì†Œì´ë‹¤.\n\nVirtual Memoryì—ì„œ, Physical Memoryë¥¼ ê°€ë¦¬í‚¤ê¸° ìœ„í•´ì„  ì¤‘ê°„ì— ë³€í™˜í•´ì£¼ëŠ” ì—­í• ì´ í•„ìš”í•˜ë‹¤. ì´ëŠ” ATU(Address Translation Unit)ì— ì˜í•´ ìˆ˜í–‰ëœë‹¤.\n```\n\n### I/O Bound, CPU Bound\n\n```text\nì“°ë ˆë“œì˜ ê´€ì ì—ì„œ, ìˆ˜í–‰í•  ì‘ì—…ì˜ ì‹œê°„ì´ I/O ì‘ì—…ê³¼ CPUì— ì˜í•´ ì²˜ë¦¬ë˜ëŠ” ì‹œê°„ì˜ ë¹„ì¤‘ì´ ì–¼ë§ˆë‚˜ ë§ì€ì§€ì— ëŒ€í•œ ë‚´ìš©ì´ë‹¤.\n```\n\n### ì¸í„°ëŸ½íŠ¸ê°€ ë°œìƒí•˜ë©´, CPUì—ì„œ ì–´ë–¤ ì¼ì´ ë°œìƒí• ê¹Œ?\n\n## ğŸ¤” ê°œì¸ì ì¸ ê¶ê¸ˆì¦\n\n### ### I/O ì‘ì—…ì€ ì™œ ëŠë¦¬ë‹¤ê³  í•˜ëŠ”ê°€?\n\n```text\në³´í†µ I/O ì‘ì—…ì´ ëŠë¦¬ë‹¤ëŠ” ë§ì€ CPUì™€ ë¹„êµí•´ì„œ í‘œí˜„í•˜ëŠ” ê²ƒ ê°™ë‹¤.\nê·¸ëŸ¼ ì™œ CPUì— ë¹„í•´ 100ë§Œ ë°° ì´ìƒ ëŠë¦´ê¹Œ?\n\n1. I/O ì‘ì—… ìì²´ê°€ ëŠë¦¬ê±°ë‚˜ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì‘ì—…ì¼ ìˆ˜ ìˆë‹¤.\n2. I/O ì‘ì—…ì€ ë²„ìŠ¤ë¥¼ í†µí•´ CPUì™€ í†µì‹ í•œë‹¤.\nì´ ê³¼ì •ì—ì„œ ëŒ€ê¸° ì‹œê°„ì´ ë°œìƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.\n3. ë³´í†µ I/O ì¥ì¹˜ëŠ” ì¸í„°ëŸ½íŠ¸ë¥¼ ë°œìƒì‹œì¼œ ì²˜ë¦¬ê°€ í•„ìš”í•¨ì„ ì•Œë¦°ë‹¤.\nCPUì˜ ì¸í„°ëŸ½íŠ¸ ë§ˆìŠ¤í¬ê°€ ëœ ìƒíƒœì—ì„œ, ë‹¤ë¥¸ ì¤‘ìš”í•œ ì‘ì—…ì„ í•˜ê³  ìˆì„ ìˆ˜ ìˆì–´ì„œ ë°”ë¡œ ì²˜ë¦¬í•˜ì§€ ì•Šì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.\nê²Œë‹¤ê°€ ì¸í„°ëŸ½íŠ¸ ì‘ì—…ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ CPUëŠ” ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ì„ í•œë‹¤.\n4. Deviceì˜ ë¬¼ë¦¬ì  ê±°ë¦¬ë„ ì˜í–¥ì´ ìˆì„ê¹Œ?\n```\n\n### ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ì€ í”„ë¡œì„¸ìŠ¤ ê°„ êµí™˜ì—ì„œë§Œ ì¼ì–´ë‚˜ëŠ”ê°€? ì“°ë ˆë“œ ê°„ êµí™˜ì—ì„œëŠ” ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ê°€?\n\n```text\n\në‘˜ ë‹¤ ê°€ëŠ¥í•˜ë‹¤.\ní•˜ì§€ë§Œ ì„±ëŠ¥ ìƒ ì°¨ì´ê°€ ë°œìƒí•œë‹¤.\n\nìš°ì„  ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ì´ ë¬´ì—‡ì¸ê°€?\nCPU/ì½”ì–´ì—ì„œ ì‹¤í–‰ì¤‘ì´ë˜ í”„ë¡œì„¸ìŠ¤/ì“°ë ˆë“œê°€ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤/ì“°ë ˆë“œë¡œ êµì²´ë˜ëŠ” ê²ƒì´ë‹¤.\n\nê·¸ëŸ¼ ì™œ ì„±ëŠ¥ ì°¨ì´ê°€ ë°œìƒí•˜ëŠ”ê°€?\nì“°ë ˆë“œ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ì€ ê°™ì€ í”„ë¡œì„¸ìŠ¤ ë‚´ì—ì„œì˜ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ì´ë‹¤.\nì´ë•Œ í”„ë¡œì„¸ìŠ¤ì˜ ê°€ìƒ ë©”ëª¨ë¦¬ ì£¼ì†Œë¥¼ ê³µìœ í•´ì„œ ì‚¬ìš©í•œë‹¤.\n\ní•˜ì§€ë§Œ í”„ë¡œì„¸ìŠ¤ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ì€, ì´ **ê°€ìƒ ë©”ëª¨ë¦¬ ì£¼ì†Œ ê´€ë ¨ ì²˜ë¦¬**ì— ëŒ€í•œ **ì˜¤ë²„í—¤ë“œ**ê°€ ë°œìƒí•œë‹¤.\nì´ë•Œ ìˆ˜í–‰ë˜ëŠ” ì²˜ë¦¬ë¡œëŠ” ê° í”„ë¡œì„¸ìŠ¤ PCBì— ì»¨í…ìŠ¤íŠ¸ ì €ì¥, CPU ë ˆì§€ìŠ¤í„°ì— ì»¨í…ìŠ¤íŠ¸ êµì²´ ë“±ì´ ìˆë‹¤.\nì´ëŸ¬í•œ ì˜¤ë²„í—¤ë“œì˜ ì°¨ì´ë¡œ ì¸í•´ ì„±ëŠ¥ ìƒ ì°¨ì´ê°€ ë°œìƒí•œë‹¤.\n\nê·¸ë ‡ë‹¤ê³  ì“°ë ˆë“œ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ì´ ì˜¤ë²„í—¤ë“œê°€ ì—†ë‹¤ëŠ” ê±´ ì•„ë‹ˆë‹¤.\nìƒëŒ€ì ìœ¼ë¡œ ë” ì ì€ ì˜¤ë²„í—¤ë“œì´ì§€, ì•„ì˜ˆ ì—†ëŠ” ê±´ ì•„ë‹ˆë‹¤.\n```\n\n### Tomcat maxThreads ê¸°ë³¸ê°’ì€ ì™œ 200ì´ê³ , HikariCP Max-Connectionì˜ ê¸°ë³¸ê°’ì€ ì™œ 10ì¼ê¹Œ?\n\n```text\nTomcatì˜ maxThreads ê°’ì€, ë“¤ì–´ì˜¨ ìš”ì²­ê³¼ 1:1ë¡œ Connectë¥¼ í•˜ê³ , ê·¸ Connectë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ìƒì„±í•˜ëŠ” ì“°ë ˆë“œì˜ ìµœëŒ€ ê°œìˆ˜ì´ë‹¤.\nì¦‰, í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ ë‚´ì˜ ì¡´ì¬í•˜ëŠ” ì“°ë ˆë“œì´ê³ , ì´ëŠ” ì“°ë ˆë“œ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ì´ ë°œìƒí•œë‹¤.\n\nHikariCPëŠ” JDBC Connection Poolì´ë‹¤.\nJDBC Connectionì€ Java ê¸°ë°˜ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ RDMBSì™€ì˜ Connectionì´ë‹¤.\nì¦‰, í”„ë¡œì„¸ìŠ¤ ê°„ì˜ ì†Œì¼“ í†µì‹ ì´ ì¼ì–´ë‚˜ê³ , ì´ëŠ” í”„ë¡œì„¸ìŠ¤ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ì´ ë°œìƒí•œë‹¤.\n\nê·¸ë˜ì„œ HikariCPì˜ Max-Connection Sizeë¥¼ ì„¤ì •í•  ë•Œ, Sizeê°€ í´ìˆ˜ë¡ ì²˜ë¦¬í•´ì•¼ í•  Threadê°€ ë§ì•„ì§€ê³ , ì´ëŠ” ê³§ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ì„ ìì£¼ ìœ ë°œí•˜ê¸° ë•Œë¬¸ì— ì˜¤íˆë ¤ ì ì€ ìˆ˜ì˜ Threadë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ì˜¤ë²„í—¤ë“œ ë¹„ìš©ì„ ì¤„ì—¬ ë” ë‚˜ì€ ì„±ëŠ¥ì„ ë³´ì´ëŠ” ê²ƒ ê°™ë‹¤.\n\nHikariCP Max-Connectionì˜ ê¸°ë³¸ê°’ì´ 10ì¸ ì´ìœ ëŠ”, ìì²´ ë²¤ì¹˜ ë§ˆí‚¹ì„ í†µí•´ ê²°ì •í–ˆë‹¤.\nhttps://github.com/brettwooldridge/HikariCP#checkered_flag-jmh-benchmarks\n\nTomcat maxThreadsì˜ ê¸°ë³¸ê°’ì´ 10ì¸ ì´ìœ ëŠ”? ëª¨ë¥´ê² ë‹¤. ì•„ë§ˆ Tomcatì—ì„œ ìì²´ì ì¸ í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ ë„ì¶œëœ ê²°ê³¼ê°’ì´ ì•„ë‹ê¹Œ?\n```\n\n### EC2ì˜ Swap Memoryë€?**\n\n```text\nìš°ë¦¬ëŠ” í”íˆ EC2ì—ì„œ Linux ê²Œì—´ì˜ OSë¥¼ ì‚¬ìš©í•œë‹¤.\në”°ë¼ì„œ Linuxì—ì„œì˜ Swap MemoryëŠ”, ë©”ì¸ ë©”ëª¨ë¦¬ì˜ ìš©ëŸ‰ë³´ë‹¤ ë” ë§ì€ ê³µê°„ì´ í•„ìš”í•  ë•Œ ë””ìŠ¤í¬ì˜ ì¼ë¶€ ê³µê°„ì„ ì‚¬ìš©í•˜ëŠ” ê°œë…ì´ë‹¤.\në©”ëª¨ë¦¬ ê´€ë¦¬ ì•Œê³ ë¦¬ì¦˜(LRU, LFU)ì— ì˜í•´ ì˜ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ë°ì´í„°ë¥¼ ë””ìŠ¤í¬ì— ì €ì¥í•˜ëŠ” ë°©ì‹ì´ë‹¤.\ní•˜ì§€ë§Œ, ë””ìŠ¤í¬ë¥¼ ì‚¬ìš©í•˜ëŠ”ë§Œí¼ ì†ë„ëŠ” ëŠë¦¬ë‹¤.\n\nì´ë•Œ, ë””ìŠ¤í¬ì— í• ë‹¹ë˜ëŠ” ì¼ë¶€ ê³µê°„ì„ Swap Memory, í˜¹ì€ Swap Space ë¼ê³  í•œë‹¤.\n```\n\n## ğŸ¯ í”¼ë“œë°±\n\n- ëª©ì†Œë¦¬, ë§íˆ¬ ì¹¨ì°© ë˜ë°•. ë“£ëŠ” ì…ì¥ì—ì„œ ì˜ ë“¤ì–´ì˜´ ì†ë„ë„ ë¹¨ë¼ì§€ì§€ ì•Šê³  ì¼ì •í–ˆë‹¤.\n- ëˆˆì„ ë§ˆì£¼ì¹˜ê³  ë‹µë³€\n- ê¼¬ë¦¬ ì§ˆë¬¸ì—ë„ ë§ë“  ì•ˆë§ë“  ìµœëŒ€í•œ ë‹µë³€í•˜ëŠ” ëª¨ìŠµ\n- ì•„ëŠ” ê°œë…ì— ëŒ€í•´ì„  í•µì‹¬ ë‹¨ì–´ë¥¼ ê°•ì¡°\n- í´ë§ì— ëŒ€í•´ ì„¤ëª…í•  ë•Œ, ì§§ê²Œ ëŒ€ë‹µí–ˆë‹¤. ì´ëŠ” ê¼¬ë¦¬ ì§ˆë¬¸ì„ ìœ ë„í•´ë³´ì¸ê±¸ë¡œ ë³´ì—¬ì„œ ì¢‹ì•˜ë‹¤.\nê·¼ë° ë„ˆë¬´ ì§§ì•˜ë˜ ê²ƒ ê°™ë‹¤. ê·¼ë° ê¼¬ë¦¬ ì§ˆë¬¸ì—ì„œ ëŒ€ë‹µ ëª»í•˜ë©´, ì´ê±°ë°–ì— ëª¨ë¥´ë‚˜ë³´ë„¤. í•  ìˆ˜ ìˆë‹¤.\n- ì•„ëŠ”ê±´ ë§ì•„ ë³´ì¸ë‹¤. ê·¼ë°, ì •ë¦¬ê°€ ë˜ì§€ ì•Šê³  ë‚´ìš©ì´ ê¸¸ì–´ì§„ë‹¤.\nì¥í™©í•˜ê²Œ ì„¤ëª…í•˜ê¸°ë³´ë‹¤ ê°œë…ì— ëŒ€í•´ ì§šê³ , ë¶€ê°€ ì„¤ëª…ì„ í•˜ëŠ” ê²Œ ì¢‹ì•„ ë³´ì¸ë‹¤.\n- ëª¨ë¥´ëŠ” ì§ˆë¬¸ì— ìˆì–´ì„œëŠ” ì‹œê°„ì„ ê°€ì§€ê³  ë‹µë³€ êµ¿.\n- ë§ì´ ê¸¸ì–´ì§€ëŠ” ê²½í–¥ì´ ìˆë‹¤. ê°œë…ì„ ë¬¼ì–´ë´¤ì„ ë•Œ, ì´ëŸ° ê°œë…ì…ë‹ˆë‹¤. í•˜ê³  ë¶€ì—° ì„¤ëª….\n- ì§ˆë¬¸ì— ëŒ€í•´ ë‹µë³€ì´ í•œë²ˆì”©ì€ ë§ì´ ì§§ì•˜ë‹¤.\ní•œ ë§ˆë””ë§Œ ë” í–ˆìœ¼ë©´ ë©´ì ‘ê´€ ì…ì¥ì—ì„œ í•œë²ˆ ë” ë¬¼ì–´ë³¼ ì˜í–¥ì´ ë“¤ì—ˆì„í…ë°.."},{"excerpt":"ì´ë²ˆ ê¸€ì—ì„  ì…€ëŸ½ì‡ì´ ì™œ? ê·¸ë¦¬ê³  ì–´ë–»ê²Œ? ë¬´ì¤‘ë‹¨ ë°°í¬ë¥¼ ì ìš©í–ˆëŠ” ì§€ì— ëŒ€í•´ ì‘ì„±í•˜ê³ ì í•©ë‹ˆë‹¤. ë¬´ì¤‘ë‹¨ ë°°í¬ë¥¼ ì™œ í•˜ëŠ”ê°€? ì„œë²„ê°€ 1ê°œì¸ ìƒí™©ì—ì„œ ìƒˆë¡œ ë°°í¬ë¥¼ í•˜ê²Œ ë˜ë©´, ë°°í¬ê°€ ì™„ë£Œë˜ëŠ” ì‹œê°„ë™ì•ˆ ì‚¬ìš©ìë“¤ì€ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ì§€ ëª»í•©ë‹ˆë‹¤. ë°°í¬ ì‹œê°„ì´ 3ì´ˆë§Œ ë˜ì–´ë„ ì‚¬ìš©ìëŠ” 3ì´ˆ ë™ì•ˆ ì—ëŸ¬ í˜ì´ì§€ë§Œ ë³´ê²Œ ë  ê²ƒì…ë‹ˆë‹¤. ì•„ë˜ ì‚¬ì§„ì€ êµ¬ê¸€ì´ ì œê³µí•˜ëŠ” ë°ì´í„°ì…ë‹ˆë‹¤â€¦","fields":{"slug":"/zero-downtime-deployment-of-celuveat/"},"frontmatter":{"date":"October 21, 2023","title":"[ì…€ëŸ½ì‡] ë¬´ì¤‘ë‹¨ ë°°í¬ ì ìš©ê¸°","tags":["ì…€ëŸ½ì‡","zero-downtime-deployment"]},"rawMarkdownBody":"\nì´ë²ˆ ê¸€ì—ì„  ì…€ëŸ½ì‡ì´ ì™œ? ê·¸ë¦¬ê³  ì–´ë–»ê²Œ? ë¬´ì¤‘ë‹¨ ë°°í¬ë¥¼ ì ìš©í–ˆëŠ” ì§€ì— ëŒ€í•´ ì‘ì„±í•˜ê³ ì í•©ë‹ˆë‹¤.\n\n## ë¬´ì¤‘ë‹¨ ë°°í¬ë¥¼ ì™œ í•˜ëŠ”ê°€?\n\nì„œë²„ê°€ 1ê°œì¸ ìƒí™©ì—ì„œ ìƒˆë¡œ ë°°í¬ë¥¼ í•˜ê²Œ ë˜ë©´, ë°°í¬ê°€ ì™„ë£Œë˜ëŠ” ì‹œê°„ë™ì•ˆ ì‚¬ìš©ìë“¤ì€ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ì§€ ëª»í•©ë‹ˆë‹¤.\n\në°°í¬ ì‹œê°„ì´ 3ì´ˆë§Œ ë˜ì–´ë„ ì‚¬ìš©ìëŠ” 3ì´ˆ ë™ì•ˆ ì—ëŸ¬ í˜ì´ì§€ë§Œ ë³´ê²Œ ë  ê²ƒì…ë‹ˆë‹¤.\n\nì•„ë˜ ì‚¬ì§„ì€ êµ¬ê¸€ì´ ì œê³µí•˜ëŠ” ë°ì´í„°ì…ë‹ˆë‹¤.\n\n![í˜ì´ì§€ ë¡œë”© ì‹œê°„ì— ë”°ë¥¸ ì‚¬ìš©ì ì´íƒˆë¥ ](user-bounce-rate-due-to-page-load-time.png)\n\në¬´ë ¤ 3ì´ˆë§Œ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ì§€ ëª»í•˜ë”ë¼ë„ ì•½ 1/3 ì˜ ì‚¬ìš©ìê°€ ì´íƒˆí•©ë‹ˆë‹¤.\n\n**ë”°ë¼ì„œ ì‹¤ì‚¬ìš©ìê°€ ìˆëŠ” ìƒí™©ì—ì„œ ë°°í¬ì— ë”°ë¥¸ Down-Timeì„ ì œê±°í•˜ê¸° ìœ„í•´ ë¬´ì¤‘ë‹¨ ë°°í¬ë¥¼ ì ìš©í•´ì•¼ í•©ë‹ˆë‹¤.**  \n\n## ë¬´ì¤‘ë‹¨ ë°°í¬ ë°©ì‹ ê²°ì •í•˜ê¸°\n\në¬´ì¤‘ë‹¨ ë°°í¬ì—ëŠ” *ë¡¤ë§ ë°©ì‹*, *ë¸”ë£¨/ê·¸ë¦° ë°©ì‹*, *ì¹´ë‚˜ë¦¬ ë°©ì‹*ì´ ìˆìŠµë‹ˆë‹¤.\n\n> ([ë¬´ì¤‘ë‹¨ ë°°í¬ ë°©ì‹ì— ëŒ€í•´ ì •ë¦¬í•œ ê¸€](https://kdkdhoho.github.io/zero-downtime-deployment))\n\nì´ ì¤‘, í˜„ì¬ ì£¼ì–´ì§„ ë¦¬ì†ŒìŠ¤ë¥¼ ê³ ë ¤í•˜ì—¬ ìµœì ì˜ ë°©ì‹ì„ ì„ íƒí•˜ë ¤ê³  í•©ë‹ˆë‹¤. \n\ní˜„ì¬ ë¦¬ì†ŒìŠ¤ ìƒí™©ìœ¼ë¡œëŠ”, ë°°í¬ ì„œë²„ë¡œ EC2 ì¸ìŠ¤í„´ìŠ¤ 1ëŒ€ë¥¼ ì‚¬ìš©ì¤‘ì…ë‹ˆë‹¤.<br>\ní•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ì—­í• ì˜ Nginxì™€ ìŠ¤í”„ë§ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì¡´ì¬í•©ë‹ˆë‹¤.<br>\nì´ëŸ¬í•œ ìƒí™©ì—ì„œ ë¬´ì¤‘ë‹¨ ë°°í¬ë¥¼ ìœ„í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¶”ê°€ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„  ê¸°ìˆ  ê²€í†  ìš”ì²­ì„ ë³´ë‚´ì•¼ í•˜ë©° ê·¸ ë™ì•ˆì˜ ëŒ€ê¸° ì‹œê°„ì´ í•„ìš”í•©ë‹ˆë‹¤.<br>\në˜í•œ, ì¶”ê°€ ì‚¬ìš©ì´ ê°€ëŠ¥í•œì§€ë„ ë¯¸ì§€ìˆ˜ì¸ ìƒí™©ì´ì—ˆìŠµë‹ˆë‹¤.\n\në”°ë¼ì„œ í•œ ëŒ€ì˜ ì„œë²„ì—ì„œ ë¬´ì¤‘ë‹¨ ë°°í¬ë¥¼ ì ìš©í•˜ê¸°ì—” **ë¸”ë£¨/ê·¸ë¦° ë°©ì‹**ì´ ìµœì ì˜ ë°©ì‹ì´ë¼ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤.\n\n> ë”ë¶ˆì— ë¸”ë£¨/ê·¸ë¦° ë°©ì‹ì˜ ë¬¸ì œì ì„ ìƒê°í•´ë´¤ì„ ë•Œ, ë°°í¬ ì„œë²„ì˜ ìì›ì„ 2ë°°ë¡œ ì‚¬ìš©í•œë‹¤ëŠ” ì ì€ ì„œë¹„ìŠ¤ë¥¼ ìš´ì˜í•¨ì— ìˆì–´ ë¬¸ì œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\n\n## ë°°í¬ ì „ëµ\n\nê¸°ë³¸ì ìœ¼ë¡œ 2ê°œì˜ í¬íŠ¸ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.<br>\nì €í¬ íŒ€ì€ 8080, ê·¸ë¦¬ê³  8081 í¬íŠ¸ë¥¼ ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.\n\në°°í¬ ê³¼ì •ì˜ ì „ì²´ì ì¸ FlowëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n1. ë¹„ì–´ìˆëŠ” í¬íŠ¸(Idle Port)ë¥¼ ì°¾ëŠ”ë‹¤.\n2. í•´ë‹¹ í¬íŠ¸ì— ìƒˆë¡œìš´ ë²„ì „(ê·¸ë¦°)ì„ ë°°í¬í•œë‹¤.\n3. ê·¸ë¦°ì´ ì´ìƒì—†ì´ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ í—¬ìŠ¤ ì²´í¬ë¥¼ ì§„í–‰í•œë‹¤.\n4. ë¬¸ì œê°€ ì—†ë‹¤ë©´, Nginxì˜ í¬íŠ¸ í¬ì›Œë”© ì„¤ì •ì„ ê·¸ë¦°ìœ¼ë¡œ ë³€ê²½í•˜ê³  ê¸°ì¡´ ë²„ì „(ë¸”ë£¨)ì„ ì¢…ë£Œí•œë‹¤.<br>\n   ë¬¸ì œê°€ ìˆë‹¤ë©´, ê·¸ë¦°ì„ ì¢…ë£Œí•œë‹¤.\n\n---\n\nìœ„ ì‹œë‚˜ë¦¬ì˜¤ì˜ ê³¼ì •ì— ëŒ€í•´ ë” ìì„¸íˆ ë§ì”€ë“œë¦¬ê² ìŠµë‹ˆë‹¤.\n\n1)<br>\nIdle Portë¥¼ ì°¾ëŠ” ë°©ë²•ì€, 8080 í¬íŠ¸ì— API ìš”ì²­ì„ ë³´ë‚´ê³  ê·¸ì— ë”°ë¥¸ ì‘ë‹µì˜ ê²°ê³¼ë¡œ ì°¾ìŠµë‹ˆë‹¤.<br>\në§Œì•½ ì‘ë‹µ ì½”ë“œê°€ 200ì´ë©´ í˜„ì¬ 8080 í¬íŠ¸ì—ì„œ ë¸”ë£¨ê°€ ë™ì‘ì¤‘ì¸ ì…ˆì´ë‹ˆ 8081í¬íŠ¸ê°€ Idle Portê°€ ë©ë‹ˆë‹¤.\n\n21)<br>\nì´ëŸ° ì‹ìœ¼ë¡œ ì°¾ì€ Idle Portì— ê·¸ë¦°ì„ ë°°í¬í•©ë‹ˆë‹¤.\n\n3)<br>\nì´í›„, ê·¸ë¦°ì˜ í—¬ìŠ¤ ì²´í¬ë¥¼ ì§„í–‰í•˜ê¸° ìœ„í•´ 30ì´ˆì˜ ëŒ€ê¸° ì‹œê°„ì„ ê°€ì§‘ë‹ˆë‹¤.<br>\nëŒ€ê¸° ì‹œê°„ì„ ê°€ì§€ëŠ” ì´ìœ ëŠ” ê·¸ë¦°ì´ ë„ì–´ì§„ ì§í›„ì— ì‹¤í–‰í•œ í—¬ìŠ¤ ì²´í¬ëŠ” ì •ìƒìœ¼ë¡œ í™•ì¸ë˜ì—ˆì§€ë§Œ, ì´í›„ì— í˜¹ì—¬ë‚˜ ì˜ˆìƒì¹˜ ëª»í•œ ë¬¸ì œë¡œ ê·¸ë¦°ì´ Down ë  ê°€ëŠ¥ì„±ì„ ì—¼ë‘í–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.<br>\në˜í•œ ë‹¹ì‹œ ìŠ¤í”„ë§ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì„œë²„ì— ì™„ì „íˆ ë„ì–´ì§€ê¸°ê¹Œì§€ ì•½ 20ì´ˆì˜ ì‹œê°„ì´ ì†Œìš”ë˜ëŠ” ì ì„ ê³ ë ¤í–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\n4)<br>\nì´í›„ í—¬ìŠ¤ ì²´í¬ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.<br>\nì²´í¬ ê²°ê³¼, ê·¸ë¦° ì„œë²„ê°€ ì •ìƒì ìœ¼ë¡œ ë°°í¬ê°€ ëë‹¤ë©´ Nginxì˜ í¬íŠ¸ í¬ì›Œë”© ì„¤ì •ì„ ë³€ê²½í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  5ì´ˆì˜ ì—¬ìœ ë¥¼ ê°€ì§€ê³  ë¸”ë£¨ ì„œë²„ë¥¼ ì¢…ë£Œí•©ë‹ˆë‹¤.\nê·¸ë¦° ì„œë²„ì— ë¬¸ì œê°€ ìƒê²¨ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ì¢…ë£Œí•©ë‹ˆë‹¤.\n\n## ë°°í¬ ìŠ¤í¬ë¦½íŠ¸\n\nìœ„ ì‹œë‚˜ë¦¬ì˜¤ëŒ€ë¡œ ì‘ì„±í•œ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.\n\n```bash\nRESPONSE_CODE=$(curl -o /dev/null -w \"%{http_code}\" http://localhost:8080/celebs)\nif [ ${RESPONSE_CODE} = 200 ];\n    then\n        IDLE_PORT=8081\n        IDLE_MONITORING_PORT=18082\n        USED_PORT=8080\n    else\n        IDLE_PORT=8080\n        IDLE_MONITORING_PORT=18081\n        USED_PORT=8081\nfi\n\necho \"IDLE_PORT=${IDLE_PORT}\"\necho \"IDLE_MONITORING_PORT=${IDLE_MONITORING_PORT}\"\n\nIMAGE_TAG=back-prod-${APP_VERSION_TAG}\nDOCKER_CONTAINER_NAME=backend-${IDLE_PORT}\nDOCKER_HUB_REPOSITORY=celuveat/celuveat\nSERVER_LOG_DIR_PATH=~/log\nDOCKER_LOG_DIR_PATH=/app/logs\n\ndocker pull ${DOCKER_HUB_REPOSITORY}:${IMAGE_TAG}\ndocker run \\\n-d \\\n--name ${DOCKER_CONTAINER_NAME} \\\n-p $IDLE_PORT:8080 \\\n-p $IDLE_MONITORING_PORT:18080 \\\n-e \"SPRING_PROFILES_ACTIVE=prod\" \\\n-v ${SERVER_LOG_DIR_PATH}:${DOCKER_LOG_DIR_PATH} \\\n${DOCKER_HUB_REPOSITORY}:${IMAGE_TAG}\n\n# ìƒˆë¡œ ëœ¬ ì»¨í…Œì´ë„ˆ í™•ì¸\nsleep 30\nHEALTHY_CODE=$(curl -o /dev/null -w \"%{http_code}\" http://localhost:${IDLE_PORT}/celebs)\nif [ ${HEALTHY_CODE} != 200 ];\n    then\n            IDLE_CONTAINER_ID=$(docker ps -q --filter \"publish=${IDLE_PORT}\")\n            docker stop ${IDLE_CONTAINER_ID}\n            docker rm ${IDLE_CONTAINER_ID}\n            echo \"TERMINATED\"\n            exit 1\nfi\n\necho \"set \\$service_url http://127.0.0.1:${IDLE_PORT};set \\$service_monitoring_url http://127.0.0.1:${IDLE_MONITORING_PORT};\" | sudo tee /etc/nginx/conf.d/service-url.inc\nsudo service nginx reload\n\nsleep 5\nUSED_CONTAINER_ID=$(docker ps -q --filter \"publish=${USED_PORT}\")\ndocker stop ${USED_CONTAINER_ID}\ndocker rm ${USED_CONTAINER_ID}\ndocker image prune -f\n```\n\n## ì¶”ê°€ë¡œ ì‹ ê²½ì¨ì•¼ í•  ì \n\nê¸°ì¡´ì— ì• í”Œë¦¬ì¼€ì´ì…˜ ëª¨ë‹ˆí„°ë§ì„ ìœ„í•´ Spring Actuatorì— í¬íŠ¸ë¥¼ í• ë‹¹í•´ ì‚¬ìš©í•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤.<br>\në”°ë¼ì„œ ëª¨ë‹ˆí„°ë§ì„ ìœ„í•œ í¬íŠ¸ë„ í•¨ê»˜ ë³€ê²½í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤.\n\nì €í¬ íŒ€ì€ `8080, 18080` / `8081, 18081` ìœ¼ë¡œ ë¬¶ì–´ ê´€ë¦¬í•˜ê¸°ë¡œ ê²°ì •í–ˆìŠµë‹ˆë‹¤.\n\nëª¨ë‹ˆí„°ë§ì„ ìœ„í•œ í¬íŠ¸ë„ ë§ˆì°¬ê°€ì§€ë¡œ Nginxì—ì„œ í¬íŠ¸ í¬ì›Œë”©ì„ í†µí•´ ì²˜ë¦¬í•´ì¤ë‹ˆë‹¤.\n\n**ê·¸ëŸ°ë° ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ì ì´ ìˆìŠµë‹ˆë‹¤!!**<br>\nNginxì—ì„œ Actuatorë¡œ í–¥í•˜ëŠ” í¬íŠ¸ë¥¼ listení•˜ê¸° ìœ„í•´ 18080 í¬íŠ¸ë¥¼ ì‚¬ìš©í•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤.<br>\nì¦‰, Actuatorì˜ í¬íŠ¸ë¡œ 18080 í¬íŠ¸ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ê²Œ ë©ë‹ˆë‹¤.\n\nê²°ê³¼ì ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§ì„ ìœ„í•œ í¬íŠ¸ëŠ” `18081` ê³¼ `18082` ë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\n\n## Nginx ì„¤ì •\n\nì•„ë˜ëŠ” Nginx í¬íŠ¸ í¬ì›Œë”© ì„¤ì • ìŠ¤í¬ë¦½íŠ¸ì…ë‹ˆë‹¤.\n\n```bash\nserver {\n  listen 443 ssl;\n  server_name api.celuveat.com;\n\n  ssl_certificate /etc/letsencrypt/live/api.celuveat.com/fullchain.pem;\n  ssl_certificate_key /etc/letsencrypt/live/api.celuveat.com/privkey.pem;\n\n  include /etc/nginx/conf.d/service-url.inc;\n  location / {\n    proxy_pass $service_url;\n    proxy_set_header Host $http_host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto $scheme;\n  }\n}\n\nserver {\n  listen 18080;\n  include /etc/nginx/conf.d/service-url.inc;\n  location / {\n    proxy_pass $service_monitoring_url;\n    proxy_set_header Host $http_host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto $scheme;\n  }\n}\n```\n\n## ê¸°íƒ€ ì„¤ì • (ì°¸ê³ ìš©)\n\nGithub Actions WorkflowëŠ” ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.\n\n```bash\nname: âœ¨ Celuveat backend PROD CD âœ¨\n\nenv:\n  PROFILE: prod\n  IMAGE_TAG: back-prod-${{ secrets.APP_VERSION_TAG }}\n  DOCKER_CONTAINER_NAME: backend\n  DOCKER_HUB_REPOSITORY: celuveat/celuveat\n  SERVER_LOG_DIR_PATH: ~/log\n  DOCKER_LOG_DIR_PATH: /app/logs\n\non:\n  workflow_dispatch:\n  push:\n    branches:\n      - main\n    paths:\n      - \"backend/**\"\n\njobs:\n  backend-docker-build-and-push:\n    runs-on: ubuntu-latest\n    defaults:\n      run:\n        working-directory: ./backend\n\n    steps:\n      - name: âœ¨ Checkout repository\n        uses: actions/checkout@v3\n        with:\n          submodules: true\n          token: ${{ secrets.ACTION_TOKEN }}\n\n      - name: âœ¨ JDK 17 ì„¤ì •\n        uses: actions/setup-java@v3\n        with:\n          java-version: '17'\n          distribution: 'temurin'\n\n      - name: âœ¨ Gradle Caching\n        uses: actions/cache@v3\n        with:\n          path: |\n            ~/.gradle/caches\n            ~/.gradle/wrapper\n          key: ${{ runner.os }}-gradle-${{ hashFiles('**/*.gradle*', '**/gradle-wrapper.properties') }}\n          restore-keys: |\n            ${{ runner.os }}-gradle-\n\n      - name: âœ¨ Gradlew ê¶Œí•œ ì„¤ì •\n        run: chmod +x ./gradlew\n\n      - name: âœ¨ Jar íŒŒì¼ ë¹Œë“œ\n        run: ./gradlew bootJar\n\n      - name: âœ¨ DockerHubì— ë¡œê·¸ì¸\n        uses: docker/login-action@v2\n        with:\n          username: ${{ secrets.DOCKER_HUB_USERNAME }}\n          password: ${{ secrets.DOCKER_HUB_PASSWORD }}\n\n      - name: âœ¨ Docker Image ë¹Œë“œ í›„ DockerHubì— Push\n        uses: docker/build-push-action@v4\n        with:\n          context: ./backend\n          file: ./backend/Dockerfile\n          push: true\n          platforms: linux/arm64\n          tags: ${{ env.DOCKER_HUB_REPOSITORY }}:${{ env.IMAGE_TAG }}\n\n  backend-docker-pull-and-run:\n    runs-on: [self-hosted, prod]\n    if: ${{ needs.backend-docker-build-and-push.result == 'success' }}\n    needs: [ backend-docker-build-and-push ]\n    steps:\n      - name: âœ¨ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰\n        run: |\n          export APP_VERSION_TAG=${{ secrets.APP_VERSION_TAG }}\n          sh /home/ubuntu/deploy.sh\n```\n"},{"excerpt":"ë¬´ì¤‘ë‹¨ ë°°í¬ë€? ì ìš©í•˜ëŠ” ì´ìœ ëŠ”? í•œ ëŒ€ì˜ ì„œë²„ë¡œë§Œ ë°°í¬í•˜ëŠ” ëª¨ë†€ë¦¬ì‹ êµ¬ì¡°ì˜ ì„œë¹„ìŠ¤ì¸ ê²½ìš°, ì„œë¹„ìŠ¤ë¥¼ ìƒˆë¡œìš´ ë²„ì „ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤. ì´ë•Œ ìƒˆë¡­ê²Œ ë°°í¬í•˜ê²Œ ë˜ëŠ”ë°, ë°°í¬ë˜ëŠ” ì‹œê°„ë™ì•ˆ ì„œë¹„ìŠ¤ëŠ” ì ê¹ ì‚¬ìš©í•  ìˆ˜ ì—†ê²Œ ë©ë‹ˆë‹¤. ì´ ì‹œê°„ì„ Down Time ì´ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤. ì´ Down Timeì„ ì œê±°í•˜ì—¬ ì‚¬ìš©ìì—ê²Œ ë¶ˆí¸í•¨ì„ ì£¼ì§€ ì•Šê¸° ìœ„í•´ â€¦","fields":{"slug":"/zero-downtime-deployment/"},"frontmatter":{"date":"October 20, 2023","title":"ë¬´ì¤‘ë‹¨ ë°°í¬ ì´í•´í•˜ê¸°","tags":["infra","zero-downtime-deployment"]},"rawMarkdownBody":"\n## ë¬´ì¤‘ë‹¨ ë°°í¬ë€? ì ìš©í•˜ëŠ” ì´ìœ ëŠ”?\n\ní•œ ëŒ€ì˜ ì„œë²„ë¡œë§Œ ë°°í¬í•˜ëŠ” ëª¨ë†€ë¦¬ì‹ êµ¬ì¡°ì˜ ì„œë¹„ìŠ¤ì¸ ê²½ìš°, ì„œë¹„ìŠ¤ë¥¼ ìƒˆë¡œìš´ ë²„ì „ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤.\n\nì´ë•Œ ìƒˆë¡­ê²Œ ë°°í¬í•˜ê²Œ ë˜ëŠ”ë°, ë°°í¬ë˜ëŠ” ì‹œê°„ë™ì•ˆ ì„œë¹„ìŠ¤ëŠ” **ì ê¹ ì‚¬ìš©í•  ìˆ˜ ì—†ê²Œ ë©ë‹ˆë‹¤.**\n\nì´ ì‹œê°„ì„ *Down Time* ì´ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.\n\n**ì´ Down Timeì„ ì œê±°í•˜ì—¬ ì‚¬ìš©ìì—ê²Œ ë¶ˆí¸í•¨ì„ ì£¼ì§€ ì•Šê¸° ìœ„í•´ ì ìš©í•˜ëŠ” ê²ƒ**ì´ ë¬´ì¤‘ë‹¨ ë°°í¬ì…ë‹ˆë‹¤.\n\n## ì ìš©í•˜ëŠ” ë°©ë²•\n\në¬´ì¤‘ë‹¨ ë°°í¬ë¥¼ ì ìš©í•˜ëŠ” ë°©ë²•ì—ëŠ” í¬ê²Œ 3ê°€ì§€ ë°©ì‹ì´ ìˆìŠµë‹ˆë‹¤.\n\n1. ë¡¤ë§ ë°°í¬\n2. ë¸”ë£¨/ê·¸ë¦° ë°°í¬\n3. ì¹´ë‚˜ë¦¬ ë°°í¬\n\nê° ë°©ì‹ì— ë”°ë¥¸ ì¥ë‹¨ì ì´ ë¶„ëª…í•˜ê¸°ì—, ìƒí™©ì— ë§ëŠ” ë°°í¬ ì „ëµì„ ì ì ˆíˆ ì„ íƒí•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.\n\n### ë¡¤ë§ ë°°í¬\n\nì‹  ë²„ì „ì„ **ì ì§„ì ìœ¼ë¡œ ë°°í¬**í•œë‹¤ëŠ” íŠ¹ì§•ì„ ê°€ì§„ ë°°í¬ ë°©ì‹ì…ë‹ˆë‹¤.\n\n![ë¡¤ë§ ë°°í¬](Rolling-Deployment.png)\n\n#### ì¥ì \n\n- ëª¨ë‘ ì™„ë£Œë˜ê¸° ì „, ê¸°ì¡´ ë²„ì „ë„ ìœ ì§€ë˜ê¸° ë•Œë¬¸ì— ì‹  ë²„ì „ì— ë¬¸ì œê°€ ìƒê²¼ì„ ê²½ìš° ë¡¤ë°±ì´ ì‰½ìŠµë‹ˆë‹¤.\n- ì¶”ê°€ì ì¸ ì¸ìŠ¤í„´ìŠ¤ê°€ í•„ìš”í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.\n\n#### ë‹¨ì \n\n- ë¬´ì¤‘ë‹¨ ë°°í¬ê°€ ì§„í–‰ë˜ëŠ” ë™ì•ˆ, íŠ¸ë˜í”½ì´ ì¼ë¶€ ì¸ìŠ¤í„´ìŠ¤ì— ê³¼ë„í•˜ê²Œ ëª°ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- ê¸°ì¡´ ë²„ì „ê³¼ ì‹  ë²„ì „ì´ ê³µì¡´í•˜ëŠ” ì‹œê°„ì´ ì¡´ì¬í•˜ê¸°ì— í˜¸í™˜ì„± ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n### ë¸”ë£¨/ê·¸ë¦° ë°°í¬\n\në¸”ë£¨ë¥¼ ê¸°ì¡´ ë²„ì „, ê·¸ë¦°ì„ ì‹  ë²„ì „ìœ¼ë¡œ ì§€ì¹­í•©ë‹ˆë‹¤.\n\nì‹  ë²„ì „ì˜ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìš°ì„ ì ìœ¼ë¡œ êµ¬ì„±í•œ í›„ì—, ë°°í¬ê°€ ì™„ë£Œë˜ë©´ íŠ¸ë˜í”½ì„ í•œêº¼ë²ˆì— ì‹  ë²„ì „ìœ¼ë¡œ ë¼ìš°íŒ…í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.\n\n![ë¸”ë£¨/ê·¸ë¦° ë°°í¬](Blue-Green-Deployment.png)\n\n#### ì¥ì \n\n- ì‹  ë²„ì „ì„ ë™ì¼í•œ í™˜ê²½ì˜ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ êµ¬ì„±í•˜ì—¬ ë¯¸ë¦¬ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- ë°°í¬ ë„ì¤‘ì´ë‚˜ ì´í›„ì— ì‹  ë²„ì „ì— ë¬¸ì œê°€ ìƒê²¼ì„ ê²½ìš°, ê¸°ì¡´ ë²„ì „ì„ ìœ ì§€ì‹œí‚¨ë‹¤ë©´ ì‰½ê²Œ ë³µêµ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- ê¸°ì¡´ ë²„ì „ê³¼ ê³µì¡´í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— í˜¸í™˜ì„± ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n#### ë‹¨ì \n\n- ë°°í¬ë¥¼ ìœ„í•œ ë¦¬ì†ŒìŠ¤ê°€ ë‘ ë°°ë¡œ í•„ìš”í•©ë‹ˆë‹¤.\n\n### ì¹´ë‚˜ë¦¬ ë°°í¬\n\nì˜›ë‚  ê´‘ë¶€ë“¤ì´ ìœ ë… ê°€ìŠ¤ì— ë¯¼ê°í•œ ì¹´ë‚˜ë¦¬ì•„ ìƒˆë¥¼ ì´ìš©í•´ ê°€ìŠ¤ ëˆ„ì¶œ ìœ„í—˜ì„ ê°ì§€í–ˆë˜ ê²ƒì—ì„œ ìœ ë˜í•œ ê²ƒìœ¼ë¡œ ì ì¬ì  ë¬¸ì œ ìƒí™©ì„ ë¯¸ë¦¬ ë°œê²¬í•˜ê¸° ìœ„í•œ ë°©ì‹ì…ë‹ˆë‹¤.\n\nì‹  ë²„ì „ ë°°í¬ í›„ íŠ¸ë˜í”½ì˜ ì¼ë¶€ë¥¼ ì‹  ë²„ì „ìœ¼ë¡œ ë¼ìš°íŒ… í•œ ë‹¤ìŒ, ëª¨ë‹ˆí„°ë§ ë° í”¼ë“œë°± ê³¼ì •ì„ ê±°ì¹  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n![ì¹´ë‚˜ë¦¬ ë°°í¬](Canary-Deployment.png)\n\n#### ì¥ì \n\n- ì‹  ë²„ì „ ë°°í¬ ì´í›„ ì‹  ë²„ì „ì„ ì¼ë¶€ ì‚¬ìš©ìë§Œì´ ê²½í—˜í•  ìˆ˜ ìˆë„ë¡ ì¡°ì ˆí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- ì‹  ë²„ì „ì— ë¬¸ì œê°€ ìƒê²¼ì„ ê²½ìš° ê¸°ì¡´ ë²„ì „ìœ¼ë¡œ ë¡¤ë°±ì´ ì‰½ìŠµë‹ˆë‹¤.\n\n#### ë‹¨ì \n\n- ê¸°ì¡´ ë²„ì „ê³¼ ì‹  ë²„ì „ì´ ê³µì¡´í•˜ëŠ” ì‹œê°„ì´ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— í˜¸í™˜ì„± ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n### Reference\n> - https://www.samsungsds.com/kr/insights/1256264_4627.html\n> - https://hudi.blog/zero-downtime-deployment/"},{"excerpt":"DBCP (DataBase Connection Pool) íƒ„ìƒ ë°°ê²½ ì„œë²„ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ DB ì„œë²„ë¡œ ìš”ì²­ì„ ë³´ë‚´ë©´ TCP í†µì‹ ì„ í•œë‹¤. TCP í†µì‹ ì€ Connectionì´ ìœ ì§€ë˜ëŠ” ìƒíƒœì—ì„œ í†µì‹ í•œë‹¤. ì´ Connectionì€ ìƒì„±í•˜ê³  ì‚¬ìš©í•˜ê³  ì‚­ì œë˜ê¸°ê¹Œì§€ ê½¤ ë§ì€ ì‘ì—…ì´ í¬í•¨ëœë‹¤. ì¦‰, í†µì‹  ë¹„ìš©ì´ ë¹„ì‹¸ë‹¤. ì´ëŸ¬í•œ ìƒí™©ì—ì„œ ì„œë²„ëŠ” ë§ì€ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ”ë°â€¦","fields":{"slug":"/dbcp/"},"frontmatter":{"date":"October 16, 2023","title":"DBCPì™€ HikariCP ì´í•´í•˜ê¸°","tags":["database","DBCP","hikariCP"]},"rawMarkdownBody":"\n## DBCP (DataBase Connection Pool) íƒ„ìƒ ë°°ê²½\n\nì„œë²„ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ DB ì„œë²„ë¡œ ìš”ì²­ì„ ë³´ë‚´ë©´ TCP í†µì‹ ì„ í•œë‹¤.\n\nTCP í†µì‹ ì€ **Connection**ì´ ìœ ì§€ë˜ëŠ” ìƒíƒœì—ì„œ í†µì‹ í•œë‹¤.\n\nì´ Connectionì€ ìƒì„±í•˜ê³  ì‚¬ìš©í•˜ê³  ì‚­ì œë˜ê¸°ê¹Œì§€ ê½¤ ë§ì€ ì‘ì—…ì´ í¬í•¨ëœë‹¤. ì¦‰, í†µì‹  ë¹„ìš©ì´ **ë¹„ì‹¸ë‹¤**.\n\nì´ëŸ¬í•œ ìƒí™©ì—ì„œ ì„œë²„ëŠ” ë§ì€ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ”ë°, ì´ ìš”ì²­ë“¤ì´ DB ì„œë²„ë¡œì˜ ìš”ì²­ìœ¼ë¡œ ì´ë£¨ì–´ì§„ë‹¤ë©´ ë¹„ì‹¸ê³  ì˜¤ë˜ê±¸ë¦¬ëŠ” ì‘ì—…ì´ ë§ì•„ì§ˆ ê²ƒì´ë‹¤.\n\nê²°êµ­, ì„œë²„ ì„±ëŠ¥ì— ì•…ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆë‹¤.\n\nì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ DBCPëŠ” íƒ„ìƒí–ˆë‹¤.\n\n## DBCP ê¸°ë³¸ ê°œë…\n\nì„œë²„ê°€ ì‹¤í–‰ë˜ë©´ DBì™€ Connectionì„ **ë¯¸ë¦¬ ë§Œë“¤ì–´ ë†“ê³  Poolì— ì €ì¥í•´ë†“ëŠ”ë‹¤.**\n\në¯¸ë¦¬ ë§Œë“¤ì–´ ë†“ì€ DB Connectionì„ ì„œë²„ì— ë¯¸ë¦¬ ê°€ì§€ê³  ìˆë‹¤ê°€, DBë¡œ ìš”ì²­ì„ ë³´ë‚´ì•¼ í•˜ëŠ” ìƒí™©ì´ ë°œìƒí•œë‹¤ë©´ ê¸°ì¡´ì— ê°€ì§€ê³  ìˆëŠ” Connectionì„ ì´ìš©í•´ ì¿¼ë¦¬ë¥¼ ìš”ì²­í•œë‹¤.\n\nìš”ì²­ì„ ëª¨ë‘ ìˆ˜í–‰í•˜ë©´ ìš”ì²­ì— ì‚¬ìš©ëœ Connectionì„ ë‹¤ì‹œ Poolì— **ë°˜í™˜**ì„ í•œë‹¤. \n\nê²°êµ­, Connectionì„ ìƒì„±í•˜ê³  ì‚­ì œí•˜ëŠ” ê³¼ì •ì´ ëª¨ë‘ ìƒëµë˜ê¸° ë•Œë¬¸ì— ë” ë¹ ë¥¸ ì†ë„ë¡œ ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ ëœë‹¤.\n\n## ì¢…ë¥˜\n\nì´ DBCPë¥¼ êµ¬í˜„í•œ ì œí’ˆìœ¼ë¡œëŠ” [HikariCP](https://github.com/brettwooldridge/HikariCP), [Apache Commons DBCP](https://commons.apache.org/proper/commons-dbcp/), [c3p0](https://github.com/swaldman/c3p0) ë“±ì´ ìˆë‹¤.\n\n## HikariCP\n\nSpring Boot 2.0ë¶€í„° ë‚´ì¥ë˜ì–´ ì‚¬ìš©ë˜ëŠ” DBCP ì´ë‹¤.\n\nì˜¤í”ˆì†ŒìŠ¤ë¡œì„œ, íƒ€ ì œí’ˆì— ë¹„í•´ ì„±ëŠ¥ì´ ë§¤ìš°ë§¤ìš° ë›°ì–´ë‚˜ë‹¤.\n\nì‹¤ì œë¡œ READMEë¥¼ ì½ì–´ë³´ë©´ íƒ€ ì œí’ˆì— ë¹„í•´ ì„±ëŠ¥ì´ ë„ˆë¬´ ë›°ì–´ë‚˜ë‹¤ê³  ì—„ì²­ë‚˜ê²Œ ìë‘í•œë‹¤.\n\nì•„ë˜ ì‚¬ì§„ì€ HikariCP ì—ì„œ ìì²´ì ìœ¼ë¡œ ì§„í–‰í•œ ë²¤ì¹˜ë§ˆí¬ ê²°ê³¼ì´ë‹¤. \n\n![ìì²´ ë²¤ì¹˜ë§ˆí¬ ê²°ê³¼](result_of_benchmark.png)\n\n> One *Connection Cycle*ì€ í•œ ìŒì˜ `DataSource.getConnection()`, `Connection.close()`<br>\n> One *Statement Cycle*ì€ í•œ ìŒì˜ `Connection.prepareStatement()`, `Statement.execute()`, `Statement.close()` ì´ë‹¤.\n\n## ì¤‘ìš”í•œ ì„¤ì • í¬ì¸íŠ¸\n\nì´ ìœ ìš©í•œ DBCPë¥¼ ì •ë§ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•˜ë ¤ë©´, DBì™€ ì„œë²„ì—ì„œ ê°ê° DB Connection ê´€ë ¨ ì„¤ì •ì„ ì˜ ì•Œì•„ì•¼ í•œë‹¤.\n\n> DBëŠ” MySQL, ì„œë²„ëŠ” Spring, DBCPëŠ” hikariCPë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì„¤ëª…í•œë‹¤.\n\n### ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ ì„¤ì • (MySQL ê¸°ì¤€)\n\n- `max_connections`\n  - DB ì„œë²„ê°€ í´ë¼ì´ì–¸íŠ¸ì™€ ë§ºì„ ìˆ˜ ìˆëŠ” ìµœëŒ€ Connection ìˆ˜ì´ë‹¤.\n  - ì»´í“¨íŒ… ìì›ì„ ì ì ˆíˆ ì‚¬ìš©í•˜ë©´ì„œ ë™ì‹œì— ê°€ì¥ ë†’ì€ ì²˜ë¦¬ëŸ‰ë§Œí¼ì„ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.\n\n- `wait_timeout`\n  - ìƒì„±ëœ Connectionì´ ì•„ë¬´ ì²˜ë¦¬ë„ í•˜ì§€ ì•Šì„ ë•Œ, ìƒˆë¡œìš´ ìš”ì²­ì´ ì˜¤ê¸°ê¹Œì§€ ì–¼ë§ˆë§Œí¼ì˜ ì‹œê°„ì„ ê¸°ë‹¤ë¦´ ì§€ ì„¤ì •í•œë‹¤.\n    ë§Œì•½ `wait_timeout` ì‹œê°„ì´ ì§€ë‚˜ê²Œ ë  ê²½ìš°, Connectionì€ Close ëœë‹¤.\n  - í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë¬¸ì œê°€ ìƒê²¨ Connectionì„ ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œí•˜ì§€ ëª»í•˜ëŠ” ìƒí™©(ë¹„ì •ìƒì  Connection ì¢…ë£Œ, Connection ë°˜í™˜ X, ë„¤íŠ¸ì›Œí¬ ë‹¨ì ˆ)ì—, ìƒì„±ëœ Connectionì„ ì•Œì•„ì„œ ì¢…ë£Œí•´ì£¼ê¸° ìœ„í•œ ì ì ˆí•œ ì‹œê°„ì„ ê²°ì •í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.\n  - `wait_timeout`ìœ¼ë¡œ ì¸í•´ Connectionì´ ì¢…ë£Œë˜ê¸° ì „ì— ìƒˆë¡œìš´ ìš”ì²­ì´ ë“¤ì–´ì˜¬ ê²½ìš°, 0ì´ˆë¶€í„° ë‹¤ì‹œ ì‹œê°„ì„ ì¸¡ì •í•œë‹¤.\n\n### DBCP ì„¤ì • (HikariCP ê¸°ì¤€)\n\n#### ê°œìˆ˜ ê´€ë ¨ ì„¤ì •\n\n- `minimumIdle`\n  - Poolì—ì„œ ìœ ì§€í•˜ëŠ” ìµœì†Œí•œì˜ Idle Connectionì˜ ìˆ˜ì´ë‹¤.\n  - ë§Œì•½ Idle ìƒíƒœì˜ Connection ìˆ˜ê°€ `mimimumIdle` ê°’ë³´ë‹¤ ì‘ê³ , ì „ì²´ Connection ìˆ˜ê°€ `maximumPoolSize`ë³´ë‹¤ ì‘ì€ ìƒí™©ì´ë¼ë©´, ì‹ ì†í•˜ê²Œ ìƒˆë¡œìš´ Connectionì„ ìƒì„±í•˜ê³  Poolì— ì¶”ê°€í•œë‹¤.\n  - DefaultëŠ” `maximumPoolSize`ì™€ ë™ì¼í•œ ê°’ì´ë‹¤. ê°’ì„ ë™ì¼í•˜ê²Œ ì„¤ì •í•´ì•¼ ìš”ì²­ì´ ë“¤ì–´ì˜¬ ë•Œ ìƒˆë¡œìš´ Connectionì„ ë§Œë“¤ì§€ ì•Šê³  DBCPë¥¼ ì‚¬ìš©í•˜ëŠ” ì¥ì ì„ ëˆ„ë¦´ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.   \n\n- `maximumPoolSize`\n  - Poolì´ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ìµœëŒ€ Connectionì˜ ìˆ˜ì´ë‹¤.\n  - Idle ìƒíƒœì™€ Active ìƒíƒœì˜ Connectionì„ ëª¨ë‘ í¬í•¨í•œë‹¤.\n\n#### ì‹œê°„ ê´€ë ¨ ì„¤ì •\n\n- `maxLifetime`\n  - Connection Poolì—ì„œ Connectionì˜ ìµœëŒ€ ìˆ˜ëª… ì‹œê°„ì´ë‹¤.\n  - Active ìƒíƒœì˜ Connectionì€ ì ˆëŒ€ ì¢…ë£Œë˜ì§€ ì•Šìœ¼ë©° **Connectionì´ Poolì— ë°˜í™˜ëœ ì´í›„ì˜ ì‹œê°„ì„ ê¸°ì¤€ìœ¼ë¡œ Connectionì„ ì¢…ë£Œ**í•œë‹¤.<br>\n    ì´ íŠ¹ì§• ë•Œë¬¸ì—, Active ìƒíƒœì˜ Connectionì´ ëª¨ì¢…ì˜ ì´ìœ ë¡œ Poolì— ë°˜í™˜ë˜ì§€ ì•ŠìŒê³¼ ë™ì‹œì— DBì˜ `wait_timeout` ì„¤ì • ì‹œê°„ ì´í›„ì— ìš”ì²­ì„ ë³´ë‚´ê²Œ ë˜ë©´, DBëŠ” ì´ë¯¸ í•´ë‹¹ Connectionì„ Close í–ˆê¸° ë•Œë¬¸ì— ì˜ˆì™¸ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ì´ëŠ” Connection Leakì˜ ë¬¸ì œê°€ ë  ìˆ˜ ìˆë‹¤. \n  - Connection Poolì—ì„œ ê°‘ì‘ìŠ¤ëŸ° Connection ëŒ€ëŸ‰ ì†Œë©¸ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ Connection ë³„ë¡œ ì¼ì¢…ì˜ ì¡°ì¹˜ë¥¼ ì·¨í•´ë†“ì•˜ë‹¤.\n  - HikariCPê°€ ê¶Œì¥í•˜ê¸¸, DBì˜ `wait_timeout`ë³´ë‹¤ ëª‡ ì´ˆ ë” ì§§ê²Œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤ê³  í•œë‹¤.<br>\n    ì´ìœ ë¡œëŠ”, ë§Œì•½ `wait_timeout`ê³¼ `maxLifetime` ê°’ì„ ë™ì¼í•˜ê²Œ ì„¤ì •í–ˆë‹¤ê³  ê°€ì •í–ˆì„ ë•Œ, `maxLifetime`ì— ì–¼ë§ˆ ë‚¨ì§€ ì•Šì€ ì‹œì ì— ìš”ì²­ì„ ì²˜ë¦¬í•´ì•¼ í•œë‹¤ë©´, í•´ë‹¹ Connectionì´ DBë¡œ ìš”ì²­ì„ ë³´ë‚´ëŠ” ì‹œê°„ì´ í¬í•¨ë˜ê²Œ ë˜ëŠ”ë°, ìš”ì²­ì´ DBì— ë„ë‹¬í•˜ê¸° ì „ì— `wait_timeout` ì‹œê°„ì´ ì§€ë‚˜ê²Œ ë˜ì–´ DB ì„œë²„ ìª½ì—ì„œ Connectionì„ ëŠê²Œ ëœë‹¤ë©´ ì˜ˆì™¸ê°€ ë°œìƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.\n\n- `connectionTimeout`\n  - í´ë¼ì´ì–¸íŠ¸ê°€ Connection Poolì—ì„œ Connectionì„ íšë“í•˜ê¸°ê¹Œì§€ ì–¼ë§Œí¼ì˜ ì‹œê°„ì„ ê¸°ë‹¤ë¦´ ì§€ ìµœëŒ€ ì‹œê°„ì„ ì •í•˜ëŠ” ì„¤ì •ì´ë‹¤.\n  - ì„¤ì • ì‹œê°„ë§Œí¼ íšë“í•˜ì§€ ëª»í•˜ë©´ `SQLException`ì´ ë°œìƒí•œë‹¤.\n  - ìœ„ ì„¤ì •ë„ ë§ˆì°¬ê°€ì§€ë¡œ `wait_timeout` ë³´ë‹¤ ë” ì§§ì€ ì‹œê°„ìœ¼ë¡œ ì„¤ì •í•´ì•¼ í•œë‹¤.<br>\n    ë§Œì•½ `connectionTimeout`ê³¼ `wait_timeout` ì‹œê°„ì´ ê°™ë‹¤ë©´, ì‚¬ìš©ìê°€ Poolì—ì„œ `connectionTimeout` ì§ì „ì— Connectionì„ íšë“í–ˆë‹¤ í•˜ë”ë¼ë„, ì‹¤ì œ DB ì„œë²„ì— ë„ë‹¬í•˜ê¸°ê¹Œì§€ ì¶”ê°€ì ì¸ ì‹œê°„ì´ ë°˜ë“œì‹œ ì¡´ì¬í•˜ê³ , ë§Œì•½ ë„ë‹¬í•œ ì‹œì ì— ì´ë¯¸ `wait_timeout` ì‹œê°„ì„ ë„˜ì€ ìƒíƒœë¼ë©´ ì˜ˆì™¸ë¥¼ ë°œìƒí•˜ê¸° ë•Œë¬¸ì´ë‹¤.\n\n## ì ì ˆí•œ íŒŒë¼ë¯¸í„° ê°’ì„ ì„¤ì •í•˜ëŠ” ë°©ë²•\n\nìš°ì„  ì„œë²„ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ëª¨ë‹ˆí„°ë§ì„ í•˜ë©° ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ë¥ , ì„œë²„ ìŠ¤ë ˆë“œ ìˆ˜, DBCP ì •ë³´ë“¤ì„ í™•ì¸í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.<br>\nê·¸ë¦¬ê³  [nGrinder](https://naver.github.io/ngrinder/)ì™€ ê°™ì€ ë¶€í•˜ í…ŒìŠ¤íŠ¸ íˆ´ì„ ì‚¬ìš©í•˜ì—¬ ì‹¤ì œë¡œ ì„œë²„ì— ë¶€í•˜ë¥¼ ì¤Œìœ¼ë¡œì¨ ë³‘ëª© ì§€ì ì„ í™•ì¸í•œë‹¤.<br>\në§Œì•½ ë³‘ëª© ì§€ì ì´ ìƒê¸´ë‹¤ë©´, í•´ë‹¹ ì‹œì  ì´í›„ì˜ ì§€í‘œë“¤ì„ í† ëŒ€ë¡œ ë³‘ëª© ì§€ì ì„ ìœ ì¶”í•œë‹¤.<br>\nìœ ì¶”ë˜ëŠ” ì§€ì ì´ ì¡´ì¬í•œë‹¤ë©´ í•´ë‹¹ ê°’ì„ ì ì ˆíˆ ì¡°ì ˆí•´ê°€ë©° ì ì ˆí•œ ì„¤ì • ê°’ì„ ì°¾ëŠ” ê³¼ì •ì„ ê±°ì¹œë‹¤.\n\n> ### Reference\n> - https://www.youtube.com/watch?v=zowzVqx3MQ4"},{"excerpt":"ì‚¬ìš©ì ìœ ì¹˜ ì „, ì„œë²„ ì„±ëŠ¥ ê°œì„ ì„ ìœ„í•´ Tomcat ì„±ëŠ¥ ìµœì í™”ë¥¼ ì§„í–‰í•˜ë ¤ê³  í•©ë‹ˆë‹¤. ê·¸ ê³¼ì •ì—ì„œ ì„¤ì •í•  ê°’ë“¤ì¸ , , ì— ëŒ€í•´ ì´í•´í•˜ë ¤ê³  í•©ë‹ˆë‹¤. Max-Threads JVM ê¸°ë°˜ì—ì„œ ë™ì‘í•˜ëŠ” Tomcatì€ HTTP ìš”ì²­ì„ ë°›ìœ¼ë©´, ê° ìš”ì²­ì„ í•˜ë‚˜ì˜ ì“°ë ˆë“œê°€ ì²˜ë¦¬í•˜ë„ë¡ ë™ì‘í•©ë‹ˆë‹¤. ì´  ì„¤ì •ì€ Tomcatì—ì„œ ìµœëŒ€ ëª‡ ê°œê¹Œì§€ì˜ ì“°ë ˆë“œë¥¼ ë™ì‘ì‹œí‚¬ ê²ƒì¸ì§€â€¦","fields":{"slug":"/tomcat-tuning/"},"frontmatter":{"date":"September 09, 2023","title":"[ì…€ëŸ½ì‡] Tomcat ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´ Max-Threads, Max-Connections, Accept-Count ì„¤ì •í•˜ê¸°","tags":["ì…€ëŸ½ì‡","tomcat"]},"rawMarkdownBody":"\nì‚¬ìš©ì ìœ ì¹˜ ì „, ì„œë²„ ì„±ëŠ¥ ê°œì„ ì„ ìœ„í•´ Tomcat ì„±ëŠ¥ ìµœì í™”ë¥¼ ì§„í–‰í•˜ë ¤ê³  í•©ë‹ˆë‹¤.\n\nê·¸ ê³¼ì •ì—ì„œ ì„¤ì •í•  ê°’ë“¤ì¸ `Max-Threads`, `Max-Connections`, `Accept-Count`ì— ëŒ€í•´ ì´í•´í•˜ë ¤ê³  í•©ë‹ˆë‹¤.\n\n## Max-Threads\n\nJVM ê¸°ë°˜ì—ì„œ ë™ì‘í•˜ëŠ” Tomcatì€ HTTP ìš”ì²­ì„ ë°›ìœ¼ë©´, ê° ìš”ì²­ì„ í•˜ë‚˜ì˜ ì“°ë ˆë“œê°€ ì²˜ë¦¬í•˜ë„ë¡ ë™ì‘í•©ë‹ˆë‹¤.\n\nì´ `Max-Threads` ì„¤ì •ì€ Tomcatì—ì„œ ìµœëŒ€ ëª‡ ê°œê¹Œì§€ì˜ ì“°ë ˆë“œë¥¼ ë™ì‘ì‹œí‚¬ ê²ƒì¸ì§€ ì„¤ì •í•˜ëŠ” ì˜µì…˜ì…ë‹ˆë‹¤.\n\nì¦‰, ë™ì‹œì— ìµœëŒ€ ëª‡ ê°œì˜ ìš”ì²­ì„ ì²˜ë¦¬í•  ê²ƒì¸ì§€ì— ëŒ€í•œ ì„¤ì •ì…ë‹ˆë‹¤.\n\ndefault ê°’ì€ 200 ì…ë‹ˆë‹¤.\n\n## Max-Connections\n\nHTTP ìš”ì²­ì„ ìˆ˜ë½í•˜ê³  ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ìµœëŒ€ Connectionì˜ ìˆ˜ì— ëŒ€í•œ ì„¤ì •ì…ë‹ˆë‹¤.\n\nì„¤ì • ìˆ˜ì¹˜ì— ë„ë‹¬í•˜ë©´, ì¶”ê°€ ìš”ì²­ì— ëŒ€í•´ AcceptëŠ” í•˜ì§€ë§Œ ì²˜ë¦¬í•˜ì§„ ì•ŠìŠµë‹ˆë‹¤.\n\nAcceptëœ Connectionì€ í˜„ì¬ ì²˜ë¦¬ ì¤‘ì¸ Connectionì˜ ìˆ˜ê°€ `Max-Connections`ë³´ë‹¤ ì•„ë˜ë¡œ ë–¨ì–´ì§ˆ ë•Œê¹Œì§€ Block ë©ë‹ˆë‹¤.\n\nBlock ëœ ìš”ì²­ì€ `Accept-Count` ìˆ˜ ë§Œí¼ ì¡´ì¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\ndefault ê°’ì€ 8192 ì…ë‹ˆë‹¤.\n\n## Accept-Count\n\n`Max-Connections` ë³´ë‹¤ ë” ë§ì€ ìš”ì²­ì´ ë“¤ì–´ì˜¤ê²Œ ë˜ì–´ ìš”ì²­ì„ Block í•˜ë©´, ìš´ì˜ì²´ì œëŠ” Block ëœ ìš”ì²­ì„ ëŒ€ê¸° íì— ëŒ€ê¸°ì‹œí‚µë‹ˆë‹¤.\n\nì´ë•Œ, ëŒ€ê¸° íì˜ Sizeê°€ `Accept-Count` ì…ë‹ˆë‹¤.\n\nìœ„ í¬ê¸°ë³´ë‹¤ë„ ë” ë§ì€ ìš”ì²­ì´ ë“¤ì–´ì˜¤ê²Œ ëœë‹¤ë©´, ìš´ì˜ì²´ì œê°€ í•´ë‹¹ ìš”ì²­ì„ ê±°ì ˆí•˜ê±°ë‚˜ Connection Time Outì´ ë°œìƒí•˜ê²Œ ë©ë‹ˆë‹¤.\n\n## ê·¸ë ‡ë‹¤ë©´ ì–´ë–¤ ì‹ìœ¼ë¡œ ì¡°ì ˆí• ê¹Œ?\n\ní˜„ì¬ vUserë¥¼ 300ëª…ìœ¼ë¡œ í–ˆì„ ë•Œë¥¼ ê°€ì •í•˜ì—¬ ë¶€í•˜ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ê³  ìˆìŠµë‹ˆë‹¤.\n\nê·¸ ê²°ê³¼ ì•„ë˜ì™€ ê°™ì€ ìµœì ì˜ ê°’ì´ ë„ì¶œë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\n\n- Max-Threads: 300\n- Max-Connection: 8192 (default)\n- Accept-Count: 10 (default)\n\n> ### ì°¸ê³ \n> - [í†°ìº£ ê³µì‹ë¬¸ì„œ](https://tomcat.apache.org/tomcat-8.5-doc/config/http.html)"},{"excerpt":"ë¡œê·¸ì•„ì›ƒ API ëª…ì„¸ ìš°ì„  OAuth ê´€ë ¨ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë ¤ë©´ ë¬´ì¡°ê±´ í•´ë‹¹ OAuth ì„œë²„ì˜ ê³µì‹ ë¬¸ì„œë¥¼ í†µí•´ API ëª…ì„¸ë¥¼ í™•ì¸í•´ì•¼í•©ë‹ˆë‹¤. êµ¬í˜„í•˜ê³ ì í•˜ëŠ” OAuth ì„œë²„ì¸ ì¹´ì¹´ì˜¤ì˜ ë¡œê·¸ì•„ì›ƒ API ëª…ì„¸ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.  ì¸ì¦ ë°©ì‹ ì„ íƒ ì¸ì¦ ë°©ì‹ì„ ë³´ë©´ , (ì´í•˜ ì–´ë“œë¯¼ í‚¤)ë¡œ ë‘ ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤. ì•¡ì„¸ìŠ¤ í† í° ë°©ì‹ì€ ì‰½ê²Œ ìƒê°í•´ JWTë¥¼ í†µí•´ ì¸ì¦â€¦","fields":{"slug":"/oauth-logout-and-withdraw/"},"frontmatter":{"date":"August 14, 2023","title":"[ì…€ëŸ½ì‡] OAuth 2.0 ë¡œê·¸ì•„ì›ƒ êµ¬í˜„","tags":["ì…€ëŸ½ì‡","OAuth-2.0"]},"rawMarkdownBody":"\n## ë¡œê·¸ì•„ì›ƒ API ëª…ì„¸\n\nìš°ì„  OAuth ê´€ë ¨ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë ¤ë©´ ë¬´ì¡°ê±´ í•´ë‹¹ OAuth ì„œë²„ì˜ ê³µì‹ ë¬¸ì„œë¥¼ í†µí•´ API ëª…ì„¸ë¥¼ í™•ì¸í•´ì•¼í•©ë‹ˆë‹¤.\n\nêµ¬í˜„í•˜ê³ ì í•˜ëŠ” OAuth ì„œë²„ì¸ ì¹´ì¹´ì˜¤ì˜ ë¡œê·¸ì•„ì›ƒ API ëª…ì„¸ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n![ì¹´ì¹´ì˜¤ OAuth ê³µì‹ë¬¸ì„œì˜ ë¡œê·¸ì•„ì›ƒ API ëª…ì„¸](kakao-logout-api-docs.png)\n\n## ì¸ì¦ ë°©ì‹ ì„ íƒ\n\nì¸ì¦ ë°©ì‹ì„ ë³´ë©´ `ì•¡ì„¸ìŠ¤ í† í°`, `ì„œë¹„ìŠ¤ ì•± ì–´ë“œë¯¼ í‚¤`(ì´í•˜ ì–´ë“œë¯¼ í‚¤)ë¡œ ë‘ ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤.\n\nì•¡ì„¸ìŠ¤ í† í° ë°©ì‹ì€ ì‰½ê²Œ ìƒê°í•´ JWTë¥¼ í†µí•´ ì¸ì¦í•˜ëŠ” ê²ƒì´ê³ , ì–´ë“œë¯¼ í‚¤ëŠ” API ìš”ì²­ì„ ë³´ë‚¼ ë•Œ, ì–´ë“œë¯¼ í‚¤ë¥¼ í•¨ê»˜ íŒŒë¼ë¯¸í„°ë¡œ ë‹´ì•„ ìš”ì²­í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.\n\n**ì €í¬ íŒ€ì´ ì„ íƒí•œ ì¸ì¦ ë°©ì‹ì€ ì–´ë“œë¯¼ í‚¤ ë°©ì‹**ì¸ë°ìš”. ì´ìœ ë¡œëŠ”, ë¡œê·¸ì¸ ì‹œ ë°œê¸‰ë˜ëŠ” ì•¡ì„¸ìŠ¤ í† í°ì„ ë”°ë¡œ ê´€ë¦¬í•˜ì§€ ì•Šìœ¼ë©°, ì„œë¹„ìŠ¤ì˜ ì¸ì¦ ë°©ì‹ìœ¼ë¡œ í† í° ë°©ì‹ì´ ì•„ë‹Œ ì„¸ì…˜ ë°©ì‹ì„ ì±„íƒí•´ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ ì•¡ì„¸ìŠ¤ í† í° ë°©ì‹ì´ ë” ê°„ë‹¨í•˜ë‹ˆ ìƒí™©ì´ ëœë‹¤ë©´ ì•¡ì„¸ìŠ¤ í† í° ë°©ì‹ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤.\n\nì–´ë“œë¯¼ í‚¤ëŠ” 'ë‚´ ì• í”Œë¦¬ì¼€ì´ì…˜ - ì•± í‚¤' ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## êµ¬í˜„\n\nê·¸ëŸ¼ ì´ì œ `ì–´ë“œë¯¼ í‚¤` ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•´ë³´ê² ìŠµë‹ˆë‹¤.\n\nì¼ë‹¨ ê·¸ ì „ì— ì–´ë“œë¯¼ í‚¤ë¥¼ í™˜ê²½ ë³€ìˆ˜ì— ì„¤ì •í•´ì¤ë‹ˆë‹¤.\n\n![í™˜ê²½ ë³€ìˆ˜ ì ìš©](admin-key-in-properties.png)\n\nê·¸ ë‹¤ìŒ API ëª…ì„¸ë¥¼ ìì„¸íˆ í™•ì¸í•©ë‹ˆë‹¤.\n\n![API ëª…ì„¸ ìƒì„¸ ì •ë³´](api-specific.png)\n\nëˆˆì—¬ê²¨ ë³¼ í¬ì¸íŠ¸ëŠ” **í—¤ë”**ì™€ **ë³¸ë¬¸**, **ì‘ë‹µ**ì…ë‹ˆë‹¤.\n\n![OauthController](code-of-OauthController.png)\n\n![KakaoMemberClient](code-of-KakaoMemberClient.png)\n\n![KakaoApiClient](code-of-KakaoApiClient.png)\n\n![KakaoLogoutResponse](KakaoLogoutResponse.png)\n\nìœ„ ì½”ë“œë¥¼ í†µí•´ ê°„ë‹¨í•˜ê²Œ ë¡œê·¸ì•„ì›ƒ ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## í…ŒìŠ¤íŠ¸\n\ní…ŒìŠ¤íŠ¸ ë°©ì‹ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n1. ë¡œì»¬ì—ì„œ í”„ë¡ íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë„ìš´ë‹¤.\n2. ë¸Œë¼ìš°ì €ë¥¼ í†µí•´ ë¡œê·¸ì¸ ìš”ì²­ì„ ë³´ë‚¸ë‹¤.\n3. ë¡œê·¸ì¸ í›„ íšë“í•œ ì„¸ì…˜ ì•„ì´ë””ë¥¼ í†µí•´ í¬ìŠ¤íŠ¸ë§¨ìœ¼ë¡œ ë¡œê·¸ì•„ì›ƒ ìš”ì²­ì„ ë³´ë‚¸ë‹¤.\n4. ê²°ê³¼ë¥¼ í™•ì¸í•œë‹¤.\n\n### ë¡œê·¸ì¸ ìš”ì²­ ì‹¤íŒ¨\n\nì´ë•Œ, ë¸Œë¼ìš°ì €ë¥¼ í†µí•´ ë¡œê·¸ì¸ ìš”ì²­ì„ ë³´ë‚´ë©´ ì´ëŸ° ì—ëŸ¬ê°€ ëœ° ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n![í…ŒìŠ¤íŠ¸ ê³¼ì • ì¤‘, ë¡œê·¸ì¸ ìš”ì²­ ì‹¤íŒ¨](error-of-test-login.png)\n\nì´ëŠ” **í—ˆìš© IP ì£¼ì†Œë¥¼ ì„¤ì •í•´ì£¼ì§€ ì•Šì•„ì„œ ìƒê¸°ëŠ” ì˜¤ë¥˜ì…ë‹ˆë‹¤.**\n\nì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì•„ë˜ í˜ì´ì§€ë¥¼ í†µí•´ í˜„ì¬ ì‚¬ìš©ì¤‘ì¸ IPë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.\n\n![í—ˆìš© ì„œë²„ IP ì£¼ì†Œ ê´€ë¦¬ í˜ì´ì§€](accept-server-ip-addresses.png)\n\nì…ë ¥í•  IPëŠ” `ì™¸ë¶€ IP ì£¼ì†Œ`ì…ë‹ˆë‹¤. ì™¸ë¶€ IPëŠ” (ë§¥ ê¸°ì¤€) í„°ë¯¸ë„ì— `curl ipecho.net/plain; echo` ëª…ë ¹ì–´ë¥¼ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nê·¸ë¦¬ê³  ë‹¤ì‹œ ë¡œê·¸ì¸ ìš”ì²­ì„ ë³´ë‚´ë©´ ì •ìƒì ìœ¼ë¡œ ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n### ë¡œê·¸ì•„ì›ƒ ìš”ì²­\n\në¡œê·¸ì¸ì„ í†µí•´ ì–»ì€ ì„¸ì…˜ì„ ì•„ë˜ì™€ ê°™ì´ ì„¤ì •í•´ì£¼ê³  ìš”ì²­ì„ ë³´ë‚´ë´…ë‹ˆë‹¤.\n\n![í¬ìŠ¤íŠ¸ë§¨ì„ ì´ìš©í•´ ë¡œê·¸ì•„ì›ƒ ìš”ì²­](test-logout.png)\n\n![í…ŒìŠ¤íŠ¸ ê²°ê³¼ - ì„±ê³µ!](result-of-test.png)\n\nì •ìƒì ìœ¼ë¡œ ë¡œê·¸ì•„ì›ƒë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."},{"excerpt":"ì•ˆë…•í•˜ì„¸ìš”. ì…€ëŸ½ì‡ íŒ€ì˜ ë°±ì—”ë“œ ë„ê¸°ì…ë‹ˆë‹¤. ğŸ¶ ì €í¬ íŒ€ì€ ì´ë²ˆ 3ì°¨ ë°ëª¨ë°ì´ì— ìš´ì˜ ì„œë²„ì— ì„œë¹„ìŠ¤ë¥¼ ë°°í¬í–ˆìŠµë‹ˆë‹¤!! ğŸ‰ ê·¸ ê³¼ì •ì—ì„œ Domain Nameê³¼ HTTPSë¥¼ ì ìš©í–ˆëŠ”ë°ìš”. ê·¸ ê³¼ì •ì„ ëª¨ë‘ ê¸°ë¡í•˜ë ¤ê³  í•©ë‹ˆë‹¤. ê·¸ëŸ¼ ë°”ë¡œ ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤. ì ìš© ì´ìœ  ğŸ§ ë„ë©”ì¸ê³¼ HTTPS ì ìš© ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. ë„ë©”ì¸ ì ìš© --> ì‚¬ìš©ìì—ê²Œ í¸ë¦¬í•œ ì ‘ê·¼ì„±ì„â€¦","fields":{"slug":"/apply-https/"},"frontmatter":{"date":"August 02, 2023","title":"[ì…€ëŸ½ì‡] HTTPS ì ìš©ê¸°","tags":["celuveat","https","infra","Nginx"]},"rawMarkdownBody":"\nì•ˆë…•í•˜ì„¸ìš”. ì…€ëŸ½ì‡ íŒ€ì˜ ë°±ì—”ë“œ ë„ê¸°ì…ë‹ˆë‹¤. ğŸ¶\n\nì €í¬ íŒ€ì€ ì´ë²ˆ 3ì°¨ ë°ëª¨ë°ì´ì— ìš´ì˜ ì„œë²„ì— ì„œë¹„ìŠ¤ë¥¼ ë°°í¬í–ˆìŠµë‹ˆë‹¤!! ğŸ‰\n\nê·¸ ê³¼ì •ì—ì„œ Domain Nameê³¼ HTTPSë¥¼ ì ìš©í–ˆëŠ”ë°ìš”. ê·¸ ê³¼ì •ì„ ëª¨ë‘ ê¸°ë¡í•˜ë ¤ê³  í•©ë‹ˆë‹¤.\n\nê·¸ëŸ¼ ë°”ë¡œ ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤.\n\n## ì ìš© ì´ìœ  ğŸ§\n\në„ë©”ì¸ê³¼ HTTPS ì ìš© ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n1. ë„ë©”ì¸ ì ìš© --> ì‚¬ìš©ìì—ê²Œ í¸ë¦¬í•œ ì ‘ê·¼ì„±ì„ ì œê³µí•œë‹¤. \n2. HTTPS ì ìš© --> ì‚¬ìš©ìì—ê²Œ ì•ˆì „í•œ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•œë‹¤.\n\nì‹¤ì œ ì‚¬ìš©ìê°€ ì‚¬ìš©í•  ì„œë¹„ìŠ¤ì¸ë° ì™¸ìš°ê¸°ë„ ì–´ë ¤ìš´ ì„œë²„ IPë¥¼ ì³ì„œ ë“¤ì–´ì˜¤ë©´ ... ğŸ«¨ ì €ë¼ë„ ë“¤ì–´ê°€ê¸° ì‹«ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.<br/>\nê·¸ë¦¬ê³  ì‚¬ìš©ì¤‘ì¸ ì„œë¹„ìŠ¤ê°€ ë‚´ ì •ë³´ë¥¼ ì‰½ê²Œ íƒˆì·¨ ê°€ëŠ¥í•œ ì„œë¹„ìŠ¤ë¼ë©´ ì•„ë¬´ë¦¬ ì¢‹ì€ ì„œë¹„ìŠ¤ë¼ë„ ì‚¬ìš©í•˜ì§€ ì•Šê² ì£ .\n\n## ë„ë©”ì¸ ì ìš© ğŸ¯\n\nìš°ì„  ë„ë©”ì¸ì„ ì ìš©í•˜ëŠ” ê²ƒë¶€í„° ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.\n\n### 1. ë„ë©”ì¸ êµ¬ë§¤\n\në„ë©”ì¸ êµ¬ë§¤í•˜ë©´ ê°€ì¥ ë¨¼ì € ìƒê°ë‚˜ëŠ” [ê°€ë¹„ì•„](https://www.google.com/aclk?sa=l&ai=DChcSEwi_lu-H9tCGAxXEbQ8CHZtLAgwYABAAGgJ0Yg&ase=2&gclid=CjwKCAjwyJqzBhBaEiwAWDRJVCBeoJGtVdLVADgDZ0PZlQ7jZFrMIKDIBo57oxoDDmctdw9Mp5MdaRoCXOwQAvD_BwE&ei=MuJmZpOIDJTI1e8P3v2z0Ak&sig=AOD64_3C-PTMmN-jL5yrdpK931wqJGnYJA&q&sqi=2&nis=4&adurl&ved=2ahUKEwiT6emH9tCGAxUUZPUHHd7-DJoQ0Qx6BAgFEAE)ì—ì„œ ë„ë©”ì¸ì„ ë¨¼ì € êµ¬ë§¤í•˜ê² ìŠµë‹ˆë‹¤.<br/>\n\n![ë„ë©”ì¸êµ¬ë§¤.png](ë„ë©”ì¸êµ¬ë§¤.png)\n\ní˜„ì¬ ì €í¬ëŠ” celuveat.com ì„ êµ¬ë§¤í•œ ìƒíƒœì´ê¸°ì— \"ì´ë¯¸ ë“±ë¡ëœ ë„ë©”ì¸\"ì´ë¼ê³  ëœ¨ë„¤ìš”.\n\n### 2. ë ˆì½”ë“œ ìˆ˜ì •\n\nêµ¬ë§¤í•œ ë‹¤ìŒ, My ê°€ë¹„ì•„ -> ì„œë¹„ìŠ¤ ê´€ë¦¬ -> (êµ¬ë§¤í•œ ë„ë©”ì¸) ê´€ë¦¬ -> DNS ì •ë³´ -> DNS ê´€ë¦¬ -> (êµ¬ë§¤í•œ ë„ë©”ì¸) ì„¤ì • -> ë ˆì½”ë“œ ìˆ˜ì •ì„ ëˆ„ë¥´ë©´ ë‹¤ìŒ í™”ë©´ì´ ëœ¹ë‹ˆë‹¤.\n\n![ë ˆì½”ë“œìˆ˜ì •.png](ë ˆì½”ë“œìˆ˜ì •.png)\n\nì—¬ê¸°ì„œ ë ˆì½”ë“œ ì¶”ê°€ë¥¼ ëˆ„ë¥´ë©´ í•˜ë‚˜ì˜ ë ˆì½”ë“œê°€ ì¶”ê°€ë˜ëŠ”ë°ìš”.<br/>\n\n![DNSë ˆì½”ë“œ.png](DNSë ˆì½”ë“œ.png)\n\nê·¸ëŸ¬ë©´ ìœ„ì²˜ëŸ¼ ì„¤ì •ì„ í•´ì£¼ê³  'ê°’/ìœ„ì¹˜'ì— ì„œë²„ IPë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.<br/>\n(ì°¸ê³ ë¡œ í˜¸ìŠ¤íŠ¸ì— devëŠ” ê°œë°œ ì„œë²„ë¥¼ ìœ„í•œ ë„ë©”ì¸ì´ê³ , @ì€ `celuveat.com`ìœ¼ë¡œ ë°”ë¡œ ë“¤ì–´ì˜¤ê¸° ìœ„í•œ ì„¤ì •ì…ë‹ˆë‹¤.)\n\n### 3. ì ìš© í™•ì¸\nê·¸ ë‹¤ìŒ ë°”ë¡œ `www.celuveat.com`ì— ì ‘ì†í•´ì„œ í™•ì¸ì„ í•˜ì‹œë©´ ë©ë‹ˆë‹¤.<br/>\nì €í¬ëŠ” í˜„ì¬ HTTPSë¥¼ ì ìš©í•œ ìƒíƒœì´ê¸°ì— ê²°ê³¼ë¥¼ ë³´ì—¬ë“œë¦¬ì§„ ëª»í•  ê²ƒ ê°™ë„¤ìš” ğŸ˜­\n\nê·¸ëŸ¼ ë°”ë¡œ HTTPSë¥¼ ì ìš©í•´ë´…ì‹œë‹¤!\n\n## HTTPS ì ìš© ğŸ¯\n\nì €í¬ëŠ” nginxë¥¼ ì‚¬ìš©í•´ì„œ HTTPSë¥¼ ì ìš©í•˜ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.\n\nì´ìœ ëŠ” í•œ ëŒ€ì˜ ì„œë²„ ì•ˆì— Reactì™€ Spring ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ëª¨ë‘ ëŒì•„ê°€ëŠ” ìƒí™©ì´ê¸°ì— ì§„ì…ì ì— ë”°ë¥¸ í¬íŠ¸ í¬ì›Œë”©ì´ í•„ìš”í•¨ê³¼ ë™ì‹œì—, <br/>\nì‹œê°„ê³¼ ë¹„ìš©ì´ ë¶€ì¡±í•œ ìŠ¤í”„ë¦°íŠ¸ í™˜ê²½ì„ ê³ ë ¤í•˜ì—¬ nginxì™€ ì—°ë™ì´ ê°€ëŠ¥í•œ ssl ë°œê¸‰í•´ì£¼ëŠ” ë¬´ë£Œ ì˜¤í”ˆì†ŒìŠ¤ `Let's encrypt`ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤. \n\n### 1. Nginx, CertBot ì„¤ì¹˜\n\nìš°ì„  ì„œë²„ì— ì ‘ì†í•´ì„œ **Nginx**ì™€ Letâ€™s Encrypt ì¸ì¦ì„œë¥¼ ì‚¬ìš©í•˜ì—¬ HTTPSë¥¼ ì ìš©í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ì˜¤í”ˆ ì†ŒìŠ¤íˆ´ì¸ **CertBot**ì„ ì„¤ì¹˜í•˜ê² ìŠµë‹ˆë‹¤.\n\n```\n$ sudo apt-get update\n$ sudo apt-get upgrade\n$ sudo apt-get install nginx\n$ sudo apt-get install python3-certbot-nginx\n```\n\n### 2. SSL ì¸ì¦ì„œ ë°œê¸‰\n\nì„¤ì¹˜í•œ CertBotì„ ì´ìš©í•˜ì—¬ SSL ì¸ì¦ì„œë¥¼ ë°œê¸‰ë°›ê² ìŠµë‹ˆë‹¤.\n\n`$ certbot certonly --nginx -d {domain}`\n\nì´ë•Œ `{domain}` ì—ëŠ” ì ìš©í•˜ê³ ìí•˜ëŠ” ë„ë©”ì¸ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!<br>\nì´ë•Œ ì¤‘ìš”í•œ ì ì€ **ì ìš©í•˜ë ¤ëŠ” ë„ë©”ì¸ì„ ì •í™•íˆ** ì ì–´ì£¼ëŠ” ê²ƒì…ë‹ˆë‹¤. ì‹¬ì§€ì–´ ì„œë¸Œ ë„ë©”ì¸ì¼ì§€ë¼ë„ìš”!\n\nê·¸ ë‹¤ìŒì—” ì´ë©”ì¼ì„ ì…ë ¥í•˜ê³ , ì•½ê´€ ë™ì˜ì¸ ì²« ë²ˆì§¸ì—” y ì´ë©”ì¼ ìˆ˜ì‹  ì—¬ë¶€ì¸ ë‘ ë²ˆì§¸ì—ëŠ” nì„ ëˆ„ë¦…ë‹ˆë‹¤.\n\nì´ì œ `$ sudo ls /etc/letsencrypt/live/{domain}` ì„ í†µí•´ 1ê°œì˜ README íŒŒì¼ê³¼ 4ê°œì˜ pemí‚¤ íŒŒì¼ì´ ìƒì„±ëœ ê²ƒì„ í™•ì¸í•˜ì‹œë©´ ë©ë‹ˆë‹¤.\n\n![ì¸ì¦ì„œë°œê¸‰í™•ì¸](ì¸ì¦ì„œë°œê¸‰í™•ì¸.png)\n\n### 3. Nginx ì„¤ì •\n\nì´ì œ Nginx ì„¤ì •ì„ í†µí•´ ë„ë©”ì¸ì— ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì„ httpsë¡œ ë¦¬ë‹¤ì´ë ‰ì…˜ê³¼ í¬íŠ¸í¬ì›Œë”©ì„ í•´ì£¼ê² ìŠµë‹ˆë‹¤.\n\nNginx ì„¤ì •ì€ `$ cd ~/etc/nginx/conf.d` ìœ„ì¹˜ì— _my-domain.conf_ ì´ë¦„ì˜ íŒŒì¼ì„ ìƒì„±í•´ì¤Œìœ¼ë¡œì¨ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì„¤ì •ì€ ì•„ë˜ì™€ ê°™ì´ í•´ì£¼ë©´ ë˜ê² ìŠµë‹ˆë‹¤.\n\n```nginx\nserver {\n  listen 80;\n  server_name my.domain.com;\n  return 301 https://my.domain.com$request_uri;\n}\n\nserver {\n        listen 443 ssl;\n        listen [::]:443 ssl;\n\n        server_name my.domain.com;\n\n        ssl_certificate /etc/letsencrypt/live/my.domain.com/fullchain.pem;\n        ssl_certificate_key /etc/letsencrypt/live/my.domain.com/privkey.pem;\n\n        location / {\n                   proxy_pass http://localhost:8080;\n                   proxy_set_header Host $http_host;\n                   proxy_set_header X-Real-IP $remote_addr;\n                   proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n                   proxy_set_header X-Forwarded-Proto $scheme;\n        }\n}\n```\n\n1. HTTP í”„ë¡œí† ì½œì˜ ìš”ì²­ì€ HTTPS í”„ë¡œí† ì½œì„ ì ìš©í•˜ë„ë¡ ë¦¬ë‹¤ì´ë ‰ì…˜ í•©ë‹ˆë‹¤.\n2. HTTPS í”„ë¡œí† ì½œì˜ ìš”ì²­ì€ CertBotì„ í†µí•´ ë°œê¸‰ë°›ì€ SSL ì¸ì¦ì„œë¥¼ ì´ìš©í•´ ì²˜ë¦¬í•©ë‹ˆë‹¤.\n\n### 4. Nginx ì‹¤í–‰\n\nì´ì œ ì„¤ì •ë„ í–ˆìœ¼ë‹ˆ nginxë¥¼ ì‹¤í–‰ì‹œì¼œì•¼ê² ì£ ?<br/>\nì‹¤í–‰ ëª…ë ¹ì–´ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n`$ sudo service nginx start`\n\nê·¸ í›„ `$ sudo service nginx status` ëª…ë ¹ì–´ë¥¼ í†µí•´ *active*ê°€ ì´ˆë¡ìƒ‰ì¸ì§€ í™•ì¸í•´ë´…ë‹ˆë‹¤! \n\n![](nginxìƒíƒœí™•ì¸.png)\n\n### 5. ë¸Œë¼ìš°ì €ë¥¼ í†µí•´ í™•ì¸\n\nnginxê°€ ì²˜ìŒ ë™ì‘í•˜ë©´ ë‹¤ì†Œ ì‹œê°„ì´ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br/>\nê·¸ë˜ì„œ ì‹¤í–‰ ì§í›„ ë°”ë¡œ ë“¤ì–´ê°„ë‹¤ë©´ í™”ë©´ì´ ì•ˆëœ° ìˆ˜ ìˆì–´ìš”.<br/>\ní•˜ì§€ë§Œ ì¡°ê¸ˆ ê¸°ë‹¤ë ¸ë‹¤ê°€ ë¸Œë¼ìš°ì € ì£¼ì†Œì°½ì— ì ìš©í•œ ë„ë©”ì¸ì„ ì…ë ¥í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤~!\n\n![](ë¸Œë¼ìš°ì €í™•ì¸ê²°ê³¼.png)\n\n# ë§ˆë¬´ë¦¬ ğŸ™‡â€â™‚ï¸\n\nì´ë ‡ê²Œ ë°°í¬í•œ EC2 ì„œë²„ì— HTTPSë¥¼ ì ìš©í•˜ëŠ” ê³¼ì •ì— ëŒ€í•´ ì •ë¦¬í•´ë³´ì•˜ìŠµë‹ˆë‹¤.<br/>\nì¸í”„ë¼ëŠ” ë„ˆë¬´ ì–´ë µê³  ë‚¯ì„  ê²ƒ ê°™ì•„ìš”.. ğŸ¥²\n"},{"excerpt":"Java 17 ìš°ì•„í•œí…Œí¬ì½”ìŠ¤ì—ì„œ ì§„í–‰í•œ ë¯¸ì…˜ë“¤ì˜ Java ë²„ì „ì€ 11ì´ì—ˆìŠµë‹ˆë‹¤. ëª¨ë“  íŒ€ì›ë“¤ì—ê²Œ ìµìˆ™í•œ ë²„ì „ì€ 11 ë²„ì „ì„ì€ ë¶€ì •í•  ìˆ˜ ì—†ëŠ” ì‚¬ì‹¤ì´ì§€ë§Œ, ê·¸ëŸ¼ì—ë„ 17 ë²„ì „ì„ ì„ íƒí•œ ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. ìƒì‚°ì„± 17 ë²„ì „ì— í¬í•¨ëœ Record íƒ€ì…, String ë¸”ëŸ­ ì‚¬ìš©, Stream.toList()ì‚¬ìš© ìœ¼ë¡œ ìƒì‚°ì„± í–¥ìƒì„ ê¸°ëŒ€í–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ìš°í…Œâ€¦","fields":{"slug":"/tech-stacks/"},"frontmatter":{"date":"July 07, 2023","title":"[ì…€ëŸ½ì‡] ê¸°ìˆ  ìŠ¤íƒ ë° ì„ ì • ì´ìœ ","tags":["ì…€ëŸ½ì‡"]},"rawMarkdownBody":"\n![í”„ë¡œì íŠ¸ì—ì„œ ì„ íƒí•œ ê¸°ìˆ  ìŠ¤íƒ ì•„ì´ì½˜](tech_stack_icons.png)\n\n## Java 17\n\nìš°ì•„í•œí…Œí¬ì½”ìŠ¤ì—ì„œ ì§„í–‰í•œ ë¯¸ì…˜ë“¤ì˜ Java ë²„ì „ì€ 11ì´ì—ˆìŠµë‹ˆë‹¤.\n\nëª¨ë“  íŒ€ì›ë“¤ì—ê²Œ ìµìˆ™í•œ ë²„ì „ì€ 11 ë²„ì „ì„ì€ ë¶€ì •í•  ìˆ˜ ì—†ëŠ” ì‚¬ì‹¤ì´ì§€ë§Œ, ê·¸ëŸ¼ì—ë„ 17 ë²„ì „ì„ ì„ íƒí•œ ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n### ìƒì‚°ì„±\n\n17 ë²„ì „ì— í¬í•¨ëœ **Record íƒ€ì…, String ë¸”ëŸ­ ì‚¬ìš©, Stream.toList()**ì‚¬ìš© ìœ¼ë¡œ ìƒì‚°ì„± í–¥ìƒì„ ê¸°ëŒ€í–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\nìš°í…Œì½”ì—ì„œ ì§„í–‰í•˜ëŠ” í”„ë¡œì íŠ¸ íŠ¹ì„±ìƒ 2ì£¼ ë‹¨ìœ„ë¡œ ê¸°ëŠ¥ì„ ë¹ ë¥´ê²Œ ì¶”ê°€í•´ì•¼ í•˜ëŠ” ìƒí™©ì´ì—ˆìŠµë‹ˆë‹¤.\n\në”°ë¼ì„œ íŒ€ì—ê²Œ ìˆì–´ ìƒì‚°ì„±ë„ ì¤‘ìš”í•œ ê°€ì¹˜ë¼ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤.\n\n> Record íƒ€ì…ì€ JDK 14ì— ì¶”ê°€ëìŠµë‹ˆë‹¤. [ê´€ë ¨ ê¸€](https://www.baeldung.com/java-record-keyword)<br>\n> String ë¸”ëŸ­ì€ JDK 15ì— ì¶”ê°€ëìŠµë‹ˆë‹¤. [ê´€ë ¨ ê¸€](https://www.baeldung.com/java-text-blocks)\n> Streams.toList()ëŠ” JDK 17ì— ì¶”ê°€ëìŠµë‹ˆë‹¤. [ê´€ë ¨ ê¸€](https://www.baeldung.com/java-stream-to-list-collecting)\n\n### JDK 8, 11ì— ì´ì€ LTS ë²„ì „\n\nJDK 11ì€ 26ë…„ 9ì›”, JDK 17ì€ 31ë…„ 9ì›”ê¹Œì§€ ì§€ì›í•˜ëŠ” LTS ë²„ì „ì…ë‹ˆë‹¤.\n\nì…€ëŸ½ì‡ í”„ë¡œì íŠ¸ë¥¼ ì•ìœ¼ë¡œ ëª‡ ë…„ì´ê³  ì§€ì†í•  ìˆ˜ ìˆëŠ” ê°€ëŠ¥ì„±ì´ ì¡´ì¬í–ˆìŠµë‹ˆë‹¤.\n\në˜í•œ, ì‹ ê·œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ëŠ” ìƒí™©ì— ìˆì–´ ë ˆê±°ì‹œë¥¼ ê³ ë ¤í•  í•„ìš”ëŠ” ì—†ì„ ë¿ë”ëŸ¬ ì•ìœ¼ë¡œ ìˆì„ ë¯¸ë˜ë¥¼ ëŒ€ë¹„í•˜ëŠ” ê²ƒì´ í˜„ëª…í•˜ë‹¤ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤.\n\n### ë” ë‚˜ì€ GC ì„±ëŠ¥\n\nì´ëŠ” ì¶”ê°€ì ì¸ ì´ìœ ë¥¼ ì°¾ì•„ë³´ë‹¤ê°€ ë°œê²¬í•œ ì´ìœ ì…ë‹ˆë‹¤.\n\në°”ë¡œ, JDK 11ë³´ë‹¤ ë” ë‚˜ì€ GC ì„±ëŠ¥ì„ ê°€ì§„ë‹¤ëŠ” ê²ƒì¸ë°ìš”.\n\nG1 GCì˜ ê²½ìš° JDK 11ì— ë¹„í•´, 8.66% ë” ë¹ ë¥´ë‹¤ëŠ” ë²¤ì¹˜ë§ˆí‚¹ ê²°ê³¼ê°€ ì¡´ì¬í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\n\n> [ì°¸ê³  ë¬¸ì„œ](https://www.optaplanner.org/blog/2021/09/15/HowMuchFasterIsJava17.html)\n\nGC ê°œì„ , JIT ì»´íŒŒì¼ëŸ¬ ê°œì„ , í´ë˜ìŠ¤ ë°ì´í„° ê³µìœ ë¡œ ì¸í•œ ê°œì„ ìœ¼ë¡œ ì¸í•œ ê²ƒì´ë¼ê³  í•©ë‹ˆë‹¤.\n\n## Spring Boot 3\n\nJava 17ì€ Spring Boot 3 ë¶€í„° ì§€ì›ì„ ê°•ì œí•˜ëŠ” ì´ìœ ì—ì„œ ì„ íƒí–ˆìŠµë‹ˆë‹¤.\n\n## Nginx\n\nì´ˆê¸° ê°œë°œ ë‹¨ê³„ì—ì„œ Reactì™€ Springì´ í•œ ëŒ€ì˜ EC2 ì¸ìŠ¤í„´ìŠ¤ ë‚´ì— ì¡´ì¬í–ˆìŠµë‹ˆë‹¤.\n\në”°ë¼ì„œ ì ‘ì† URLì— ë”°ë¼ í¬íŠ¸ í¬ì›Œë”©ì„ í•  í•„ìš”ê°€ ìˆì—ˆìŠµë‹ˆë‹¤.\n\nì¶”ê°€ë¡œ, Nginxì™€ ì—°ë™ ê°€ëŠ¥í•˜ë©° HTTPS ì ìš©ì— í•„ìš”í•œ SSL ì¸ì¦ì„œë¥¼ ë°œê¸‰í•´ì£¼ëŠ” ë¬´ë£Œ ì˜¤í”ˆì†ŒìŠ¤ì¸ [Let's Encrypt](https://letsencrypt.org/)ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°„í¸í•˜ê²Œ HTTPS ì ìš©ì„ í•˜ê¸° ìœ„í•´ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.\n\n> [[10ë¶„ í…Œì½”í†¡] ğŸ¤« í”¼ì¼€ì´ì˜ Nginx](https://youtu.be/6FAwAXXj5N0?feature=shared)\n\n## JPA & Spring Data JPA\n\nì‚¬ì‹¤ ì²˜ìŒì—ëŠ”, JPAë¥¼ ì‚¬ìš©í•´ë³¸ ì ì´ ì—†ëŠ” íŒ€ì›ì´ ì €ë¥¼ í¬í•¨í•´ 2ëª…ì´ ìˆì—ˆìŠµë‹ˆë‹¤.\n\në”°ë¼ì„œ ì²˜ìŒì—” ë°œìƒí•  ìˆ˜ ìˆëŠ” ë¬¸ì œì— ëª¨ë“  íŒ€ì›ì´ ëŒ€ì‘í•  ìˆ˜ ìˆê¸° ìœ„í•´ JDBCë¥¼ ì‚¬ìš©í–ˆëŠ”ë°ìš”.\n\nê°œë°œì„ ë³¸ê²©ì ìœ¼ë¡œ ì‹œì‘í•˜ê¸°ê¹Œì§€ëŠ” ì¡°ê¸ˆì˜ ì‹œê°„ì´ ìˆì—ˆìŠµë‹ˆë‹¤.\n\nê·¸ ì‹œê°„ë™ì•ˆ JPAë¥¼ í•™ìŠµí•  ìˆ˜ ìˆì—ˆê³ , JPAë¥¼ í†µí•´ ê°œë°œ ì´ˆê¸°ì— ë¹ ë¥´ê²Œ ê°œë°œí•  ìˆ˜ ìˆë‹¤ëŠ” ì ì—ì„œ ì„ íƒì„ ë³€ê²½í–ˆìŠµë‹ˆë‹¤.\n\në˜í•œ, JPAëŠ” ê°ì²´ì™€ RDBMSì˜ íŒ¨ëŸ¬ë‹¤ì„ ë¶ˆì¼ì¹˜ë¥¼ í•´ê²°í•´ì¤€ë‹¤ëŠ” ì ì—ì„œ í° ë©”ë¦¬íŠ¸ë¥¼ ëŠê¼ˆìŠµë‹ˆë‹¤.\n\n## QueryDsl\n\nì…€ëŸ½ì‡ì´ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ ì¤‘, ìŒì‹ì ì„ ë‹¤ì–‘í•œ ì¡°ê±´ìœ¼ë¡œ í•„í„°ë§í•˜ì—¬ ì¡°íšŒí•˜ëŠ” ê¸°ëŠ¥ì´ ìˆì—ˆìŠµë‹ˆë‹¤.\n\ní•´ë‹¹ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œëŠ” ë™ì  ì¿¼ë¦¬ë¥¼ ë§Œë“¤ì–´ì•¼ í–ˆëŠ”ë°ìš”.\n\nQueryDslì„ ì„ íƒí•˜ê¸° ì „ì˜ ë™ì  ì¿¼ë¦¬ëŠ” ìœ ì§€ë³´ìˆ˜ê°€ ë§¤ìš° í˜ë“¤ì—ˆìŠµë‹ˆë‹¤.\n\në”°ë¼ì„œ ìœ ì§€ë³´ìˆ˜ë¥¼ ìœ„í•´ ë„ì…í–ˆìŠµë‹ˆë‹¤.\n\n## Docker\n\nì´ˆê¸° ê°œë°œ ë‹¨ê³„ì—ì„œ ìš´ì˜ ë‹¨ê³„ë¥¼ ì¤€ë¹„í•˜ëŠ” ê³¼ì •ì—ì„œ ë™ì¼í•œ í™˜ê²½ì„ ì‰½ê²Œ ì„¸íŒ…í•˜ê¸° ìœ„í•´ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.\n\n## nGrinder\n\në¶€í•˜ í…ŒìŠ¤íŠ¸ íˆ´ë¡œì¨ ë‹¤ë¥¸ ëŒ€ì•ˆì´ì—ˆë˜ JMeterì— ë¹„í•´ ë” í¸ë¦¬í•œ ì‚¬ìš©ì„±ê³¼ í¸ë¦¬í•œ UI/UX, ê·¸ë¦¬ê³  ë¬´ì—‡ë³´ë‹¤ í•œêµ­ì–´ë¥¼ ì§€ì›í•œë‹¤ëŠ” ì ì—ì„œ ì„ íƒí–ˆìŠµë‹ˆë‹¤.\n\n## Grafana, Prometheus, Loki, Promtail\n\në‹¤ë¥¸ ëŒ€ì•ˆì´ì—ˆë˜ AWS CloudWatchëŠ” ìƒˆë¡œ í•™ìŠµí•´ì•¼ í•˜ëŠ” í•™ìŠµ ë¹„ìš©ì´ ì¡´ì¬í–ˆìŠµë‹ˆë‹¤. ë™ì‹œì— ê¸ˆì „ì ì¸ ë¹„ìš©ì´ ë“¤ì–´ê°‘ë‹ˆë‹¤.\n\nì‚¬ì‹¤ _Grafana, Prometheus, Loki, Promtail_ë„ íŒ€ì› ì „ì²´ê°€ í•™ìŠµì„ í•´ì•¼í•˜ëŠ” ê±´ ë§ˆì°¬ê°€ì§€ì˜€ì§€ë§Œ, ì¸í”„ëŸ°ì— ê¹€ì˜í•œ ë‹˜ì˜ ê´€ë ¨ ê°•ì˜ê°€ ì¡´ì¬í•˜ì˜€ê³  ì´ë¥¼ í†µí•´ ì‰½ê²Œ ê¸°ìˆ ì„ ìµí˜€ ì‚¬ìš©í•  ìˆ˜ ìˆì„ ê²ƒìœ¼ë¡œ íŒë‹¨í–ˆìŠµë‹ˆë‹¤.\n\në™ì‹œì— ëª¨ë‘ ë¬´ë£Œ ì˜¤í”ˆì†ŒìŠ¤ì¸ ì ì—ì„œ ì„ íƒí–ˆìŠµë‹ˆë‹¤.\n\n## S3\n\nìŒì‹ì ì— ëŒ€í•œ ì •ë³´ ì¤‘, ìŒì‹ì  ì‚¬ì§„ì´ ì¡´ì¬í–ˆìŠµë‹ˆë‹¤.\n\nì´ˆê¸°ì—ëŠ” ì‚¬ì§„ì„ ëª¨ë‘ EC2 ì¸ìŠ¤í„´ìŠ¤ ë‚´ì— ì €ì¥í•˜ì—¬, ì •ì ìœ¼ë¡œ Serving í–ˆìŠµë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ ìŒì‹ì ì˜ ìˆ˜ê°€ ì¦ê°€í•¨ì— ë”°ë¼ ì‚¬ì§„ íŒŒì¼ì˜ ìˆ˜ë„ ì¦ê°€í•˜ê³ , ê·¸ì— ë”°ë¼ ì„œë²„ì˜ ìš©ëŸ‰ì„ ê±±ì •í•˜ì§€ ì•Šì„ ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤.\n\në™ì‹œì—, Reactë¡œ ê°œë°œí•œ ê²°ê³¼ë¬¼ì„ ë¹Œë“œí•œ ê²ƒì€ ëª¨ë‘ ì •ì ì¸ ìì›ì´ë©°, EC2 ì¸ìŠ¤í„´ìŠ¤ ë‚´ì—ì„œ ë¹Œë“œí•˜ëŠ” ë°ì— ë§ì€ ì‹œê°„ì´ ê±¸ë ¸ìŠµë‹ˆë‹¤.\n\në”°ë¼ì„œ ì •ì  ìì›ë“¤ì€ ìŠ¤í† ë¦¬ì§€ì—ì„œ ì œê³µí•˜ê¸° ìœ„í•´ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.\n\n## CloudFront\n\nS3ë¥¼ ê·¸ëƒ¥ ì‚¬ìš©í•˜ë©´ ë³´ì•ˆê³¼ ê´€ë ¨ëœ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në˜, S3ì— ìˆëŠ” ìì›ì— ì ‘ê·¼í•˜ë ¤ë©´ ë§¤ìš° ê¸¸ê³  ì´ìƒí•œ URLë¡œ ì ‘ê·¼ì„ í•´ì•¼ í–ˆìŠµë‹ˆë‹¤.\n\nì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ CDN ì—­í• ì˜ AWS CloudFrontë¥¼ ë„ì…í–ˆìŠµë‹ˆë‹¤.\n\n## Github Actions\n\nCI/CD íˆ´ë¡œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.\n\në‹¤ë¥¸ ëŒ€ì•ˆì´ì—ˆë˜ JenkinsëŠ” íŒ€ì› ì „ì²´ê°€ í•™ìŠµí•  ì‹œê°„ì´ í•„ìš”í–ˆìŠµë‹ˆë‹¤.\n\në”°ë¼ì„œ ë°”ë¡œ ì ìš©í•  ìˆ˜ ìˆëŠ” CI/CD íˆ´ì„ ì ìš©í–ˆìŠµë‹ˆë‹¤.\n\n## OAuth 2.0\n\nOAuth 2.0ì„ ì ìš©í•˜ë©´ ì‚¬ìš©ìì˜ ê°œì¸ ì •ë³´ë¥¼ ì €ì¥í•˜ì§€ ì•Šì•„ë„ ë˜ëŠ” ì¥ì ì´ ìˆìŠµë‹ˆë‹¤.\n\në˜í•œ, ì‚¬ìš©ì í¼ë„ ê°œì„ ì„ ìœ„í•œ ëª©ì ìœ¼ë¡œ ì„ íƒí–ˆìŠµë‹ˆë‹¤."},{"excerpt":"Varargs íƒ„ìƒ ë°°ê²½ JDK 1.4 ì „ê¹Œì§€ëŠ” ë‹¤ì–‘í•œ ìˆ˜ì˜ ì¸ìë¥¼ ê°€ì§„ ë©”ì„œë“œë¥¼ ì„ ì–¸í•  ìˆ˜ ì—†ì—ˆë‹¤.\nì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë‘ ê°€ì§€ ë°©ì‹ì„ ì‚¬ìš©í–ˆë‹¤. ë©”ì„œë“œ ì˜¤ë²„ë¡œë”© (í•˜ì§€ë§Œ ì½”ë“œì˜ ê¸¸ì´ë¥¼ ë¬´í•œëŒ€ë¡œ ì¦ê°€ì‹œí‚¨ë‹¤.) ì „ë‹¬í•  ê°’ë“¤ì„ ë°°ì—´ë¡œ ë°›ê¸° í•˜ì§€ë§Œ ë‘ ë°©ë²•ì— í•œê³„ì ë“¤ì´ ì¡´ì¬í–ˆê³  ì´ ë¬¸ì œë¥¼ ê°œì„ í•˜ê¸° ìœ„í•´ Varargsë¥¼ ê°œë°œí–ˆë‹¤.\nê²°êµ­, VarargsëŠ” ë‹¤ì–‘í•œâ€¦","fields":{"slug":"/what-is-varargs/"},"frontmatter":{"date":"April 08, 2023","title":"[Java] VarargsëŠ” ì–´ë–»ê²Œ ì‚¬ìš©í•˜ê³ , ì‚¬ìš©í–ˆì„ ë•Œ ì¥ì ì´ ë¬´ì—‡ì¼ê¹Œ?","tags":["java","varargs"]},"rawMarkdownBody":"\n## Varargs íƒ„ìƒ ë°°ê²½\n\nJDK 1.4 ì „ê¹Œì§€ëŠ” ë‹¤ì–‘í•œ ìˆ˜ì˜ ì¸ìë¥¼ ê°€ì§„ ë©”ì„œë“œë¥¼ ì„ ì–¸í•  ìˆ˜ ì—†ì—ˆë‹¤.<br>\nì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë‘ ê°€ì§€ ë°©ì‹ì„ ì‚¬ìš©í–ˆë‹¤.\n\n1. ë©”ì„œë“œ ì˜¤ë²„ë¡œë”© (í•˜ì§€ë§Œ ì½”ë“œì˜ ê¸¸ì´ë¥¼ ë¬´í•œëŒ€ë¡œ ì¦ê°€ì‹œí‚¨ë‹¤.)\n2. ì „ë‹¬í•  ê°’ë“¤ì„ ë°°ì—´ë¡œ ë°›ê¸°\n\ní•˜ì§€ë§Œ ë‘ ë°©ë²•ì— í•œê³„ì ë“¤ì´ ì¡´ì¬í–ˆê³  ì´ ë¬¸ì œë¥¼ ê°œì„ í•˜ê¸° ìœ„í•´ Varargsë¥¼ ê°œë°œí–ˆë‹¤.<br>\nê²°êµ­, VarargsëŠ” **ë‹¤ì–‘í•œ ë²”ìœ„ì˜ ì¸ìë¥¼ ë°›ê¸° ìœ„í•œ í•´ê²°ì±…**ì´ë‹¤.\n\n## Varargs ì‚¬ìš©ë²• ë° íŠ¹ì§•\n\n```java\npublic class VarargsPractice {\n    public static void main(String[] args) {\n        printValues(); // 0ê°œ ì´ìƒì˜ ì¸ìë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤.\n        printValues(\"1\");\n        printValues(\"1\", \"2\");\n        printValues(\"1\", \"2\", \"3\");\n        printValues(new String[]{\"1\", \"2\", \"3\"}); // ì‹¤ì œë¡œëŠ” ë°°ì—´ë¡œ ë™ì‘í•˜ê¸°ì— ë¬¸ì œë˜ì§€ ì•ŠëŠ”ë‹¤.\n    }\n\n    public static void printValues(String... values) { // Varargs ì‚¬ìš©\n        for (int i = 0; i < values.length; i++) {\n            System.out.println(values[i]); // ë°°ì—´ì´ë¯€ë¡œ ì¸ë±ì‹±í•œë‹¤.\n        }\n    }\n}\n```\n\n## Varargs ì‚¬ìš© ê·œì¹™\n\n### 1. í•œ ë©”ì„œë“œì—ëŠ” ì˜¤ì§ í•œ ê°€ì§€ì˜ Varargsë§Œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.\n\n```java\npublic void foo(String... inputs, int... numbers) {} // ì»´íŒŒì¼ ì˜¤ë¥˜ \n```\n\n### 2. Varargsë¥¼ íŒŒë¼ë¯¸í„°ì˜ ë§ˆì§€ë§‰ ìˆœì„œë¡œ ìœ„ì¹˜í•´ì•¼ í•œë‹¤.\n```java\npublic void foo(int... numbers, String input) {} // ì»´íŒŒì¼ ì˜¤ë¥˜\n```\n\n## Heap ì˜¤ì—¼ ìœ ë°œ ê°€ëŠ¥\n\nVarargsë¥¼ ì‚¬ìš©í•˜ëŠ” ê±´ í™ ì˜¤ì—¼(Heap Pollution)ì„ ìœ ë°œí•  ìˆ˜ ìˆë‹¤.<br>\nì•„ë˜ ì½”ë“œë¥¼ ì‚´í´ë³´ì.\n\n```java\npublic class Main {\n    public static void main(String[] args) {\n        List<String>[] strings = new List[3];\n        strings[0] = List.of(\"a\", \"b\", \"c\");\n        strings[1] = List.of(\"1\", \"2\", \"3\");\n        strings[2] = List.of(\"!\", \"@\", \"#\");\n\n        System.out.println(firstOfFirst(strings)); // ClassCastException ë°œìƒ\n    }\n\n    static String firstOfFirst(List<String>... strings) {\n        Object[] objects = strings;\n        List<Integer> ints = Collections.singletonList(42);\n        objects[0] = ints; // Heap pollution\n\n        return strings[0].get(0); // ClassCastException\n    }\n}\n```\n\nVarargs ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ì¸ìë¥¼ ë°›ì„ ë°°ì—´ì´ í•˜ë‚˜ ìƒì„±ëœë‹¤.<br>\nì´ë•Œ, íŒŒë¼ë¯¸í„° íƒ€ì…ì´ ì‹¤ì²´í™” ë¶ˆê°€ íƒ€ì…. ì¦‰, ì œë„¤ë¦­ì´ ì ìš©ë˜ì–´ ëŸ°íƒ€ì„ì— ì†Œê±°ê°€ ë˜ëŠ” íƒ€ì…ì´ë¼ë©´ í™ ì˜¤ì—¼ì´ ë°œìƒí•  ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤.<br>\n> ì°¸ê³ ) [ë°°ì—´ì˜ ê³µë³€ê³¼ ì œë„¤ë¦­ì˜ ë¶ˆê³µë³€ ê´€ë ¨ ê¸€](https://kdkdhoho.github.io/covariant-invariant-and-pecs)ì—ì„œ ìì„¸íˆ ë‹¤ë£¬ë‹¤.\n\nê·¸ëƒ¥ ë°°ì—´ê³¼ ë¦¬ìŠ¤íŠ¸ëŠ” í•¨ê»˜ ì‚¬ìš©í•˜ê¸°ì—” ìœ„í—˜ ìš”ì†Œë“¤ì´ ë§ê³  ê°€ê¸‰ì  ë¦¬ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ ëª¨ë“  ë¬¸ì œê°€ í•´ê²°ëœë‹¤ëŠ” ê²ƒë§Œ ê¸°ì–µí•˜ì.\n> ì°¸ê³ ) [ì´í™í‹°ë¸Œ ìë°” ì•„ì´í…œ 28](https://www.google.com/search?q=%EC%9D%B4%ED%8E%99%ED%8B%B0%EB%B8%8C+%EC%9E%90%EB%B0%94+%EC%95%84%EC%9D%B4%ED%85%9C+28&sourceid=chrome&ie=UTF-8#ip=1)\n\n## Varargsì˜ ì¥ì \n\n1. ë©”ì„œë“œ ì¸ìì˜ ìˆ˜ë¥¼ ë™ì ìœ¼ë¡œ ê²°ì • ë° ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.\n2. ì½”ë“œë¥¼ ê°„ê²°í•˜ê²Œ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.\n\n## Varargsì˜ ë‹¨ì \n\n1. ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ì¦ê°€í•œë‹¤.<br>\n   VarargsëŠ” ê³§, ë°°ì—´ì´ë‹¤. Varargsë¥¼ ì‚¬ìš©í•˜ëŠ” ë©”ì„œë“œëŠ” í˜¸ì¶œë  ë•Œë§ˆë‹¤ ë§¤ë²ˆ ìƒˆë¡œìš´ ë°°ì—´ì„ ìƒì„±í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤."},{"excerpt":"ë“œë””ì–´ 2í•™ê¸° í˜„ì¥ì‹¤ìŠµì´ ëì´ ë‚¬ë‹¤.\n2022ë…„ 08ì›” 29ì¼ë¶€í„° 12ì›” 15ì¼ê¹Œì§€, ì´ 75ì¼ ê°„ì˜ ë‚´ ì²« ì‚¬íšŒ ìƒí™œì´ ëì´ ë‚¬ë‹¤. ëì´ ë‚œ ì§€ ì¼ì£¼ì¼ì´ ì§€ë‚¬ì§€ë§Œ ì´ì œì„œì•¼ ì‘ì„±í•˜ëŠ” ì´ìœ ëŠ”, ê·¸ë™ì•ˆ SSAFY  ë©´ì ‘ê³¼ ìš°ì•„í•œí…Œí¬ì½”ìŠ¤ í”„ë¦¬ì½”ìŠ¤ ìµœì¢… ì½”ë”©í…ŒìŠ¤íŠ¸ë¥¼ ë§ˆë¬´ë¦¬í•˜ê³  ì‰¬ê¸° ë°”ë¹  ì´ì œì„œì•¼ ì‘ì„±í•œë‹¤. ğŸ˜… ì•½ 3-4ê°œì›” ê°„ì˜ ì¹˜ì—´í–ˆë˜ í˜„ì¥ ì‹¤ìŠµì„ íšŒê³ í•´ë³´ì.â€¦","fields":{"slug":"/kissoft-retrospection/"},"frontmatter":{"date":"December 23, 2022","title":"í‚¤ìŠ¤ì†Œí”„íŠ¸ í˜„ì¥ì‹¤ìŠµ íšŒê³ ","tags":["retrospection","kissoft"]},"rawMarkdownBody":"\në“œë””ì–´ 2í•™ê¸° í˜„ì¥ì‹¤ìŠµì´ ëì´ ë‚¬ë‹¤.\n2022ë…„ 08ì›” 29ì¼ë¶€í„° 12ì›” 15ì¼ê¹Œì§€, ì´ 75ì¼ ê°„ì˜ ë‚´ ì²« ì‚¬íšŒ ìƒí™œì´ ëì´ ë‚¬ë‹¤.\n\nëì´ ë‚œ ì§€ ì¼ì£¼ì¼ì´ ì§€ë‚¬ì§€ë§Œ ì´ì œì„œì•¼ ì‘ì„±í•˜ëŠ” ì´ìœ ëŠ”, ê·¸ë™ì•ˆ SSAFY  ë©´ì ‘ê³¼ ìš°ì•„í•œí…Œí¬ì½”ìŠ¤ í”„ë¦¬ì½”ìŠ¤ ìµœì¢… ì½”ë”©í…ŒìŠ¤íŠ¸ë¥¼ ë§ˆë¬´ë¦¬í•˜ê³  ì‰¬ê¸° ë°”ë¹  ì´ì œì„œì•¼ ì‘ì„±í•œë‹¤. ğŸ˜…\n\nì•½ 3-4ê°œì›” ê°„ì˜ ì¹˜ì—´í–ˆë˜ í˜„ì¥ ì‹¤ìŠµì„ íšŒê³ í•´ë³´ì.\n\n## ì›¹ì´ ì•„ë‹Œ ì•± ë¶€ì„œ ë°°ì¹˜\n\në‚´ ì²« ë¶€ì„œëŠ” ë‹¤ë¦„ì•„ë‹Œ **ì•± ê°œë°œ ë¶€ì„œ**ì˜€ë‹¤.<br>\nì´ì „ í¬ìŠ¤íŒ…ì—ì„œë„ ì‘ì„±í–ˆì§€ë§Œ, ì „í˜€ ì˜ˆìƒì¹˜ë„ ëª»í•œ ë¶€ì„œë¡œ ë°°ì¹˜ê°€ ë˜ì—ˆë‹¤.<br>\nê²Œë‹¤ê°€ javaë¥¼ ì´ìš©í•´ì„œ ì•ˆë“œë¡œì´ë“œ ê°œë°œí•˜ëŠ” ê²ƒì´ë©´ ê·¸ë˜ë„ ê´œì°®ì€ë°, ì›¬ iOS ê°œë°œì„ í•œë‹¤ê³  í–ˆë‹¤.\n\në•ë¶„ì— ë‚œìƒ ì²˜ìŒìœ¼ë¡œ ë§¥ì„ ë§Œì ¸ë³´ì•˜ì§€ë§Œ, ì„¤ë ˆëŠ” ê¿ˆê³¼ í¬ë§ìœ¼ë¡œ ì²« ì¶œê·¼í•œ ë‚´ ê¸°ëŒ€ê°€ ì‚°ì‚°íˆ ë¶€ì…”ì§€ëŠ” ìˆœê°„ì´ì—ˆë‹¤.<br>\në•Œë¬¸ì— í•œ ë‹¬ë™ì•ˆ swiftë¥¼ ê³µë¶€í–ˆë‹¤. javaì²˜ëŸ¼ ë¸”ë¡œê·¸ë“¤ì— ì •ë³´ë“¤ì´ ë§ì´ í™œì„±í™”ë˜ì§€ ì•Šì•„ì„œ, ê³µì‹ í™ˆí˜ì´ì§€ë¥¼ í•­ìƒ ëª¨ë‹ˆí„° í•œ ì¼ ì— ì¼œë†“ê³ , ì •ë§ ë§ì€ ê²€ìƒ‰ì„ í†µí•´ ê¾¸ì—­ê¾¸ì—­ ê³µë¶€í–ˆë‹¤.\n\nì‹¤ì œë¡œ ê³µì‹ í™ˆí˜ì´ì§€ë¥¼ í†µí•´ swiftì˜ ê¸°ë³¸ì„ ê°€ë²¼ìš´ ë§ˆìŒìœ¼ë¡œ ì´í‹€ê°„ ê³µë¶€í–ˆê³ , ê·¸ ë‹¤ìŒë¶€í„°ëŠ” ë°”ë¡œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í–ˆë‹¤. ([ë‚´ í”„ë¡œì íŠ¸ Repository](https://github.com/kdkdhoho/Swift))<br>\n\nì‚¬í˜ ì§¸ ë˜ëŠ” ë‚ , \"ì´ê²Œ ë§ë‚˜?\", \"ì´ê±° í•˜ë ¤ê³  ì •ë§ ë§ì€ ê³ ë¯¼ê³¼ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë°›ìœ¼ë©° ì„œìš¸ê¹Œì§€ ì™”ë‚˜?\" ì‹¶ì—ˆë‹¤. íšŒì˜ê°ë„ ë“¤ì—ˆë‹¤. ê·¸ë˜ì„œ í˜„ì¥ ì‹¤ìŠµì„ í¬ê¸°í•˜ë ¤ê³  í–ˆë‹¤. í¬ê¸°ë¡œ ì¸í•´ í•™êµ íœ´í•™ì´ë‚˜ ìí‡´ë¥¼ í•´ì•¼ í•œë‹¤ë©´ í•  ê°ì˜¤ë„ ìˆì—ˆë‹¤. ê·¸ ì •ë„ë¡œ ì‹«ì—ˆë‹¤.<br>\nì´ ë•Œë¬¸ì— í‡´ê·¼ í›„ ì§‘ì— ì™€ ë°¥ì„ ë¨¹ì„ ë•Œê¹Œì§€ ë©ì„ ë•Œë¦¬ë©° ì •ë§ ë§ì€ ê³ ë¯¼ê³¼ ìƒê°ì„ í–ˆë‹¤.<br>\nê·¸ëŸ°ë° ë§‰ìƒ ë°¥ë¨¹ìœ¼ë©´ì„œ í˜¼ì£ë§ë¡œ ìƒê°ì„ ì •ë¦¬í•˜ê³  ë‚˜ë‹ˆ, ì™ ì§€ ëª¨ë¥¼ ë…ê¸°ì™€ ëˆê¸°ê°€ ìƒê²¼ë‹¤.\n\nëˆë³´ë‹¤ **ê²½í—˜**ì„ í•˜ê¸° ìœ„í•´ í˜ë“  ê²°ì •ì„ í–ˆê³ , ê·¸ ê²½í—˜ì´ ë‚´ê°€ ì›í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë”ë¼ë„ ì•ìœ¼ë¡œ ìˆì„ ê°œë°œì ì¸ìƒì—ì„œ í”¼ê°€ ë˜ê³  ì‚´ì´ ë  ê²ƒì´ë‹¤ê³  íŒë‹¨í–ˆë‹¤. ê·¸ë˜ì„œ ì´ ì•…ë¬¼ê³  í•´ë³´ë ¤ê³  í–ˆë‹¤.\n\nê·¸ë ‡ê²Œ í° ê³ ë¹„ë¥¼ ë„˜ê¸°ê³ , ì—°êµ¬ì†Œ ì‚¬ëŒë“¤ê³¼ ê°€ê¹Œì›Œì¡Œë‹¤. swiftë„ í• ë§Œí•´ì¡Œë‹¤.<br>\nì´ë•Œë§Œí•´ë„ ì •ë§ ë§ì€ ê²ƒì„ ë°°ì› ë‹¤. íŠ¹íˆ, íŒ€ì¥ë‹˜ ë•ë¶„ì— ì •ë§ ë§ì€ ê²ƒì„ ëŠë¼ê³  ë°°ìš¸ ìˆ˜ ìˆì—ˆë‹¤.\n\níŠ¹íˆ **ìš”êµ¬ì‚¬í•­ì— ëŒ€í•œ ì •í™•í•œ ì´í•´ì™€ ì •í™•í•œ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜**ì„ ëª¸ì†Œ ê²ªì—ˆë‹¤.<br>\ní•œ ë²ˆì€ íŒ€ì¥ë‹˜ì´ ìš”êµ¬í•˜ì‹  ì‚¬í•­ì„ ë‹¤ë¥´ê²Œ ì´í•´í•˜ì—¬ ê´œíˆ ë” í˜ë“  ë°©í–¥ìœ¼ë¡œ êµ¬í˜„ì„ í–ˆë‹¤. ì´ë•Œ íŒ€ì¥ë‹˜ì´, êµ¬í˜„í•˜ê¸° ì „ì— ì •í™•í•œ ìš”êµ¬ì‚¬í•­ íŒŒì•…ì´ ê°œë°œìì—ê²Œ ìˆì–´ì„œ ì¤‘ìš”í•œ ì—­ëŸ‰ì´ë¼ê³  ë§ì”€í•´ì£¼ì…¨ë‹¤. ë˜í•œ ìì‹ ì´ ì´í•´í•œ ê²ƒì— í™•ì‹ ì´ ì„œì§€ ì•Šë‹¤ë©´ ë˜ë¬¼ì–´ë³¼ ìˆ˜ ìˆëŠ” ìš©ê¸°ì™€ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ëŠ¥ë ¥ ë˜í•œ ì¤‘ìš”í•˜ë‹¤ê³  ë§ì”€í•´ì£¼ì…¨ë‹¤.\n\nì‚¬ì‹¤ ë‹¤ì–‘í•œ ë§¤ì²´ë¥¼ í†µí•´ ìœ„ ë‚´ìš©ë“¤ì´ ì¤‘ìš”í•˜ë‹¤ê³ ëŠ” ì•Œê³  ìˆì—ˆë‹¤. í•˜ì§€ë§Œ ì§ì ‘ ëª¸ì†Œ ê²ªì–´ë³´ë‹ˆ, ê°œë°œìëŠ” ê°œë°œì„ ì˜í•˜ëŠ” ê²ƒì€ ê¸°ë³¸ ì—­ëŸ‰ì´ë©° ë‹¤ë¥¸ ì‚¬ëŒê³¼ í•¨ê»˜ ì¼ì„ í•˜ëŠ” ëŠ¥ë ¥ ë˜í•œ ì¤‘ìš”í•œ ìš”ì†Œë¼ê³  ê¹¨ë‹¬ì•˜ë‹¤.\n\në˜ **ë™ê¸°ì™€ ë¹„ë™ê¸°ì˜ ì¤‘ìš”ì„±**ì„ ëŠê¼ˆë‹¤.<br>\nì—¬íƒœê¹Œì§€ ê³µë¶€í•˜ê³  í”„ë¡œì íŠ¸ í•œ ê²ƒë“¤ì€ ë™ê¸°, ë¹„ë™ê¸°ë¥¼ ì‹ ê²½ì“°ë©° ê°œë°œí•˜ì§€ ì•Šì•˜ë‹¤. í•˜ì§€ë§Œ ì•± ê°œë°œì„ í•˜ë ¤ë‹¤ë³´ë‹ˆ, ë™ê¸° ë¹„ë™ê¸°ê°€ ì •ë§ ê¹Œë‹¤ë¡­ê³  ì‹ ê²½ì„ ë§ì´ ì¨ì•¼í•˜ëŠ” ê²ƒì´ë¼ê³  ëŠê¼ˆë‹¤.<br>\në‚´ ì¸ì‚¬ì´íŠ¸ê°€ í™•ì¥ëœ ìˆœê°„ì´ì—ˆë‹¤.\n\n## ë§ˆì¹¨ë‚´ ì›¹ìœ¼ë¡œ\n\nì–´ëŠë•Œì™€ ë§ˆì°¬ê°€ì§€ë¡œ ì ì‹¬ì„ ë¨¹ê³  ì—°êµ¬ì†Œ ë¶„ë“¤ê³¼ ì¹´í˜ë¥¼ ê°€ëŠ” ê¸¸ì—, ì†Œì¥ë‹˜ê»˜ì„œ \"ì•„ì§ë„ ì›¹ í•˜ê³  ì‹¶ëƒ?\"ëŠ” ì§ˆë¬¸ì„ ë°›ì•˜ë‹¤. ì†”ì§í•˜ê²Œ ê·¸ë ‡ë‹¤ê³  ë§í–ˆë‹¤. ì‹¤ì œë¡œ ì•±ë³´ë‹¤ ì›¹ì´ ë‚´ ì ì„±ì— ë§ê³  ë” ì¬ë°Œë‹¤.\n\nê·¸ëŸ°ë° ë­”ê°€ ëŠë‚Œì´ ì„í–ˆë‹¤. ê°‘ìê¸° ì´ëŸ° ê±¸ ë¬¼ì–´ë³´ì‹¤ ë¶„ì´ ì•„ë‹Œë°, ë‚˜í•œí…Œ ë¬¼ì–´ë³´ì‹ ë‹¤ëŠ”ê±´ ì›¹ìœ¼ë¡œ ê°ˆ ê¸°íšŒê°€ ìƒê²¼ë‹¤ëŠ” ë§ì²˜ëŸ¼ ë“¤ë ¸ë‹¤.<br>\nì•„ë‹ˆë‚˜ ë‹¤ë¥¼ê¹Œ, ì‹¤ì œë¡œ ì›¹ì— TOê°€ ìƒê²¼ê³  ë‚´ê°€ ê°€ê³  ì‹¶ë‹¤ë©´ ë¶€ì„œ ì´ë™ë„ ê°€ëŠ¥í•˜ë‹¤ê³  í•˜ì…¨ë‹¤.<br>\ní•œ ë‹¬ê°„ ê°€ê¹Œì›Œì§„ ì—°êµ¬ì†Œ ë¶„ë“¤ì„ ë‘ê³  ë³¸ì‚¬ë¡œ ê°€ì•¼í•œë‹¤ëŠ” ìƒê°ì´ ì¡°ê¸ˆ ì•„ì‰¬ì› ì§€ë§Œ, ì›¹ì´ í•˜ê³  ì‹¶ë‹¤ê³  í–ˆë‹¤.\n\nê·¸ë ‡ê²Œ ì•½ ì´ì£¼ ê°„ì˜ ì‹œê°„ì´ íë¥´ê³  ì›¹ ë¶€ì„œë¡œ ìë¦¬ë¥¼ ì´ë™í–ˆë‹¤.\n\nê·¸ê³³ì—ì„œëŠ” íšŒì‚¬ê°€ ìš´ì˜í•˜ëŠ” ì„œë¹„ìŠ¤ì˜ ê¸°ëŠ¥ì„ íŒŒì•…í•˜ê³ , ë ˆê±°ì‹œ ì½”ë“œë¥¼ íŒŒì•… ë° ë¶„ì„í•˜ê³ , ë§ˆì¹¨ë‚´ ëª‡ ê°€ì§€ ê¸°ëŠ¥ì„ ì§ì ‘ ì¶”ê°€í•˜ëŠ” ì—…ë¬´ê°€ ì£¼ì–´ì¡Œë‹¤.\n\në§ˆì¹¨ë‚´ ë‚´ê°€ ì •ë§ í•˜ê³  ì‹¶ì—ˆë˜ ë¶„ì•¼ë¥¼ í•˜ê²Œ ë˜ì—ˆê¸°ì—, ì •ë§ ê´œíˆ ì‹ ì´ ë‚˜ê³  ì˜ì§€ê°€ ë” ìƒê²¼ë‹¤.<br>\nê·¸ë˜ì„œ ë‚¨ì€ ê¸°ê°„, ì •ë§ ì—´ì‹¬íˆ í–ˆë‹¤ê³  ìë¶€í•  ìˆ˜ ìˆë‹¤.\n\nê·¸ê³³ì—ì„œëŠ” ëŠë‚€ ê²ƒë“¤ì´ ë”ë”ìš± ë§ë‹¤.\n\n1. ë³´ì•ˆì— ëŒ€í•œ ì¤‘ìš”ì„±\n2. DB ì„œë²„ì˜ ë‹¤ì¤‘í™” ë° DB í¬ê¸°ì˜ ë†€ë¼ì›€\n3. ì•½ì–´ë¥¼ êµ‰ì¥íˆ ë§ì´ ì‚¬ìš©í•œë‹¤\n4. ê°œë°œìê°€ ë¬´ì—‡ì„ í•˜ëŠ” ì‚¬ëŒì¸ê°€?\n5. íƒ€ì¸ì˜ ì½”ë“œë¥¼ ë³´ê³  ë¶„ì„í•˜ëŠ” ê²½í—˜\n6. ê¸°ë³¸ì´ ì •ë§ ì¤‘ìš”í•˜ë‹¤\n7. í´ë¦° ì½”ë“œì˜ ì¤‘ìš”ì„±\n8. ê¸°ì¡´ í”„ë¡œì íŠ¸ë¥¼ ë¶„ì„í•˜ì—¬, íë¦„ì„ ì½”ë“œ ìƒìœ¼ë¡œë„ íŒŒì•…í•˜ê³ , ê¸°ì¡´ì— ìˆëŠ” í”„ë¡œê·¸ë¨ì„ í•´ì¹˜ì§€ ì•Šìœ¼ë©° ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ëŠ” ê²½í—˜ì„ í•´ë³¸ ê²ƒ\n\nëª¨ë‘ ì´ì•¼ê¸°í•˜ê³  ì‹¶ì§€ë§Œ, 6, 7, 8ë²ˆì„ ì´ì•¼ê¸° í•˜ê³ ì í•œë‹¤.<br>\nì´ë²ˆì— ì‹¤ë¬´ì—ì„œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ, ê¸°ë³¸ì´ ì •ë§ ì¤‘ìš”í•˜ë‹¤ê³  ëŠê¼ˆë‹¤.<br>\nì‹¤ì œ ì›¹ ë¶€ì„œ íŒ€ì¥ë‹˜ì´ ê¸°ë³¸ì„ í•­ìƒ ì¤‘ìš”ì‹œí•˜ë©° ìœ í–‰ì„ ì«“ì§€ë§ê³  ê¸°ë³¸ì„ íƒ„íƒ„íˆ í•˜ë¼ê³  ë§ì”€í•´ì£¼ì…¨ë‹¤.<br>\nê·¸ë˜ì„œ ë°”ë¡œ ìë°”ì˜ ì •ì„ ì±…ì„ êµ¬ë§¤í•˜ì—¬, í‡´ê·¼ í›„ ìë°”ì˜ ì •ì„ì„ ì§¬ì§¬íˆ ê³µë¶€í•˜ì˜€ë‹¤.\n\nì‹¤ì œë¡œ íƒ€ì¸ì˜ ì½”ë“œë¥¼ ë³´ë©´ì„œ í•´ë‹¹ ì½”ë“œë¥¼ í•´ì¹˜ì§€ ì•Šê³  ìƒˆë¡œìš´ ê¸°ëŠ¥ë§Œì„ ì¶”ê°€í•˜ëŠ” ì‘ì—…ì€ ì´ë²ˆì´ ì²˜ìŒì´ë‹¤.<br>\nê²Œë‹¤ê°€ íŒ€ì¥ë‹˜ì´ êµ‰ì¥íˆ ì‰½ì§€ ì•Šì€ ì‘ì—…ì´ë¼ê³  í•´ì£¼ì…¨ë‹¤. í•˜ì§€ë§Œ ë‚œ ì´ë²ˆì— ê·¸ê²ƒì„ ê²½í—˜í•˜ë©´ì„œ í•œ ë‹¨ê³„ ì„±ì¥í•œ ê¸°ë¶„ì´ ë“¤ì—ˆë‹¤.<br>\nê·¸ëŸ°ë°, íšŒì‚¬ì˜ ì½”ë“œëŠ” ì˜›ë‚  ìŠ¤íƒ€ì¼ëŒ€ë¡œ ì‘ì„±ë˜ì–´ ìˆì—ˆë‹¤. ë˜í•œ ë©”ì„œë“œ í•˜ë‚˜ì— ë¼ì¸ì´ 50ì¤„ì´ ë˜ëŠ” ë©”ì„œë“œë„ ìˆì—ˆê³ , Repositoryì—ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì²˜ë¦¬í•˜ëŠ” ë¶€ë¶„ë„ ìˆì—ˆë‹¤. ê·¸ë¦¬ê³  ë³€ìˆ˜ëª…ê³¼ í•¨ìˆ˜ëª…ì´ ì•½ì–´ë¡œ ì •ë§ ë§ì´ ë˜ì–´ ìˆì–´ì„œ ì½”ë“œë¥¼ ì²˜ìŒì— ì´í•´í•˜ëŠ” ê²ƒë„ ë„ˆë¬´ í˜ë“¤ì—ˆê³ , ìˆ ìˆ  ì½íˆì§€ë„ ì•Šì•˜ë‹¤.<br>\nì§€ê¸ˆ ìƒê°í•˜ë©´ ê½¤ë‚˜ ë‹¨ìˆœí•œ ê¸°ëŠ¥ë“¤ì—ë„ ë¶ˆêµ¬í•˜ê³  ì „ì²´ ì½”ë“œë¥¼ ì´í•´í•˜ëŠ” ë°ì— ì¼ì£¼ì¼ì´ ë„˜ê²Œ ê±¸ë ¸ë‹¤.\n\nì´ë•Œ ëŠê¼ˆë‹¤. í´ë¦° ì½”ë“œì™€ í´ë¦° ì•„í‚¤í…ì³ê°€ ì´ë˜ì„œ ì •ë§ ì¤‘ìš”í•˜êµ¬ë‚˜.\n\nê°œë°œì€ í˜¼ìì„œ ì ˆëŒ€ ì´ë£¨ì–´ì§ˆ ìˆ˜ ì—†ë‹¤. ë‚´ê°€ ì§  ì½”ë“œë¥¼ íƒ€ì¸ì´ ì½ì–´ì•¼ í•˜ê³ , íƒ€ì¸ì´ ì§  ì½”ë“œë¥¼ ë‚´ê°€ ì½ì–´ì•¼ í•œë‹¤.<br>\nì´ë•Œ ì½”ë“œê°€ ì§€ì €ë¶„í•˜ë‹¤ë©´ ê°œë°œì´ ì •ë§ í˜ë“¤ ê²ƒì´ë‹¤.<br>\në˜ ì„œë¹„ìŠ¤ì™€ ì½”ë“œëŠ” í•­ìƒ ë°œì „í•œë‹¤. ìƒˆë¡œìš´ ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ë©°, ìƒˆë¡œìš´ êµ¬ì¡°ê°€ ì ìš©ë  ìˆ˜ ìˆë‹¤.<br>\nì´ë•Œ, ì•„í‚¤í…ì³ê°€ ì •êµí•˜ê³  ê¹”ë”í•˜ë‹¤ë©´, ë‹¤ë¥¸ ì‚¬ëŒì´ ë´¤ì„ ë•Œ ê½¤ë‚˜ ì‰½ê²Œ ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.\n\nì‚¬ì‹¤, í˜„ì¥ì‹¤ìŠµì„ ì§„í–‰í•˜ë©´ì„œ ìš°í…Œì½” í”„ë¦¬ì½”ìŠ¤ë„ ë³‘í–‰í–ˆë‹¤.<br>\nìš°í…Œì½”ì—ì„œë„ ìœ„ ë‚´ìš©ë“¤ì˜ ì¤‘ìš”ì„±ì„ ê°„ì ‘ì ìœ¼ë¡œ ê·¸ë¦¬ê³  ë‹¨ìˆœí•˜ê²Œ ì•Œë ¤ì£¼ë ¤ëŠ” ë…¸ë ¥ì´ ë³´ì˜€ë‹¤.\n\ní”„ë¦¬ì½”ìŠ¤ì™€ ìœ„ ê²½í—˜ë“¤ì„ ë™ì‹œì— ê²½í—˜í•˜ë‹¤ë³´ë‹ˆ, í´ë¦° ì½”ë“œì™€ í´ë¦° ì•„í‚¤í…ì³ì˜ ì¤‘ìš”ì„±ê³¼ í•„ìš”ì„±ì„ ì •ë§ ì˜ ì´í•´í•  ìˆ˜ ìˆëŠ” ì†Œì¤‘í•œ ì‹œê°„ì´ì—ˆë‹¤ê³  ìƒê°í•œë‹¤.\n\n## ë§ˆë¬´ë¦¬í•˜ë©°\n\nê·¸ë™ì•ˆ ì •ë§ ë§ì€ ê²ƒì„ ì–»ì„ ìˆ˜ ìˆëŠ” ì‹œê°„ì´ì—ˆë‹¤.\ní•™êµì— ë‚¨ì•„ ìˆ˜ì—…ì„ ë“¤ìœ¼ë©° ê³µë¶€ë¥¼ í–ˆë‹¤ë©´ ê²°ì½” ì–»ì„ ìˆ˜ ì—†ë˜ ê²ƒë“¤ì´ì—ˆë‹¤.\n\nì´ë²ˆ í˜„ì¥ì‹¤ìŠµì„ í†µí•´ ì•ìœ¼ë¡œ ë‚´ ê°œë°œì ì»¤ë¦¬ì–´ì— ëŒ€í•œ ë¡œë“œë§µì„ ê·¸ë¦¬ê²Œ ë  ìˆ˜ ìˆì„ ê²ƒ ê°™ê³ , ê°œë°œ ê³µë¶€ì˜ ë°©í–¥ì„±ì„ ì¼ê¹¨ìš¸ ìˆ˜ ìˆì—ˆë‹¤.\n\nì†Œì¤‘í•œ ê²½í—˜ì„ í•  ìˆ˜ ìˆê²Œ í•´ì£¼ì‹  ëŒ€í‘œë‹˜ê³¼ ì´ì‚¬ë‹˜ë“¤ê»˜ ê°ì‚¬í•˜ë‹¤ëŠ” ë§ì”€ì„ ë“œë¦¬ë©°, ë§ˆë¬´ë¦¬í•œë‹¤.\n\n![](kakaotalk.png)\n\n## ê° ë¶€ì„œì—ì„œ ë°°ìš´ ê²ƒë“¤\n\n### iOS\n\n- **ìš”êµ¬ì‚¬í•­ì— ëŒ€í•œ ì •í™•í•œ ì´í•´ì™€ ì •í™•í•œ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜**\n  > í•œ ë²ˆì€ viewAccssoryViewì— ë²„íŠ¼ ë‹¬ì•„ì„œ ë²„íŠ¼ ëˆ„ë¥´ë©´ í‚¤íŒ¨ë“œ ë‚´ë ¤ê°€ë„ë¡ ìš”êµ¬\n  > í•˜ì§€ë§Œ ë‚œ í…ìŠ¤íŠ¸í•„ë“œì™€ ë²„íŠ¼ì´ ê°™ì´ ì˜¬ë¼ê°€ë„ë¡ êµ¬í˜„. ë‹¹ì‹œ ë‚´ê°€ ì›í•˜ëŠ” ë°©ë²•ì„ ì•„ë¬´ë¦¬ ì°¾ì•„ë„ ë‚˜ì˜¤ì§€ ì•Šì•„ ì •ë§ í˜ë“¤ì—ˆë˜ ê²½í—˜ì´ ìˆìŒ. ê·¸ë‚  ì‚¬ìˆ˜ë¶„ì´ í”¼ë“œë°± í•´ì£¼ì‹œë©° ê°œë°œìëŠ” ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì´ ì¤‘ìš”í•˜ë‹¤. ìš”êµ¬ì‚¬í•­ì´ ìˆìœ¼ë©´ ê·¸ì— ë”°ë¥¸ ì •í™•í•œ ë‹ˆì¦ˆ íŒŒì•…ì´ ì¤‘ìš”í•˜ë‹¤. ê¸°ê» ë§Œë“¤ì–´ ì¤¬ë”ë‹ˆ ë§˜ì— ì•ˆë“¤ë©´ ëª¨ë‘ íê¸°í•´ì•¼ í•œë‹¤. ë”°ë¼ì„œ ìš”ì²­ì´ ë“¤ì–´ì˜¬ ë•Œ ê°œë°œìë§Œ ì•Œê³  ìˆëŠ” ê°œë°œ ê´€ë ¨ ì§€ì‹ì„ ë°”íƒ•ìœ¼ë¡œ ìš”ì²­ìì™€ ë§ì€ ëŒ€í™”ë¥¼ í†µí•´ ìƒí˜¸ê°„ì— ì¢€ ë” í•©ë¦¬ì ì´ê³  ì´ìƒì ì¸ ë°©í–¥ì´ ë˜ë„ë¡ ë§ì€ ì˜ì‚¬ì†Œí†µì´ ì¤‘ìš”í•˜ë‹¤ê³ , ê·¸ë˜ì„œ ê·¸ í›„ë¡œ ì˜ì‚¬ì†Œí†µì˜ ì¤‘ìš”ì„±ì„ ëª¸ì†Œ ëŠë¼ê³ , ë§ì´ í•˜ë ¤ê³  ë…¸ë ¥í–ˆë‹¤. ì‹¤ì œë¡œ ê·¸ ë‹¤ìŒ ë‚  ì‚¬ìˆ˜ê°€ ì½”ë¡œë‚˜ì— ê±¸ë ¸ëŠ”ë° ì „ì— ì§€ì‹œí•˜ì…¨ë˜ ì—…ë¬´ë¥¼ ì–´ë–¤ ì‹ìœ¼ë¡œ ì§„í–‰í•´ì•¼ í•  ì§€ í™•ì‹ ì´ ì„œì§€ ì•Šì•˜ê³  ì „ ë‚  í•´ì£¼ì‹  ë§ì”€ì´ ë°”ë¡œ ìƒê°ë‚˜ì„œ ë°”ë¡œ ì „í™”ë¡œ ë¬¼ì–´ë³´ë©° ì§„í–‰ ë°©í–¥ì„ ìƒˆë¡­ê²Œ ì¡°ìœ¨í–ˆë‹¤.\n\n- ì–¸ì–´ë¥¼ ëª°ë¼ë„ êµ¬ê¸€ë§ìœ¼ë¡œ ì›í•˜ëŠ” ê¸°ëŠ¥ì„ ê°œë°œì€ í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ê°œë°œí•˜ëŠ” ì†ë„ë‚˜ ìš”êµ¬ì‚¬í•­ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œ ìˆ˜ì •í•˜ëŠ” ëŠ¥ë ¥ì€ ë–¨ì–´ì§„ë‹¤. ê·¸ë˜ì„œ ê¸°ë³¸ì´ ë˜ì–´ ìˆìœ¼ë©´ ê°œë°œ ì†ë„, ìœ ì§€ë³´ìˆ˜ ì†ë„ê°€ ë§¤ìš° ë¹¨ë¼ì§\n- ê³µì‹ë¬¸ì„œì˜ ì¤‘ìš”ì„±\n- í•œ ë¶„ì•¼ë§Œ ì•ˆë‹¤ê³  ì§„ì§œ ê³ ìˆ˜ê°€ ì•„ë‹ˆë‹¤\n- **ë™ê¸° / ë¹„ë™ê¸°ì˜ ì¤‘ìš”ì„± â†’ ì„œë²„ ë‹¨ì—ì„œëŠ” í¬ê²Œ ëª»ëŠë¼ëŠ”ë° í´ë¼ì´ì–¸íŠ¸ ë‹¨ì—ì„œ í†µì‹ í•˜ê³  í™”ë©´ì— ê²°ê³¼ë¥¼ ë¿Œë ¤ì¤„ ë•Œì—ëŠ” ë™ê¸° ë¹„ë™ê¸°ì˜ ì¤‘ìš”ì„±ì´ ëŒ€ë‘ëœë‹¤.**\n- ì¸í„´ or ì‹ ì…í•œí…ŒëŠ” ì˜í•  ê²ƒì´ë¼ê³  ê¸°ëŒ€ì•ˆí•œë‹¤. ë§¡ê¸´ ì¼ì„ ì •í™•í•˜ê²Œë§Œ í•˜ì.\n- ê¸°ëŠ¥ì€ êµ¬í˜„í•˜ëŠ” ê²ƒì€ ì‰½ë‹¤. í•˜ì§€ë§Œ ê°œë°œí•˜ëŠ” ê²ƒì€ ì–´ë µë‹¤. â†’ êµ¬í˜„í•˜ê³ ìëŠ” ê¸°ìˆ ì— ëŒ€í•œ ê¸°ë³¸ì ì¸ ì›ë¦¬, ì´ì¹˜ ë“±ì„ ì •í™•í•˜ê²Œ ì´í•´í•˜ê³  ìˆì–´ì•¼ íŠ¸ë˜í”½ì´ ê±°ëŒ€í•´ì ¸ë„ í° ë¬¸ì œì—†ì´, ë¬¸ì œê°€ ìˆë”ë¼ë„ ì‰½ê²Œ ë¬¸ì œë¥¼ í•´ê²° í•  í˜ì´ ìƒê¸´ë‹¤.\n\n### WEB\n\n- ë³´ì•ˆì„ ë§¤ìš° ì¤‘ìš”í•˜ê²Œ ìƒê°í•œë‹¤. (ex. DB url, ì‚¬ìš©ì phone ë²ˆí˜¸ ì•”í˜¸í™”)\n- DB ì„œë²„ë„ í•œ ëŒ€ê°€ ì•„ë‹ˆê³ , í…Œì´ë¸”ë„ ë¬´ì§€í•˜ê²Œ ë§ê³ , ë°ì´í„°ë„ ì–´ë§ˆì–´ë§ˆí•˜ê²Œ ë§ë‹¤.\n- ì•½ì–´ë¥¼ êµ‰ì¥íˆ ë§ì´ í”í•˜ê²Œ ì‚¬ìš©. ê·¼ë° ë³„ë¡œ ì•ˆì¢‹ì€ë“¯í•˜ë‹¤.\n- ê°œë°œìê°€ ë¬´ì—‡ì„ í•˜ëŠ” ì‚¬ëŒì¸ì§€ ê¹¨ë‹¬ìŒ â†’ ë‹¨ìˆœíˆ Spring ê¸°ìˆ ì„ ì˜ ì‚¬ìš©í•˜ëŠ” ê²ƒì— ê·¸ì¹˜ëŠ” ê²ƒì´ ì•„ë‹Œ, java, mysql, CS, OS ë“± **ê¸°ë³¸ ì§€ì‹**ë“¤ì„ ë°”íƒ•ìœ¼ë¡œ **ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ì‚¬ëŒ** â†’ ë‹¨ìˆœíˆ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê³  ì½”ë“œë¥¼ ì§œëŠ” ê²ƒë§Œì´ ê°œë°œìê°€ ì•„ë‹ˆë¼, ì£¼ì–´ì§„ ë¬¸ì œë¥¼ ì–´ë–»ê²Œ ì¢€ ë” ìµœì ì˜ ë¹„ìš©ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆì„ì§€ì— ëŒ€í•œ ê³ ë¯¼ì„ í•˜ëŠ” ì‚¬ëŒ\n- íƒ€ì¸ì´ ì§  ì†ŒìŠ¤ì½”ë“œë¥¼ ë³´ëŠ” ì—°ìŠµì„ ë§ì´ í–ˆë‹¤\n    - ë‚´ê°€ ì†ŒìŠ¤ì½”ë“œë¥¼ ì§  ì‚¬ëŒì´ë¼ ìƒê°í•˜ê³  ì´í•´\n    - ì½”ë“œë¥¼ ê·¸ëŒ€ë¡œ ì‘ì„±í•˜ë©° ìœ„ì—ì„œë¶€í„° í•œ ì¤„ í•œ ì¤„ ì´í•´\n    - ê¸¸ì´ê°€ ì§§ë‹¤ë©´ ì†ì½”ë”©\n    - ê²°êµ­, **ë°˜ë³µ**í•´ì„œ ì½ë‹¤ë³´ë©´ ì½”ë“œì˜ íŒ¨í„´ì´ ëˆˆì— ë“¤ì–´ì˜´\n    - Entity â†’ DB â†’ Repo â†’ Service â†’ Controller ìˆœìœ¼ë¡œ ë³´ëŠ” ê²ƒì´ ë„ì›€ì´ ë˜ì—ˆìŒ\n- ê¸°ë³¸ì´ ì¤‘ìš”í•˜ë‹¤. Javaë‚˜ DB, Spring, JPA ê°™ì€. í•˜ì§€ë§Œ ì•„ì§ ë§ì´ ë¶€ì¡±í•˜ë‹¤.\n- **ê¸°ì¡´ í”„ë¡œì íŠ¸ë¥¼ ë¶„ì„í•˜ì—¬, íë¦„ì„ ì½”ë“œ ìƒìœ¼ë¡œë„ íŒŒì•…í•˜ê³ , ê¸°ì¡´ì— ìˆëŠ” í”„ë¡œê·¸ë¨ì„ í•´ì¹˜ì§€ ì•Šìœ¼ë©° ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ëŠ” ê²½í—˜ì„ í•´ë³¸ ê²ƒì´ ê°€ì¥ í° ê²½í—˜ì´ì§€ ì•Šì„ê¹Œ ì‹¶ë‹¤.**"}]}},"pageContext":{}},"staticQueryHashes":[],"slicesMap":{}}