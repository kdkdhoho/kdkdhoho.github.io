{"componentChunkName":"component---src-templates-blog-post-js","path":"/docker/commands-of-docker/","result":{"data":{"site":{"siteMetadata":{"title":"내가 재밌는 일을 하자 !"}},"markdownRemark":{"id":"c8b7ae13-f5b7-5aa6-ac41-797fe0aa582e","excerpt":"웬만하면 처럼, 를 통해 바로 파악하거나 공식 문서를 통해 자세히 이해할 수 있다. 그래도 도커를 공부하면서 유용한 명령어들을 정리할 겸 작성한다. 치트 시트 mysql…","html":"<p>웬만하면 <code class=\"language-text\">docker command --help</code>처럼, <code class=\"language-text\">--help</code>를 통해 바로 파악하거나 공식 문서를 통해 자세히 이해할 수 있다.</p>\n<p>그래도 도커를 공부하면서 유용한 명령어들을 정리할 겸 작성한다.</p>\n<h2>치트 시트</h2>\n<ul>\n<li>mysql 띄우기\n<div class=\"gatsby-highlight\" data-language=\"docker\"><pre class=\"language-docker\"><code class=\"language-docker\">docker run -d \\\n--name mysql \\\n-p 3306:3306 \\\n-e MYSQL_ROOT_PASSWORD=root \\\n-e MYSQL_USER=sa \\\n-e MYSQL_ALLOW_EMPTY_PASSWORD=yes \\\n-e MYSQL_DATABASE=listywave \\\n-v /Users/dongho/mysql_container:/var/lib/mysql \\\nmysql</code></pre></div>\n</li>\n</ul>\n<h2>버전 관련</h2>\n<ul>\n<li><code class=\"language-text\">docker version</code>: 도커의 버전을 확인한다.</li>\n<li><code class=\"language-text\">docker -v</code>: 도커 버전을 간략하게 확인한다.</li>\n</ul>\n<h2>이미지 관련</h2>\n<ul>\n<li><code class=\"language-text\">docker pull NAME[:TAG]</code>: 도커 허브에서 이미지를 받는다.</li>\n<li><code class=\"language-text\">docker images</code>: 도커 엔진에 존재하는 이미지 목록을 출력한다.</li>\n</ul>\n<h2>컨테이너 관련</h2>\n<ul>\n<li>\n<p><code class=\"language-text\">docker run</code>: 컨테이너를 생성과 동시에 실행한다. 내부로 들어간다.</p>\n<ul>\n<li><code class=\"language-text\">-i</code>: 상호 입출력을 설정한다.</li>\n<li><code class=\"language-text\">-t</code>: tty를 활성하하여 bash shell을 사용한다.</li>\n<li><code class=\"language-text\">--name NAME</code>: 컨테이너 이름을 설정한다.</li>\n<li><code class=\"language-text\">-p</code>: 호스트의 포트와 컨테이너의 포트를 바인딩해 연결한다.\n<ul>\n<li><code class=\"language-text\">-p [호스트의 포트]:[컨테이너의 포트]</code></li>\n<li>컨테이너에 접속할 호스트의 포트를 설정하고, 해당 컨테이너의 포트에 해당하는 프로세스로 통신하는 것이다.</li>\n</ul>\n</li>\n<li>ex) <code class=\"language-text\">docker run -i -t --name myUbuntu -p 7777:80 ubuntu:14.04</code></li>\n<li><code class=\"language-text\">-d</code>: <code class=\"language-text\">-i</code>, <code class=\"language-text\">-t</code>가 접근 가능한 상태, Attach로 설정했다면, <code class=\"language-text\">-d</code>는 Detached 모드로 설정한다.</li>\n<li><code class=\"language-text\">-e</code>: 컨테이너 내부의 환경변수를 설정한다.</li>\n<li><code class=\"language-text\">-v</code>: 컨테이너에 볼륨을 설정한다.\n<ul>\n<li><code class=\"language-text\">-v HOST_DIRECTORY:CONTAINER_DIRECTORY</code>: 호스트 볼륨 공유 설정</li>\n<li><code class=\"language-text\">-v VOLUME_NAME:CONTAINER_DIRECTORY</code>: 도커 볼륨 설정</li>\n</ul>\n</li>\n<li><code class=\"language-text\">--net DRIVER_NAME</code>: 네트워크 드라이버를 설정한다.</li>\n<li><code class=\"language-text\">--net-alias HOST_NAME</code>: 컨테이너의 Domain Name을 설정한다.</li>\n<li><code class=\"language-text\">--log-opt max-size={} | max-file={}</code>: 컨테이너가 남기는 로그 파일의 최대 용량과 개수를 설정한다.</li>\n<li><code class=\"language-text\">--restart</code>: 컨테이너의 재시작 옵션을 설정한다.\n<ul>\n<li><code class=\"language-text\">no</code>: 아무런 재시작 동작을 하지 않는다. 기본값.</li>\n<li><code class=\"language-text\">on-failure</code>: 에러로 종료할 때 재시작한다.</li>\n<li><code class=\"language-text\">always</code>: 항상 재시작한다. 수동으로 종료한 경우, Docker가 재시작되면 함께 재시작된다.</li>\n<li><code class=\"language-text\">unless-stopped</code>: 컨테이너가 종료되지 않는 한, 매번 재시작된다. 직접 종료 후 재시작 전까지는, Docker가 재시작돼도 컨테이너는 재시작하지 않는다.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">docker update</code>: 컨테이너의 설정을 변경한다.</p>\n</li>\n<li>\n<p><code class=\"language-text\">docker create NAME|ID</code>: 컨테이너를 단순히 생성만 한다. 내부로 들어가진 않는다.</p>\n</li>\n<li>\n<p><code class=\"language-text\">docker start NAME|ID</code>: 컨테이너를 실행한다.</p>\n</li>\n<li>\n<p><code class=\"language-text\">docker attach NAME|ID</code>: 컨테이너 내부로 들어간다.</p>\n</li>\n<li>\n<p><code class=\"language-text\">docker exec [OPTIONS] CONTAINER COMMAND</code>: 컨테이너 내부에서 명령어를 실행한다.</p>\n<ul>\n<li>ex) <code class=\"language-text\">docker exec -it mysql /bin/bash</code>: mysql 컨테이너에 bash shell을 통해 접근한다.</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">exit</code>: 컨테이너를 정지시킴과 동시에 내부에서 빠져나온다.</p>\n</li>\n<li>\n<p><code class=\"language-text\">Ctrl + P + Q</code>: 컨테이너를 정지시키지 않고 내부에서 빠져나온다.</p>\n</li>\n<li>\n<p><code class=\"language-text\">Ctrl + D</code>: 빠져나옴과 동시에 컨테이너를 종료한다.</p>\n</li>\n<li>\n<p><code class=\"language-text\">docker inspect NAME|ID</code>: 도커 객체에 대해 저수준의 정보까지 출력한다.</p>\n</li>\n<li>\n<p><code class=\"language-text\">docker ps</code>: 실행중인 컨테이너 정보 출력한다.</p>\n<ul>\n<li><code class=\"language-text\">-a</code>: 정지된 컨테이너도 모두 출력한다.</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">docker rename NAME|ID NEW_NAME</code>: 컨테이너의 이름을 변경한다.</p>\n</li>\n<li>\n<p><code class=\"language-text\">docker stop NAME|ID</code>: 컨테이너를 중지한다.</p>\n</li>\n<li>\n<p><code class=\"language-text\">docker rm NAME|ID</code>: 컨테이너를 삭제한다.</p>\n<ul>\n<li><code class=\"language-text\">-f</code>: 실행 중인 컨테이너를 강제로 삭제한다.</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">docker container prune</code>: 모든 컨테이너를 삭제한다.</p>\n</li>\n<li>\n<p><code class=\"language-text\">docker volume creat NAME</code>: 도커 볼륨을 생성한다.</p>\n</li>\n</ul>\n<h2>네트워크 관련</h2>\n<ul>\n<li><code class=\"language-text\">docker network create --driver DRIVER DRIVER_NAME</code>\n<ul>\n<li><code class=\"language-text\">docker run -it --net DRIVER_NAME</code>: NAME에 해당하는 네트워크 드라이버를 통해 컨테이너를 생성한다.</li>\n</ul>\n</li>\n<li><code class=\"language-text\">docker network disconnect DRIVER_NAME CONTAINER_NAME</code>: 컨테이너에 네트워크를 할당 해제한다.</li>\n<li><code class=\"language-text\">docker network connect DRIVER_NAME CONTAINER_NAME</code>: 컨테이너에 네트워크를 할당한다.</li>\n</ul>\n<h2>로깅 관련</h2>\n<ul>\n<li><code class=\"language-text\">docker logs CONTAINER</code>: 컨테이너의 로그를 확인한다.\n<ul>\n<li><code class=\"language-text\">--tail n</code>: 뒤에서부터 n줄을 출력한다.</li>\n<li><code class=\"language-text\">--since Unix_Time</code>: 특정 시간 이후의 로그를 확인한다.</li>\n<li><code class=\"language-text\">-t</code>: 타임 스탬프를 출력한다.</li>\n<li><code class=\"language-text\">-f</code>: 로그를 실시간으로 확인한다.</li>\n</ul>\n</li>\n</ul>\n<h2>이미지 관련</h2>\n<ul>\n<li><code class=\"language-text\">docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]</code>: 컨테이너를 이미지로 만들어 도커 허브에 커밋한다.\n<ul>\n<li><code class=\"language-text\">-a, --author</code>: 작성자</li>\n<li><code class=\"language-text\">-m, --message</code>: 커밋 메시지</li>\n</ul>\n</li>\n<li><code class=\"language-text\">docker save [OPTIONS] IMAGE</code>: 이미지를 파일로 추출한다.\n<ul>\n<li><code class=\"language-text\">-o, --output NAME</code>: 추출될 파일명을 설정한다.</li>\n</ul>\n</li>\n<li><code class=\"language-text\">docker load [OPTIONS]</code>: 추출된 이미지를 도커로 업로드한다.\n<ul>\n<li><code class=\"language-text\">-i, --input FILE</code>: 업로드 할 파일명을 선언한다.</li>\n</ul>\n</li>\n<li><code class=\"language-text\">docker tag SOURCE_IMAGE[:TAG] TARGET_IMAGE[:TAG]</code>: SOURCE_IMAGE의 이름에 TARGET_IMAGE을 추가한다.</li>\n</ul>","frontmatter":{"title":"[Docker] 도커의 기본적인 명령어들","date":"May 01, 2024","description":"도커를 사용해보자!"}},"previous":{"fields":{"slug":"/java/covariant-invariant-and-pecs/"},"frontmatter":{"title":"[Java] 배열의 공변, 제네릭의 불공변. 그리고 PECS"}},"next":{"fields":{"slug":"/network/network-book-study/10-web-attacks/"},"frontmatter":{"title":"11장. 웹 공격 기술"}}},"pageContext":{"id":"c8b7ae13-f5b7-5aa6-ac41-797fe0aa582e","previousPostId":"fe3b3569-8de0-593a-8cdf-fe581780235a","nextPostId":"145d7cd6-e17e-5811-a7d6-c48e58d2fd5b"}},"staticQueryHashes":["2841359383"],"slicesMap":{}}