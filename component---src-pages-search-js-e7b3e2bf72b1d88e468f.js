"use strict";(self.webpackChunkgatsby_starter_blog=self.webpackChunkgatsby_starter_blog||[]).push([[55],{3916:function(e,t,a){a.r(t),a.d(t,{Head:function(){return d},default:function(){return i}});var l=a(4506),r=a(6540),c=a(4794),s=a(6462),n=a(2537),m=a(7528),o=a(9050);const u=(e,t)=>{if(!t||!e)return e;const a=new RegExp(`(${t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return e.replace(a,"<mark>$1</mark>")},d=e=>{let{location:t}=e;const a=new URLSearchParams(t.search||"").get("q")||"";return r.createElement(m.A,{title:a?`'${a}' 검색 결과`:"포스트 검색",description:a?`'${a}'에 대한 검색 결과`:"블로그 포스트를 검색하세요"})};var i=e=>{var t;let{data:a}=e;const m=(0,s.useLocation)(),d=a.allMarkdownRemark.nodes,i=(null===(t=a.site.siteMetadata)||void 0===t?void 0:t.title)||"Title",h=r.useMemo(()=>new URLSearchParams(m.search||"").get("q")||"",[m.search]),[p,g]=r.useState(h),[E,f]=r.useState("date");r.useEffect(()=>{g(h)},[h]);const v=r.useMemo(()=>h.trim().length<2?[]:d.filter(e=>(0,o.QR)(e,h)),[d,h]),N=r.useMemo(()=>((e,t,a)=>{const r=(0,o.Km)(a);switch(t){case"title":return(0,l.A)(e).sort((e,t)=>(e.frontmatter.title||"").localeCompare(t.frontmatter.title||"","ko"));case"relevance":return(0,l.A)(e).sort((e,t)=>{const a=(e.frontmatter.title||"").toLowerCase(),l=(t.frontmatter.title||"").toLowerCase(),c=a.includes(r)?1:0;return(l.includes(r)?1:0)-c});default:return(0,l.A)(e).sort((e,t)=>new Date(t.frontmatter.date)-new Date(e.frontmatter.date))}})(v,E,h),[v,E,h]);return r.createElement(n.A,{location:m,title:i},r.createElement("section",{className:"search-page-module--searchPage--b5a14"},r.createElement("header",{className:"search-page-module--searchHeader--2b955"},r.createElement("h1",{className:"search-page-module--searchTitle--5e402"},"검색 결과"),r.createElement("form",{className:"search-page-module--searchForm--65ecc",onSubmit:e=>{e.preventDefault();const t=p.trim();t.length>=2?(0,c.navigate)(`/search?q=${encodeURIComponent(t)}`,{replace:!0}):(0,c.navigate)("/search",{replace:!0})}},r.createElement("input",{type:"text",placeholder:"검색어를 입력하세요...",value:p,onChange:e=>g(e.target.value),className:"search-page-module--searchInput--c6d92"}),r.createElement("button",{type:"submit",className:"search-page-module--searchButton--21bcd"},"검색"))),h.length>=2?r.createElement(r.Fragment,null,r.createElement("div",{className:"search-page-module--resultsHeader--a1410"},r.createElement("h2",{className:"search-page-module--resultsTitle--7fb23"},"'",h,"' 검색 결과 ",r.createElement("span",null,"(",v.length,"개)")),v.length>0&&r.createElement("div",{className:"search-page-module--sortWrap--bfb72"},r.createElement("label",{htmlFor:"sort-select"},"정렬"),r.createElement("select",{id:"sort-select",value:E,onChange:e=>f(e.target.value),className:"search-page-module--sortSelect--c4f11"},r.createElement("option",{value:"date"},"최신순"),r.createElement("option",{value:"title"},"제목순"),r.createElement("option",{value:"relevance"},"관련도순")))),N.length>0?r.createElement("div",{className:"search-page-module--resultsList--68d78"},N.map(e=>{const t=e.frontmatter.title||e.fields.slug,a=e.frontmatter.description||e.excerpt,l=(0,o.rb)(e.html),s=(0,o.NV)(e.timeToRead);return r.createElement("article",{key:e.fields.slug,className:"search-page-module--resultCard--3e5b1"},r.createElement(c.Link,{to:e.fields.slug,className:"search-page-module--resultLink--26e35"},r.createElement("div",{className:"search-page-module--cardBody--7455f"},l&&r.createElement("div",{className:"search-page-module--thumbnailWrap--809a7"},r.createElement("img",{src:l,alt:`${t} 썸네일`,className:"search-page-module--thumbnailImage--eb467",loading:"lazy"})),r.createElement("div",{className:"search-page-module--cardContent--25e7a"},r.createElement("h3",{className:"search-page-module--cardTitle--bed52",dangerouslySetInnerHTML:{__html:u(t,h)}}),r.createElement("div",{className:"search-page-module--cardMeta--21132"},r.createElement("span",{className:"search-page-module--cardDate--1c374"},e.frontmatter.date),r.createElement("span",{className:"search-page-module--readingTime--47b82"},s)),r.createElement("p",{className:"search-page-module--cardDescription--f2906",dangerouslySetInnerHTML:{__html:u(a,h)}})))))})):r.createElement("div",{className:"search-page-module--emptyState--37d88"},r.createElement("h3",null,"검색 결과가 없습니다"),r.createElement("p",null,"'",h,"'에 대한 결과를 찾지 못했습니다."),r.createElement("ul",null,r.createElement("li",null,"검색어 철자를 확인해보세요."),r.createElement("li",null,"더 짧거나 일반적인 키워드를 시도해보세요."),r.createElement("li",null,"다른 조합의 단어로 검색해보세요.")))):r.createElement("div",{className:"search-page-module--placeholderState--68e8a"},r.createElement("h3",null,"검색어를 입력해주세요"),r.createElement("p",null,"제목, 설명, 본문, 태그에서 검색합니다. (최소 2글자)"))))}}}]);
//# sourceMappingURL=component---src-pages-search-js-e7b3e2bf72b1d88e468f.js.map